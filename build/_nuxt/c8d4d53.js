/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[9],[,function(t,e,n){"use strict";n.d(e,"h",(function(){return l})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return m})),n.d(e,"k",(function(){return f})),n.d(e,"i",(function(){return v})),n.d(e,"l",(function(){return x})),n.d(e,"n",(function(){return _})),n.d(e,"j",(function(){return y})),n.d(e,"g",(function(){return S})),n.d(e,"o",(function(){return M})),n.d(e,"s",(function(){return E})),n.d(e,"p",(function(){return R})),n.d(e,"c",(function(){return T})),n.d(e,"t",(function(){return P})),n.d(e,"u",(function(){return C})),n.d(e,"m",(function(){return I})),n.d(e,"e",(function(){return L})),n.d(e,"r",(function(){return N})),n.d(e,"d",(function(){return D})),n.d(e,"q",(function(){return O})),n.d(e,"f",(function(){return k}));n(10),n(15),n(11),n(16),n(19);var r=n(22),o=(n(2),n(25),n(60),n(67),n(35),n(13),n(5),n(75),n(64),n(54),n(28),n(244),n(62),n(50),n(334),n(66),n(81),n(12),n(36),n(57),n(145),n(338),n(339),n(0));function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return o.a.extend({name:n||t.replace(/__/g,"-"),functional:!0,props:{tag:{type:String,default:e}},render:function(e,n){var data=n.data,r=n.props,o=n.children;return data.staticClass="".concat(t," ").concat(data.staticClass||"").trim(),e(r.tag,data,o)}})}function c(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=function o(l){n(l),t.removeEventListener(e,o,r)};t.addEventListener(e,o,r)}var h=!1;try{if("undefined"!=typeof window){var d=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testListener",d,d),window.removeEventListener("testListener",d,d)}}catch(t){console.warn(t)}function m(t,e,n,r){t.addEventListener(e,n,!!h&&r)}function f(t,path,e){var n=path.length-1;if(n<0)return void 0===t?e:t;for(var i=0;i<n;i++){if(null==t)return e;t=t[path[i]]}return null==t||void 0===t[path[n]]?e:t[path[n]]}function v(a,b){if(a===b)return!0;if(a instanceof Date&&b instanceof Date&&a.getTime()!==b.getTime())return!1;if(a!==Object(a)||b!==Object(b))return!1;var t=Object.keys(a);return t.length===Object.keys(b).length&&t.every((function(p){return v(a[p],b[p])}))}function x(t,path,e){return null!=t&&path&&"string"==typeof path?void 0!==t[path]?t[path]:f(t,(path=(path=path.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),e):e}function _(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return 0;var e=+window.getComputedStyle(t).getPropertyValue("z-index");return e||_(t.parentNode)}function y(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];void 0!==t[r]&&(n[r]=t[r])}return n}function S(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";return null==t||""===t?void 0:isNaN(+t)?String(t):"".concat(Number(t)).concat(e)}function w(t){return null!==t&&"object"===Object(r.a)(t)}var M=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function E(t,e){var component=t.$vuetify.icons.component;if(e.startsWith("$")){var n=x(t,"$vuetify.icons.values.".concat(e.split("$").pop().split(".").pop()),e);if("string"!=typeof n)return n;e=n}return null==component?e:{component:component,props:{icon:e}}}function R(t){return Object.keys(t)}var A=/-(\w)/g,T=function(t){return t.replace(A,(function(t,e){return e?e.toUpperCase():""}))};function P(t){return t.charAt(0).toUpperCase()+t.slice(1)}function C(t){return null!=t?Array.isArray(t)?t:[t]:[]}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",data=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.$scopedSlots.hasOwnProperty(e)?t.$scopedSlots[e](data instanceof Function?data():data):!t.$slots.hasOwnProperty(e)||data&&!n?void 0:t.$slots[e]}function L(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(e,Math.min(n,t))}function N(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return t+n.repeat(Math.max(0,e-t.length))}function D(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=0;r<t.length;)n.push(t.substr(r,e)),r+=e;return n}function O(){var source=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var e in t){var n=source[e],r=t[e];w(n)&&w(r)?source[e]=O(n,r):source[e]=r}return source}function k(t){if(t.composedPath)return t.composedPath();for(var path=[],e=t.target;e;){if(path.push(e),"HTML"===e.tagName)return path.push(document),path.push(window),path;e=e.parentElement}return path}},,function(t,e,n){"use strict";n.d(e,"d",(function(){return _})),n.d(e,"l",(function(){return y})),n.d(e,"n",(function(){return S})),n.d(e,"m",(function(){return w})),n.d(e,"f",(function(){return M})),n.d(e,"b",(function(){return E})),n.d(e,"s",(function(){return R})),n.d(e,"h",(function(){return A})),n.d(e,"i",(function(){return T})),n.d(e,"e",(function(){return P})),n.d(e,"r",(function(){return C})),n.d(e,"k",(function(){return I})),n.d(e,"t",(function(){return N})),n.d(e,"o",(function(){return O})),n.d(e,"q",(function(){return k})),n.d(e,"g",(function(){return G})),n.d(e,"c",(function(){return B})),n.d(e,"j",(function(){return F})),n.d(e,"p",(function(){return V})),n.d(e,"a",(function(){return Y})),n.d(e,"v",(function(){return $})),n.d(e,"u",(function(){return K}));n(64),n(10),n(65),n(74),n(15),n(11),n(16);var r=n(22),o=n(33),l=n(2),c=n(19),h=(n(109),n(5),n(12),n(307),n(36),n(35),n(66),n(13),n(54),n(55),n(50),n(25),n(60),n(62),n(232),n(233),n(81),n(85),n(145),n(53),n(61),n(0)),d=n(41);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return void 0===t[n]&&(t[n]=0),t[n]++}}function y(t){h.a.config.errorHandler&&h.a.config.errorHandler(t)}function S(t){return t.then((function(t){return t.default||t}))}function w(t){return t.$options&&"function"==typeof t.$options.fetch&&!t.$options.fetch.length}function M(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.$children||[],o=v(r);try{for(o.s();!(e=o.n()).done;){var l=e.value;l.$fetch?n.push(l):l.$children&&M(l,n)}}catch(t){o.e(t)}finally{o.f()}return n}function E(t,e){if(e||!t.options.__hasNuxtData){var n=t.options._originDataFn||t.options.data||function(){return{}};t.options._originDataFn=n,t.options.data=function(){var data=n.call(this,this);return this.$ssrContext&&(e=this.$ssrContext.asyncData[t.cid]),f(f({},data),e)},t.options.__hasNuxtData=!0,t._Ctor&&t._Ctor.options&&(t._Ctor.options.data=t.options.data)}}function R(t){return t.options&&t._Ctor===t||(t.options?(t._Ctor=t,t.extendOptions=t.options):(t=h.a.extend(t))._Ctor=t,!t.options.name&&t.options.__file&&(t.options.name=t.options.__file)),t}function A(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"components";return Array.prototype.concat.apply([],t.matched.map((function(t,r){return Object.keys(t[n]).map((function(o){return e&&e.push(r),t[n][o]}))})))}function T(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return A(t,e,"instances")}function P(t,e){return Array.prototype.concat.apply([],t.matched.map((function(t,n){return Object.keys(t.components).reduce((function(r,o){return t.components[o]?r.push(e(t.components[o],t.instances[o],t,o,n)):delete t.components[o],r}),[])})))}function C(t,e){return Promise.all(P(t,function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(n,r,o,l){var c,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof n||n.options){t.next=11;break}return t.prev=1,t.next=4,n();case 4:n=t.sent,t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(1),t.t0&&"ChunkLoadError"===t.t0.name&&"undefined"!=typeof window&&window.sessionStorage&&(c=Date.now(),(!(h=parseInt(window.sessionStorage.getItem("nuxt-reload")))||h+6e4<c)&&(window.sessionStorage.setItem("nuxt-reload",c),window.location.reload(!0))),t.t0;case 11:return o.components[l]=n=R(n),t.abrupt("return","function"==typeof e?e(n,r,o,l):n);case 13:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e,n,r,o){return t.apply(this,arguments)}}()))}function I(t){return L.apply(this,arguments)}function L(){return(L=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,C(e);case 4:return t.abrupt("return",f(f({},e),{},{meta:A(e).map((function(t,n){return f(f({},t.options.meta),(e.matched[n]||{}).meta)}))}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t,e){return D.apply(this,arguments)}function D(){return(D=Object(o.a)(regeneratorRuntime.mark((function t(e,n){var o,l,h,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.context||(e.context={isStatic:!0,isDev:!1,isHMR:!1,app:e,payload:n.payload,error:n.error,base:e.router.options.base,env:{}},n.ssrContext&&(e.context.ssrContext=n.ssrContext),e.context.redirect=function(t,path,n){if(t){e.context._redirected=!0;var o=Object(r.a)(path);if("number"==typeof t||"undefined"!==o&&"object"!==o||(n=path||{},path=t,o=Object(r.a)(path),t=302),"object"===o&&(path=e.router.resolve(path).route.fullPath),!/(^[.]{1,2}\/)|(^\/(?!\/))/.test(path))throw path=Object(d.f)(path,n),window.location.replace(path),new Error("ERR_REDIRECT");e.context.next({path:path,query:n,status:t})}},e.context.nuxtState=window.__NUXT__),t.next=3,Promise.all([I(n.route),I(n.from)]);case 3:o=t.sent,l=Object(c.a)(o,2),h=l[0],m=l[1],n.route&&(e.context.route=h),n.from&&(e.context.from=m),e.context.next=n.next,e.context._redirected=!1,e.context._errored=!1,e.context.isHMR=!1,e.context.params=e.context.route.params||{},e.context.query=e.context.route.query||{};case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e){return!t.length||e._redirected||e._errored?Promise.resolve():k(t[0],e).then((function(){return O(t.slice(1),e)}))}function k(t,e){var n;return(n=2===t.length?new Promise((function(n){t(e,(function(t,data){t&&e.error(t),n(data=data||{})}))})):t(e))&&n instanceof Promise&&"function"==typeof n.then?n:Promise.resolve(n)}function G(base,t){if("hash"===t)return window.location.hash.replace(/^#\//,"");base=decodeURI(base).slice(0,-1);var path=decodeURI(window.location.pathname);base&&path.startsWith(base)&&(path=path.slice(base.length));var e=(path||"/")+window.location.search+window.location.hash;return Object(d.d)(e)}function B(t,e){return function(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===Object(r.a)(t[i])&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",j(e)));return function(e,r){for(var path="",data=e||{},o=(r||{}).pretty?U:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!=typeof c){var h=data[c.name||"pathMatch"],d=void 0;if(null==h){if(c.optional){c.partial&&(path+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(Array.isArray(h)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(d=o(h[m]),!n[l].test(d))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(d)+"`");path+=(0===m?c.prefix:c.delimiter)+d}}else{if(d=c.asterisk?H(h):o(h),!n[l].test(d))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+d+'"');path+=c.prefix+d}}else path+=c}return path}}(function(t,e){var n,r=[],o=0,l=0,path="",c=e&&e.delimiter||"/";for(;null!=(n=z.exec(t));){var h=n[0],d=n[1],m=n.index;if(path+=t.slice(l,m),l=m+h.length,d)path+=d[1];else{var f=t[l],v=n[2],x=n[3],_=n[4],y=n[5],S=n[6],w=n[7];path&&(r.push(path),path="");var M=null!=v&&null!=f&&f!==v,E="+"===S||"*"===S,R="?"===S||"*"===S,A=n[2]||c,pattern=_||y;r.push({name:x||o++,prefix:v||"",delimiter:A,optional:R,repeat:E,partial:M,asterisk:Boolean(w),pattern:pattern?W(pattern):w?".*":"[^"+X(A)+"]+?"})}}l<t.length&&(path+=t.substr(l));path&&r.push(path);return r}(t,e),e)}function F(t,e){var n={},r=f(f({},t),e);for(var o in r)String(t[o])!==String(e[o])&&(n[o]=!0);return n}function V(t){var e;if(t.message||"string"==typeof t)e=t.message||t;else try{e=JSON.stringify(t,null,2)}catch(n){e="[".concat(t.constructor.name,"]")}return f(f({},t),{},{message:e,statusCode:t.statusCode||t.status||t.response&&t.response.status||500})}window.onNuxtReadyCbs=[],window.onNuxtReady=function(t){window.onNuxtReadyCbs.push(t)};var z=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(t,e){var n=e?/[?#]/g:/[/?#]/g;return encodeURI(t).replace(n,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function H(t){return U(t,!0)}function X(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function W(t){return t.replace(/([=!:$/()])/g,"\\$1")}function j(t){return t&&t.sensitive?"":"i"}function Y(t,e,n){t.$options[e]||(t.$options[e]=[]),t.$options[e].includes(n)||t.$options[e].push(n)}var $=d.c;d.h,d.b;function K(t){try{window.history.scrollRestoration=t}catch(t){}}},,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return m}));n(53),n(61),n(35),n(25),n(60),n(36),n(146),n(85),n(66),n(145);var r=n(127);function o(t,e,n){if(!r.a.config.silent){if(n&&(e={_isVue:!0,$parent:n,$options:e}),e){if(e.$_alreadyWarned=e.$_alreadyWarned||[],e.$_alreadyWarned.includes(t))return;e.$_alreadyWarned.push(t)}return"[Vuetify] ".concat(t)+(e?function(t){if(t._isVue&&t.$parent){for(var e=[],n=0;t;){if(e.length>0){var r=e[e.length-1];if(r.constructor===t.constructor){n++,t=t.$parent;continue}n>0&&(e[e.length-1]=[r,n],n=0)}e.push(t),t=t.$parent}return"\n\nfound in\n\n"+e.map((function(t,i){return"".concat(0===i?"---\x3e ":" ".repeat(5+2*i)).concat(Array.isArray(t)?"".concat(v(t[0]),"... (").concat(t[1]," recursive calls)"):v(t))})).join("\n")}return"\n\n(found in ".concat(v(t),")")}(e):"")}}function l(t,e,n){var r=o(t,e,n);null!=r&&console.warn(r)}function c(t,e,n){var r=o(t,e,n);null!=r&&console.error(r)}function h(t,e,n,r){l("[UPGRADE] '".concat(t,"' is deprecated, use '").concat(e,"' instead."),n,r)}function d(t,e,n,r){c("[BREAKING] '".concat(t,"' has been removed, use '").concat(e,"' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide"),n,r)}function m(t,e,n){l("[REMOVED] '".concat(t,"' has been removed. You can safely omit it."),e,n)}var f=/(?:^|[-_])(\w)/g;function v(t,e){if(t.$root===t)return"<Root>";var n="function"==typeof t&&null!=t.cid?t.options:t._isVue?t.$options||t.constructor.options:t||{},r=n.name||n._componentTag,o=n.__file;if(!r&&o){var l=o.match(/([^/\\]+)\.vue$/);r=l&&l[1]}return(r?"<".concat(r.replace(f,(function(t){return t.toUpperCase()})).replace(/[-_]/g,""),">"):"<Anonymous>")+(o&&!1!==e?" at ".concat(o):"")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.a.extend({mixins:e})}},,,,,,,,,,,function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var content=function(t,e){var content=t[1]||"",n=t[3];if(!n)return content;if(e&&"function"==typeof btoa){var r=(l=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(data," */")),o=n.sources.map((function(source){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(source," */")}));return[content].concat(o).concat([r]).join("\n")}var l,c,data;return[content].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(content,"}"):content})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var h=[].concat(t[c]);r&&o[h[0]]||(n&&(h[2]?h[2]="".concat(n," and ").concat(h[2]):h[2]=n),e.push(h))}},e}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],l=o[0],c={id:t+":"+i,css:o[1],media:o[2],sourceMap:o[3]};r[l]?r[l].parts.push(c):n.push(r[l]={id:l,parts:[c]})}return n}n.r(e),n.d(e,"default",(function(){return _}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l={},head=o&&(document.head||document.getElementsByTagName("head")[0]),c=null,h=0,d=!1,m=function(){},f=null,v="data-vue-ssr-id",x="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(t,e,n,o){d=n,f=o||{};var c=r(t,e);return y(c),function(e){for(var n=[],i=0;i<c.length;i++){var o=c[i];(h=l[o.id]).refs--,n.push(h)}e?y(c=r(t,e)):c=[];for(i=0;i<n.length;i++){var h;if(0===(h=n[i]).refs){for(var d=0;d<h.parts.length;d++)h.parts[d]();delete l[h.id]}}}}function y(t){for(var i=0;i<t.length;i++){var e=t[i],n=l[e.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](e.parts[r]);for(;r<e.parts.length;r++)n.parts.push(w(e.parts[r]));n.parts.length>e.parts.length&&(n.parts.length=e.parts.length)}else{var o=[];for(r=0;r<e.parts.length;r++)o.push(w(e.parts[r]));l[e.id]={id:e.id,refs:1,parts:o}}}}function S(){var t=document.createElement("style");return t.type="text/css",head.appendChild(t),t}function w(t){var e,n,r=document.querySelector("style["+v+'~="'+t.id+'"]');if(r){if(d)return m;r.parentNode.removeChild(r)}if(x){var o=h++;r=c||(c=S()),e=R.bind(null,r,o,!1),n=R.bind(null,r,o,!0)}else r=S(),e=A.bind(null,r),n=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else n()}}var M,E=(M=[],function(t,e){return M[t]=e,M.filter(Boolean).join("\n")});function R(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=E(e,o);else{var l=document.createTextNode(o),c=t.childNodes;c[e]&&t.removeChild(c[e]),c.length?t.insertBefore(l,c[e]):t.appendChild(l)}}function A(t,e){var n=e.css,r=e.media,o=e.sourceMap;if(r&&t.setAttribute("media",r),f.ssrId&&t.setAttribute(v,e.id),o&&(n+="\n/*# sourceURL="+o.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(13),n(10),n(12),n(15),n(11),n(16);var r=n(19),o=n(2),l=(n(25),n(75),n(67),n(5),n(81),n(0)),c=n(8),h=n(56);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=l.a.extend({name:"colorable",props:{color:String},methods:{setBackgroundColor:function(t){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof data.style?(Object(c.b)("style must be an object",this),data):"string"==typeof data.class?(Object(c.b)("class must be an object",this),data):(Object(h.d)(t)?data.style=m(m({},data.style),{},{"background-color":"".concat(t),"border-color":"".concat(t)}):t&&(data.class=m(m({},data.class),{},Object(o.a)({},t,!0))),data)},setTextColor:function(t){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof data.style)return Object(c.b)("style must be an object",this),data;if("string"==typeof data.class)return Object(c.b)("class must be an object",this),data;if(Object(h.d)(t))data.style=m(m({},data.style),{},{color:"".concat(t),"caret-color":"".concat(t)});else if(t){var e=t.toString().trim().split(" ",2),n=Object(r.a)(e,2),l=n[0],d=n[1];data.class=m(m({},data.class),{},Object(o.a)({},l+"--text",!0)),d&&(data.class["text--"+d]=!0)}return data}}})},,function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16),n(2);var r=n(0).a.extend().extend({name:"themeable",provide:function(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data:function(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark:function(){return this.$vuetify.theme.dark||!1},isDark:function(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses:function(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark:function(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses:function(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler:function(t,e){t!==e&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});e.a=r},,,,,,,,,function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(328),n(103)),l=n(37),c=n(155),h=n(104),d=n(156),m=n(39),f=n(9);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(f.a)(o.a,l.a,c.a,h.a,d.a,m.a).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes:function(){return x(x(x({"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped},this.themeClasses),this.elevationClasses),this.roundedClasses)},styles:function(){return this.measurableStyles}},render:function(t){var data={class:this.classes,style:this.styles,on:this.listeners$};return t(this.tag,this.setBackgroundColor(this.color,data),this.$slots.default)}})},function(t,e,n){"use strict";n(13),n(10),n(12),n(15),n(11),n(16);var r=n(19),o=n(2),l=(n(28),n(198),n(199),n(5),n(326),n(48)),c=n(160),h=n(1),d=n(8);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=l.a.extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:function(){return{isExtended:!1}},computed:{computedHeight:function(){var t=this.computedContentHeight;if(!this.isExtended)return t;var e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight:function(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes:function(){return f(f({},l.a.options.computed.classes.call(this)),{},{"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent})},isCollapsed:function(){return this.collapse},isProminent:function(){return this.prominent},styles:function(){return f(f({},this.measurableStyles),{},{height:Object(h.g)(this.computedHeight)})}},created:function(){var t=this;[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]].forEach((function(e){var n=Object(r.a)(e,2),o=n[0],l=n[1];t.$attrs.hasOwnProperty(o)&&Object(d.a)(o,l,t)}))},methods:{genBackground:function(){var t={height:Object(h.g)(this.computedHeight),src:this.src},image=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(c.a,{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[image])},genContent:function(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(h.g)(this.computedContentHeight)}},Object(h.m)(this))},genExtension:function(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(h.g)(this.extensionHeight)}},Object(h.m)(this,"extension"))}},render:function(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;var e=[this.genContent()],data=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,data,e)}})},,,,,,,function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return h}));n(13),n(10),n(12),n(15),n(11),n(16),n(2),n(19),n(25),n(146),n(85),n(66),n(75),n(36),n(60),n(67),n(5),n(81),n(145),n(35),n(50),n(62),n(246);var r=n(8);n(1),n(78);function o(t){return!!t&&!!t.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function l(t){var e;if("number"==typeof t)e=t;else{if("string"!=typeof t)throw new TypeError("Colors can only be numbers or strings, recieved ".concat(null==t?t:t.constructor.name," instead"));var n="#"===t[0]?t.substring(1):t;3===n.length&&(n=n.split("").map((function(t){return t+t})).join("")),6!==n.length&&Object(r.c)("'".concat(t,"' is not a valid rgb color")),e=parseInt(n,16)}return e<0?(Object(r.c)("Colors cannot be negative: '".concat(t,"'")),e=0):(e>16777215||isNaN(e))&&(Object(r.c)("'".concat(t,"' is not a valid rgb color")),e=16777215),e}function c(t){var e=t.toString(16);return e.length<6&&(e="0".repeat(6-e.length)+e),"#"+e}function h(t){return c(l(t))}},,function(t,e,n){"use strict";n.d(e,"b",(function(){return l}));var r=n(2),o=n(0);function l(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input";return o.a.extend({name:"toggleable",model:{prop:e,event:n},props:Object(r.a)({},e,{required:!1}),data:function(){return{isActive:!!this[e]}},watch:(t={},Object(r.a)(t,e,(function(t){this.isActive=!!t})),Object(r.a)(t,"isActive",(function(t){!!t!==this[e]&&this.$emit(n,t)})),t)})}var c=l();e.a=c},,,,,,,,,,function(t,e,n){"use strict";n.d(e,"b",(function(){return tt})),n.d(e,"a",(function(){return C.a}));var r={};n.r(r),n.d(r,"NuxtLogo",(function(){return z})),n.d(r,"Tutorial",(function(){return U})),n.d(r,"VuetifyLogo",(function(){return H}));n(13),n(10),n(12),n(15),n(11),n(16);var o=n(33),l=n(2),c=(n(109),n(36),n(66),n(5),n(25),n(60),n(0)),h=n(254),d=n(188),m=n.n(d),f=n(107),v=n.n(f),x=(n(54),n(55),n(189)),_=n(41),y=n(3);"scrollRestoration"in window.history&&(Object(y.u)("manual"),window.addEventListener("beforeunload",(function(){Object(y.u)("auto")})),window.addEventListener("load",(function(){Object(y.u)("manual")})));function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M=function(){};c.a.use(x.a);var E={mode:"history",base:"/nuxt-heart-app/",linkActiveClass:"nuxt-link-active",linkExactActiveClass:"nuxt-link-exact-active",scrollBehavior:function(t,e,n){var r=!1,o=t!==e;n?r=n:o&&function(t){var e=Object(y.h)(t);if(1===e.length){var n=e[0].options;return!1!==(void 0===n?{}:n).scrollToTop}return e.some((function(t){var e=t.options;return e&&e.scrollToTop}))}(t)&&(r={x:0,y:0});var l=window.$nuxt;return(!o||t.path===e.path&&t.hash!==e.hash)&&l.$nextTick((function(){return l.$emit("triggerScroll")})),new Promise((function(e){l.$once("triggerScroll",(function(){if(t.hash){var n=t.hash;void 0!==window.CSS&&void 0!==window.CSS.escape&&(n="#"+window.CSS.escape(n.substr(1)));try{document.querySelector(n)&&(r={selector:n})}catch(t){console.warn("Failed to save scroll position. Please add CSS.escape() polyfill (https://github.com/mathiasbynens/CSS.escape).")}}e(r)}))}))},routes:[{path:"/inspire",component:function(){return Object(y.n)(Promise.all([n.e(0),n.e(7)]).then(n.bind(null,431)))},name:"inspire"},{path:"/",component:function(){return Object(y.n)(Promise.all([n.e(0),n.e(6)]).then(n.bind(null,430)))},name:"index"}],fallback:!1};function R(t,e){var base=e._app&&e._app.basePath||E.base,n=new x.a(w(w({},E),{},{base:base})),r=n.push;n.push=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M,n=arguments.length>2?arguments[2]:void 0;return r.call(this,t,e,n)};var o=n.resolve.bind(n);return n.resolve=function(t,e,n){return"string"==typeof t&&(t=Object(_.d)(t)),o(t,e,n)},n}var A={name:"NuxtChild",functional:!0,props:{nuxtChildKey:{type:String,default:""},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0}},render:function(t,e){var n=e.parent,data=e.data,r=e.props,o=n.$createElement;data.nuxtChild=!0;for(var l=n,c=n.$nuxt.nuxt.transitions,h=n.$nuxt.nuxt.defaultTransition,d=0;n;)n.$vnode&&n.$vnode.data.nuxtChild&&d++,n=n.$parent;data.nuxtChildDepth=d;var m=c[d]||h,f={};T.forEach((function(t){void 0!==m[t]&&(f[t]=m[t])}));var v={};P.forEach((function(t){"function"==typeof m[t]&&(v[t]=m[t].bind(l))}));var x=v.beforeEnter;if(v.beforeEnter=function(t){if(window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),x)return x.call(l,t)},!1===m.css){var _=v.leave;(!_||_.length<2)&&(v.leave=function(t,e){_&&_.call(l,t),l.$nextTick(e)})}var y=o("routerView",data);return r.keepAlive&&(y=o("keep-alive",{props:r.keepAliveProps},[y])),o("transition",{props:f,on:v},[y])}},T=["name","mode","appear","css","type","duration","enterClass","leaveClass","appearClass","enterActiveClass","enterActiveClass","leaveActiveClass","appearActiveClass","enterToClass","leaveToClass","appearToClass"],P=["beforeEnter","enter","afterEnter","enterCancelled","beforeLeave","leave","afterLeave","leaveCancelled","beforeAppear","appear","afterAppear","appearCancelled"],C=n(77),I=n(19),L=(n(81),{name:"Nuxt",components:{NuxtChild:A,NuxtError:C.a},props:{nuxtChildKey:{type:String,default:void 0},keepAlive:Boolean,keepAliveProps:{type:Object,default:void 0},name:{type:String,default:"default"}},errorCaptured:function(t){this.displayingNuxtError&&(this.errorFromNuxtError=t,this.$forceUpdate())},computed:{routerViewKey:function(){if(void 0!==this.nuxtChildKey||this.$route.matched.length>1)return this.nuxtChildKey||Object(y.c)(this.$route.matched[0].path)(this.$route.params);var t=Object(I.a)(this.$route.matched,1)[0];if(!t)return this.$route.path;var e=t.components.default;if(e&&e.options){var n=e.options;if(n.key)return"function"==typeof n.key?n.key(this.$route):n.key}return/\/$/.test(t.path)?this.$route.path:this.$route.path.replace(/\/$/,"")}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$root.$options.nuxt)},render:function(t){var e=this;return this.nuxt.err?this.errorFromNuxtError?(this.$nextTick((function(){return e.errorFromNuxtError=!1})),t("div",{},[t("h2","An error occurred while showing the error page"),t("p","Unfortunately an error occurred and while showing the error page another error occurred"),t("p","Error details: ".concat(this.errorFromNuxtError.toString())),t("nuxt-link",{props:{to:"/"}},"Go back to home")])):(this.displayingNuxtError=!0,this.$nextTick((function(){return e.displayingNuxtError=!1})),t(C.a,{props:{error:this.nuxt.err}})):t("NuxtChild",{key:this.routerViewKey,props:this.$props})}}),N=(n(50),n(64),n(65),n(74),n(53),n(61),n(57),{name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:200,duration:5e3,continuous:!1}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return t.startTimer()}),this.throttle):this.startTimer(),this},set:function(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get:function(){return this.percent},increase:function(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease:function(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var t=this;return this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0,t.reversed=!1}))}),500),this},fail:function(t){return this.canSucceed=!1,this},startTimer:function(){var t=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){t.skipTimerCount>0?t.skipTimerCount--:(t.reversed?t.decrease(t._cut):t.increase(t._cut),t.continuous&&(t.percent>=100||t.percent<=0)&&(t.skipTimerCount=1,t.reversed=!t.reversed))}),100)}},render:function(t){var e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}}),D=(n(321),n(90)),O=Object(D.a)(N,undefined,undefined,!1,null,null,null).exports,k=n(260);function G(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var F={_default:Object(y.s)(k.a)},V={render:function(t,e){var n=t("NuxtLoading",{ref:"loading"}),r=t(this.layout||"nuxt"),o=t("div",{domProps:{id:"__layout"},key:this.layoutName},[r]),l=t("transition",{props:{name:"layout",mode:"out-in"},on:{beforeEnter:function(t){window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")}))}}},[o]);return t("div",{domProps:{id:"__nuxt"}},[n,l])},data:function(){return{isOnline:!0,layout:null,layoutName:"",nbFetching:0}},beforeCreate:function(){c.a.util.defineReactive(this,"nuxt",this.$options.nuxt)},created:function(){this.$root.$options.$nuxt=this,window.$nuxt=this,this.refreshOnlineStatus(),window.addEventListener("online",this.refreshOnlineStatus),window.addEventListener("offline",this.refreshOnlineStatus),this.error=this.nuxt.error,this.context=this.$options.context},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$loading=t.$refs.loading,!t.isPreview){e.next=9;break}if(!t.$store||!t.$store._actions.nuxtServerInit){e.next=6;break}return t.$loading.start(),e.next=6,t.$store.dispatch("nuxtServerInit",t.context);case 6:return e.next=8,t.refresh();case 8:t.$loading.finish();case 9:case"end":return e.stop()}}),e)})))()},watch:{"nuxt.err":"errorChanged"},computed:{isOffline:function(){return!this.isOnline},isFetching:function(){return this.nbFetching>0},isPreview:function(){return Boolean(this.$options.previewData)}},methods:{refreshOnlineStatus:function(){void 0===window.navigator.onLine?this.isOnline=!0:this.isOnline=window.navigator.onLine},refresh:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Object(y.i)(t.$route)).length){e.next=3;break}return e.abrupt("return");case 3:return t.$loading.start(),r=n.map((function(e){var p=[];if(e.$options.fetch&&e.$options.fetch.length&&p.push(Object(y.q)(e.$options.fetch,t.context)),e.$fetch)p.push(e.$fetch());else{var n,r=G(Object(y.f)(e.$vnode.componentInstance));try{for(r.s();!(n=r.n()).done;){var component=n.value;p.push(component.$fetch())}}catch(t){r.e(t)}finally{r.f()}}return e.$options.asyncData&&p.push(Object(y.q)(e.$options.asyncData,t.context).then((function(t){for(var n in t)c.a.set(e.$data,n,t[n])}))),Promise.all(p)})),e.prev=5,e.next=8,Promise.all(r);case 8:e.next=15;break;case 10:e.prev=10,e.t0=e.catch(5),t.$loading.fail(e.t0),Object(y.l)(e.t0),t.error(e.t0);case 15:t.$loading.finish();case 16:case"end":return e.stop()}}),e,null,[[5,10]])})))()},errorChanged:function(){if(this.nuxt.err){this.$loading&&(this.$loading.fail&&this.$loading.fail(this.nuxt.err),this.$loading.finish&&this.$loading.finish());var t=(C.a.options||C.a).layout;"function"==typeof t&&(t=t(this.context)),this.setLayout(t)}},setLayout:function(t){return t&&F["_"+t]||(t="default"),this.layoutName=t,this.layout=F["_"+t],this.layout},loadLayout:function(t){return t&&F["_"+t]||(t="default"),Promise.resolve(F["_"+t])},getRouterBase:function(){return Object(_.h)(this.$router.options.base)},getRoutePath:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",base=this.getRouterBase();return Object(_.h)(Object(_.g)(Object(_.e)(t).pathname,base))},getStaticAssetsPath:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=window.__NUXT__.staticAssetsBase;return Object(y.v)(e,this.getRoutePath(t))},fetchStaticManifest:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.__NUXT_IMPORT__("manifest.js",Object(_.d)(Object(y.v)(t.getStaticAssetsPath(),"manifest.js"))));case 1:case"end":return e.stop()}}),e)})))()},setPagePayload:function(t){this._pagePayload=t,this._fetchCounters={}},fetchPayload:function(t,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var path,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return path=Object(_.a)(n.getRoutePath(t)),r.next=3,n.fetchStaticManifest();case 3:if(r.sent.routes.includes(path)){r.next=7;break}throw e||n.setPagePayload(!1),new Error("Route ".concat(path," is not pre-rendered"));case 7:return o=Object(y.v)(n.getStaticAssetsPath(t),"payload.js"),r.prev=8,r.next=11,window.__NUXT_IMPORT__(path,Object(_.d)(o));case 11:return l=r.sent,e||n.setPagePayload(l),r.abrupt("return",l);case 16:throw r.prev=16,r.t0=r.catch(8),e||n.setPagePayload(!1),r.t0;case 20:case"end":return r.stop()}}),r,null,[[8,16]])})))()}},components:{NuxtLoading:O}},z=function(){return n.e(3).then(n.bind(null,417)).then((function(t){return X(t.default||t)}))},U=function(){return n.e(4).then(n.bind(null,432)).then((function(t){return X(t.default||t)}))},H=function(){return n.e(5).then(n.bind(null,418)).then((function(t){return X(t.default||t)}))};function X(t){if(!t||!t.functional)return t;var e=Array.isArray(t.props)?t.props:Object.keys(t.props||{});return{render:function(n){var r={},o={};for(var l in this.$attrs)e.includes(l)?o[l]=this.$attrs[l]:r[l]=this.$attrs[l];return n(t,{on:this.$listeners,attrs:r,props:o,scopedSlots:this.$scopedSlots},this.$slots.default)}}}for(var W in r)c.a.component(W,r[W]),c.a.component("Lazy"+W,r[W]);var j=n(127),Y={theme:{dark:!0,themes:{dark:{primary:"#1976d2",accent:"#424242",secondary:"#ff8f00",info:"#26a69a",warning:"#ffc107",error:"#dd2c00",success:"#00e676"}}}};c.a.use(j.a,{});var $=function(t){var e="function"==typeof Y?Y(t):Y;e.icons=e.icons||{},e.icons.iconfont="mdi";var n=new j.a(e);t.app.vuetify=n,t.$vuetify=n.framework},K=n(190);function Q(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Q(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Q(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}c.a.component(m.a.name,m.a),c.a.component(v.a.name,Z(Z({},v.a),{},{render:function(t,e){return v.a._warned||(v.a._warned=!0,console.warn("<no-ssr> has been deprecated and will be removed in Nuxt 3, please use <client-only> instead")),v.a.render(t,e)}})),c.a.component(A.name,A),c.a.component("NChild",A),c.a.component(L.name,L),Object.defineProperty(c.a.prototype,"$nuxt",{get:function(){var t=this.$root.$options.$nuxt;return t||"undefined"==typeof window?t:window.$nuxt},configurable:!0}),c.a.use(h.a,{keyName:"head",attribute:"data-n-head",ssrAttribute:"data-n-head-ssr",tagIDKeyName:"hid"});var J={name:"page",mode:"out-in",appear:!1,appearClass:"appear",appearActiveClass:"appear-active",appearToClass:"appear-to"};function tt(t){return et.apply(this,arguments)}function et(){return et=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,l,h,d,path,m,f=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m=function(t,e){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===e)throw new Error("inject('".concat(t,"', value) has no value provided"));l[t="$"+t]=e,l.context[t]||(l.context[t]=e);var n="__nuxt_"+t+"_installed__";c.a[n]||(c.a[n]=!0,c.a.use((function(){Object.prototype.hasOwnProperty.call(c.a.prototype,t)||Object.defineProperty(c.a.prototype,t,{get:function(){return this.$root.$options[t]}})})))},n=f.length>1&&void 0!==f[1]?f[1]:{},t.next=4,R(0,n);case 4:return r=t.sent,l=Z({head:{titleTemplate:"%s - nuxt-heart-app",title:"nuxt-heart-app",htmlAttrs:{lang:"en"},meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{hid:"description",name:"description",content:""},{name:"format-detection",content:"telephone=no"}],link:[{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"stylesheet",type:"text/css",href:"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900&display=swap"},{rel:"stylesheet",type:"text/css",href:"https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css"}],style:[],script:[]},router:r,nuxt:{defaultTransition:J,transitions:[J],setTransitions:function(t){return Array.isArray(t)||(t=[t]),t=t.map((function(t){return t=t?"string"==typeof t?Object.assign({},J,{name:t}):Object.assign({},J,t):J})),this.$options.nuxt.transitions=t,t},err:null,dateErr:null,error:function(t){t=t||null,l.context._errored=Boolean(t),t=t?Object(y.p)(t):null;var n=l.nuxt;return this&&(n=this.nuxt||this.$options.nuxt),n.dateErr=Date.now(),n.err=t,e&&(e.nuxt.error=t),t}}},V),h=e?e.next:function(t){return l.router.push(t)},e?d=r.resolve(e.url).route:(path=Object(y.g)(r.options.base,r.options.mode),d=r.resolve(path).route),t.next=10,Object(y.t)(l,{route:d,next:h,error:l.nuxt.error.bind(l),payload:e?e.payload:void 0,req:e?e.req:void 0,res:e?e.res:void 0,beforeRenderFns:e?e.beforeRenderFns:void 0,ssrContext:e});case 10:m("config",n),l.context.enablePreview=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l.previewData=Object.assign({},t),m("preview",t)},t.next=15;break;case 15:return t.next=18,$(l.context);case 18:if("function"!=typeof K.a){t.next=21;break}return t.next=21,Object(K.a)(l.context,m);case 21:return l.context.enablePreview=function(){console.warn("You cannot call enablePreview() outside a plugin.")},t.next=24,new Promise((function(t,e){if(!r.resolve(l.context.route.fullPath).route.matched.length)return t();r.replace(l.context.route.fullPath,t,(function(n){if(!n._isRouter)return e(n);if(2!==n.type)return t();var c=r.afterEach(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(y.k)(n);case 3:l.context.route=e.sent,l.context.params=n.params||{},l.context.query=n.query||{},c(),t();case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}))}));case 24:return t.abrupt("return",{app:l,router:r});case 25:case"end":return t.stop()}}),t)}))),et.apply(this,arguments)}},,,,,,,,function(t,e,n){"use strict";var r=n(0);e.a=r.a.extend({name:"ssr-bootable",data:function(){return{isBooted:!1}},mounted:function(){var t=this;window.requestAnimationFrame((function(){t.$el.setAttribute("data-booted","true"),t.isBooted=!0}))}})},,function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return m}));var r=n(1),o=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],l=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},c=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],h=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function d(t){for(var e=Array(3),n=l,c=o,i=0;i<3;++i)e[i]=Math.round(255*Object(r.e)(n(c[i][0]*t[0]+c[i][1]*t[1]+c[i][2]*t[2])));return(e[0]<<16)+(e[1]<<8)+(e[2]<<0)}function m(t){for(var e=[0,0,0],n=h,r=c,o=n((t>>16&255)/255),g=n((t>>8&255)/255),b=n((t>>0&255)/255),i=0;i<3;++i)e[i]=r[i][0]*o+r[i][1]*g+r[i][2]*b;return e}},,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));n(50),n(5),n(36),n(64),n(54),n(10),n(65),n(74),n(55),n(12),n(15),n(11),n(16);var r=n(2),o=n(19),l=(n(25),n(75),n(67),n(13),n(35),n(1));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function d(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var f=/;(?![^(]*\))/g,v=/:(.*)/;function x(style){var t,e={},n=d(style.split(f));try{for(n.s();!(t=n.n()).done;){var r=t.value.split(v),c=Object(o.a)(r,2),h=c[0],m=c[1];(h=h.trim())&&("string"==typeof m&&(m=m.trim()),e[Object(l.c)(h)]=m)}}catch(t){n.e(t)}finally{n.f()}return e}function _(){for(var t,e={},i=arguments.length;i--;)for(var n=0,r=Object.keys(arguments[i]);n<r.length;n++)switch(t=r[n]){case"class":case"directives":arguments[i][t]&&(e[t]=S(e[t],arguments[i][t]));break;case"style":arguments[i][t]&&(e[t]=y(e[t],arguments[i][t]));break;case"staticClass":if(!arguments[i][t])break;void 0===e[t]&&(e[t]=""),e[t]&&(e[t]+=" "),e[t]+=arguments[i][t].trim();break;case"on":case"nativeOn":arguments[i][t]&&(e[t]=w(e[t],arguments[i][t]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[i][t])break;e[t]||(e[t]={}),e[t]=h(h({},arguments[i][t]),e[t]);break;default:e[t]||(e[t]=arguments[i][t])}return e}function y(t,source){return t?source?(t=Object(l.u)("string"==typeof t?x(t):t)).concat("string"==typeof source?x(source):source):t:source}function S(t,source){return source?t&&t?Object(l.u)(t).concat(source):source:t}function w(){if(!(arguments.length<=0?void 0:arguments[0]))return arguments.length<=1?void 0:arguments[1];if(!(arguments.length<=1?void 0:arguments[1]))return arguments.length<=0?void 0:arguments[0];for(var t={},i=2;i--;){var e=i<0||arguments.length<=i?void 0:arguments[i];for(var n in e)e[n]&&(t[n]?t[n]=[].concat(e[n],t[n]):t[n]=e[n])}return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return Y})),n.d(e,"b",(function(){return $}));var r=n(1),o=n(185),l=(n(13),n(10),n(12),n(5),n(15),n(11),n(16),n(2)),c=(n(233),n(25),n(81),n(146),n(367),n(124)),h=n(125),d=(n(67),n(0)),m=d.a.extend({name:"v-list-item-icon",functional:!0,render:function(t,e){var data=e.data,n=e.children;return data.staticClass="v-list-item__icon ".concat(data.staticClass||"").trim(),t("div",data,n)}}),f=n(103),v=n(8),x=d.a.extend().extend({name:"bootable",props:{eager:Boolean},data:function(){return{isBooted:!1}},computed:{hasContent:function(){return this.isBooted||this.eager||this.isActive}},watch:{isActive:function(){this.isBooted=!0}},created:function(){"lazy"in this.$attrs&&Object(v.e)("lazy",this)},methods:{showLazyContent:function(content){return this.hasContent&&content?content():[this.$createElement()]}}}),_=n(37),y=n(58),S=n(159),w=n(106),M=n(252),E=n(9);function R(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T=Object(E.a)(f.a,x,_.a,Object(S.a)("list"),y.a).extend().extend({name:"v-list-group",directives:{ripple:w.a},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:[String,RegExp],noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes:function(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive:function(t){!this.subGroup&&t&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created:function(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy:function(){this.list&&this.list.unregister(this)},methods:{click:function(t){var e=this;this.disabled||(this.isBooted=!0,this.$emit("click",t),this.$nextTick((function(){return e.isActive=!e.isActive})))},genIcon:function(t){return this.$createElement(c.a,t)},genAppendIcon:function(){var t=!this.subGroup&&this.appendIcon;return t||this.$slots.appendIcon?this.$createElement(m,{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(t)]):null},genHeader:function(){return this.$createElement(h.a,{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:Object(l.a)({},this.activeClass,this.isActive),props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:A(A({},this.listeners$),{},{click:this.click})},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:t.isActive}]},Object(r.m)(t))]}))},genPrependIcon:function(){var t=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return t||this.$slots.prependIcon?this.$createElement(m,{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(t)]):null},onRouteChange:function(t){if(this.group){var e=this.matchRoute(t.path);e&&this.isActive!==e&&this.list&&this.list.listClick(this._uid),this.isActive=e}},toggle:function(t){var e=this,n=this._uid===t;n&&(this.isBooted=!0),this.$nextTick((function(){return e.isActive=n}))},matchRoute:function(t){return null!==t.match(this.group)}},render:function(t){return t("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),t(M.a,this.genItems())])}}),P=(n(371),n(28),n(182),n(50),n(183),n(250),n(373),d.a.extend({name:"comparable",props:{valueComparator:{type:Function,default:r.i}}})),C=n(251),I=n(39);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var N=Object(E.a)(P,C.a,I.a).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data:function(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-item-group":!0},this.themeClasses)},selectedIndex:function(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem:function(){if(!this.multiple)return this.selectedItems[0]},selectedItems:function(){var t=this;return this.items.filter((function(e,n){return t.toggleMethod(t.getValue(e,n))}))},selectedValues:function(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod:function(){var t=this;if(!this.multiple)return function(e){return t.valueComparator(t.internalValue,e)};var e=this.internalValue;return Array.isArray(e)?function(n){return e.some((function(e){return t.valueComparator(e,n)}))}:function(){return!1}}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created:function(){this.multiple&&!Array.isArray(this.internalValue)&&Object(v.c)("Model must be bound to an array if the multiple property is true.",this)},methods:{genData:function(){return{class:this.classes}},getValue:function(t,i){return void 0===t.value?i:t.value},onClick:function(t){this.updateInternalValue(this.getValue(t,this.items.indexOf(t)))},register:function(t){var e=this,n=this.items.push(t)-1;t.$on("change",(function(){return e.onClick(t)})),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(t,n)},unregister:function(t){if(!this._isDestroyed){var e=this.items.indexOf(t),n=this.getValue(t,e);if(this.items.splice(e,1),!(this.selectedValues.indexOf(n)<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter((function(t){return t!==n})):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}}},updateItem:function(t,e){var n=this.getValue(t,e);t.isActive=this.toggleMethod(n)},updateItemsState:function(){var t=this;this.$nextTick((function(){if(t.mandatory&&!t.selectedItems.length)return t.updateMandatory();t.items.forEach(t.updateItem)}))},updateInternalValue:function(t){this.multiple?this.updateMultiple(t):this.updateSingle(t)},updateMandatory:function(t){if(this.items.length){var e=this.items.slice();t&&e.reverse();var n=e.find((function(t){return!t.disabled}));if(n){var r=this.items.indexOf(n);this.updateInternalValue(this.getValue(n,r))}}},updateMultiple:function(t){var e=(Array.isArray(this.internalValue)?this.internalValue:[]).slice(),n=e.findIndex((function(e){return e===t}));this.mandatory&&n>-1&&e.length-1<1||null!=this.max&&n<0&&e.length+1>this.max||(n>-1?e.splice(n,1):e.push(t),this.internalValue=e)},updateSingle:function(t){var e=t===this.internalValue;this.mandatory&&e||(this.internalValue=e?void 0:t)}},render:function(t){return t(this.tag,this.genData(),this.$slots.default)}});N.extend({name:"v-item-group",provide:function(){return{itemGroup:this}}});function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var k=Object(E.a)(N,_.a).extend({name:"v-list-item-group",provide:function(){return{isInGroup:!0,listItemGroup:this}},computed:{classes:function(){return O(O({},N.options.computed.classes.call(this)),{},{"v-list-item-group":!0})}},methods:{genData:function(){return this.setTextColor(this.color,O(O({},N.options.methods.genData.call(this)),{},{attrs:{role:"listbox"}}))}}}),G=n(186),B=(n(369),n(104)),F=n(156);function V(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?V(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):V(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var U=Object(E.a)(_.a,B.a,F.a).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes:function(){return z({"v-avatar--left":this.left,"v-avatar--right":this.right},this.roundedClasses)},styles:function(){return z({height:Object(r.g)(this.size),minWidth:Object(r.g)(this.size),width:Object(r.g)(this.size)},this.measurableStyles)}},render:function(t){var data={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return t("div",this.setBackgroundColor(this.color,data),this.$slots.default)}});function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function X(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var W=U.extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes:function(){return X(X({"v-list-item__avatar--horizontal":this.horizontal},U.options.computed.classes.call(this)),{},{"v-avatar--tile":this.tile||this.horizontal})}},render:function(t){var e=U.options.render.call(this,t);return e.data=e.data||{},e.data.staticClass+=" v-list-item__avatar",e}}),j=Object(r.h)("v-list-item__action-text","span"),Y=Object(r.h)("v-list-item__content","div"),$=Object(r.h)("v-list-item__title","div"),K=Object(r.h)("v-list-item__subtitle","div");o.a,h.a,G.a},function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(352),n(67),n(35),n(25),n(60),n(0)),l=n(106),c=n(1);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=o.a.extend({name:"routable",directives:{Ripple:l.a},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:function(){return{isActive:!1,proxyClass:""}},computed:{classes:function(){var t={};return this.to||(this.activeClass&&(t[this.activeClass]=this.isActive),this.proxyClass&&(t[this.proxyClass]=this.isActive)),t},computedRipple:function(){var t;return null!=(t=this.ripple)?t:!this.disabled&&this.isClickable},isClickable:function(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink:function(){return this.to||this.href||this.link},styles:function(){return{}}},watch:{$route:"onRouteChange"},mounted:function(){this.onRouteChange()},methods:{generateRouteLink:function(){var t,e,n=this.exact,data=(t={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}]},Object(r.a)(t,this.to?"nativeOn":"on",d(d({},this.$listeners),"click"in this?{click:this.click}:void 0)),Object(r.a)(t,"ref","link"),t);if(void 0===this.exact&&(n="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){var o=this.activeClass,l=this.exactActiveClass||o;this.proxyClass&&(o="".concat(o," ").concat(this.proxyClass).trim(),l="".concat(l," ").concat(this.proxyClass).trim()),e=this.nuxt?"nuxt-link":"router-link",Object.assign(data.props,{to:this.to,exact:n,exactPath:this.exactPath,activeClass:o,exactActiveClass:l,append:this.append,replace:this.replace})}else"a"===(e=(this.href?"a":this.tag)||"div")&&this.href&&(data.attrs.href=this.href);return this.target&&(data.attrs.target=this.target),{tag:e,data:data}},onRouteChange:function(){var t=this;if(this.to&&this.$refs.link&&this.$route){var e="".concat(this.activeClass||""," ").concat(this.proxyClass||"").trim(),n="".concat(this.exactActiveClass||""," ").concat(this.proxyClass||"").trim()||e,path="_vnode.data.class."+(this.exact?n:e);this.$nextTick((function(){!Object(c.l)(t.$refs.link,path)===t.isActive&&t.toggle()}))}},toggle:function(){this.isActive=!this.isActive}}})},,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(0);function o(t){return function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(e,r)||this.$delete(this.$data[t],r);for(var o in e)this.$set(this.$data[t],o,e[o])}}e.a=r.a.extend({data:function(){return{attrs$:{},listeners$:{}}},created:function(){this.$watch("$attrs",o("attrs$"),{immediate:!0}),this.$watch("$listeners",o("listeners$"),{immediate:!0})}})},function(t,e,n){"use strict";n(28);var r=n(1),o=n(0);e.a=o.a.extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles:function(){var t={},e=Object(r.g)(this.height),n=Object(r.g)(this.minHeight),o=Object(r.g)(this.minWidth),l=Object(r.g)(this.maxHeight),c=Object(r.g)(this.maxWidth),h=Object(r.g)(this.width);return e&&(t.height=e),n&&(t.minHeight=n),o&&(t.minWidth=o),l&&(t.maxHeight=l),c&&(t.maxWidth=c),h&&(t.width=h),t}}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(151),o=n(9);function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(o.a)(Object(r.b)(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty:function(){return t}},watch:{app:function(t,e){e?this.removeApplication(!0):this.callUpdate()},applicationProperty:function(t,e){this.$vuetify.application.unregister(this._uid,e)}},activated:function(){this.callUpdate()},created:function(){for(var i=0,t=e.length;i<t;i++)this.$watch(e[i],this.callUpdate);this.callUpdate()},mounted:function(){this.callUpdate()},deactivated:function(){this.removeApplication()},destroyed:function(){this.removeApplication()},methods:{callUpdate:function(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(t||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:function(){return 0}}})}},function(t,e,n){"use strict";n(36),n(35),n(57),n(28),n(353);var r=n(1);function o(t,e){t.style.transform=e,t.style.webkitTransform=e}function l(t){return"TouchEvent"===t.constructor.name}function c(t){return"KeyboardEvent"===t.constructor.name}var h=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,o=0;if(!c(t)){var h=e.getBoundingClientRect(),d=l(t)?t.touches[t.touches.length-1]:t;r=d.clientX-h.left,o=d.clientY-h.top}var m=0,f=.3;e._ripple&&e._ripple.circle?(f=.15,m=e.clientWidth/2,m=n.center?m:m+Math.sqrt(Math.pow(r-m,2)+Math.pow(o-m,2))/4):m=Math.sqrt(Math.pow(e.clientWidth,2)+Math.pow(e.clientHeight,2))/2;var v="".concat((e.clientWidth-2*m)/2,"px"),x="".concat((e.clientHeight-2*m)/2,"px"),_=n.center?v:"".concat(r-m,"px"),y=n.center?x:"".concat(o-m,"px");return{radius:m,scale:f,x:_,y:y,centerX:v,centerY:x}},d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e._ripple&&e._ripple.enabled){var r=document.createElement("span"),l=document.createElement("span");r.appendChild(l),r.className="v-ripple__container",n.class&&(r.className+=" ".concat(n.class));var c=h(t,e,n),d=c.radius,m=c.scale,f=c.x,v=c.y,x=c.centerX,_=c.centerY,y="".concat(2*d,"px");l.className="v-ripple__animation",l.style.width=y,l.style.height=y,e.appendChild(r);var S=window.getComputedStyle(e);S&&"static"===S.position&&(e.style.position="relative",e.dataset.previousPosition="static"),l.classList.add("v-ripple__animation--enter"),l.classList.add("v-ripple__animation--visible"),o(l,"translate(".concat(f,", ").concat(v,") scale3d(").concat(m,",").concat(m,",").concat(m,")")),l.dataset.activated=String(performance.now()),setTimeout((function(){l.classList.remove("v-ripple__animation--enter"),l.classList.add("v-ripple__animation--in"),o(l,"translate(".concat(x,", ").concat(_,") scale3d(1,1,1)"))}),0)}},m=function(t){if(t&&t._ripple&&t._ripple.enabled){var e=t.getElementsByClassName("v-ripple__animation");if(0!==e.length){var n=e[e.length-1];if(!n.dataset.isHiding){n.dataset.isHiding="true";var r=performance.now()-Number(n.dataset.activated),o=Math.max(250-r,0);setTimeout((function(){n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout((function(){1===t.getElementsByClassName("v-ripple__animation").length&&t.dataset.previousPosition&&(t.style.position=t.dataset.previousPosition,delete t.dataset.previousPosition),n.parentNode&&t.removeChild(n.parentNode)}),300)}),o)}}}};function f(t){return void 0===t||!!t}function v(t){var e={},element=t.currentTarget;if(element&&element._ripple&&!element._ripple.touched&&!t.rippleStop){if(t.rippleStop=!0,l(t))element._ripple.touched=!0,element._ripple.isTouch=!0;else if(element._ripple.isTouch)return;if(e.center=element._ripple.centered||c(t),element._ripple.class&&(e.class=element._ripple.class),l(t)){if(element._ripple.showTimerCommit)return;element._ripple.showTimerCommit=function(){d(t,element,e)},element._ripple.showTimer=window.setTimeout((function(){element&&element._ripple&&element._ripple.showTimerCommit&&(element._ripple.showTimerCommit(),element._ripple.showTimerCommit=null)}),80)}else d(t,element,e)}}function x(t){var element=t.currentTarget;if(element&&element._ripple){if(window.clearTimeout(element._ripple.showTimer),"touchend"===t.type&&element._ripple.showTimerCommit)return element._ripple.showTimerCommit(),element._ripple.showTimerCommit=null,void(element._ripple.showTimer=setTimeout((function(){x(t)})));window.setTimeout((function(){element._ripple&&(element._ripple.touched=!1)})),m(element)}}function _(t){var element=t.currentTarget;element&&element._ripple&&(element._ripple.showTimerCommit&&(element._ripple.showTimerCommit=null),window.clearTimeout(element._ripple.showTimer))}var y=!1;function S(t){y||t.keyCode!==r.o.enter&&t.keyCode!==r.o.space||(y=!0,v(t))}function w(t){y=!1,x(t)}function M(t){!0===y&&(y=!1,x(t))}function E(t,e,n){var r=f(e.value);r||m(t),t._ripple=t._ripple||{},t._ripple.enabled=r;var o=e.value||{};o.center&&(t._ripple.centered=!0),o.class&&(t._ripple.class=e.value.class),o.circle&&(t._ripple.circle=o.circle),r&&!n?(t.addEventListener("touchstart",v,{passive:!0}),t.addEventListener("touchend",x,{passive:!0}),t.addEventListener("touchmove",_,{passive:!0}),t.addEventListener("touchcancel",x),t.addEventListener("mousedown",v),t.addEventListener("mouseup",x),t.addEventListener("mouseleave",x),t.addEventListener("keydown",S),t.addEventListener("keyup",w),t.addEventListener("blur",M),t.addEventListener("dragstart",x,{passive:!0})):!r&&n&&R(t)}function R(t){t.removeEventListener("mousedown",v),t.removeEventListener("touchstart",v),t.removeEventListener("touchend",x),t.removeEventListener("touchmove",_),t.removeEventListener("touchcancel",x),t.removeEventListener("mouseup",x),t.removeEventListener("mouseleave",x),t.removeEventListener("keydown",S),t.removeEventListener("keyup",w),t.removeEventListener("dragstart",x),t.removeEventListener("blur",M)}var A={bind:function(t,e,n){E(t,e,!1)},unbind:function(t){delete t._ripple,R(t)},update:function(t,e){e.value!==e.oldValue&&E(t,e,f(e.oldValue))}};e.a=A},function(t,e,n){"use strict";var r={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,l=r(),c=l.default;void 0===c&&(c=[]);var h=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["no-ssr-placeholder"]},o.placeholder||h):c.length>0?c.map((function(){return t(!1)})):t(!1))}};t.exports=r},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(184);e.a=r.a},function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(365),n(37)),l=n(89),c=n(158),h=n(39),d=n(58),m=n(106),f=n(1),v=n(8),x=n(9);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var S=Object(x.a)(o.a,l.a,h.a,Object(c.a)("listItemGroup"),Object(d.b)("inputValue"));e.a=S.extend().extend({name:"v-list-item",directives:{Ripple:m.a},inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},inheritAttrs:!1,props:{activeClass:{type:String,default:function(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:function(){return{proxyClass:"v-list-item--active"}},computed:{classes:function(){return y(y({"v-list-item":!0},l.a.options.computed.classes.call(this)),{},{"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine},this.themeClasses)},isClickable:function(){return Boolean(l.a.options.computed.isClickable.call(this)||this.listItemGroup)}},created:function(){this.$attrs.hasOwnProperty("avatar")&&Object(v.e)("avatar",this)},methods:{click:function(t){t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle()},genAttrs:function(){var t=y({"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1},this.$attrs);return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(t.role="option",t["aria-selected"]=String(this.isActive)):this.isInMenu?(t.role=this.isClickable?"menuitem":void 0,t.id=t.id||"list-item-".concat(this._uid)):this.isInList&&(t.role="listitem")),t},toggle:function(){this.to&&void 0===this.inputValue&&(this.isActive=!this.isActive),this.$emit("change")}},render:function(t){var e=this,n=this.generateRouteLink(),r=n.tag,data=n.data;data.attrs=y(y({},data.attrs),this.genAttrs()),data[this.to?"nativeOn":"on"]=y(y({},data[this.to?"nativeOn":"on"]),{},{keydown:function(t){t.keyCode===f.o.enter&&e.click(t),e.$emit("keydown",t)}}),this.inactive&&(r="div"),this.inactive&&this.to&&(data.on=data.nativeOn,delete data.nativeOn);var o=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t(r,this.isActive?this.setTextColor(this.color,data):data,o)}})},,function(t,e,n){"use strict";n.d(e,"a",(function(){return kt}));var r={};n.r(r),n.d(r,"linear",(function(){return C})),n.d(r,"easeInQuad",(function(){return I})),n.d(r,"easeOutQuad",(function(){return L})),n.d(r,"easeInOutQuad",(function(){return N})),n.d(r,"easeInCubic",(function(){return D})),n.d(r,"easeOutCubic",(function(){return O})),n.d(r,"easeInOutCubic",(function(){return k})),n.d(r,"easeInQuart",(function(){return G})),n.d(r,"easeOutQuart",(function(){return B})),n.d(r,"easeInOutQuart",(function(){return F})),n.d(r,"easeInQuint",(function(){return V})),n.d(r,"easeOutQuint",(function(){return z})),n.d(r,"easeInOutQuint",(function(){return U}));var o=n(31),l=n(32),c=(n(5),n(11),n(53),n(61),n(0)),h=n(8);n(86);var d=n(128),m=n(43),f=n(40),v=n(27),x=(n(341),{breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:{badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}}},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}}),_=n(1),y=function(){function t(){Object(o.a)(this,t),this.framework={}}return Object(l.a)(t,[{key:"init",value:function(t,e){}}]),t}(),S=["preset"];function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var M=function(t){Object(m.a)(n,t);var e=w(n);function n(t,r){var l;Object(o.a)(this,n),l=e.call(this);var c=Object(_.q)({},x),m=r.userPreset,f=m.preset,v=void 0===f?{}:f,y=Object(d.a)(m,S);return null!=v.preset&&Object(h.c)("Global presets do not support the **preset** option, it can be safely omitted"),r.preset=Object(_.q)(Object(_.q)(c,v),y),l}return Object(l.a)(n)}(y);M.property="presets";n(246);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var R=function(t){Object(m.a)(n,t);var e=E(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).bar=0,t.top=0,t.left=0,t.insetFooter=0,t.right=0,t.bottom=0,t.footer=0,t.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}},t}return Object(l.a)(n,[{key:"register",value:function(t,e,n){this.application[e][t]=n,this.update(e)}},{key:"unregister",value:function(t,e){null!=this.application[e][t]&&(delete this.application[e][t],this.update(e))}},{key:"update",value:function(t){this[t]=Object.values(this.application[t]).reduce((function(t,e){return t+e}),0)}}]),n}(y);R.property="application";n(36),n(57);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var T=function(t){Object(m.a)(n,t);var e=A(n);function n(t){var r;Object(o.a)(this,n),(r=e.call(this)).xs=!1,r.sm=!1,r.md=!1,r.lg=!1,r.xl=!1,r.xsOnly=!1,r.smOnly=!1,r.smAndDown=!1,r.smAndUp=!1,r.mdOnly=!1,r.mdAndDown=!1,r.mdAndUp=!1,r.lgOnly=!1,r.lgAndDown=!1,r.lgAndUp=!1,r.xlOnly=!1,r.name="xs",r.height=0,r.width=0,r.mobile=!0,r.resizeTimeout=0;var l=t[n.property],c=l.mobileBreakpoint,h=l.scrollBarWidth,d=l.thresholds;return r.mobileBreakpoint=c,r.scrollBarWidth=h,r.thresholds=d,r}return Object(l.a)(n,[{key:"init",value:function(){this.update(),"undefined"!=typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?0:this.getClientHeight(),n=t?0:this.getClientWidth(),r=n<this.thresholds.xs,o=n<this.thresholds.sm&&!r,l=n<this.thresholds.md-this.scrollBarWidth&&!(o||r),c=n<this.thresholds.lg-this.scrollBarWidth&&!(l||o||r),h=n>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=e,this.width=n,this.xs=r,this.sm=o,this.md=l,this.lg=c,this.xl=h,this.xsOnly=r,this.smOnly=o,this.smAndDown=(r||o)&&!(l||c||h),this.smAndUp=!r&&(o||l||c||h),this.mdOnly=l,this.mdAndDown=(r||o||l)&&!(c||h),this.mdAndUp=!(r||o)&&(l||c||h),this.lgOnly=c,this.lgAndDown=(r||o||l||c)&&!h,this.lgAndUp=!(r||o||l)&&(c||h),this.xlOnly=h,!0){case r:this.name="xs";break;case o:this.name="sm";break;case l:this.name="md";break;case c:this.name="lg";break;default:this.name="xl"}if("number"!=typeof this.mobileBreakpoint){var d={xs:0,sm:1,md:2,lg:3,xl:4},m=d[this.name],f=d[this.mobileBreakpoint];this.mobile=m<=f}else this.mobile=n<parseInt(this.mobileBreakpoint,10)}},{key:"onResize",value:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}},{key:"getClientWidth",value:function(){return"undefined"==typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}},{key:"getClientHeight",value:function(){return"undefined"==typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}]),n}(y);T.property="breakpoint";n(13),n(10),n(12),n(15),n(16);var P=n(2),C=function(t){return t},I=function(t){return Math.pow(t,2)},L=function(t){return t*(2-t)},N=function(t){return t<.5?2*Math.pow(t,2):(4-2*t)*t-1},D=function(t){return Math.pow(t,3)},O=function(t){return Math.pow(--t,3)+1},k=function(t){return t<.5?4*Math.pow(t,3):(t-1)*(2*t-2)*(2*t-2)+1},G=function(t){return Math.pow(t,4)},B=function(t){return 1-Math.pow(--t,4)},F=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},V=function(t){return Math.pow(t,5)},z=function(t){return 1+Math.pow(--t,5)},U=function(t){return t<.5?16*Math.pow(t,5):1+16*Math.pow(--t,5)};function H(t){if("number"==typeof t)return t;var e=j(t);if(!e)throw"string"==typeof t?new Error('Target element "'.concat(t,'" not found.')):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received ".concat(W(t)," instead."));for(var n=0;e;)n+=e.offsetTop,e=e.offsetParent;return n}function X(t){var e=j(t);if(e)return e;throw"string"==typeof t?new Error('Container element "'.concat(t,'" not found.')):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received ".concat(W(t)," instead."))}function W(t){return null==t?t:t.constructor.name}function j(t){return"string"==typeof t?document.querySelector(t):t&&t._isVue?t.$el:t instanceof HTMLElement?t:null}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function K(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(P.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=K({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},e),o=X(n.container);if(n.appOffset&&Q.framework.application){var l=o.classList.contains("v-navigation-drawer"),c=o.classList.contains("v-navigation-drawer--clipped"),h=Q.framework.application,d=h.bar,m=h.top;n.offset+=d,l&&!c||(n.offset+=m)}var f,v=performance.now();f="number"==typeof t?H(t)-n.offset:H(t)-H(o)-n.offset;var x=o.scrollTop;if(f===x)return Promise.resolve(f);var _="function"==typeof n.easing?n.easing:r[n.easing];if(!_)throw new TypeError('Easing function "'.concat(n.easing,'" not found.'));return new Promise((function(t){return requestAnimationFrame((function e(r){var l=r-v,progress=Math.abs(n.duration?Math.min(l/n.duration,1):1);o.scrollTop=Math.floor(x+(f-x)*_(progress));var c=(o===document.body?document.documentElement.clientHeight:o.clientHeight)+o.scrollTop>=o.scrollHeight;if(1===progress||f>o.scrollTop&&c)return t(f);requestAnimationFrame(e)}))}))}Q.framework={},Q.init=function(){};var Z=function(t){Object(m.a)(n,t);var e=Y(n);function n(){var t;return Object(o.a)(this,n),t=e.call(this),Object(f.a)(t,Q)}return Object(l.a)(n)}(y);Z.property="goTo";n(55),n(244);var J={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"},tt={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"},et={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"},nt={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"},it={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"};n(25),n(75);var at=function(component,t){var e={};for(var n in t)e[n]={component:component,props:{icon:t[n].split(" fa-")}};return e}("font-awesome-icon",nt),ot=Object.freeze({mdiSvg:J,md:tt,mdi:et,fa:nt,fa4:it,faSvg:at});function st(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var lt=function(t){Object(m.a)(n,t);var e=st(n);function n(t){var r;Object(o.a)(this,n),r=e.call(this);var l=t[n.property],c=l.iconfont,h=l.values,component=l.component;return r.component=component,r.iconfont=c,r.values=Object(_.q)(ot[c],h),r}return Object(l.a)(n)}(y);lt.property="icons";n(65),n(60),n(62),n(35);function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var ct="$vuetify.",ut=Symbol("Lang fallback");function ht(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=e.replace(ct,""),l=Object(_.l)(t,o,ut);return l===ut&&(n?(Object(h.b)('Translation key "'.concat(o,'" not found in fallback')),l=e):(Object(h.c)('Translation key "'.concat(o,'" not found, falling back to default')),l=ht(r,e,!0,r))),l}var mt=function(t){Object(m.a)(n,t);var e=pt(n);function n(t){var r;Object(o.a)(this,n),(r=e.call(this)).defaultLocale="en";var l=t[n.property],c=l.current,h=l.locales,d=l.t;return r.current=c,r.locales=h,r.translator=d||r.defaultTranslator,r}return Object(l.a)(n,[{key:"currentLocale",value:function(t){return ht(this.locales[this.current],t,!1,this.locales[this.defaultLocale])}},{key:"t",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.startsWith(ct)?this.translator.apply(this,[t].concat(n)):this.replace(t,n)}},{key:"defaultTranslator",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.replace(this.currentLocale(t),n)}},{key:"replace",value:function(t,e){return t.replace(/\{(\d+)\}/g,(function(t,n){return String(e[+n])}))}}]),n}(y);mt.property="lang";n(183);var ft=n(19),gt=n(22),vt=(n(343),n(56)),xt=n(78),_t=(n(344),.20689655172413793),yt=function(t){return t>Math.pow(_t,3)?Math.cbrt(t):t/(3*Math.pow(_t,2))+4/29},bt=function(t){return t>_t?Math.pow(t,3):3*Math.pow(_t,2)*(t-4/29)};function St(t){var e=yt,n=e(t[1]);return[116*n-16,500*(e(t[0]/.95047)-n),200*(n-e(t[2]/1.08883))]}function wt(t){var e=bt,n=(t[0]+16)/116;return[.95047*e(n+t[1]/500),e(n),1.08883*e(n-t[2]/200)]}var Mt=["anchor"],Et=["anchor"];function Rt(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.anchor,o=Object(d.a)(t,Mt),l=Object.keys(o),c={},i=0;i<l.length;++i){var h=l[i],m=t[h];null!=m&&(n?e?("base"===h||h.startsWith("lighten")||h.startsWith("darken"))&&(c[h]=Object(vt.a)(m)):"object"===Object(gt.a)(m)?c[h]=Rt(m,!0,n):c[h]=It(h,Object(vt.b)(m)):c[h]={base:Object(vt.c)(Object(vt.b)(m))})}return e||(c.anchor=r||c.base||c.primary.base),c}var At=function(t,e){return"\n.v-application .".concat(t," {\n  background-color: ").concat(e," !important;\n  border-color: ").concat(e," !important;\n}\n.v-application .").concat(t,"--text {\n  color: ").concat(e," !important;\n  caret-color: ").concat(e," !important;\n}")},Tt=function(t,e,n){var r=e.split(/(\d)/,2),o=Object(ft.a)(r,2),l=o[0],c=o[1];return"\n.v-application .".concat(t,".").concat(l,"-").concat(c," {\n  background-color: ").concat(n," !important;\n  border-color: ").concat(n," !important;\n}\n.v-application .").concat(t,"--text.text--").concat(l,"-").concat(c," {\n  color: ").concat(n," !important;\n  caret-color: ").concat(n," !important;\n}")},Pt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"--v-".concat(t,"-").concat(e)},Ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base";return"var(".concat(Pt(t,e),")")};function It(t,e){for(var n={base:Object(vt.c)(e)},i=5;i>0;--i)n["lighten".concat(i)]=Object(vt.c)(Lt(e,i));for(var r=1;r<=4;++r)n["darken".concat(r)]=Object(vt.c)(Nt(e,r));return n}function Lt(t,e){var n=St(xt.b(t));return n[0]=n[0]+10*e,xt.a(wt(n))}function Nt(t,e){var n=St(xt.b(t));return n[0]=n[0]-10*e,xt.a(wt(n))}function Dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var Ot=function(t){Object(m.a)(n,t);var e=Dt(n);function n(t){var r;Object(o.a)(this,n),(r=e.call(this)).disabled=!1,r.isDark=null,r.unwatch=null,r.vueMeta=null;var l=t[n.property],c=l.dark,h=l.disable,d=l.options,m=l.themes;return r.dark=Boolean(c),r.defaults=r.themes=m,r.options=d,h?(r.disabled=!0,Object(f.a)(r)):(r.themes={dark:r.fillVariant(m.dark,!0),light:r.fillVariant(m.light,!1)},r)}return Object(l.a)(n,[{key:"css",set:function(t){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=t)}},{key:"dark",get:function(){return Boolean(this.isDark)},set:function(t){var e=this.isDark;this.isDark=t,null!=e&&this.applyTheme()}},{key:"applyTheme",value:function(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}},{key:"clearCss",value:function(){this.css=""}},{key:"init",value:function(t,e){this.disabled||(t.$meta?this.initVueMeta(t):e&&this.initSSR(e),this.initTheme(t))}},{key:"setTheme",value:function(t,e){this.themes[t]=Object.assign(this.themes[t],e),this.applyTheme()}},{key:"resetThemes",value:function(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}},{key:"checkOrCreateStyleElement",value:function(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}},{key:"fillVariant",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=this.themes[e?"dark":"light"];return Object.assign({},n,t)}},{key:"genStyleElement",value:function(){"undefined"!=typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}},{key:"initVueMeta",value:function(t){var e=this;if(this.vueMeta=t.$meta(),this.isVueMeta23)t.$nextTick((function(){e.applyVueMeta23()}));else{var n="function"==typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",r=t.$options[n]||{};t.$options[n]=function(){r.style=r.style||[];var t=r.style.find((function(s){return"vuetify-theme-stylesheet"===s.id}));return t?t.cssText=e.generatedStyles:r.style.push({cssText:e.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(e.options||{}).cspNonce}),r}}}},{key:"applyVueMeta23",value:function(){(0,this.vueMeta.addApp("vuetify").set)({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}},{key:"initSSR",value:function(t){var e=this.options.cspNonce?' nonce="'.concat(this.options.cspNonce,'"'):"";t.head=t.head||"",t.head+='<style type="text/css" id="vuetify-theme-stylesheet"'.concat(e,">").concat(this.generatedStyles,"</style>")}},{key:"initTheme",value:function(t){var e=this;"undefined"!=typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),t.$once("hook:created",(function(){var n=c.a.observable({themes:e.themes});e.unwatch=t.$watch((function(){return n.themes}),(function(){return e.applyTheme()}),{deep:!0})})),this.applyTheme())}},{key:"currentTheme",get:function(){var t=this.dark?"dark":"light";return this.themes[t]}},{key:"generatedStyles",get:function(){var t,e=this.parsedTheme,n=this.options||{};return null!=n.themeCache&&null!=(t=n.themeCache.get(e))||(t=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.anchor,r=Object(d.a)(t,Et),o=Object.keys(r);if(!o.length)return"";var l="",c="",h=e?Ct("anchor"):n;c+=".v-application a { color: ".concat(h,"; }"),e&&(l+="  ".concat(Pt("anchor"),": ").concat(n,";\n"));for(var i=0;i<o.length;++i){var m=o[i],f=t[m];c+=At(m,e?Ct(m):f.base),e&&(l+="  ".concat(Pt(m),": ").concat(f.base,";\n"));for(var v=Object(_.p)(f),x=0;x<v.length;++x){var y=v[x],S=f[y];"base"!==y&&(c+=Tt(m,y,e?Ct(m,y):S),e&&(l+="  ".concat(Pt(m,y),": ").concat(S,";\n")))}}return e&&(l=":root {\n".concat(l,"}\n\n")),l+c}(e,n.customProperties),null!=n.minifyTheme&&(t=n.minifyTheme(t)),null!=n.themeCache&&n.themeCache.set(e,t)),t}},{key:"parsedTheme",get:function(){return Rt(this.currentTheme||{},void 0,Object(_.k)(this.options,["variations"],!0))}},{key:"isVueMeta23",get:function(){return"function"==typeof this.vueMeta.addApp}}]),n}(y);Ot.property="theme";var kt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(o.a)(this,t),this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=e,this.use(M),this.use(R),this.use(T),this.use(Z),this.use(lt),this.use(mt),this.use(Ot)}return Object(l.a)(t,[{key:"init",value:function(t,e){var n=this;this.installed.forEach((function(r){var o=n.framework[r];o.framework=n.framework,o.init(t,e)})),this.framework.rtl=Boolean(this.preset.rtl)}},{key:"use",value:function(t){var e=t.property;this.installed.includes(e)||(this.framework[e]=new t(this.preset,this),this.installed.push(e))}}]),t}();kt.install=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t.installed){t.installed=!0,c.a!==e&&Object(h.b)("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");var r=n.components||{},o=n.directives||{};for(var l in o){var d=o[l];e.directive(l,d)}!function t(n){if(n){for(var r in n){var component=n[r];component&&!t(component.$_vuetify_subcomponents)&&e.component(r,component)}return!0}return!1}(r),e.$_vuetify_installed||(e.$_vuetify_installed=!0,e.mixin({beforeCreate:function(){var t=this.$options;t.vuetify?(t.vuetify.init(this,this.$ssrContext),this.$vuetify=e.observable(t.vuetify.framework)):this.$vuetify=t.parent&&t.parent.$vuetify||this},beforeMount:function(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted:function(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}},kt.installed=!1,kt.version="2.6.4",kt.config={silent:!1}},,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(component,t){var e="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(e.components=component.exports.options.components),e.components=e.components||{},t)e.components[i]=e.components[i]||t[i]}},,,function(t,e,n){"use strict";var r=n(22);n(5);function o(t,e,n){var r,o=null==(r=t._observe)?void 0:r[n.context._uid];o&&(o.observer.unobserve(t),delete t._observe[n.context._uid])}var l={inserted:function(t,e,n){if("undefined"!=typeof window&&"IntersectionObserver"in window){var l=e.modifiers||{},c=e.value,h="object"===Object(r.a)(c)?c:{handler:c,options:{}},d=h.handler,m=h.options,f=new IntersectionObserver((function(){var r,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],h=arguments.length>1?arguments[1]:void 0,m=null==(r=t._observe)?void 0:r[n.context._uid];if(m){var f=c.some((function(t){return t.isIntersecting}));!d||l.quiet&&!m.init||l.once&&!f&&!m.init||d(c,h,f),f&&l.once?o(t,e,n):m.init=!0}}),m);t._observe=Object(t._observe),t._observe[n.context._uid]={init:!1,observer:f},f.observe(t)}},unbind:o};e.a=l},function(t,e,n){"use strict";n.d(e,"b",(function(){return c}));var r=n(0),o=n(1),l={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.a.extend({name:"positionable",props:t.length?Object(o.j)(l,t):l})}e.a=c()},,,,function(t,e,n){"use strict";var r=n(2),o=(n(28),n(0));e.a=o.a.extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation:function(){return this.elevation},elevationClasses:function(){var t=this.computedElevation;return null==t||isNaN(parseInt(t))?{}:Object(r.a)({},"elevation-".concat(this.elevation),!0)}}})},function(t,e,n){"use strict";var r=n(2),o=(n(25),n(75),n(85),n(50),n(5),n(36),n(64),n(54),n(10),n(65),n(74),n(55),n(0));function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){h=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}e.a=o.a.extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses:function(){var t=[],e="string"==typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)t.push("rounded-0");else if("string"==typeof e){var n,o=l(e.split(" "));try{for(o.s();!(n=o.n()).done;){var c=n.value;t.push("rounded-".concat(c))}}catch(t){o.e(t)}finally{o.f()}}else e&&t.push("rounded");return t.length>0?Object(r.a)({},t.join(" "),!0):{}}}})},function(t,e,n){"use strict";n(248);var r=n(0);e.a=r.a.extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium:function(){return Boolean(!(this.xSmall||this.small||this.large||this.xLarge))},sizeableClasses:function(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),o=n(159);function l(t,e,n){return Object(o.a)(t,e,n).extend({name:"groupable",props:{activeClass:{type:String,default:function(){if(this[t])return this[t].activeClass}},disabled:Boolean},data:function(){return{isActive:!1}},computed:{groupClasses:function(){return this.activeClass?Object(r.a)({},this.activeClass,this.isActive):{}}},created:function(){this[t]&&this[t].register(this)},beforeDestroy:function(){this[t]&&this[t].unregister(this)},methods:{toggle:function(){this.$emit("change")}}})}l("itemGroup")},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(2),o=(n(35),n(0)),l=n(8);function c(t,e){return function(){return Object(l.c)("The ".concat(t," component must be used inside a ").concat(e))}}function h(t,e,n){var l=e&&n?{register:c(e,n),unregister:c(e,n)}:null;return o.a.extend({name:"registrable-inject",inject:Object(r.a)({},t,{default:l})})}},function(t,e,n){"use strict";var r=n(22),o=(n(28),n(85),n(237),n(62),n(57),n(346),n(150)),l=(n(348),n(104)),c=n(9),h=Object(c.a)(l.a).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio:function(){return Number(this.aspectRatio)},aspectStyle:function(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer:function(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},this.$slots.default)}},render:function(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),d=n(39),m=n(87),f=n(8),v="undefined"!=typeof window&&"IntersectionObserver"in window;e.a=Object(c.a)(h,d.a).extend({name:"v-img",directives:{intersect:o.a},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:function(){return{root:void 0,rootMargin:void 0,threshold:void 0}}},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data:function(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio:function(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc:function(){return this.src&&"object"===Object(r.a)(this.src)?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage:function(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];var t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push("linear-gradient(".concat(this.gradient,")")),e&&t.push('url("'.concat(e,'")'));var image=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[image]):image}},watch:{src:function(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted:function(){this.init()},methods:{init:function(t,e,n){if(!v||n||this.eager){if(this.normalisedSrc.lazySrc){var r=new Image;r.src=this.normalisedSrc.lazySrc,this.pollForSize(r,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad:function(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError:function(){this.hasError=!0,this.$emit("error",this.src)},getSrc:function(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage:function(){var t=this,image=new Image;this.image=image,image.onload=function(){image.decode?image.decode().catch((function(e){Object(f.c)("Failed to decode image, trying to render anyway\n\n"+"src: ".concat(t.normalisedSrc.src)+(e.message?"\nOriginal error: ".concat(e.message):""),t)})).then(t.onLoad):t.onLoad()},image.onerror=this.onError,this.hasError=!1,this.sizes&&(image.sizes=this.sizes),this.normalisedSrc.srcset&&(image.srcset=this.normalisedSrc.srcset),image.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(image),this.getSrc()},pollForSize:function(img){var t=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=function n(){var r=img.naturalHeight,o=img.naturalWidth;r||o?(t.naturalWidth=o,t.calculatedAspectRatio=o/r):img.complete||!t.isLoading||t.hasError||null==e||setTimeout(n,e)};n()},genContent:function(){var content=h.options.methods.genContent.call(this);return this.naturalWidth&&this._b(content.data,"div",{style:{width:"".concat(this.naturalWidth,"px")}}),content},__genPlaceholder:function(){if(this.$slots.placeholder){var t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},t):t[0]}}},render:function(t){var e=h.options.render.call(this,t),data=Object(m.a)(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:v?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,data,e.children)}})},function(t,e,n){"use strict";n(57),n(5),n(11),n(66),n(12),n(53),n(61),n(50),n(36),n(64),n(54),n(25),n(10),n(65),n(74),n(55);var r=n(0);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){h=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(h)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var c=window.requestIdleCallback||function(t){var e=Date.now();return setTimeout((function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})}),1)},h=window.cancelIdleCallback||function(t){clearTimeout(t)},d=window.IntersectionObserver&&new window.IntersectionObserver((function(t){t.forEach((function(t){var e=t.intersectionRatio,link=t.target;e<=0||!link.__prefetch||link.__prefetch()}))}));e.a={name:"NuxtLink",extends:r.a.component("RouterLink"),props:{prefetch:{type:Boolean,default:!0},noPrefetch:{type:Boolean,default:!1}},mounted:function(){this.prefetch&&!this.noPrefetch&&(this.handleId=c(this.observe,{timeout:2e3}))},beforeDestroy:function(){h(this.handleId),this.__observed&&(d.unobserve(this.$el),delete this.$el.__prefetch)},methods:{observe:function(){d&&this.shouldPrefetch()&&(this.$el.__prefetch=this.prefetchLink.bind(this),d.observe(this.$el),this.__observed=!0)},shouldPrefetch:function(){var t=this.$router.resolve(this.to,this.$route,this.append);return t.resolved.matched.map((function(t){return t.components.default})).filter((function(e){return t.href||"function"==typeof e&&!e.options&&!e.__prefetched})).length},canPrefetch:function(){var t=navigator.connection;return!(this.$nuxt.isOffline||t&&((t.effectiveType||"").includes("2g")||t.saveData))},getPrefetchComponents:function(){return this.$router.resolve(this.to,this.$route,this.append).resolved.matched.map((function(t){return t.components.default})).filter((function(t){return"function"==typeof t&&!t.options&&!t.__prefetched}))},prefetchLink:function(){if(this.canPrefetch()){d.unobserve(this.$el);var t,e=o(this.getPrefetchComponents());try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n();r instanceof Promise&&r.catch((function(){})),n.__prefetched=!0}}catch(t){e.e(t)}finally{e.f()}if(!this.$root.isPreview){var l=this.$router.resolve(this.to,this.$route,this.append).href;this.$nuxt&&this.$nuxt.fetchPayload(l,!0).catch((function(){}))}}}}}},,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(13),n(10),n(12),n(15),n(11),n(16);var r,o=n(2),l=(n(248),n(5),n(53),n(61),n(25),n(28),n(67),n(183),n(50),n(357),n(103)),c=n(37),h=n(157),d=n(39),m=n(1),f=n(0),v=n(9);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}!function(t){t.xSmall="12px",t.small="16px",t.default="24px",t.medium="28px",t.large="36px",t.xLarge="40px"}(r||(r={}));var y=Object(v.a)(l.a,c.a,h.a,d.a).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium:function(){return!1},hasClickListener:function(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon:function(){var t="";return this.$slots.default&&(t=this.$slots.default[0].text.trim()),Object(m.s)(this,t)},getSize:function(){var t={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},e=Object(m.p)(t).find((function(e){return t[e]}));return e&&r[e]||Object(m.g)(this.size)},getDefaultData:function(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:_({"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0},this.attrs$),on:this.listeners$}},getSvgWrapperData:function(){var t=this.getSize(),e=_(_({},this.getDefaultData()),{},{style:t?{fontSize:t,height:t,width:t}:void 0});return this.applyColors(e),e},applyColors:function(data){data.class=_(_({},data.class),this.themeClasses),this.setTextColor(this.color,data)},renderFontIcon:function(t,e){var n=[],data=this.getDefaultData(),r="material-icons",o=t.indexOf("-"),l=o<=-1;l?n.push(t):function(t){return["fas","far","fal","fab","fad","fak"].some((function(e){return t.includes(e)}))}(r=t.slice(0,o))&&(r=""),data.class[r]=!0,data.class[t]=!l;var c=this.getSize();return c&&(data.style={fontSize:c}),this.applyColors(data),e(this.hasClickListener?"button":this.tag,data,n)},renderSvgIcon:function(t,e){var n={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},r=this.getSize();return r&&(n.style={fontSize:r,height:r,width:r}),e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e("svg",n,[e("path",{attrs:{d:t}})])])},renderSvgIconComponent:function(t,e){var data={class:{"v-icon__component":!0}},n=this.getSize();n&&(data.style={fontSize:n,height:n,width:n}),this.applyColors(data);var component=t.component;return data.props=t.props,data.nativeOn=data.on,e(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[e(component,data)])}},render:function(t){var e=this.getIcon();return"string"==typeof e?function(t){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&&/[\dz]$/i.test(t)&&t.length>4}(e)?this.renderSvgIcon(e,t):this.renderFontIcon(e,t):this.renderSvgIconComponent(e,t)}});e.a=f.a.extend({name:"v-icon",$_wrapperFor:y,functional:!0,render:function(t,e){var data=e.data,n=e.children,r="";return data.domProps&&(r=data.domProps.textContent||data.domProps.innerHTML||r,delete data.domProps.textContent,delete data.domProps.innerHTML),t(y,data,r?[r]:n)}})},function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16),n(50),n(36),n(64),n(54),n(25),n(65),n(74),n(55);var r=n(2),o=(n(198),n(199),n(250),n(182),n(363),n(48));function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){h=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(h)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=o.a.extend().extend({name:"v-list",provide:function(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,subheader:Boolean,threeLine:Boolean,twoLine:Boolean},data:function(){return{groups:[]}},computed:{classes:function(){return d(d({},o.a.options.computed.classes.call(this)),{},{"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine})}},methods:{register:function(content){this.groups.push(content)},unregister:function(content){var t=this.groups.findIndex((function(g){return g._uid===content._uid}));t>-1&&this.groups.splice(t,1)},listClick:function(t){if(!this.expand){var e,n=l(this.groups);try{for(n.s();!(e=n.n()).done;){e.value.toggle(t)}}catch(t){n.e(t)}finally{n.f()}}}},render:function(t){var data={staticClass:"v-list",class:this.classes,style:this.styles,attrs:d({role:this.isInNav||this.isInMenu?void 0:"list"},this.attrs$)};return t(this.tag,this.setBackgroundColor(this.color,data),[this.$slots.default])}})},function(t,e,n){"use strict";n(12),n(5);var r=n(0);e.a=r.a.extend({name:"v-list-item-action",functional:!0,render:function(t,e){var data=e.data,n=e.children,r=void 0===n?[]:n;return data.staticClass=data.staticClass?"v-list-item__action ".concat(data.staticClass):"v-list-item__action",r.filter((function(t){return!1===t.isComment&&" "!==t.text})).length>1&&(data.staticClass+=" v-list-item__action--stack"),t("div",data,r)}})},function(t,e,n){"use strict";e.a={}},function(t,e,n){"use strict";var r={name:"ClientOnly",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var n=e.parent,r=e.slots,o=e.props,l=r(),c=l.default;void 0===c&&(c=[]);var h=l.placeholder;return n._isMounted?c:(n.$once("hook:mounted",(function(){n.$forceUpdate()})),o.placeholderTag&&(o.placeholder||h)?t(o.placeholderTag,{class:["client-only-placeholder"]},o.placeholder||h):c.length>0?c.map((function(){return t(!1)})):t(!1))}};t.exports=r},,,function(t,e,n){!function(t){"use strict";var e=function(t,b){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])},e(t,b)};function n(t,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function n(){this.constructor=t}e(t,b),t.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}function r(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function c(t){try{d(r.next(t))}catch(t){l(t)}}function h(t){try{d(r.throw(t))}catch(t){l(t)}}function d(t){t.done?n(t.value):o(t.value).then(c,h)}d((r=r.apply(t,e||[])).next())}))}function o(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(t){return function(e){return c([t,e])}}function c(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}const l="140",c={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},h={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},d=0,m=1,f=2,v=1,x=2,_=3,y=0,S=1,w=2,M=1,E=0,R=1,A=2,T=3,P=4,C=5,I=100,L=101,N=102,D=103,O=104,k=200,G=201,B=202,F=203,V=204,z=205,U=206,H=207,X=208,W=209,j=210,Y=0,$=1,K=2,Q=3,Z=4,J=5,tt=6,et=7,nt=0,it=1,at=2,ot=0,st=1,lt=2,pt=3,ct=4,ut=5,ht=300,mt=301,ft=302,gt=303,vt=304,xt=306,_t=1e3,yt=1001,bt=1002,St=1003,wt=1004,Mt=1005,Et=1006,Rt=1007,At=1008,Tt=1009,Pt=1010,Ct=1011,It=1012,Lt=1013,Nt=1014,Dt=1015,Ot=1016,kt=1017,Gt=1018,Bt=1020,Ft=1021,Vt=1022,zt=1023,Ut=1024,Ht=1025,Xt=1026,Wt=1027,jt=1028,qt=1029,Yt=1030,$t=1031,Kt=1033,Qt=33776,Zt=33777,Jt=33778,te=33779,ee=35840,ne=35841,ie=35842,re=35843,ae=36196,oe=37492,se=37496,le=37808,pe=37809,ce=37810,ue=37811,he=37812,de=37813,me=37814,fe=37815,ge=37816,ve=37817,xe=37818,_e=37819,ye=37820,be=37821,Se=36492,we=2200,Me=2201,Ee=2202,Re=2300,Ae=2301,Te=2302,Pe=2400,Ce=2401,Ie=2402,Le=2500,Ne=2501,De=0,Oe=1,ke=2,Ge=3e3,Be=3001,Fe=3200,Ve=3201,ze=0,Ue=1,He="srgb",Xe="srgb-linear",We=7680,je=519,qe=35044,Ye=35048,$e="300 es",Ke=1035;class Qe{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let i=0,e=n.length;i<e;i++)n[i].call(this,t);t.target=null}}}const Ze=[];for(let i=0;i<256;i++)Ze[i]=(i<16?"0":"")+i.toString(16);let Je=1234567;const tn=Math.PI/180,en=180/Math.PI;function nn(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Ze[255&t]+Ze[t>>8&255]+Ze[t>>16&255]+Ze[t>>24&255]+"-"+Ze[255&e]+Ze[e>>8&255]+"-"+Ze[e>>16&15|64]+Ze[e>>24&255]+"-"+Ze[63&n|128]+Ze[n>>8&255]+"-"+Ze[n>>16&255]+Ze[n>>24&255]+Ze[255&r]+Ze[r>>8&255]+Ze[r>>16&255]+Ze[r>>24&255]).toLowerCase()}function rn(t,e,n){return Math.max(e,Math.min(n,t))}function an(t,e){return(t%e+e)%e}function on(t,e,n,r,o){return r+(t-e)*(o-r)/(n-e)}function sn(t,e,n){return t!==e?(n-t)/(e-t):0}function ln(t,e,n){return(1-n)*t+n*e}function pn(t,e,n,dt){return ln(t,e,1-Math.exp(-n*dt))}function cn(t,e=1){return e-Math.abs(an(t,2*e)-e)}function un(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)}function hn(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)}function dn(t,e){return t+Math.floor(Math.random()*(e-t+1))}function mn(t,e){return t+Math.random()*(e-t)}function fn(t){return t*(.5-Math.random())}function gn(s){void 0!==s&&(Je=s);let t=Je+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}function vn(t){return t*tn}function xn(t){return t*en}function _n(t){return 0==(t&t-1)&&0!==t}function yn(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function bn(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Sn(q,a,b,t,e){const n=Math.cos,r=Math.sin,o=n(b/2),l=r(b/2),c=n((a+t)/2),h=r((a+t)/2),d=n((a-t)/2),m=r((a-t)/2),f=n((t-a)/2),v=r((t-a)/2);switch(e){case"XYX":q.set(o*h,l*d,l*m,o*c);break;case"YZY":q.set(l*m,o*h,l*d,o*c);break;case"ZXZ":q.set(l*d,l*m,o*h,o*c);break;case"XZX":q.set(o*h,l*v,l*f,o*c);break;case"YXY":q.set(l*f,o*h,l*v,o*c);break;case"ZYZ":q.set(l*v,l*f,o*h,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}function wn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Mn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}var En=Object.freeze({__proto__:null,DEG2RAD:tn,RAD2DEG:en,generateUUID:nn,clamp:rn,euclideanModulo:an,mapLinear:on,inverseLerp:sn,lerp:ln,damp:pn,pingpong:cn,smoothstep:un,smootherstep:hn,randInt:dn,randFloat:mn,randFloatSpread:fn,seededRandom:gn,degToRad:vn,radToDeg:xn,isPowerOfTwo:_n,ceilPowerOfTwo:yn,floorPowerOfTwo:bn,setQuaternionFromProperEuler:Sn,normalize:Mn,denormalize:wn});class Rn{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(s){return this.x+=s,this.y+=s,this}addVectors(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(s){return this.x-=s,this.y-=s,this}subVectors(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*s+t.x,this.y=r*s+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Rn.prototype.isVector2=!0;class An{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,o,l,c,h,d){const m=this.elements;return m[0]=t,m[1]=r,m[2]=c,m[3]=e,m[4]=o,m[5]=h,m[6]=n,m[7]=l,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(a,b){const t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[3],l=t[6],c=t[1],h=t[4],d=t[7],m=t[2],f=t[5],v=t[8],x=e[0],_=e[3],y=e[6],S=e[1],w=e[4],M=e[7],E=e[2],R=e[5],A=e[8];return n[0]=r*x+o*S+l*E,n[3]=r*_+o*w+l*R,n[6]=r*y+o*M+l*A,n[1]=c*x+h*S+d*E,n[4]=c*_+h*w+d*R,n[7]=c*y+h*M+d*A,n[2]=m*x+f*S+v*E,n[5]=m*_+f*w+v*R,n[8]=m*y+f*M+v*A,this}multiplyScalar(s){const t=this.elements;return t[0]*=s,t[3]*=s,t[6]*=s,t[1]*=s,t[4]*=s,t[7]*=s,t[2]*=s,t[5]*=s,t[8]*=s,this}determinant(){const t=this.elements,a=t[0],b=t[1],e=t[2],n=t[3],r=t[4],o=t[5],g=t[6],l=t[7],i=t[8];return a*r*i-a*o*l-b*n*i+b*o*g+e*n*l-e*r*g}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],l=t[4],c=t[5],h=t[6],d=t[7],m=t[8],f=m*l-c*d,v=c*h-m*o,x=d*o-l*h,_=e*f+n*v+r*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0);const y=1/_;return t[0]=f*y,t[1]=(r*d-m*n)*y,t[2]=(c*n-r*l)*y,t[3]=v*y,t[4]=(m*e-r*h)*y,t[5]=(r*o-c*e)*y,t[6]=x*y,t[7]=(n*h-d*e)*y,t[8]=(l*e-n*o)*y,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,o,l,c){const h=Math.cos(o),s=Math.sin(o);return this.set(n*h,n*s,-n*(h*l+s*c)+l+t,-r*s,r*h,-r*(-s*l+h*c)+c+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),s=Math.sin(t),n=this.elements,r=n[0],o=n[3],l=n[6],c=n[1],h=n[4],d=n[7];return n[0]=e*r+s*c,n[3]=e*o+s*h,n[6]=e*l+s*d,n[1]=-s*r+e*c,n[4]=-s*o+e*h,n[7]=-s*l+e*d,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function Tn(t){for(let i=t.length-1;i>=0;--i)if(t[i]>65535)return!0;return!1}function Pn(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Cn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function In(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}An.prototype.isMatrix3=!0;const Ln={[He]:{[Xe]:Cn},[Xe]:{[He]:In}},Nn={legacyMode:!0,get workingColorSpace(){return Xe},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(Ln[e]&&void 0!==Ln[e][n]){const r=Ln[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},Dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},On={r:0,g:0,b:0},kn={h:0,s:0,l:0},Gn={h:0,s:0,l:0};function Bn(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+6*(q-p)*(2/3-t):p}function Fn(source,t){return t.r=source.r,t.g=source.g,t.b=source.b,t}class Vn{constructor(t,g,b){return void 0===g&&void 0===b?this.set(t):this.setRGB(t,g,b)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=He){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Nn.toWorkingColorSpace(this,e),this}setRGB(t,g,b,e=Xe){return this.r=t,this.g=g,this.b=b,Nn.toWorkingColorSpace(this,e),this}setHSL(t,s,e,n=Xe){if(t=an(t,1),s=rn(s,0,1),e=rn(e,0,1),0===s)this.r=this.g=this.b=e;else{const p=e<=.5?e*(1+s):e+s-e*s,q=2*e-p;this.r=Bn(q,p,t+1/3),this.g=Bn(q,p,t),this.b=Bn(q,p,t-1/3)}return Nn.toWorkingColorSpace(this,n),this}setStyle(style,t=He){function e(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+style+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(style)){let r;const o=n[1],l=n[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Nn.toWorkingColorSpace(this,t),e(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Nn.toWorkingColorSpace(this,t),e(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const n=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100;return e(r[4]),this.setHSL(n,s,o,t)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(style)){const e=n[1],r=e.length;if(3===r)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,Nn.toWorkingColorSpace(this,t),this;if(6===r)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,Nn.toWorkingColorSpace(this,t),this}return style&&style.length>0?this.setColorName(style,t):this}setColorName(style,t=He){const e=Dn[style.toLowerCase()];return void 0!==e?this.setHex(e,t):console.warn("THREE.Color: Unknown color "+style),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Cn(t.r),this.g=Cn(t.g),this.b=Cn(t.b),this}copyLinearToSRGB(t){return this.r=In(t.r),this.g=In(t.g),this.b=In(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=He){return Nn.fromWorkingColorSpace(Fn(this,On),t),rn(255*On.r,0,255)<<16^rn(255*On.g,0,255)<<8^rn(255*On.b,0,255)<<0}getHexString(t=He){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Xe){Nn.fromWorkingColorSpace(Fn(this,On),e);const n=On.r,g=On.g,b=On.b,r=Math.max(n,g,b),o=Math.min(n,g,b);let l,c;const h=(o+r)/2;if(o===r)l=0,c=0;else{const t=r-o;switch(c=h<=.5?t/(r+o):t/(2-r-o),r){case n:l=(g-b)/t+(g<b?6:0);break;case g:l=(b-n)/t+2;break;case b:l=(n-g)/t+4}l/=6}return t.h=l,t.s=c,t.l=h,t}getRGB(t,e=Xe){return Nn.fromWorkingColorSpace(Fn(this,On),e),t.r=On.r,t.g=On.g,t.b=On.b,t}getStyle(t=He){return Nn.fromWorkingColorSpace(Fn(this,On),t),t!==He?`color(${t} ${On.r} ${On.g} ${On.b})`:`rgb(${255*On.r|0},${255*On.g|0},${255*On.b|0})`}offsetHSL(t,s,e){return this.getHSL(kn),kn.h+=t,kn.s+=s,kn.l+=e,this.setHSL(kn.h,kn.s,kn.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(s){return this.r+=s,this.g+=s,this.b+=s,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(s){return this.r*=s,this.g*=s,this.b*=s,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(kn),t.getHSL(Gn);const n=ln(kn.h,Gn.h,e),s=ln(kn.s,Gn.s,e),r=ln(kn.l,Gn.l,e);return this.setHSL(n,s,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let zn;Vn.NAMES=Dn,Vn.prototype.isColor=!0,Vn.prototype.r=1,Vn.prototype.g=1,Vn.prototype.b=1;class Un{static getDataURL(image){if(/^data:/i.test(image.src))return image.src;if("undefined"==typeof HTMLCanvasElement)return image.src;let canvas;if(image instanceof HTMLCanvasElement)canvas=image;else{void 0===zn&&(zn=Pn("canvas")),zn.width=image.width,zn.height=image.height;const t=zn.getContext("2d");image instanceof ImageData?t.putImageData(image,0,0):t.drawImage(image,0,0,image.width,image.height),canvas=zn}return canvas.width>2048||canvas.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",image),canvas.toDataURL("image/jpeg",.6)):canvas.toDataURL("image/png")}static sRGBToLinear(image){if("undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap){const canvas=Pn("canvas");canvas.width=image.width,canvas.height=image.height;const t=canvas.getContext("2d");t.drawImage(image,0,0,image.width,image.height);const e=t.getImageData(0,0,image.width,image.height),data=e.data;for(let i=0;i<data.length;i++)data[i]=255*Cn(data[i]/255);return t.putImageData(e,0,0),canvas}if(image.data){const data=image.data.slice(0);for(let i=0;i<data.length;i++)data instanceof Uint8Array||data instanceof Uint8ClampedArray?data[i]=Math.floor(255*Cn(data[i]/255)):data[i]=Cn(data[i]);return{data:data,width:image.width,height:image.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),image}}class Hn{constructor(data=null){this.uuid=nn(),this.data=data,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(meta){const t=void 0===meta||"string"==typeof meta;if(!t&&void 0!==meta.images[this.uuid])return meta.images[this.uuid];const output={uuid:this.uuid,url:""},data=this.data;if(null!==data){let t;if(Array.isArray(data)){t=[];for(let i=0,e=data.length;i<e;i++)data[i].isDataTexture?t.push(Xn(data[i].image)):t.push(Xn(data[i]))}else t=Xn(data);output.url=t}return t||(meta.images[this.uuid]=output),output}}function Xn(image){return"undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap?Un.getDataURL(image):image.data?{data:Array.prototype.slice.call(image.data),width:image.width,height:image.height,type:image.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Hn.prototype.isSource=!0;let Wn=0;class jn extends Qe{constructor(image=jn.DEFAULT_IMAGE,t=jn.DEFAULT_MAPPING,e=yt,n=yt,r=Et,o=At,l=zt,c=Tt,h=1,d=Ge){super(),Object.defineProperty(this,"id",{value:Wn++}),this.uuid=nn(),this.name="",this.source=new Hn(image),this.mipmaps=[],this.mapping=t,this.wrapS=e,this.wrapT=n,this.magFilter=r,this.minFilter=o,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Rn(0,0),this.repeat=new Rn(1,1),this.center=new Rn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new An,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(source){return this.name=source.name,this.source=source.source,this.mipmaps=source.mipmaps.slice(0),this.mapping=source.mapping,this.wrapS=source.wrapS,this.wrapT=source.wrapT,this.magFilter=source.magFilter,this.minFilter=source.minFilter,this.anisotropy=source.anisotropy,this.format=source.format,this.internalFormat=source.internalFormat,this.type=source.type,this.offset.copy(source.offset),this.repeat.copy(source.repeat),this.center.copy(source.center),this.rotation=source.rotation,this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrix.copy(source.matrix),this.generateMipmaps=source.generateMipmaps,this.premultiplyAlpha=source.premultiplyAlpha,this.flipY=source.flipY,this.unpackAlignment=source.unpackAlignment,this.encoding=source.encoding,this.userData=JSON.parse(JSON.stringify(source.userData)),this.needsUpdate=!0,this}toJSON(meta){const t=void 0===meta||"string"==typeof meta;if(!t&&void 0!==meta.textures[this.uuid])return meta.textures[this.uuid];const output={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(meta).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(output.userData=this.userData),t||(meta.textures[this.uuid]=output),output}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==ht)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case _t:t.x=t.x-Math.floor(t.x);break;case yt:t.x=t.x<0?0:1;break;case bt:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case _t:t.y=t.y-Math.floor(t.y);break;case yt:t.y=t.y<0?0:1;break;case bt:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}jn.DEFAULT_IMAGE=null,jn.DEFAULT_MAPPING=ht,jn.prototype.isTexture=!0;class qn{constructor(t=0,e=0,n=0,r=1){this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this}addVectors(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this.w=a.w+b.w,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this.w+=t.w*s,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this}subVectors(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this.w=a.w-b.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*e+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*e+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*e+l[7]*n+l[11]*r+l[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(q){this.w=2*Math.acos(q.w);const s=Math.sqrt(1-q.w*q.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=q.x/s,this.y=q.y/s,this.z=q.z/s),this}setAxisAngleFromRotationMatrix(t){let e,n,r,o;const l=.01,c=.1,h=t.elements,d=h[0],m=h[4],f=h[8],v=h[1],x=h[5],_=h[9],y=h[2],S=h[6],w=h[10];if(Math.abs(m-v)<l&&Math.abs(f-y)<l&&Math.abs(_-S)<l){if(Math.abs(m+v)<c&&Math.abs(f+y)<c&&Math.abs(_+S)<c&&Math.abs(d+x+w-3)<c)return this.set(1,0,0,0),this;e=Math.PI;const t=(d+1)/2,h=(x+1)/2,M=(w+1)/2,E=(m+v)/4,R=(f+y)/4,A=(_+S)/4;return t>h&&t>M?t<l?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(t),r=E/n,o=R/n):h>M?h<l?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(h),n=E/r,o=A/r):M<l?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(M),n=R/o,r=A/o),this.set(n,r,o,e),this}let s=Math.sqrt((S-_)*(S-_)+(f-y)*(f-y)+(v-m)*(v-m));return Math.abs(s)<.001&&(s=1),this.x=(S-_)/s,this.y=(f-y)/s,this.z=(v-m)/s,this.w=Math.acos((d+x+w-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}qn.prototype.isVector4=!0;class Yn extends Qe{constructor(t,e,n={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new qn(0,0,t,e),this.scissorTest=!1,this.viewport=new qn(0,0,t,e);const image={width:t,height:e,depth:1};this.texture=new jn(image,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Et,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(t,e,n=1){this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(source){this.width=source.width,this.height=source.height,this.depth=source.depth,this.viewport.copy(source.viewport),this.texture=source.texture.clone(),this.texture.isRenderTargetTexture=!0;const image=Object.assign({},source.texture.image);return this.texture.source=new Hn(image),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,null!==source.depthTexture&&(this.depthTexture=source.depthTexture.clone()),this.samples=source.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Yn.prototype.isWebGLRenderTarget=!0;class $n extends jn{constructor(data=null,t=1,e=1,n=1){super(null),this.image={data:data,width:t,height:e,depth:n},this.magFilter=St,this.minFilter=St,this.wrapR=yt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}$n.prototype.isDataArrayTexture=!0;class Kn extends Yn{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new $n(null,t,e,n),this.texture.isRenderTargetTexture=!0}}Kn.prototype.isWebGLArrayRenderTarget=!0;class Qn extends jn{constructor(data=null,t=1,e=1,n=1){super(null),this.image={data:data,width:t,height:e,depth:n},this.magFilter=St,this.minFilter=St,this.wrapR=yt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Qn.prototype.isData3DTexture=!0;class Zn extends Yn{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new Qn(null,t,e,n),this.texture.isRenderTargetTexture=!0}}Zn.prototype.isWebGL3DRenderTarget=!0;class Jn extends Yn{constructor(t,e,n,r={}){super(t,e,r);const o=this.texture;this.texture=[];for(let i=0;i<n;i++)this.texture[i]=o.clone(),this.texture[i].isRenderTargetTexture=!0}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=t,this.texture[i].image.height=e,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(source){this.dispose(),this.width=source.width,this.height=source.height,this.depth=source.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,null!==source.depthTexture&&(this.depthTexture=source.depthTexture.clone()),this.texture.length=0;for(let i=0,t=source.texture.length;i<t;i++)this.texture[i]=source.texture[i].clone(),this.texture[i].isRenderTargetTexture=!0;return this}}Jn.prototype.isWebGLMultipleRenderTargets=!0;class ti{constructor(t=0,e=0,n=0,r=1){this._x=t,this._y=e,this._z=n,this._w=r}static slerp(t,e,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,r)}static slerpFlat(t,e,n,r,o,l,c){let h=n[r+0],d=n[r+1],m=n[r+2],f=n[r+3];const v=o[l+0],x=o[l+1],_=o[l+2],y=o[l+3];if(0===c)return t[e+0]=h,t[e+1]=d,t[e+2]=m,void(t[e+3]=f);if(1===c)return t[e+0]=v,t[e+1]=x,t[e+2]=_,void(t[e+3]=y);if(f!==y||h!==v||d!==x||m!==_){let s=1-c;const t=h*v+d*x+m*_+f*y,e=t>=0?1:-1,n=1-t*t;if(n>Number.EPSILON){const r=Math.sqrt(n),o=Math.atan2(r,t*e);s=Math.sin(s*o)/r,c=Math.sin(c*o)/r}const r=c*e;if(h=h*s+v*r,d=d*s+x*r,m=m*s+_*r,f=f*s+y*r,s===1-c){const t=1/Math.sqrt(h*h+d*d+m*m+f*f);h*=t,d*=t,m*=t,f*=t}}t[e]=h,t[e+1]=d,t[e+2]=m,t[e+3]=f}static multiplyQuaternionsFlat(t,e,n,r,o,l){const c=n[r],h=n[r+1],d=n[r+2],m=n[r+3],f=o[l],v=o[l+1],x=o[l+2],_=o[l+3];return t[e]=c*_+m*f+h*x-d*v,t[e+1]=h*_+m*v+d*f-c*x,t[e+2]=d*_+m*x+c*v-h*f,t[e+3]=m*_-c*f-h*v-d*x,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,r=t._y,o=t._z,l=t._order,c=Math.cos,h=Math.sin,d=c(n/2),m=c(r/2),f=c(o/2),v=h(n/2),x=h(r/2),_=h(o/2);switch(l){case"XYZ":this._x=v*m*f+d*x*_,this._y=d*x*f-v*m*_,this._z=d*m*_+v*x*f,this._w=d*m*f-v*x*_;break;case"YXZ":this._x=v*m*f+d*x*_,this._y=d*x*f-v*m*_,this._z=d*m*_-v*x*f,this._w=d*m*f+v*x*_;break;case"ZXY":this._x=v*m*f-d*x*_,this._y=d*x*f+v*m*_,this._z=d*m*_+v*x*f,this._w=d*m*f-v*x*_;break;case"ZYX":this._x=v*m*f-d*x*_,this._y=d*x*f+v*m*_,this._z=d*m*_-v*x*f,this._w=d*m*f+v*x*_;break;case"YZX":this._x=v*m*f+d*x*_,this._y=d*x*f+v*m*_,this._z=d*m*_-v*x*f,this._w=d*m*f-v*x*_;break;case"XZY":this._x=v*m*f-d*x*_,this._y=d*x*f-v*m*_,this._z=d*m*_+v*x*f,this._w=d*m*f+v*x*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,s=Math.sin(n);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],o=e[8],l=e[1],c=e[5],h=e[9],d=e[2],m=e[6],f=e[10],v=n+c+f;if(v>0){const s=.5/Math.sqrt(v+1);this._w=.25/s,this._x=(m-h)*s,this._y=(o-d)*s,this._z=(l-r)*s}else if(n>c&&n>f){const s=2*Math.sqrt(1+n-c-f);this._w=(m-h)/s,this._x=.25*s,this._y=(r+l)/s,this._z=(o+d)/s}else if(c>f){const s=2*Math.sqrt(1+c-n-f);this._w=(o-d)/s,this._x=(r+l)/s,this._y=.25*s,this._z=(h+m)/s}else{const s=2*Math.sqrt(1+f-n-c);this._w=(l-r)/s,this._x=(o+d)/s,this._y=(h+m)/s,this._z=.25*s}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(q){return 2*Math.acos(Math.abs(rn(this.dot(q),-1,1)))}rotateTowards(q,t){const e=this.angleTo(q);if(0===e)return this;const n=Math.min(1,t/e);return this.slerp(q,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(q,p){return void 0!==p?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(q,p)):this.multiplyQuaternions(this,q)}premultiply(q){return this.multiplyQuaternions(q,this)}multiplyQuaternions(a,b){const t=a._x,e=a._y,n=a._z,r=a._w,o=b._x,l=b._y,c=b._z,h=b._w;return this._x=t*h+r*o+e*c-n*l,this._y=e*h+r*l+n*o-t*c,this._z=n*h+r*c+t*l-e*o,this._w=r*h-t*o-e*l-n*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,o=this._z,l=this._w;let c=l*t._w+n*t._x+r*t._y+o*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;const h=1-c*c;if(h<=Number.EPSILON){const s=1-e;return this._w=s*l+e*this._w,this._x=s*n+e*this._x,this._y=s*r+e*this._y,this._z=s*o+e*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(h),m=Math.atan2(d,c),f=Math.sin((1-e)*m)/d,v=Math.sin(e*m)/d;return this._w=l*f+this._w*v,this._x=n*f+this._x*v,this._y=r*f+this._y*v,this._z=o*f+this._z*v,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(o),n*Math.cos(o),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}ti.prototype.isQuaternion=!0;class ei{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this}addVectors(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this}subVectors(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ii.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(ii.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*n+o[6]*r,this.y=o[1]*e+o[4]*n+o[7]*r,this.z=o[2]*e+o[5]*n+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,o=t.elements,l=1/(o[3]*e+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*e+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*e+o[6]*n+o[10]*r+o[14])*l,this}applyQuaternion(q){const t=this.x,e=this.y,n=this.z,r=q.x,o=q.y,l=q.z,c=q.w,h=c*t+o*n-l*e,d=c*e+l*t-r*n,m=c*n+r*e-o*t,f=-r*t-o*e-l*n;return this.x=h*c+f*-r+d*-l-m*-o,this.y=d*c+f*-o+m*-r-h*-l,this.z=m*c+f*-l+h*-o-d*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r,this.y=o[1]*e+o[5]*n+o[9]*r,this.z=o[2]*e+o[6]*n+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(a,b){const t=a.x,e=a.y,n=a.z,r=b.x,o=b.y,l=b.z;return this.x=e*l-n*o,this.y=n*r-t*l,this.z=t*o-e*r,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return ni.copy(this).projectOnVector(t),this.sub(ni)}reflect(t){return this.sub(ni.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(rn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const u=2*(Math.random()-.5),t=Math.random()*Math.PI*2,e=Math.sqrt(1-u**2);return this.x=e*Math.cos(t),this.y=e*Math.sin(t),this.z=u,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}ei.prototype.isVector3=!0;const ni=new ei,ii=new ti;class ri{constructor(t=new ei(1/0,1/0,1/0),e=new ei(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0;for(let i=0,h=t.length;i<h;i+=3){const h=t[i],d=t[i+1],m=t[i+2];h<e&&(e=h),d<n&&(n=d),m<r&&(r=m),h>o&&(o=h),d>l&&(l=d),m>c&&(c=m)}return this.min.set(e,n,r),this.max.set(o,l,c),this}setFromBufferAttribute(t){let e=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0;for(let i=0,h=t.count;i<h;i++){const h=t.getX(i),d=t.getY(i),m=t.getZ(i);h<e&&(e=h),d<n&&(n=d),m<r&&(r=m),h>o&&(o=h),d>l&&(l=d),m>c&&(c=m)}return this.min.set(e,n,r),this.max.set(o,l,c),this}setFromPoints(t){this.makeEmpty();for(let i=0,e=t.length;i<e;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,e){const n=oi.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(object,t=!1){return this.makeEmpty(),this.expandByObject(object,t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(object,t=!1){object.updateWorldMatrix(!1,!1);const e=object.geometry;if(void 0!==e)if(t&&null!=e.attributes&&void 0!==e.attributes.position){const t=e.attributes.position;for(let i=0,e=t.count;i<e;i++)oi.fromBufferAttribute(t,i).applyMatrix4(object.matrixWorld),this.expandByPoint(oi)}else null===e.boundingBox&&e.computeBoundingBox(),si.copy(e.boundingBox),si.applyMatrix4(object.matrixWorld),this.union(si);const n=object.children;for(let i=0,e=n.length;i<e;i++)this.expandByObject(n[i],t);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,oi),oi.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(fi),gi.subVectors(this.max,fi),pi.subVectors(t.a,fi),ci.subVectors(t.b,fi),ui.subVectors(t.c,fi),hi.subVectors(ci,pi),di.subVectors(ui,ci),mi.subVectors(pi,ui);let e=[0,-hi.z,hi.y,0,-di.z,di.y,0,-mi.z,mi.y,hi.z,0,-hi.x,di.z,0,-di.x,mi.z,0,-mi.x,-hi.y,hi.x,0,-di.y,di.x,0,-mi.y,mi.x,0];return!!_i(e,pi,ci,ui,gi)&&(e=[1,0,0,0,1,0,0,0,1],!!_i(e,pi,ci,ui,gi)&&(vi.crossVectors(hi,di),e=[vi.x,vi.y,vi.z],_i(e,pi,ci,ui,gi)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return oi.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(oi).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(ai[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ai[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ai[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ai[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ai[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ai[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ai[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ai[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ai)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}ri.prototype.isBox3=!0;const ai=[new ei,new ei,new ei,new ei,new ei,new ei,new ei,new ei],oi=new ei,si=new ri,pi=new ei,ci=new ei,ui=new ei,hi=new ei,di=new ei,mi=new ei,fi=new ei,gi=new ei,vi=new ei,xi=new ei;function _i(t,e,n,r,o){for(let i=0,l=t.length-3;i<=l;i+=3){xi.fromArray(t,i);const l=o.x*Math.abs(xi.x)+o.y*Math.abs(xi.y)+o.z*Math.abs(xi.z),c=e.dot(xi),h=n.dot(xi),d=r.dot(xi);if(Math.max(-Math.max(c,h,d),Math.min(c,h,d))>l)return!1}return!0}const yi=new ri,bi=new ei,Si=new ei,wi=new ei;class Mi{constructor(t=new ei,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):yi.setFromPoints(t).getCenter(n);let r=0;for(let i=0,e=t.length;i<e;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){wi.subVectors(t,this.center);const e=wi.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.add(wi.multiplyScalar(n/t)),this.radius+=n}return this}union(t){return!0===this.center.equals(t.center)?Si.set(0,0,1).multiplyScalar(t.radius):Si.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(bi.copy(t.center).add(Si)),this.expandByPoint(bi.copy(t.center).sub(Si)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ei=new ei,Ri=new ei,Ai=new ei,Ti=new ei,Pi=new ei,Ci=new ei,Ii=new ei;class Li{constructor(t=new ei,e=new ei(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ei)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ei.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Ei.copy(this.direction).multiplyScalar(e).add(this.origin),Ei.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){Ri.copy(t).add(e).multiplyScalar(.5),Ai.copy(e).sub(t).normalize(),Ti.copy(this.origin).sub(Ri);const o=.5*t.distanceTo(e),l=-this.direction.dot(Ai),c=Ti.dot(this.direction),h=-Ti.dot(Ai),d=Ti.lengthSq(),m=Math.abs(1-l*l);let f,v,x,_;if(m>0)if(f=l*h-c,v=l*c-h,_=o*m,f>=0)if(v>=-_)if(v<=_){const t=1/m;f*=t,v*=t,x=f*(f+l*v+2*c)+v*(l*f+v+2*h)+d}else v=o,f=Math.max(0,-(l*v+c)),x=-f*f+v*(v+2*h)+d;else v=-o,f=Math.max(0,-(l*v+c)),x=-f*f+v*(v+2*h)+d;else v<=-_?(f=Math.max(0,-(-l*o+c)),v=f>0?-o:Math.min(Math.max(-o,-h),o),x=-f*f+v*(v+2*h)+d):v<=_?(f=0,v=Math.min(Math.max(-o,-h),o),x=v*(v+2*h)+d):(f=Math.max(0,-(l*o+c)),v=f>0?o:Math.min(Math.max(-o,-h),o),x=-f*f+v*(v+2*h)+d);else v=l>0?-o:o,f=Math.max(0,-(l*v+c)),x=-f*f+v*(v+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(f).add(this.origin),r&&r.copy(Ai).multiplyScalar(v).add(Ri),x}intersectSphere(t,e){Ei.subVectors(t.center,this.origin);const n=Ei.dot(this.direction),r=Ei.dot(Ei)-n*n,o=t.radius*t.radius;if(r>o)return null;const l=Math.sqrt(o-r),c=n-l,h=n+l;return c<0&&h<0?null:c<0?this.at(h,e):this.at(c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,o,l,c,h;const d=1/this.direction.x,m=1/this.direction.y,f=1/this.direction.z,v=this.origin;return d>=0?(n=(t.min.x-v.x)*d,r=(t.max.x-v.x)*d):(n=(t.max.x-v.x)*d,r=(t.min.x-v.x)*d),m>=0?(o=(t.min.y-v.y)*m,l=(t.max.y-v.y)*m):(o=(t.max.y-v.y)*m,l=(t.min.y-v.y)*m),n>l||o>r?null:((o>n||n!=n)&&(n=o),(l<r||r!=r)&&(r=l),f>=0?(c=(t.min.z-v.z)*f,h=(t.max.z-v.z)*f):(c=(t.max.z-v.z)*f,h=(t.min.z-v.z)*f),n>h||c>r?null:((c>n||n!=n)&&(n=c),(h<r||r!=r)&&(r=h),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,Ei)}intersectTriangle(a,b,t,e,n){Pi.subVectors(b,a),Ci.subVectors(t,a),Ii.crossVectors(Pi,Ci);let r,o=this.direction.dot(Ii);if(o>0){if(e)return null;r=1}else{if(!(o<0))return null;r=-1,o=-o}Ti.subVectors(this.origin,a);const l=r*this.direction.dot(Ci.crossVectors(Ti,Ci));if(l<0)return null;const c=r*this.direction.dot(Pi.cross(Ti));if(c<0)return null;if(l+c>o)return null;const h=-r*Ti.dot(Ii);return h<0?null:this.at(h/o,n)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ni{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,o,l,c,h,d,m,f,v,x,_,y,S){const w=this.elements;return w[0]=t,w[4]=e,w[8]=n,w[12]=r,w[1]=o,w[5]=l,w[9]=c,w[13]=h,w[2]=d,w[6]=m,w[10]=f,w[14]=v,w[3]=x,w[7]=_,w[11]=y,w[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ni).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/Di.setFromMatrixColumn(t,0).length(),o=1/Di.setFromMatrixColumn(t,1).length(),l=1/Di.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=0,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,r=t.y,o=t.z,a=Math.cos(n),b=Math.sin(n),l=Math.cos(r),c=Math.sin(r),h=Math.cos(o),d=Math.sin(o);if("XYZ"===t.order){const t=a*h,n=a*d,r=b*h,o=b*d;e[0]=l*h,e[4]=-l*d,e[8]=c,e[1]=n+r*c,e[5]=t-o*c,e[9]=-b*l,e[2]=o-t*c,e[6]=r+n*c,e[10]=a*l}else if("YXZ"===t.order){const t=l*h,n=l*d,r=c*h,o=c*d;e[0]=t+o*b,e[4]=r*b-n,e[8]=a*c,e[1]=a*d,e[5]=a*h,e[9]=-b,e[2]=n*b-r,e[6]=o+t*b,e[10]=a*l}else if("ZXY"===t.order){const t=l*h,n=l*d,r=c*h,o=c*d;e[0]=t-o*b,e[4]=-a*d,e[8]=r+n*b,e[1]=n+r*b,e[5]=a*h,e[9]=o-t*b,e[2]=-a*c,e[6]=b,e[10]=a*l}else if("ZYX"===t.order){const t=a*h,n=a*d,r=b*h,o=b*d;e[0]=l*h,e[4]=r*c-n,e[8]=t*c+o,e[1]=l*d,e[5]=o*c+t,e[9]=n*c-r,e[2]=-c,e[6]=b*l,e[10]=a*l}else if("YZX"===t.order){const t=a*l,n=a*c,r=b*l,o=b*c;e[0]=l*h,e[4]=o-t*d,e[8]=r*d+n,e[1]=d,e[5]=a*h,e[9]=-b*h,e[2]=-c*h,e[6]=n*d+r,e[10]=t-o*d}else if("XZY"===t.order){const t=a*l,n=a*c,r=b*l,o=b*c;e[0]=l*h,e[4]=-d,e[8]=c*h,e[1]=t*d+o,e[5]=a*h,e[9]=n*d-r,e[2]=r*d-n,e[6]=b*h,e[10]=o*d+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(q){return this.compose(ki,q,Gi)}lookAt(t,e,n){const r=this.elements;return Vi.subVectors(t,e),0===Vi.lengthSq()&&(Vi.z=1),Vi.normalize(),Bi.crossVectors(n,Vi),0===Bi.lengthSq()&&(1===Math.abs(n.z)?Vi.x+=1e-4:Vi.z+=1e-4,Vi.normalize(),Bi.crossVectors(n,Vi)),Bi.normalize(),Fi.crossVectors(Vi,Bi),r[0]=Bi.x,r[4]=Fi.x,r[8]=Vi.x,r[1]=Bi.y,r[5]=Fi.y,r[9]=Vi.y,r[2]=Bi.z,r[6]=Fi.z,r[10]=Vi.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(a,b){const t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[4],l=t[8],c=t[12],h=t[1],d=t[5],m=t[9],f=t[13],v=t[2],x=t[6],_=t[10],y=t[14],S=t[3],w=t[7],M=t[11],E=t[15],R=e[0],A=e[4],T=e[8],P=e[12],C=e[1],I=e[5],L=e[9],N=e[13],D=e[2],O=e[6],k=e[10],G=e[14],B=e[3],F=e[7],V=e[11],z=e[15];return n[0]=r*R+o*C+l*D+c*B,n[4]=r*A+o*I+l*O+c*F,n[8]=r*T+o*L+l*k+c*V,n[12]=r*P+o*N+l*G+c*z,n[1]=h*R+d*C+m*D+f*B,n[5]=h*A+d*I+m*O+f*F,n[9]=h*T+d*L+m*k+f*V,n[13]=h*P+d*N+m*G+f*z,n[2]=v*R+x*C+_*D+y*B,n[6]=v*A+x*I+_*O+y*F,n[10]=v*T+x*L+_*k+y*V,n[14]=v*P+x*N+_*G+y*z,n[3]=S*R+w*C+M*D+E*B,n[7]=S*A+w*I+M*O+E*F,n[11]=S*T+w*L+M*k+E*V,n[15]=S*P+w*N+M*G+E*z,this}multiplyScalar(s){const t=this.elements;return t[0]*=s,t[4]*=s,t[8]*=s,t[12]*=s,t[1]*=s,t[5]*=s,t[9]*=s,t[13]*=s,t[2]*=s,t[6]*=s,t[10]*=s,t[14]*=s,t[3]*=s,t[7]*=s,t[11]*=s,t[15]*=s,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],o=t[12],l=t[1],c=t[5],h=t[9],d=t[13],m=t[2],f=t[6],v=t[10],x=t[14];return t[3]*(+o*h*f-r*d*f-o*c*v+n*d*v+r*c*x-n*h*x)+t[7]*(+e*h*x-e*d*v+o*l*v-r*l*x+r*d*m-o*h*m)+t[11]*(+e*d*f-e*c*x-o*l*f+n*l*x+o*c*m-n*d*m)+t[15]*(-r*c*m-e*h*f+e*c*v+r*l*f-n*l*v+n*h*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],l=t[4],c=t[5],h=t[6],d=t[7],m=t[8],f=t[9],v=t[10],x=t[11],_=t[12],y=t[13],S=t[14],w=t[15],M=f*S*d-y*v*d+y*h*x-c*S*x-f*h*w+c*v*w,E=_*v*d-m*S*d-_*h*x+l*S*x+m*h*w-l*v*w,R=m*y*d-_*f*d+_*c*x-l*y*x-m*c*w+l*f*w,A=_*f*h-m*y*h-_*c*v+l*y*v+m*c*S-l*f*S,T=e*M+n*E+r*R+o*A;if(0===T)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/T;return t[0]=M*P,t[1]=(y*v*o-f*S*o-y*r*x+n*S*x+f*r*w-n*v*w)*P,t[2]=(c*S*o-y*h*o+y*r*d-n*S*d-c*r*w+n*h*w)*P,t[3]=(f*h*o-c*v*o-f*r*d+n*v*d+c*r*x-n*h*x)*P,t[4]=E*P,t[5]=(m*S*o-_*v*o+_*r*x-e*S*x-m*r*w+e*v*w)*P,t[6]=(_*h*o-l*S*o-_*r*d+e*S*d+l*r*w-e*h*w)*P,t[7]=(l*v*o-m*h*o+m*r*d-e*v*d-l*r*x+e*h*x)*P,t[8]=R*P,t[9]=(_*f*o-m*y*o-_*n*x+e*y*x+m*n*w-e*f*w)*P,t[10]=(l*y*o-_*c*o+_*n*d-e*y*d-l*n*w+e*c*w)*P,t[11]=(m*c*o-l*f*o-m*n*d+e*f*d+l*n*x-e*c*x)*P,t[12]=A*P,t[13]=(m*y*r-_*f*r+_*n*v-e*y*v-m*n*S+e*f*S)*P,t[14]=(_*c*r-l*y*r-_*n*h+e*y*h+l*n*S-e*c*S)*P,t[15]=(l*f*r-m*c*r+m*n*h-e*f*h-l*n*v+e*c*v)*P,this}scale(t){const e=this.elements,n=t.x,r=t.y,o=t.z;return e[0]*=n,e[4]*=r,e[8]*=o,e[1]*=n,e[5]*=r,e[9]*=o,e[2]*=n,e[6]*=r,e[10]*=o,e[3]*=n,e[7]*=r,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),s=Math.sin(e),r=1-n,o=t.x,l=t.y,c=t.z,h=r*o,d=r*l;return this.set(h*o+n,h*l-s*c,h*c+s*l,0,h*l+s*c,d*l+n,d*c-s*o,0,h*c-s*l,d*c+s*o,r*c*c+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,o,l){return this.set(1,n,o,0,t,1,l,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,o=e._x,l=e._y,c=e._z,h=e._w,d=o+o,m=l+l,f=c+c,v=o*d,x=o*m,_=o*f,y=l*m,S=l*f,w=c*f,M=h*d,E=h*m,R=h*f,A=n.x,T=n.y,P=n.z;return r[0]=(1-(y+w))*A,r[1]=(x+R)*A,r[2]=(_-E)*A,r[3]=0,r[4]=(x-R)*T,r[5]=(1-(v+w))*T,r[6]=(S+M)*T,r[7]=0,r[8]=(_+E)*P,r[9]=(S-M)*P,r[10]=(1-(v+y))*P,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let o=Di.set(r[0],r[1],r[2]).length();const l=Di.set(r[4],r[5],r[6]).length(),c=Di.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],Oi.copy(this);const h=1/o,d=1/l,m=1/c;return Oi.elements[0]*=h,Oi.elements[1]*=h,Oi.elements[2]*=h,Oi.elements[4]*=d,Oi.elements[5]*=d,Oi.elements[6]*=d,Oi.elements[8]*=m,Oi.elements[9]*=m,Oi.elements[10]*=m,e.setFromRotationMatrix(Oi),n.x=o,n.y=l,n.z=c,this}makePerspective(t,e,n,r,o,l){void 0===l&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const c=this.elements,h=2*o/(e-t),d=2*o/(n-r),a=(e+t)/(e-t),b=(n+r)/(n-r),m=-(l+o)/(l-o),f=-2*l*o/(l-o);return c[0]=h,c[4]=0,c[8]=a,c[12]=0,c[1]=0,c[5]=d,c[9]=b,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=f,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,e,n,r,o,l){const c=this.elements,h=1/(e-t),d=1/(n-r),p=1/(l-o),m=(e+t)*h,f=(n+r)*d,v=(l+o)*p;return c[0]=2*h,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-f,c[2]=0,c[6]=0,c[10]=-2*p,c[14]=-v,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}Ni.prototype.isMatrix4=!0;const Di=new ei,Oi=new Ni,ki=new ei(0,0,0),Gi=new ei(1,1,1),Bi=new ei,Fi=new ei,Vi=new ei,zi=new Ni,Ui=new ti;class Hi{constructor(t=0,e=0,n=0,r=Hi.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const r=t.elements,o=r[0],l=r[4],c=r[8],h=r[1],d=r[5],m=r[9],f=r[2],v=r[6],x=r[10];switch(e){case"XYZ":this._y=Math.asin(rn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-rn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,x),this._z=Math.atan2(h,d)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(rn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-f,x),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(h,o));break;case"ZYX":this._y=Math.asin(-rn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(v,x),this._z=Math.atan2(h,o)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(rn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(c,x));break;case"XZY":this._z=Math.asin(-rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-m,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(q,t,e){return zi.makeRotationFromQuaternion(q),this.setFromRotationMatrix(zi,t,e)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Ui.setFromEuler(this),this.setFromQuaternion(Ui,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Hi.prototype.isEuler=!0,Hi.DefaultOrder="XYZ",Hi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Xi{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let Wi=0;const ji=new ei,qi=new ti,Yi=new Ni,$i=new ei,Ki=new ei,Qi=new ei,Zi=new ti,Ji=new ei(1,0,0),er=new ei(0,1,0),nr=new ei(0,0,1),ir={type:"added"},rr={type:"removed"};class ar extends Qe{constructor(){super(),Object.defineProperty(this,"id",{value:Wi++}),this.uuid=nn(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ar.DefaultUp.clone();const t=new ei,e=new Hi,n=new ti,r=new ei(1,1,1);function o(){n.setFromEuler(e,!1)}function l(){e.setFromQuaternion(n,void 0,!1)}e._onChange(o),n._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ni},normalMatrix:{value:new An}}),this.matrix=new Ni,this.matrixWorld=new Ni,this.matrixAutoUpdate=ar.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Xi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(q){return this.quaternion.premultiply(q),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(q){this.quaternion.copy(q)}rotateOnAxis(t,e){return qi.setFromAxisAngle(t,e),this.quaternion.multiply(qi),this}rotateOnWorldAxis(t,e){return qi.setFromAxisAngle(t,e),this.quaternion.premultiply(qi),this}rotateX(t){return this.rotateOnAxis(Ji,t)}rotateY(t){return this.rotateOnAxis(er,t)}rotateZ(t){return this.rotateOnAxis(nr,t)}translateOnAxis(t,e){return ji.copy(t).applyQuaternion(this.quaternion),this.position.add(ji.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Ji,t)}translateY(t){return this.translateOnAxis(er,t)}translateZ(t){return this.translateOnAxis(nr,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Yi.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?$i.copy(t):$i.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),Ki.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yi.lookAt(Ki,$i,this.up):Yi.lookAt($i,Ki,this.up),this.quaternion.setFromRotationMatrix(Yi),r&&(Yi.extractRotation(r.matrixWorld),qi.setFromRotationMatrix(Yi),this.quaternion.premultiply(qi.invert()))}add(object){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return object===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",object),this):(object&&object.isObject3D?(null!==object.parent&&object.parent.remove(object),object.parent=this,this.children.push(object),object.dispatchEvent(ir)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",object),this)}remove(object){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(object);return-1!==t&&(object.parent=null,this.children.splice(t,1),object.dispatchEvent(rr)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let i=0;i<this.children.length;i++){const object=this.children[i];object.parent=null,object.dispatchEvent(rr)}return this.children.length=0,this}attach(object){return this.updateWorldMatrix(!0,!1),Yi.copy(this.matrixWorld).invert(),null!==object.parent&&(object.parent.updateWorldMatrix(!0,!1),Yi.multiply(object.parent.matrixWorld)),object.applyMatrix4(Yi),this.add(object),object.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const object=this.children[i].getObjectByProperty(t,e);if(void 0!==object)return object}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ki,t,Qi),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ki,Zi,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let i=0,e=t.length;i<e;i++)t[i].updateWorldMatrix(!1,!0)}}toJSON(meta){const t=void 0===meta||"string"==typeof meta,output={};t&&(meta={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},output.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const object={};function e(t,element){return void 0===t[element.uuid]&&(t[element.uuid]=element.toJSON(meta)),element.uuid}if(object.uuid=this.uuid,object.type=this.type,""!==this.name&&(object.name=this.name),!0===this.castShadow&&(object.castShadow=!0),!0===this.receiveShadow&&(object.receiveShadow=!0),!1===this.visible&&(object.visible=!1),!1===this.frustumCulled&&(object.frustumCulled=!1),0!==this.renderOrder&&(object.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(object.userData=this.userData),object.layers=this.layers.mask,object.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(object.matrixAutoUpdate=!1),this.isInstancedMesh&&(object.type="InstancedMesh",object.count=this.count,object.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(object.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?object.background=this.background.toJSON():this.background.isTexture&&(object.background=this.background.toJSON(meta).uuid)),this.environment&&this.environment.isTexture&&(object.environment=this.environment.toJSON(meta).uuid);else if(this.isMesh||this.isLine||this.isPoints){object.geometry=e(meta.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let i=0,t=n.length;i<t;i++){const t=n[i];e(meta.shapes,t)}else e(meta.shapes,n)}}if(this.isSkinnedMesh&&(object.bindMode=this.bindMode,object.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(e(meta.skeletons,this.skeleton),object.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let i=0,n=this.material.length;i<n;i++)t.push(e(meta.materials,this.material[i]));object.material=t}else object.material=e(meta.materials,this.material);if(this.children.length>0){object.children=[];for(let i=0;i<this.children.length;i++)object.children.push(this.children[i].toJSON(meta).object)}if(this.animations.length>0){object.animations=[];for(let i=0;i<this.animations.length;i++){const t=this.animations[i];object.animations.push(e(meta.animations,t))}}if(t){const t=n(meta.geometries),e=n(meta.materials),r=n(meta.textures),o=n(meta.images),l=n(meta.shapes),c=n(meta.skeletons),h=n(meta.animations),d=n(meta.nodes);t.length>0&&(output.geometries=t),e.length>0&&(output.materials=e),r.length>0&&(output.textures=r),o.length>0&&(output.images=o),l.length>0&&(output.shapes=l),c.length>0&&(output.skeletons=c),h.length>0&&(output.animations=h),d.length>0&&(output.nodes=d)}return output.object=object,output;function n(t){const e=[];for(const n in t){const data=t[n];delete data.metadata,e.push(data)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(source,t=!0){if(this.name=source.name,this.up.copy(source.up),this.position.copy(source.position),this.rotation.order=source.rotation.order,this.quaternion.copy(source.quaternion),this.scale.copy(source.scale),this.matrix.copy(source.matrix),this.matrixWorld.copy(source.matrixWorld),this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate,this.layers.mask=source.layers.mask,this.visible=source.visible,this.castShadow=source.castShadow,this.receiveShadow=source.receiveShadow,this.frustumCulled=source.frustumCulled,this.renderOrder=source.renderOrder,this.userData=JSON.parse(JSON.stringify(source.userData)),!0===t)for(let i=0;i<source.children.length;i++){const t=source.children[i];this.add(t.clone())}return this}}ar.DefaultUp=new ei(0,1,0),ar.DefaultMatrixAutoUpdate=!0,ar.prototype.isObject3D=!0;const or=new ei,sr=new ei,lr=new ei,pr=new ei,cr=new ei,ur=new ei,dr=new ei,mr=new ei,fr=new ei,gr=new ei;class vr{constructor(a=new ei,b=new ei,t=new ei){this.a=a,this.b=b,this.c=t}static getNormal(a,b,t,e){e.subVectors(t,b),or.subVectors(a,b),e.cross(or);const n=e.lengthSq();return n>0?e.multiplyScalar(1/Math.sqrt(n)):e.set(0,0,0)}static getBarycoord(t,a,b,e,n){or.subVectors(e,a),sr.subVectors(b,a),lr.subVectors(t,a);const r=or.dot(or),o=or.dot(sr),l=or.dot(lr),c=sr.dot(sr),h=sr.dot(lr),d=r*c-o*o;if(0===d)return n.set(-2,-1,-1);const m=1/d,u=(c*l-o*h)*m,f=(r*h-o*l)*m;return n.set(1-u-f,f,u)}static containsPoint(t,a,b,e){return this.getBarycoord(t,a,b,e,pr),pr.x>=0&&pr.y>=0&&pr.x+pr.y<=1}static getUV(t,e,n,r,o,l,c,h){return this.getBarycoord(t,e,n,r,pr),h.set(0,0),h.addScaledVector(o,pr.x),h.addScaledVector(l,pr.y),h.addScaledVector(c,pr.z),h}static isFrontFacing(a,b,t,e){return or.subVectors(t,b),sr.subVectors(a,b),or.cross(sr).dot(e)<0}set(a,b,t){return this.a.copy(a),this.b.copy(b),this.c.copy(t),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return or.subVectors(this.c,this.b),sr.subVectors(this.a,this.b),.5*or.cross(sr).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return vr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return vr.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,o){return vr.getUV(t,this.a,this.b,this.c,e,n,r,o)}containsPoint(t){return vr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return vr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(p,t){const a=this.a,b=this.b,e=this.c;let n,r;cr.subVectors(b,a),ur.subVectors(e,a),mr.subVectors(p,a);const o=cr.dot(mr),l=ur.dot(mr);if(o<=0&&l<=0)return t.copy(a);fr.subVectors(p,b);const c=cr.dot(fr),h=ur.dot(fr);if(c>=0&&h<=c)return t.copy(b);const d=o*h-c*l;if(d<=0&&o>=0&&c<=0)return n=o/(o-c),t.copy(a).addScaledVector(cr,n);gr.subVectors(p,e);const m=cr.dot(gr),f=ur.dot(gr);if(f>=0&&m<=f)return t.copy(e);const v=m*l-o*f;if(v<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(a).addScaledVector(ur,r);const x=c*f-m*h;if(x<=0&&h-c>=0&&m-f>=0)return dr.subVectors(e,b),r=(h-c)/(h-c+(m-f)),t.copy(b).addScaledVector(dr,r);const _=1/(x+v+d);return n=v*_,r=d*_,t.copy(a).addScaledVector(cr,n).addScaledVector(ur,r)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let xr=0;class _r extends Qe{constructor(){super(),Object.defineProperty(this,"id",{value:xr++}),this.uuid=nn(),this.name="",this.type="Material",this.blending=R,this.side=y,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=V,this.blendDst=z,this.blendEquation=I,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Q,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=je,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=We,this.stencilZFail=We,this.stencilZPass=We,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===M;continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(meta){const t=void 0===meta||"string"==typeof meta;t&&(meta={textures:{},images:{}});const data={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function e(t){const e=[];for(const n in t){const data=t[n];delete data.metadata,e.push(data)}return e}if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),this.color&&this.color.isColor&&(data.color=this.color.getHex()),void 0!==this.roughness&&(data.roughness=this.roughness),void 0!==this.metalness&&(data.metalness=this.metalness),void 0!==this.sheen&&(data.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(data.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(data.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(data.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(data.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(data.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(data.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(data.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(data.shininess=this.shininess),void 0!==this.clearcoat&&(data.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(data.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(data.clearcoatMap=this.clearcoatMap.toJSON(meta).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(data.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(meta).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(data.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(meta).uuid,data.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(data.map=this.map.toJSON(meta).uuid),this.matcap&&this.matcap.isTexture&&(data.matcap=this.matcap.toJSON(meta).uuid),this.alphaMap&&this.alphaMap.isTexture&&(data.alphaMap=this.alphaMap.toJSON(meta).uuid),this.lightMap&&this.lightMap.isTexture&&(data.lightMap=this.lightMap.toJSON(meta).uuid,data.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(data.aoMap=this.aoMap.toJSON(meta).uuid,data.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(data.bumpMap=this.bumpMap.toJSON(meta).uuid,data.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(data.normalMap=this.normalMap.toJSON(meta).uuid,data.normalMapType=this.normalMapType,data.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(data.displacementMap=this.displacementMap.toJSON(meta).uuid,data.displacementScale=this.displacementScale,data.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(data.roughnessMap=this.roughnessMap.toJSON(meta).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(data.metalnessMap=this.metalnessMap.toJSON(meta).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(data.emissiveMap=this.emissiveMap.toJSON(meta).uuid),this.specularMap&&this.specularMap.isTexture&&(data.specularMap=this.specularMap.toJSON(meta).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(data.specularIntensityMap=this.specularIntensityMap.toJSON(meta).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(data.specularColorMap=this.specularColorMap.toJSON(meta).uuid),this.envMap&&this.envMap.isTexture&&(data.envMap=this.envMap.toJSON(meta).uuid,void 0!==this.combine&&(data.combine=this.combine)),void 0!==this.envMapIntensity&&(data.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(data.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(data.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(data.gradientMap=this.gradientMap.toJSON(meta).uuid),void 0!==this.transmission&&(data.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(data.transmissionMap=this.transmissionMap.toJSON(meta).uuid),void 0!==this.thickness&&(data.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(data.thicknessMap=this.thicknessMap.toJSON(meta).uuid),void 0!==this.attenuationDistance&&(data.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(data.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(data.size=this.size),null!==this.shadowSide&&(data.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(data.sizeAttenuation=this.sizeAttenuation),this.blending!==R&&(data.blending=this.blending),this.side!==y&&(data.side=this.side),this.vertexColors&&(data.vertexColors=!0),this.opacity<1&&(data.opacity=this.opacity),!0===this.transparent&&(data.transparent=this.transparent),data.depthFunc=this.depthFunc,data.depthTest=this.depthTest,data.depthWrite=this.depthWrite,data.colorWrite=this.colorWrite,data.stencilWrite=this.stencilWrite,data.stencilWriteMask=this.stencilWriteMask,data.stencilFunc=this.stencilFunc,data.stencilRef=this.stencilRef,data.stencilFuncMask=this.stencilFuncMask,data.stencilFail=this.stencilFail,data.stencilZFail=this.stencilZFail,data.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(data.rotation=this.rotation),!0===this.polygonOffset&&(data.polygonOffset=!0),0!==this.polygonOffsetFactor&&(data.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(data.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(data.linewidth=this.linewidth),void 0!==this.dashSize&&(data.dashSize=this.dashSize),void 0!==this.gapSize&&(data.gapSize=this.gapSize),void 0!==this.scale&&(data.scale=this.scale),!0===this.dithering&&(data.dithering=!0),this.alphaTest>0&&(data.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(data.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(data.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(data.wireframe=this.wireframe),this.wireframeLinewidth>1&&(data.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(data.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(data.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(data.flatShading=this.flatShading),!1===this.visible&&(data.visible=!1),!1===this.toneMapped&&(data.toneMapped=!1),!1===this.fog&&(data.fog=!1),"{}"!==JSON.stringify(this.userData)&&(data.userData=this.userData),t){const t=e(meta.textures),n=e(meta.images);t.length>0&&(data.textures=t),n.length>0&&(data.images=n)}return data}clone(){return(new this.constructor).copy(this)}copy(source){this.name=source.name,this.blending=source.blending,this.side=source.side,this.vertexColors=source.vertexColors,this.opacity=source.opacity,this.transparent=source.transparent,this.blendSrc=source.blendSrc,this.blendDst=source.blendDst,this.blendEquation=source.blendEquation,this.blendSrcAlpha=source.blendSrcAlpha,this.blendDstAlpha=source.blendDstAlpha,this.blendEquationAlpha=source.blendEquationAlpha,this.depthFunc=source.depthFunc,this.depthTest=source.depthTest,this.depthWrite=source.depthWrite,this.stencilWriteMask=source.stencilWriteMask,this.stencilFunc=source.stencilFunc,this.stencilRef=source.stencilRef,this.stencilFuncMask=source.stencilFuncMask,this.stencilFail=source.stencilFail,this.stencilZFail=source.stencilZFail,this.stencilZPass=source.stencilZPass,this.stencilWrite=source.stencilWrite;const t=source.clippingPlanes;let e=null;if(null!==t){const n=t.length;e=new Array(n);for(let i=0;i!==n;++i)e[i]=t[i].clone()}return this.clippingPlanes=e,this.clipIntersection=source.clipIntersection,this.clipShadows=source.clipShadows,this.shadowSide=source.shadowSide,this.colorWrite=source.colorWrite,this.precision=source.precision,this.polygonOffset=source.polygonOffset,this.polygonOffsetFactor=source.polygonOffsetFactor,this.polygonOffsetUnits=source.polygonOffsetUnits,this.dithering=source.dithering,this.alphaTest=source.alphaTest,this.alphaToCoverage=source.alphaToCoverage,this.premultipliedAlpha=source.premultipliedAlpha,this.visible=source.visible,this.toneMapped=source.toneMapped,this.userData=JSON.parse(JSON.stringify(source.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}_r.prototype.isMaterial=!0,_r.fromType=function(){return null};class yr extends _r{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new Vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.fog=source.fog,this}}yr.prototype.isMeshBasicMaterial=!0;const Sr=new ei,wr=new Rn;class Mr{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=qe,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(source){return this.name=source.name,this.array=new source.array.constructor(source.array),this.itemSize=source.itemSize,this.count=source.count,this.normalized=source.normalized,this.usage=source.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new Vn),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Rn),e[n++]=r.x,e[n++]=r.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new ei),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new qn),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let i=0,e=this.count;i<e;i++)wr.fromBufferAttribute(this,i),wr.applyMatrix3(t),this.setXY(i,wr.x,wr.y);else if(3===this.itemSize)for(let i=0,e=this.count;i<e;i++)Sr.fromBufferAttribute(this,i),Sr.applyMatrix3(t),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}applyMatrix4(t){for(let i=0,e=this.count;i<e;i++)Sr.fromBufferAttribute(this,i),Sr.applyMatrix4(t),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}applyNormalMatrix(t){for(let i=0,e=this.count;i<e;i++)Sr.fromBufferAttribute(this,i),Sr.applyNormalMatrix(t),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}transformDirection(t){for(let i=0,e=this.count;i<e;i++)Sr.fromBufferAttribute(this,i),Sr.transformDirection(t),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,o){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const data={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(data.name=this.name),this.usage!==qe&&(data.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(data.updateRange=this.updateRange),data}}Mr.prototype.isBufferAttribute=!0;class Er extends Mr{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class Rr extends Mr{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class Ar extends Mr{constructor(t,e,n){super(new Uint16Array(t),e,n)}}Ar.prototype.isFloat16BufferAttribute=!0;class Tr extends Mr{constructor(t,e,n){super(new Float32Array(t),e,n)}}let Pr=0;const Cr=new Ni,Ir=new ar,Lr=new ei,Nr=new ri,Dr=new ri,Or=new ei;class kr extends Qe{constructor(){super(),Object.defineProperty(this,"id",{value:Pr++}),this.uuid=nn(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(Tn(t)?Rr:Er)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new An).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(q){return Cr.makeRotationFromQuaternion(q),this.applyMatrix4(Cr),this}rotateX(t){return Cr.makeRotationX(t),this.applyMatrix4(Cr),this}rotateY(t){return Cr.makeRotationY(t),this.applyMatrix4(Cr),this}rotateZ(t){return Cr.makeRotationZ(t),this.applyMatrix4(Cr),this}translate(t,e,n){return Cr.makeTranslation(t,e,n),this.applyMatrix4(Cr),this}scale(t,e,n){return Cr.makeScale(t,e,n),this.applyMatrix4(Cr),this}lookAt(t){return Ir.lookAt(t),Ir.updateMatrix(),this.applyMatrix4(Ir.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lr).negate(),this.translate(Lr.x,Lr.y,Lr.z),this}setFromPoints(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new Tr(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ri);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ei(-1/0,-1/0,-1/0),new ei(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,t=e.length;i<t;i++){const t=e[i];Nr.setFromBufferAttribute(t),this.morphTargetsRelative?(Or.addVectors(this.boundingBox.min,Nr.min),this.boundingBox.expandByPoint(Or),Or.addVectors(this.boundingBox.max,Nr.max),this.boundingBox.expandByPoint(Or)):(this.boundingBox.expandByPoint(Nr.min),this.boundingBox.expandByPoint(Nr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Mi);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ei,1/0);if(t){const n=this.boundingSphere.center;if(Nr.setFromBufferAttribute(t),e)for(let i=0,t=e.length;i<t;i++){const t=e[i];Dr.setFromBufferAttribute(t),this.morphTargetsRelative?(Or.addVectors(Nr.min,Dr.min),Nr.expandByPoint(Or),Or.addVectors(Nr.max,Dr.max),Nr.expandByPoint(Or)):(Nr.expandByPoint(Dr.min),Nr.expandByPoint(Dr.max))}Nr.getCenter(n);let r=0;for(let i=0,e=t.count;i<e;i++)Or.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(Or));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],l=this.morphTargetsRelative;for(let e=0,c=o.count;e<c;e++)Or.fromBufferAttribute(o,e),l&&(Lr.fromBufferAttribute(t,e),Or.add(Lr)),r=Math.max(r,n.distanceToSquared(Or))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,o=e.normal.array,l=e.uv.array,c=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Mr(new Float32Array(4*c),4));const h=this.getAttribute("tangent").array,d=[],m=[];for(let i=0;i<c;i++)d[i]=new ei,m[i]=new ei;const f=new ei,v=new ei,x=new ei,_=new Rn,y=new Rn,S=new Rn,w=new ei,M=new ei;function E(a,b,t){f.fromArray(r,3*a),v.fromArray(r,3*b),x.fromArray(r,3*t),_.fromArray(l,2*a),y.fromArray(l,2*b),S.fromArray(l,2*t),v.sub(f),x.sub(f),y.sub(_),S.sub(_);const e=1/(y.x*S.y-S.x*y.y);isFinite(e)&&(w.copy(v).multiplyScalar(S.y).addScaledVector(x,-y.y).multiplyScalar(e),M.copy(x).multiplyScalar(y.x).addScaledVector(v,-S.x).multiplyScalar(e),d[a].add(w),d[b].add(w),d[t].add(w),m[a].add(M),m[b].add(M),m[t].add(M))}let R=this.groups;0===R.length&&(R=[{start:0,count:n.length}]);for(let i=0,t=R.length;i<t;++i){const t=R[i],e=t.start;for(let r=e,o=e+t.count;r<o;r+=3)E(n[r+0],n[r+1],n[r+2])}const A=new ei,T=new ei,P=new ei,C=new ei;function I(t){P.fromArray(o,3*t),C.copy(P);const e=d[t];A.copy(e),A.sub(P.multiplyScalar(P.dot(e))).normalize(),T.crossVectors(C,e);const n=T.dot(m[t])<0?-1:1;h[4*t]=A.x,h[4*t+1]=A.y,h[4*t+2]=A.z,h[4*t+3]=n}for(let i=0,t=R.length;i<t;++i){const t=R[i],e=t.start;for(let r=e,o=e+t.count;r<o;r+=3)I(n[r+0]),I(n[r+1]),I(n[r+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Mr(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let i=0,t=n.count;i<t;i++)n.setXYZ(i,0,0,0);const r=new ei,o=new ei,l=new ei,c=new ei,h=new ei,d=new ei,m=new ei,f=new ei;if(t)for(let i=0,v=t.count;i<v;i+=3){const v=t.getX(i+0),x=t.getX(i+1),_=t.getX(i+2);r.fromBufferAttribute(e,v),o.fromBufferAttribute(e,x),l.fromBufferAttribute(e,_),m.subVectors(l,o),f.subVectors(r,o),m.cross(f),c.fromBufferAttribute(n,v),h.fromBufferAttribute(n,x),d.fromBufferAttribute(n,_),c.add(m),h.add(m),d.add(m),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(x,h.x,h.y,h.z),n.setXYZ(_,d.x,d.y,d.z)}else for(let i=0,t=e.count;i<t;i+=3)r.fromBufferAttribute(e,i+0),o.fromBufferAttribute(e,i+1),l.fromBufferAttribute(e,i+2),m.subVectors(l,o),f.subVectors(r,o),m.cross(f),n.setXYZ(i+0,m.x,m.y,m.z),n.setXYZ(i+1,m.x,m.y,m.z),n.setXYZ(i+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===t.attributes[r])continue;const o=n[r].array,l=t.attributes[r],c=l.array,h=l.itemSize*e,d=Math.min(c.length,o.length-h);for(let i=0,t=h;i<d;i++,t++)o[t]=c[i]}return this}normalizeNormals(){const t=this.attributes.normal;for(let i=0,e=t.count;i<e;i++)Or.fromBufferAttribute(t,i),Or.normalize(),t.setXYZ(i,Or.x,Or.y,Or.z)}toNonIndexed(){function t(t,e){const n=t.array,r=t.itemSize,o=t.normalized,l=new n.constructor(e.length*r);let c=0,h=0;for(let i=0,o=e.length;i<o;i++){c=t.isInterleavedBufferAttribute?e[i]*t.data.stride+t.offset:e[i]*r;for(let t=0;t<r;t++)l[h++]=n[c++]}return new Mr(l,r,o)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new kr,n=this.index.array,r=this.attributes;for(const o in r){const l=t(r[o],n);e.setAttribute(o,l)}const o=this.morphAttributes;for(const r in o){const l=[],c=o[r];for(let i=0,e=c.length;i<e;i++){const e=t(c[i],n);l.push(e)}e.morphAttributes[r]=l}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let i=0,t=l.length;i<t;i++){const t=l[i];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const data={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),Object.keys(this.userData).length>0&&(data.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const e in t)void 0!==t[e]&&(data[e]=t[e]);return data}data.data={attributes:{}};const t=this.index;null!==t&&(data.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const e=this.attributes;for(const t in e){const n=e[t];data.data.attributes[t]=n.toJSON(data.data)}const n={};let r=!1;for(const t in this.morphAttributes){const e=this.morphAttributes[t],o=[];for(let i=0,t=e.length;i<t;i++){const t=e[i];o.push(t.toJSON(data.data))}o.length>0&&(n[t]=o,r=!0)}r&&(data.data.morphAttributes=n,data.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(data.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return null!==l&&(data.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),data}clone(){return(new this.constructor).copy(this)}copy(source){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const data={};this.name=source.name;const t=source.index;null!==t&&this.setIndex(t.clone(data));const e=source.attributes;for(const t in e){const n=e[t];this.setAttribute(t,n.clone(data))}const n=source.morphAttributes;for(const t in n){const e=[],r=n[t];for(let i=0,t=r.length;i<t;i++)e.push(r[i].clone(data));this.morphAttributes[t]=e}this.morphTargetsRelative=source.morphTargetsRelative;const r=source.groups;for(let i=0,t=r.length;i<t;i++){const t=r[i];this.addGroup(t.start,t.count,t.materialIndex)}const o=source.boundingBox;null!==o&&(this.boundingBox=o.clone());const l=source.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=source.drawRange.start,this.drawRange.count=source.drawRange.count,this.userData=source.userData,void 0!==source.parameters&&(this.parameters=Object.assign({},source.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}kr.prototype.isBufferGeometry=!0;const Gr=new Ni,Br=new Li,Fr=new Mi,Vr=new ei,zr=new ei,Ur=new ei,Hr=new ei,Xr=new ei,Wr=new ei,jr=new ei,qr=new ei,Yr=new ei,$r=new Rn,Kr=new Rn,Qr=new Rn,Zr=new ei,Jr=new ei;class ta extends ar{constructor(t=new kr,e=new yr){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(source){return super.copy(source),void 0!==source.morphTargetInfluences&&(this.morphTargetInfluences=source.morphTargetInfluences.slice()),void 0!==source.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},source.morphTargetDictionary)),this.material=source.material,this.geometry=source.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const n=this.geometry,r=this.material,o=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),Fr.copy(n.boundingSphere),Fr.applyMatrix4(o),!1===t.ray.intersectsSphere(Fr))return;if(Gr.copy(o).invert(),Br.copy(t.ray).applyMatrix4(Gr),null!==n.boundingBox&&!1===Br.intersectsBox(n.boundingBox))return;let l;if(n.isBufferGeometry){const o=n.index,c=n.attributes.position,h=n.morphAttributes.position,d=n.morphTargetsRelative,m=n.attributes.uv,f=n.attributes.uv2,v=n.groups,x=n.drawRange;if(null!==o)if(Array.isArray(r))for(let i=0,n=v.length;i<n;i++){const n=v[i],_=r[n.materialIndex];for(let r=Math.max(n.start,x.start),v=Math.min(o.count,Math.min(n.start+n.count,x.start+x.count));r<v;r+=3){const a=o.getX(r),b=o.getX(r+1),v=o.getX(r+2);l=na(this,_,t,Br,c,h,d,m,f,a,b,v),l&&(l.faceIndex=Math.floor(r/3),l.face.materialIndex=n.materialIndex,e.push(l))}}else for(let i=Math.max(0,x.start),n=Math.min(o.count,x.start+x.count);i<n;i+=3){const a=o.getX(i),b=o.getX(i+1),n=o.getX(i+2);l=na(this,r,t,Br,c,h,d,m,f,a,b,n),l&&(l.faceIndex=Math.floor(i/3),e.push(l))}else if(void 0!==c)if(Array.isArray(r))for(let i=0,n=v.length;i<n;i++){const n=v[i],o=r[n.materialIndex];for(let r=Math.max(n.start,x.start),v=Math.min(c.count,Math.min(n.start+n.count,x.start+x.count));r<v;r+=3)l=na(this,o,t,Br,c,h,d,m,f,r,r+1,r+2),l&&(l.faceIndex=Math.floor(r/3),l.face.materialIndex=n.materialIndex,e.push(l))}else for(let i=Math.max(0,x.start),n=Math.min(c.count,x.start+x.count);i<n;i+=3)l=na(this,r,t,Br,c,h,d,m,f,i,i+1,i+2),l&&(l.faceIndex=Math.floor(i/3),e.push(l))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function ea(object,t,e,n,r,o,l,c){let h;if(h=t.side===S?n.intersectTriangle(l,o,r,!0,c):n.intersectTriangle(r,o,l,t.side!==w,c),null===h)return null;Jr.copy(c),Jr.applyMatrix4(object.matrixWorld);const d=e.ray.origin.distanceTo(Jr);return d<e.near||d>e.far?null:{distance:d,point:Jr.clone(),object:object}}function na(object,t,e,n,r,o,l,c,h,a,b,d){Vr.fromBufferAttribute(r,a),zr.fromBufferAttribute(r,b),Ur.fromBufferAttribute(r,d);const m=object.morphTargetInfluences;if(o&&m){jr.set(0,0,0),qr.set(0,0,0),Yr.set(0,0,0);for(let i=0,t=o.length;i<t;i++){const t=m[i],e=o[i];0!==t&&(Hr.fromBufferAttribute(e,a),Xr.fromBufferAttribute(e,b),Wr.fromBufferAttribute(e,d),l?(jr.addScaledVector(Hr,t),qr.addScaledVector(Xr,t),Yr.addScaledVector(Wr,t)):(jr.addScaledVector(Hr.sub(Vr),t),qr.addScaledVector(Xr.sub(zr),t),Yr.addScaledVector(Wr.sub(Ur),t)))}Vr.add(jr),zr.add(qr),Ur.add(Yr)}object.isSkinnedMesh&&(object.boneTransform(a,Vr),object.boneTransform(b,zr),object.boneTransform(d,Ur));const f=ea(object,t,e,n,Vr,zr,Ur,Zr);if(f){c&&($r.fromBufferAttribute(c,a),Kr.fromBufferAttribute(c,b),Qr.fromBufferAttribute(c,d),f.uv=vr.getUV(Zr,Vr,zr,Ur,$r,Kr,Qr,new Rn)),h&&($r.fromBufferAttribute(h,a),Kr.fromBufferAttribute(h,b),Qr.fromBufferAttribute(h,d),f.uv2=vr.getUV(Zr,Vr,zr,Ur,$r,Kr,Qr,new Rn));const t={a:a,b:b,c:d,normal:new ei,materialIndex:0};vr.getNormal(Vr,zr,Ur,t.normal),f.face=t}return f}ta.prototype.isMesh=!0;class ia extends kr{constructor(t=1,e=1,n=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:o,depthSegments:l};const c=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const h=[],d=[],m=[],f=[];let v=0,x=0;function _(u,t,e,n,r,o,l,_,y,S,w){const M=o/y,E=l/S,R=o/2,A=l/2,T=_/2,P=y+1,C=S+1;let I=0,L=0;const N=new ei;for(let o=0;o<C;o++){const l=o*E-A;for(let c=0;c<P;c++){const h=c*M-R;N[u]=h*n,N[t]=l*r,N[e]=T,d.push(N.x,N.y,N.z),N[u]=0,N[t]=0,N[e]=_>0?1:-1,m.push(N.x,N.y,N.z),f.push(c/y),f.push(1-o/S),I+=1}}for(let t=0;t<S;t++)for(let e=0;e<y;e++){const a=v+e+P*t,b=v+e+P*(t+1),n=v+(e+1)+P*(t+1),r=v+(e+1)+P*t;h.push(a,b,r),h.push(b,n,r),L+=6}c.addGroup(x,L,w),x+=L,v+=I}_("z","y","x",-1,-1,n,e,t,l,o,0),_("z","y","x",1,-1,n,e,-t,l,o,1),_("x","z","y",1,1,t,n,e,r,l,2),_("x","z","y",1,-1,t,n,-e,r,l,3),_("x","y","z",1,-1,t,e,n,r,o,4),_("x","y","z",-1,-1,t,e,-n,r,o,5),this.setIndex(h),this.setAttribute("position",new Tr(d,3)),this.setAttribute("normal",new Tr(m,3)),this.setAttribute("uv",new Tr(f,2))}static fromJSON(data){return new ia(data.width,data.height,data.depth,data.widthSegments,data.heightSegments,data.depthSegments)}}function ra(t){const e={};for(const u in t){e[u]={};for(const p in t[u]){const n=t[u][p];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?e[u][p]=n.clone():Array.isArray(n)?e[u][p]=n.slice():e[u][p]=n}}return e}function aa(t){const e={};for(let u=0;u<t.length;u++){const n=ra(t[u]);for(const p in n)e[p]=n[p]}return e}const oa={clone:ra,merge:aa};var sa="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",la="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class pa extends _r{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=sa,this.fragmentShader=la,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(source){return super.copy(source),this.fragmentShader=source.fragmentShader,this.vertexShader=source.vertexShader,this.uniforms=ra(source.uniforms),this.defines=Object.assign({},source.defines),this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.fog=source.fog,this.lights=source.lights,this.clipping=source.clipping,this.extensions=Object.assign({},source.extensions),this.glslVersion=source.glslVersion,this}toJSON(meta){const data=super.toJSON(meta);data.glslVersion=this.glslVersion,data.uniforms={};for(const t in this.uniforms){const e=this.uniforms[t].value;e&&e.isTexture?data.uniforms[t]={type:"t",value:e.toJSON(meta).uuid}:e&&e.isColor?data.uniforms[t]={type:"c",value:e.getHex()}:e&&e.isVector2?data.uniforms[t]={type:"v2",value:e.toArray()}:e&&e.isVector3?data.uniforms[t]={type:"v3",value:e.toArray()}:e&&e.isVector4?data.uniforms[t]={type:"v4",value:e.toArray()}:e&&e.isMatrix3?data.uniforms[t]={type:"m3",value:e.toArray()}:e&&e.isMatrix4?data.uniforms[t]={type:"m4",value:e.toArray()}:data.uniforms[t]={value:e}}Object.keys(this.defines).length>0&&(data.defines=this.defines),data.vertexShader=this.vertexShader,data.fragmentShader=this.fragmentShader;const t={};for(const e in this.extensions)!0===this.extensions[e]&&(t[e]=!0);return Object.keys(t).length>0&&(data.extensions=t),data}}pa.prototype.isShaderMaterial=!0;class ca extends ar{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ni,this.projectionMatrix=new Ni,this.projectionMatrixInverse=new Ni}copy(source,t){return super.copy(source,t),this.matrixWorldInverse.copy(source.matrixWorldInverse),this.projectionMatrix.copy(source.projectionMatrix),this.projectionMatrixInverse.copy(source.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}ca.prototype.isCamera=!0;class ua extends ca{constructor(t=50,e=1,n=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(source,t){return super.copy(source,t),this.fov=source.fov,this.zoom=source.zoom,this.near=source.near,this.far=source.far,this.focus=source.focus,this.aspect=source.aspect,this.view=null===source.view?null:Object.assign({},source.view),this.filmGauge=source.filmGauge,this.filmOffset=source.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*en*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*tn*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*en*Math.atan(Math.tan(.5*tn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,o,l){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*tn*this.fov)/this.zoom,n=2*e,r=this.aspect*n,o=-.5*r;const view=this.view;if(null!==this.view&&this.view.enabled){const t=view.fullWidth,l=view.fullHeight;o+=view.offsetX*r/t,e-=view.offsetY*n/l,r*=view.width/t,n*=view.height/l}const l=this.filmOffset;0!==l&&(o+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(meta){const data=super.toJSON(meta);return data.object.fov=this.fov,data.object.zoom=this.zoom,data.object.near=this.near,data.object.far=this.far,data.object.focus=this.focus,data.object.aspect=this.aspect,null!==this.view&&(data.object.view=Object.assign({},this.view)),data.object.filmGauge=this.filmGauge,data.object.filmOffset=this.filmOffset,data}}ua.prototype.isPerspectiveCamera=!0;const ha=90,da=1;class ma extends ar{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new ua(ha,da,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ei(1,0,0)),this.add(r);const o=new ua(ha,da,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new ei(-1,0,0)),this.add(o);const l=new ua(ha,da,t,e);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(new ei(0,1,0)),this.add(l);const c=new ua(ha,da,t,e);c.layers=this.layers,c.up.set(0,0,-1),c.lookAt(new ei(0,-1,0)),this.add(c);const h=new ua(ha,da,t,e);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new ei(0,0,1)),this.add(h);const d=new ua(ha,da,t,e);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new ei(0,0,-1)),this.add(d)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,l,c,h,d]=this.children,m=t.getRenderTarget(),f=t.toneMapping,v=t.xr.enabled;t.toneMapping=ot,t.xr.enabled=!1;const x=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,o),t.setRenderTarget(n,2),t.render(e,l),t.setRenderTarget(n,3),t.render(e,c),t.setRenderTarget(n,4),t.render(e,h),n.texture.generateMipmaps=x,t.setRenderTarget(n,5),t.render(e,d),t.setRenderTarget(m),t.toneMapping=f,t.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class fa extends jn{constructor(t,e,n,r,o,l,c,h,d,m){super(t=void 0!==t?t:[],e=void 0!==e?e:mt,n,r,o,l,c,h,d,m),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}fa.prototype.isCubeTexture=!0;class ga extends Yn{constructor(t,e={}){super(t,t,e);const image={width:t,height:t,depth:1},n=[image,image,image,image,image,image];this.texture=new fa(n,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Et}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new ia(5,5,5),o=new pa({name:"CubemapFromEquirect",uniforms:ra(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:S,blending:E});o.uniforms.tEquirect.value=e;const l=new ta(r,o),c=e.minFilter;return e.minFilter===At&&(e.minFilter=Et),new ma(1,10,this).update(t,l),e.minFilter=c,l.geometry.dispose(),l.material.dispose(),this}clear(t,e,n,r){const o=t.getRenderTarget();for(let i=0;i<6;i++)t.setRenderTarget(this,i),t.clear(e,n,r);t.setRenderTarget(o)}}ga.prototype.isWebGLCubeRenderTarget=!0;const va=new ei,xa=new ei,_a=new An;class ya{constructor(t=new ei(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(a,b,t){const e=va.subVectors(t,b).cross(xa.subVectors(a,b)).normalize();return this.setFromNormalAndCoplanarPoint(e,a),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(line,t){const e=line.delta(va),n=this.normal.dot(e);if(0===n)return 0===this.distanceToPoint(line.start)?t.copy(line.start):null;const r=-(line.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:t.copy(e).multiplyScalar(r).add(line.start)}intersectsLine(line){const t=this.distanceToPoint(line.start),e=this.distanceToPoint(line.end);return t<0&&e>0||e<0&&t>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||_a.getNormalMatrix(t),r=this.coplanarPoint(va).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}ya.prototype.isPlane=!0;const ba=new Mi,Sa=new ei;class wa{constructor(t=new ya,e=new ya,n=new ya,r=new ya,o=new ya,l=new ya){this.planes=[t,e,n,r,o,l]}set(t,e,n,r,o,l){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(n),c[3].copy(r),c[4].copy(o),c[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,r=n[0],o=n[1],l=n[2],c=n[3],h=n[4],d=n[5],m=n[6],f=n[7],v=n[8],x=n[9],_=n[10],y=n[11],S=n[12],w=n[13],M=n[14],E=n[15];return e[0].setComponents(c-r,f-h,y-v,E-S).normalize(),e[1].setComponents(c+r,f+h,y+v,E+S).normalize(),e[2].setComponents(c+o,f+d,y+x,E+w).normalize(),e[3].setComponents(c-o,f-d,y-x,E-w).normalize(),e[4].setComponents(c-l,f-m,y-_,E-M).normalize(),e[5].setComponents(c+l,f+m,y+_,E+M).normalize(),this}intersectsObject(object){const t=object.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ba.copy(t.boundingSphere).applyMatrix4(object.matrixWorld),this.intersectsSphere(ba)}intersectsSprite(t){return ba.center.set(0,0,0),ba.radius=.7071067811865476,ba.applyMatrix4(t.matrixWorld),this.intersectsSphere(ba)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let i=0;i<6;i++)if(e[i].distanceToPoint(n)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const n=e[i];if(Sa.x=n.normal.x>0?t.max.x:t.min.x,Sa.y=n.normal.y>0?t.max.y:t.min.y,Sa.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(Sa)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Ma(){let t=null,e=!1,n=null,r=null;function o(time,e){n(time,e),r=t.requestAnimationFrame(o)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Ea(t,e){const n=e.isWebGL2,r=new WeakMap;function o(e,r){const o=e.array,l=e.usage,c=t.createBuffer();let h;if(t.bindBuffer(r,c),t.bufferData(r,o,l),e.onUploadCallback(),o instanceof Float32Array)h=5126;else if(o instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");h=5131}else h=5123;else if(o instanceof Int16Array)h=5122;else if(o instanceof Uint32Array)h=5125;else if(o instanceof Int32Array)h=5124;else if(o instanceof Int8Array)h=5120;else if(o instanceof Uint8Array)h=5121;else{if(!(o instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);h=5121}return{buffer:c,type:h,bytesPerElement:o.BYTES_PER_ELEMENT,version:e.version}}function l(e,r,o){const l=r.array,c=r.updateRange;t.bindBuffer(o,e),-1===c.count?t.bufferSubData(o,0,l):(n?t.bufferSubData(o,c.offset*l.BYTES_PER_ELEMENT,l,c.offset,c.count):t.bufferSubData(o,c.offset*l.BYTES_PER_ELEMENT,l.subarray(c.offset,c.offset+c.count)),c.count=-1)}function c(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)}function h(e){e.isInterleavedBufferAttribute&&(e=e.data);const data=r.get(e);data&&(t.deleteBuffer(data.buffer),r.delete(e))}function d(t,e){if(t.isGLBufferAttribute){const e=r.get(t);return void((!e||e.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const data=r.get(t);void 0===data?r.set(t,o(t,e)):data.version<t.version&&(l(data.buffer,t,e),data.version=t.version)}return{get:c,remove:h,update:d}}class Ra extends kr{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const o=t/2,l=e/2,c=Math.floor(n),h=Math.floor(r),d=c+1,m=h+1,f=t/c,v=e/h,x=[],_=[],y=[],S=[];for(let t=0;t<m;t++){const e=t*v-l;for(let n=0;n<d;n++){const r=n*f-o;_.push(r,-e,0),y.push(0,0,1),S.push(n/c),S.push(1-t/h)}}for(let t=0;t<h;t++)for(let e=0;e<c;e++){const a=e+d*t,b=e+d*(t+1),n=e+1+d*(t+1),r=e+1+d*t;x.push(a,b,r),x.push(b,n,r)}this.setIndex(x),this.setAttribute("position",new Tr(_,3)),this.setAttribute("normal",new Tr(y,3)),this.setAttribute("uv",new Tr(S,2))}static fromJSON(data){return new Ra(data.width,data.height,data.widthSegments,data.heightSegments)}}const Aa={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Ta={common:{diffuse:{value:new Vn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new An},uv2Transform:{value:new An},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Rn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new An}},sprite:{diffuse:{value:new Vn(16777215)},opacity:{value:1},center:{value:new Rn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new An}}},Pa={basic:{uniforms:aa([Ta.common,Ta.specularmap,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.fog]),vertexShader:Aa.meshbasic_vert,fragmentShader:Aa.meshbasic_frag},lambert:{uniforms:aa([Ta.common,Ta.specularmap,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.fog,Ta.lights,{emissive:{value:new Vn(0)}}]),vertexShader:Aa.meshlambert_vert,fragmentShader:Aa.meshlambert_frag},phong:{uniforms:aa([Ta.common,Ta.specularmap,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.fog,Ta.lights,{emissive:{value:new Vn(0)},specular:{value:new Vn(1118481)},shininess:{value:30}}]),vertexShader:Aa.meshphong_vert,fragmentShader:Aa.meshphong_frag},standard:{uniforms:aa([Ta.common,Ta.envmap,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.roughnessmap,Ta.metalnessmap,Ta.fog,Ta.lights,{emissive:{value:new Vn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Aa.meshphysical_vert,fragmentShader:Aa.meshphysical_frag},toon:{uniforms:aa([Ta.common,Ta.aomap,Ta.lightmap,Ta.emissivemap,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.gradientmap,Ta.fog,Ta.lights,{emissive:{value:new Vn(0)}}]),vertexShader:Aa.meshtoon_vert,fragmentShader:Aa.meshtoon_frag},matcap:{uniforms:aa([Ta.common,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,Ta.fog,{matcap:{value:null}}]),vertexShader:Aa.meshmatcap_vert,fragmentShader:Aa.meshmatcap_frag},points:{uniforms:aa([Ta.points,Ta.fog]),vertexShader:Aa.points_vert,fragmentShader:Aa.points_frag},dashed:{uniforms:aa([Ta.common,Ta.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Aa.linedashed_vert,fragmentShader:Aa.linedashed_frag},depth:{uniforms:aa([Ta.common,Ta.displacementmap]),vertexShader:Aa.depth_vert,fragmentShader:Aa.depth_frag},normal:{uniforms:aa([Ta.common,Ta.bumpmap,Ta.normalmap,Ta.displacementmap,{opacity:{value:1}}]),vertexShader:Aa.meshnormal_vert,fragmentShader:Aa.meshnormal_frag},sprite:{uniforms:aa([Ta.sprite,Ta.fog]),vertexShader:Aa.sprite_vert,fragmentShader:Aa.sprite_frag},background:{uniforms:{uvTransform:{value:new An},t2D:{value:null}},vertexShader:Aa.background_vert,fragmentShader:Aa.background_frag},cube:{uniforms:aa([Ta.envmap,{opacity:{value:1}}]),vertexShader:Aa.cube_vert,fragmentShader:Aa.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Aa.equirect_vert,fragmentShader:Aa.equirect_frag},distanceRGBA:{uniforms:aa([Ta.common,Ta.displacementmap,{referencePosition:{value:new ei},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Aa.distanceRGBA_vert,fragmentShader:Aa.distanceRGBA_frag},shadow:{uniforms:aa([Ta.lights,Ta.fog,{color:{value:new Vn(0)},opacity:{value:1}}]),vertexShader:Aa.shadow_vert,fragmentShader:Aa.shadow_frag}};function Ca(t,e,n,r,o,l){const c=new Vn(0);let h,d,m=!0===o?0:1,f=null,v=0,x=null;function _(n,o){let l=!1,_=!0===o.isScene?o.background:null;_&&_.isTexture&&(_=e.get(_));const M=t.xr,E=M.getSession&&M.getSession();E&&"additive"===E.environmentBlendMode&&(_=null),null===_?w(c,m):_&&_.isColor&&(w(_,1),l=!0),(t.autoClear||l)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===xt)?(void 0===d&&(d=new ta(new ia(1,1,1),new pa({name:"BackgroundCubeMaterial",uniforms:ra(Pa.cube.uniforms),vertexShader:Pa.cube.vertexShader,fragmentShader:Pa.cube.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=_,d.material.uniforms.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,f===_&&v===_.version&&x===t.toneMapping||(d.material.needsUpdate=!0,f=_,v=_.version,x=t.toneMapping),d.layers.enableAll(),n.unshift(d,d.geometry,d.material,0,0,null)):_&&_.isTexture&&(void 0===h&&(h=new ta(new Ra(2,2),new pa({name:"BackgroundMaterial",uniforms:ra(Pa.background.uniforms),vertexShader:Pa.background.vertexShader,fragmentShader:Pa.background.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=_,!0===_.matrixAutoUpdate&&_.updateMatrix(),h.material.uniforms.uvTransform.value.copy(_.matrix),f===_&&v===_.version&&x===t.toneMapping||(h.material.needsUpdate=!0,f=_,v=_.version,x=t.toneMapping),h.layers.enableAll(),n.unshift(h,h.geometry,h.material,0,0,null))}function w(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,l)}return{getClearColor:function(){return c},setClearColor:function(t,e=1){c.set(t),m=e,w(c,m)},getClearAlpha:function(){return m},setClearAlpha:function(t){m=t,w(c,m)},render:_}}function Ia(t,e,n,r){const o=t.getParameter(34921),l=r.isWebGL2?null:e.get("OES_vertex_array_object"),c=r.isWebGL2||null!==l,h={},d=w(null);let m=d,f=!1;function v(object,e,r,o,l){let h=!1;if(c){const t=S(o,r,e);m!==t&&(m=t,_(m.object)),h=M(object,o,r,l),h&&E(object,o,r,l)}else{const t=!0===e.wireframe;m.geometry===o.id&&m.program===r.id&&m.wireframe===t||(m.geometry=o.id,m.program=r.id,m.wireframe=t,h=!0)}null!==l&&n.update(l,34963),(h||f)&&(f=!1,I(object,e,r,o),null!==l&&t.bindBuffer(34963,n.get(l).buffer))}function x(){return r.isWebGL2?t.createVertexArray():l.createVertexArrayOES()}function _(e){return r.isWebGL2?t.bindVertexArray(e):l.bindVertexArrayOES(e)}function y(e){return r.isWebGL2?t.deleteVertexArray(e):l.deleteVertexArrayOES(e)}function S(t,e,n){const r=!0===n.wireframe;let o=h[t.id];void 0===o&&(o={},h[t.id]=o);let l=o[e.id];void 0===l&&(l={},o[e.id]=l);let c=l[r];return void 0===c&&(c=w(x()),l[r]=c),c}function w(t){const e=[],n=[],r=[];for(let i=0;i<o;i++)e[i]=0,n[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function M(object,t,e,n){const r=m.attributes,o=t.attributes;let l=0;const c=e.getAttributes();for(const t in c)if(c[t].location>=0){const e=r[t];let n=o[t];if(void 0===n&&("instanceMatrix"===t&&object.instanceMatrix&&(n=object.instanceMatrix),"instanceColor"===t&&object.instanceColor&&(n=object.instanceColor)),void 0===e)return!0;if(e.attribute!==n)return!0;if(n&&e.data!==n.data)return!0;l++}return m.attributesNum!==l||m.index!==n}function E(object,t,e,n){const r={},o=t.attributes;let l=0;const c=e.getAttributes();for(const t in c)if(c[t].location>=0){let e=o[t];void 0===e&&("instanceMatrix"===t&&object.instanceMatrix&&(e=object.instanceMatrix),"instanceColor"===t&&object.instanceColor&&(e=object.instanceColor));const data={};data.attribute=e,e&&e.data&&(data.data=e.data),r[t]=data,l++}m.attributes=r,m.attributesNum=l,m.index=n}function R(){const t=m.newAttributes;for(let i=0,e=t.length;i<e;i++)t[i]=0}function A(t){T(t,0)}function T(n,o){const l=m.newAttributes,c=m.enabledAttributes,h=m.attributeDivisors;l[n]=1,0===c[n]&&(t.enableVertexAttribArray(n),c[n]=1),h[n]!==o&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,o),h[n]=o)}function P(){const e=m.newAttributes,n=m.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function C(e,n,o,l,c,h){!0!==r.isWebGL2||5124!==o&&5125!==o?t.vertexAttribPointer(e,n,o,l,c,h):t.vertexAttribIPointer(e,n,o,c,h)}function I(object,o,l,c){if(!1===r.isWebGL2&&(object.isInstancedMesh||c.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;R();const h=c.attributes,d=l.getAttributes(),m=o.defaultAttributeValues;for(const e in d){const r=d[e];if(r.location>=0){let o=h[e];if(void 0===o&&("instanceMatrix"===e&&object.instanceMatrix&&(o=object.instanceMatrix),"instanceColor"===e&&object.instanceColor&&(o=object.instanceColor)),void 0!==o){const e=o.normalized,l=o.itemSize,h=n.get(o);if(void 0===h)continue;const d=h.buffer,m=h.type,f=h.bytesPerElement;if(o.isInterleavedBufferAttribute){const data=o.data,n=data.stride,h=o.offset;if(data.isInstancedInterleavedBuffer){for(let i=0;i<r.locationSize;i++)T(r.location+i,data.meshPerAttribute);!0!==object.isInstancedMesh&&void 0===c._maxInstanceCount&&(c._maxInstanceCount=data.meshPerAttribute*data.count)}else for(let i=0;i<r.locationSize;i++)A(r.location+i);t.bindBuffer(34962,d);for(let i=0;i<r.locationSize;i++)C(r.location+i,l/r.locationSize,m,e,n*f,(h+l/r.locationSize*i)*f)}else{if(o.isInstancedBufferAttribute){for(let i=0;i<r.locationSize;i++)T(r.location+i,o.meshPerAttribute);!0!==object.isInstancedMesh&&void 0===c._maxInstanceCount&&(c._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let i=0;i<r.locationSize;i++)A(r.location+i);t.bindBuffer(34962,d);for(let i=0;i<r.locationSize;i++)C(r.location+i,l/r.locationSize,m,e,l*f,l/r.locationSize*i*f)}}else if(void 0!==m){const n=m[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(r.location,n);break;case 3:t.vertexAttrib3fv(r.location,n);break;case 4:t.vertexAttrib4fv(r.location,n);break;default:t.vertexAttrib1fv(r.location,n)}}}}P()}function L(){O();for(const t in h){const e=h[t];for(const t in e){const n=e[t];for(const t in n)y(n[t].object),delete n[t];delete e[t]}delete h[t]}}function N(t){if(void 0===h[t.id])return;const e=h[t.id];for(const t in e){const n=e[t];for(const t in n)y(n[t].object),delete n[t];delete e[t]}delete h[t.id]}function D(t){for(const e in h){const n=h[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)y(r[t].object),delete r[t];delete n[t.id]}}function O(){k(),f=!0,m!==d&&(m=d,_(m.object))}function k(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:v,reset:O,resetDefaultState:k,dispose:L,releaseStatesOfGeometry:N,releaseStatesOfProgram:D,initAttributes:R,enableAttribute:A,disableUnusedAttributes:P}}function La(t,e,n,r){const o=r.isWebGL2;let l;function c(t){l=t}function h(e,r){t.drawArrays(l,e,r),n.update(r,l,1)}function d(r,c,h){if(0===h)return;let d,m;if(o)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",null===d)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[m](l,r,c,h),n.update(c,l,h)}this.setMode=c,this.render=h,this.renderInstances=d}function Na(t,e,n){let r;function o(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function l(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const c="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let h=void 0!==n.precision?n.precision:"highp";const d=l(h);d!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",d,"instead."),h=d);const m=c||e.has("WEBGL_draw_buffers"),f=!0===n.logarithmicDepthBuffer,v=t.getParameter(34930),x=t.getParameter(35660),_=t.getParameter(3379),y=t.getParameter(34076),S=t.getParameter(34921),w=t.getParameter(36347),M=t.getParameter(36348),E=t.getParameter(36349),R=x>0,A=c||e.has("OES_texture_float");return{isWebGL2:c,drawBuffers:m,getMaxAnisotropy:o,getMaxPrecision:l,precision:h,logarithmicDepthBuffer:f,maxTextures:v,maxVertexTextures:x,maxTextureSize:_,maxCubemapSize:y,maxAttributes:S,maxVertexUniforms:w,maxVaryings:M,maxFragmentUniforms:E,vertexTextures:R,floatFragmentTextures:A,floatVertexTextures:R&&A,maxSamples:c?t.getParameter(36183):0}}function Da(t){const e=this;let n=null,r=0,o=!1,l=!1;const c=new ya,h=new An,d={value:null,needsUpdate:!1};function m(){d.value!==n&&(d.value=n,d.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(t,n,r,o){const l=null!==t?t.length:0;let m=null;if(0!==l){if(m=d.value,!0!==o||null===m){const e=r+4*l,o=n.matrixWorldInverse;h.getNormalMatrix(o),(null===m||m.length<e)&&(m=new Float32Array(e));for(let i=0,e=r;i!==l;++i,e+=4)c.copy(t[i]).applyMatrix4(o,h),c.normal.toArray(m,e),m[e+3]=c.constant}d.value=m,d.needsUpdate=!0}return e.numPlanes=l,e.numIntersection=0,m}this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,l){const c=0!==t.length||e||0!==r||o;return o=e,n=f(t,l,0),r=t.length,c},this.beginShadows=function(){l=!0,f(null)},this.endShadows=function(){l=!1,m()},this.setState=function(e,c,h){const v=e.clippingPlanes,x=e.clipIntersection,_=e.clipShadows,y=t.get(e);if(!o||null===v||0===v.length||l&&!_)l?f(null):m();else{const t=l?0:r,e=4*t;let o=y.clippingState||null;d.value=o,o=f(v,c,e,h);for(let i=0;i!==e;++i)o[i]=n[i];y.clippingState=o,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=t}}}function Oa(t){let e=new WeakMap;function n(t,e){return e===gt?t.mapping=mt:e===vt&&(t.mapping=ft),t}function r(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const l=r.mapping;if(l===gt||l===vt){if(e.has(r))return n(e.get(r).texture,r.mapping);{const image=r.image;if(image&&image.height>0){const l=new ga(image.height/2);return l.fromEquirectangularTexture(t,r),e.set(r,l),r.addEventListener("dispose",o),n(l.texture,r.mapping)}return null}}}return r}function o(t){const n=t.target;n.removeEventListener("dispose",o);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}function l(){e=new WeakMap}return{get:r,dispose:l}}Pa.physical={uniforms:aa([Pa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Rn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Vn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Rn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Vn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Vn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Aa.meshphysical_vert,fragmentShader:Aa.meshphysical_frag};class ka extends ca{constructor(t=-1,e=1,n=1,r=-1,o=.1,l=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(source,t){return super.copy(source,t),this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.near=source.near,this.far=source.far,this.zoom=source.zoom,this.view=null===source.view?null:Object.assign({},source.view),this}setViewOffset(t,e,n,r,o,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-t,l=n+t,c=r+e,h=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=t*this.view.offsetX,l=o+t*this.view.width,c-=e*this.view.offsetY,h=c-e*this.view.height}this.projectionMatrix.makeOrthographic(o,l,c,h,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(meta){const data=super.toJSON(meta);return data.object.zoom=this.zoom,data.object.left=this.left,data.object.right=this.right,data.object.top=this.top,data.object.bottom=this.bottom,data.object.near=this.near,data.object.far=this.far,null!==this.view&&(data.object.view=Object.assign({},this.view)),data}}ka.prototype.isOrthographicCamera=!0;const Ga=4,Ba=[.125,.215,.35,.446,.526,.582],Fa=20,Va=new ka,za=new Vn;let Ua=null;const Ha=(1+Math.sqrt(5))/2,Xa=1/Ha,Wa=[new ei(1,1,1),new ei(-1,1,1),new ei(1,1,-1),new ei(-1,1,-1),new ei(0,Ha,Xa),new ei(0,Ha,-Xa),new ei(Xa,0,Ha),new ei(-Xa,0,Ha),new ei(Ha,Xa,0),new ei(-Ha,Xa,0)];class ja{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){Ua=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(t,n,r,o),e>0&&this._blur(o,0,0,e),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Za(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Qa(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let i=0;i<this._lodPlanes.length;i++)this._lodPlanes[i].dispose()}_cleanup(t){this._renderer.setRenderTarget(Ua),t.scissorTest=!1,$a(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===mt||t.mapping===ft?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),Ua=this._renderer.getRenderTarget();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:Et,minFilter:Et,generateMipmaps:!1,type:Ot,format:zt,encoding:Ge,depthBuffer:!1},r=Ya(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ya(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=qa(r)),this._blurMaterial=Ka(r,t,e)}return r}_compileMaterial(t){const e=new ta(this._lodPlanes[0],t);this._renderer.compile(e,Va)}_sceneToCubeUV(t,e,n,r){const o=new ua(90,1,e,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,m=h.toneMapping;h.getClearColor(za),h.toneMapping=ot,h.autoClear=!1;const f=new yr({name:"PMREM.Background",side:S,depthWrite:!1,depthTest:!1}),v=new ta(new ia,f);let x=!1;const _=t.background;_?_.isColor&&(f.color.copy(_),t.background=null,x=!0):(f.color.copy(za),x=!0);for(let i=0;i<6;i++){const col=i%3;0===col?(o.up.set(0,l[i],0),o.lookAt(c[i],0,0)):1===col?(o.up.set(0,0,l[i]),o.lookAt(0,c[i],0)):(o.up.set(0,l[i],0),o.lookAt(0,0,c[i]));const e=this._cubeSize;$a(r,col*e,i>2?e:0,e,e),h.setRenderTarget(r),x&&h.render(v,o),h.render(t,o)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=m,h.autoClear=d,t.background=_}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===mt||t.mapping===ft;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Za()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Qa());const o=r?this._cubemapMaterial:this._equirectMaterial,l=new ta(this._lodPlanes[0],o);o.uniforms.envMap.value=t;const c=this._cubeSize;$a(e,0,0,3*c,2*c),n.setRenderTarget(e),n.render(l,Va)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const e=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Wa[(i-1)%Wa.length];this._blur(t,i-1,i,e,n)}e.autoClear=n}_blur(t,e,n,r,o){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,n,r,"latitudinal",o),this._halfBlur(l,t,n,n,r,"longitudinal",o)}_halfBlur(t,e,n,r,o,l,c){const h=this._renderer,d=this._blurMaterial;"latitudinal"!==l&&"longitudinal"!==l&&console.error("blur direction must be either latitudinal or longitudinal!");const m=3,f=new ta(this._lodPlanes[r],d),v=d.uniforms,x=this._sizeLods[n]-1,_=isFinite(o)?Math.PI/(2*x):2*Math.PI/(2*Fa-1),y=o/_,S=isFinite(o)?1+Math.floor(m*y):Fa;S>Fa&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Fa}`);const w=[];let M=0;for(let i=0;i<Fa;++i){const t=i/y,e=Math.exp(-t*t/2);w.push(e),0===i?M+=e:i<S&&(M+=2*e)}for(let i=0;i<w.length;i++)w[i]=w[i]/M;v.envMap.value=t.texture,v.samples.value=S,v.weights.value=w,v.latitudinal.value="latitudinal"===l,c&&(v.poleAxis.value=c);const{_lodMax:E}=this;v.dTheta.value=_,v.mipInt.value=E-n;const R=this._sizeLods[r];$a(e,3*R*(r>E-Ga?r-E+Ga:0),4*(this._cubeSize-R),3*R,2*R),h.setRenderTarget(e),h.render(f,Va)}}function qa(t){const e=[],n=[],r=[];let o=t;const l=t-Ga+1+Ba.length;for(let i=0;i<l;i++){const l=Math.pow(2,o);n.push(l);let c=1/l;i>t-Ga?c=Ba[i-t+Ga-1]:0===i&&(c=0),r.push(c);const h=1/(l-2),d=-h,m=1+h,f=[d,d,m,d,m,m,d,d,m,m,d,m],v=6,x=6,_=3,y=2,S=1,w=new Float32Array(_*x*v),M=new Float32Array(y*x*v),E=new Float32Array(S*x*v);for(let t=0;t<v;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];w.set(r,_*x*t),M.set(f,y*x*t);const o=[t,t,t,t,t,t];E.set(o,S*x*t)}const R=new kr;R.setAttribute("position",new Mr(w,_)),R.setAttribute("uv",new Mr(M,y)),R.setAttribute("faceIndex",new Mr(E,S)),e.push(R),o>Ga&&o--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Ya(t,e,n){const r=new Yn(t,e,n);return r.texture.mapping=xt,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function $a(t,e,n,r,o){t.viewport.set(e,n,r,o),t.scissor.set(e,n,r,o)}function Ka(t,e,n){const r=new Float32Array(Fa),o=new ei(0,1,0);return new pa({name:"SphericalGaussianBlur",defines:{n:Fa,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:Ja(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:E,depthTest:!1,depthWrite:!1})}function Qa(){return new pa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Ja(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:E,depthTest:!1,depthWrite:!1})}function Za(){return new pa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ja(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:E,depthTest:!1,depthWrite:!1})}function Ja(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function to(t){let e=new WeakMap,n=null;function r(r){if(r&&r.isTexture){const c=r.mapping,h=c===gt||c===vt,d=c===mt||c===ft;if(h||d){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;let o=e.get(r);return null===n&&(n=new ja(t)),o=h?n.fromEquirectangular(r,o):n.fromCubemap(r,o),e.set(r,o),o.texture}if(e.has(r))return e.get(r).texture;{const image=r.image;if(h&&image&&image.height>0||d&&image&&o(image)){null===n&&(n=new ja(t));const o=h?n.fromEquirectangular(r):n.fromCubemap(r);return e.set(r,o),r.addEventListener("dispose",l),o.texture}return null}}}return r}function o(image){let t=0;const e=6;for(let i=0;i<e;i++)void 0!==image[i]&&t++;return t===e}function l(t){const n=t.target;n.removeEventListener("dispose",l);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}function c(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}return{get:r,dispose:c}}function eo(t){const e={};function n(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(t){const e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function no(t,e,n,r){const o={},l=new WeakMap;function c(t){const h=t.target;null!==h.index&&e.remove(h.index);for(const t in h.attributes)e.remove(h.attributes[t]);h.removeEventListener("dispose",c),delete o[h.id];const d=l.get(h);d&&(e.remove(d),l.delete(h)),r.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,n.memory.geometries--}function h(object,t){return!0===o[t.id]||(t.addEventListener("dispose",c),o[t.id]=!0,n.memory.geometries++),t}function d(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const r=t.morphAttributes;for(const t in r){const n=r[t];for(let i=0,t=n.length;i<t;i++)e.update(n[i],34962)}}function m(t){const n=[],r=t.index,o=t.attributes.position;let c=0;if(null!==r){const t=r.array;c=r.version;for(let i=0,e=t.length;i<e;i+=3){const a=t[i+0],b=t[i+1],e=t[i+2];n.push(a,b,b,e,e,a)}}else{const t=o.array;c=o.version;for(let i=0,e=t.length/3-1;i<e;i+=3){const a=i+0,b=i+1,t=i+2;n.push(a,b,b,t,t,a)}}const h=new(Tn(n)?Rr:Er)(n,1);h.version=c;const d=l.get(t);d&&e.remove(d),l.set(t,h)}function f(t){const e=l.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&m(t)}else m(t);return l.get(t)}return{get:h,update:d,getWireframeAttribute:f}}function io(t,e,n,r){const o=r.isWebGL2;let l,c,h;function d(t){l=t}function m(t){c=t.type,h=t.bytesPerElement}function f(e,r){t.drawElements(l,r,c,e*h),n.update(r,l,1)}function v(r,d,m){if(0===m)return;let f,v;if(o)f=t,v="drawElementsInstanced";else if(f=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",null===f)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[v](l,d,c,r*h,m),n.update(d,l,m)}this.setMode=d,this.setIndex=m,this.render=f,this.renderInstances=v}function ro(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};function n(t,n,r){switch(e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}function r(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:r,update:n}}function ao(a,b){return a[0]-b[0]}function oo(a,b){return Math.abs(b[1])-Math.abs(a[1])}function so(t,e){let n=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),t.divideScalar(n)}function lo(t,e,n){const r={},o=new Float32Array(8),l=new WeakMap,c=new qn,h=[];for(let i=0;i<8;i++)h[i]=[i,0];function d(object,d,m,f){const v=object.morphTargetInfluences;if(!0===e.isWebGL2){const x=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,_=void 0!==x?x.length:0;let y=l.get(d);if(void 0===y||y.count!==_){void 0!==y&&y.texture.dispose();const M=void 0!==d.morphAttributes.position,E=void 0!==d.morphAttributes.normal,R=void 0!==d.morphAttributes.color,A=d.morphAttributes.position||[],T=d.morphAttributes.normal||[],P=d.morphAttributes.color||[];let C=0;!0===M&&(C=1),!0===E&&(C=2),!0===R&&(C=3);let I=d.attributes.position.count*C,L=1;I>e.maxTextureSize&&(L=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const N=new Float32Array(I*L*4*_),D=new $n(N,I,L,_);D.type=Dt,D.needsUpdate=!0;const O=4*C;for(let i=0;i<_;i++){const G=A[i],B=T[i],F=P[i],V=I*L*4*i;for(let z=0;z<G.count;z++){const U=z*O;!0===M&&(c.fromBufferAttribute(G,z),!0===G.normalized&&so(c,G),N[V+U+0]=c.x,N[V+U+1]=c.y,N[V+U+2]=c.z,N[V+U+3]=0),!0===E&&(c.fromBufferAttribute(B,z),!0===B.normalized&&so(c,B),N[V+U+4]=c.x,N[V+U+5]=c.y,N[V+U+6]=c.z,N[V+U+7]=0),!0===R&&(c.fromBufferAttribute(F,z),!0===F.normalized&&so(c,F),N[V+U+8]=c.x,N[V+U+9]=c.y,N[V+U+10]=c.z,N[V+U+11]=4===F.itemSize?c.w:1)}}function k(){D.dispose(),l.delete(d),d.removeEventListener("dispose",k)}y={count:_,texture:D,size:new Rn(I,L)},l.set(d,y),d.addEventListener("dispose",k)}let S=0;for(let i=0;i<v.length;i++)S+=v[i];const w=d.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",v),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const H=void 0===v?0:v.length;let X=r[d.id];if(void 0===X||X.length!==H){X=[];for(let i=0;i<H;i++)X[i]=[i,0];r[d.id]=X}for(let i=0;i<H;i++){const K=X[i];K[0]=i,K[1]=v[i]}X.sort(oo);for(let i=0;i<8;i++)i<H&&X[i][1]?(h[i][0]=X[i][0],h[i][1]=X[i][1]):(h[i][0]=Number.MAX_SAFE_INTEGER,h[i][1]=0);h.sort(ao);const W=d.morphAttributes.position,j=d.morphAttributes.normal;let Y=0;for(let i=0;i<8;i++){const Q=h[i],Z=Q[0],J=Q[1];Z!==Number.MAX_SAFE_INTEGER&&J?(W&&d.getAttribute("morphTarget"+i)!==W[Z]&&d.setAttribute("morphTarget"+i,W[Z]),j&&d.getAttribute("morphNormal"+i)!==j[Z]&&d.setAttribute("morphNormal"+i,j[Z]),o[i]=J,Y+=J):(W&&!0===d.hasAttribute("morphTarget"+i)&&d.deleteAttribute("morphTarget"+i),j&&!0===d.hasAttribute("morphNormal"+i)&&d.deleteAttribute("morphNormal"+i),o[i]=0)}const $=d.morphTargetsRelative?1:1-Y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",$),f.getUniforms().setValue(t,"morphTargetInfluences",o)}}return{update:d}}function po(t,e,n,r){let o=new WeakMap;function l(object){const t=r.render.frame,l=object.geometry,c=e.get(object,l);return o.get(c)!==t&&(e.update(c),o.set(c,t)),object.isInstancedMesh&&(!1===object.hasEventListener("dispose",h)&&object.addEventListener("dispose",h),n.update(object.instanceMatrix,34962),null!==object.instanceColor&&n.update(object.instanceColor,34962)),c}function c(){o=new WeakMap}function h(t){const e=t.target;e.removeEventListener("dispose",h),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:l,dispose:c}}const co=new jn,uo=new $n,ho=new Qn,mo=new fa,fo=[],go=[],vo=new Float32Array(16),xo=new Float32Array(9),_o=new Float32Array(4);function yo(t,e,n){const r=t[0];if(r<=0||r>0)return t;const o=e*n;let l=fo[o];if(void 0===l&&(l=new Float32Array(o),fo[o]=l),0!==e){r.toArray(l,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(l,r)}return l}function bo(a,b){if(a.length!==b.length)return!1;for(let i=0,t=a.length;i<t;i++)if(a[i]!==b[i])return!1;return!0}function So(a,b){for(let i=0,t=b.length;i<t;i++)a[i]=b[i]}function wo(t,e){let n=go[e];void 0===n&&(n=new Int32Array(e),go[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Mo(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Eo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(bo(n,e))return;t.uniform2fv(this.addr,e),So(n,e)}}function Ro(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(bo(n,e))return;t.uniform3fv(this.addr,e),So(n,e)}}function Ao(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(bo(n,e))return;t.uniform4fv(this.addr,e),So(n,e)}}function To(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(bo(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),So(n,e)}else{if(bo(n,r))return;_o.set(r),t.uniformMatrix2fv(this.addr,!1,_o),So(n,r)}}function Po(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(bo(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),So(n,e)}else{if(bo(n,r))return;xo.set(r),t.uniformMatrix3fv(this.addr,!1,xo),So(n,r)}}function Co(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(bo(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),So(n,e)}else{if(bo(n,r))return;vo.set(r),t.uniformMatrix4fv(this.addr,!1,vo),So(n,r)}}function Io(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Lo(t,e){const n=this.cache;bo(n,e)||(t.uniform2iv(this.addr,e),So(n,e))}function No(t,e){const n=this.cache;bo(n,e)||(t.uniform3iv(this.addr,e),So(n,e))}function Do(t,e){const n=this.cache;bo(n,e)||(t.uniform4iv(this.addr,e),So(n,e))}function Oo(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function ko(t,e){const n=this.cache;bo(n,e)||(t.uniform2uiv(this.addr,e),So(n,e))}function Go(t,e){const n=this.cache;bo(n,e)||(t.uniform3uiv(this.addr,e),So(n,e))}function Bo(t,e){const n=this.cache;bo(n,e)||(t.uniform4uiv(this.addr,e),So(n,e))}function Fo(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture2D(e||co,o)}function Vo(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(e||ho,o)}function zo(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTextureCube(e||mo,o)}function Uo(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(e||uo,o)}function Ho(t){switch(t){case 5126:return Mo;case 35664:return Eo;case 35665:return Ro;case 35666:return Ao;case 35674:return To;case 35675:return Po;case 35676:return Co;case 5124:case 35670:return Io;case 35667:case 35671:return Lo;case 35668:case 35672:return No;case 35669:case 35673:return Do;case 5125:return Oo;case 36294:return ko;case 36295:return Go;case 36296:return Bo;case 35678:case 36198:case 36298:case 36306:case 35682:return Fo;case 35679:case 36299:case 36307:return Vo;case 35680:case 36300:case 36308:case 36293:return zo;case 36289:case 36303:case 36311:case 36292:return Uo}}function Xo(t,e){t.uniform1fv(this.addr,e)}function Wo(t,e){const data=yo(e,this.size,2);t.uniform2fv(this.addr,data)}function jo(t,e){const data=yo(e,this.size,3);t.uniform3fv(this.addr,data)}function qo(t,e){const data=yo(e,this.size,4);t.uniform4fv(this.addr,data)}function Yo(t,e){const data=yo(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,data)}function $o(t,e){const data=yo(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,data)}function Ko(t,e){const data=yo(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,data)}function Qo(t,e){t.uniform1iv(this.addr,e)}function Zo(t,e){t.uniform2iv(this.addr,e)}function Jo(t,e){t.uniform3iv(this.addr,e)}function ts(t,e){t.uniform4iv(this.addr,e)}function es(t,e){t.uniform1uiv(this.addr,e)}function ns(t,e){t.uniform2uiv(this.addr,e)}function is(t,e){t.uniform3uiv(this.addr,e)}function rs(t,e){t.uniform4uiv(this.addr,e)}function as(t,e,n){const r=e.length,o=wo(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTexture2D(e[i]||co,o[i])}function os(t,e,n){const r=e.length,o=wo(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTexture3D(e[i]||ho,o[i])}function ss(t,e,n){const r=e.length,o=wo(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTextureCube(e[i]||mo,o[i])}function ls(t,e,n){const r=e.length,o=wo(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTexture2DArray(e[i]||uo,o[i])}function ps(t){switch(t){case 5126:return Xo;case 35664:return Wo;case 35665:return jo;case 35666:return qo;case 35674:return Yo;case 35675:return $o;case 35676:return Ko;case 5124:case 35670:return Qo;case 35667:case 35671:return Zo;case 35668:case 35672:return Jo;case 35669:case 35673:return ts;case 5125:return es;case 36294:return ns;case 36295:return is;case 36296:return rs;case 35678:case 36198:case 36298:case 36306:case 35682:return as;case 35679:case 36299:case 36307:return os;case 35680:case 36300:case 36308:case 36293:return ss;case 36289:case 36303:case 36311:case 36292:return ls}}function cs(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=Ho(e.type)}function us(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=ps(e.type)}function hs(t){this.id=t,this.seq=[],this.map={}}hs.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const u=r[i];u.setValue(t,e[u.id],n)}};const ds=/(\w+)(\])?(\[|\.)?/g;function ms(t,e){t.seq.push(e),t.map[e.id]=e}function fs(t,e,n){const path=t.name,r=path.length;for(ds.lastIndex=0;;){const o=ds.exec(path),l=ds.lastIndex;let c=o[1];const h="]"===o[2],d=o[3];if(h&&(c|=0),void 0===d||"["===d&&l+2===r){ms(n,void 0===d?new cs(c,t,e):new us(c,t,e));break}{let t=n.map[c];void 0===t&&(t=new hs(c),ms(n,t)),n=t}}}function gs(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);fs(n,t.getUniformLocation(e,n.name),this)}}function vs(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}gs.prototype.setValue=function(t,e,n,r){const u=this.map[e];void 0!==u&&u.setValue(t,n,r)},gs.prototype.setOptional=function(t,object,e){const n=object[e];void 0!==n&&this.setValue(t,e,n)},gs.upload=function(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const u=e[i],o=n[u.id];!1!==o.needsUpdate&&u.setValue(t,o.value,r)}},gs.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const u=t[i];u.id in e&&n.push(u)}return n};let xs=0;function _s(t,e){const n=t.split("\n"),r=[],o=Math.max(e-6,0),l=Math.min(e+6,n.length);for(let i=o;i<l;i++)r.push(i+1+": "+n[i]);return r.join("\n")}function ys(t){switch(t){case Ge:return["Linear","( value )"];case Be:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function bs(t,e,n){const r=t.getShaderParameter(e,35713),o=t.getShaderInfoLog(e).trim();if(r&&""===o)return"";const l=/ERROR: 0:(\d+)/.exec(o);if(l){const r=parseInt(l[0]);return n.toUpperCase()+"\n\n"+o+"\n\n"+_s(t.getShaderSource(e),r)}return o}function Ss(t,e){const n=ys(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ws(t,e){let n;switch(e){case st:n="Linear";break;case lt:n="Reinhard";break;case pt:n="OptimizedCineon";break;case ct:n="ACESFilmic";break;case ut:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ms(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(As).join("\n")}function Es(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}function Rs(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i),o=r.name;let l=1;35674===r.type&&(l=2),35675===r.type&&(l=3),35676===r.type&&(l=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}function As(t){return""!==t}function Ts(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ps(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Cs=/^[ \t]*#include +<([\w\d./]+)>/gm;function Is(t){return t.replace(Cs,Ls)}function Ls(t,e){const n=Aa[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Is(n)}const Ns=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Ds=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Os(t){return t.replace(Ds,Gs).replace(Ns,ks)}function ks(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Gs(t,e,n,r)}function Gs(t,e,n,r){let o="";for(let i=parseInt(e);i<parseInt(n);i++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return o}function Bs(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Fs(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===v?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===x?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===_&&(e="SHADOWMAP_TYPE_VSM"),e}function Vs(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case mt:case ft:e="ENVMAP_TYPE_CUBE";break;case xt:e="ENVMAP_TYPE_CUBE_UV"}return e}function zs(t){let e="ENVMAP_MODE_REFLECTION";return t.envMap&&t.envMapMode===ft&&(e="ENVMAP_MODE_REFRACTION"),e}function Us(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case nt:e="ENVMAP_BLENDING_MULTIPLY";break;case it:e="ENVMAP_BLENDING_MIX";break;case at:e="ENVMAP_BLENDING_ADD"}return e}function Hs(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function Xs(t,e,n,r){const o=t.getContext(),l=n.defines;let c=n.vertexShader,h=n.fragmentShader;const d=Fs(n),m=Vs(n),f=zs(n),v=Us(n),x=Hs(n),_=n.isWebGL2?"":Ms(n),y=Es(l),S=o.createProgram();let w,M,E=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(w=[y].filter(As).join("\n"),w.length>0&&(w+="\n"),M=[_,y].filter(As).join("\n"),M.length>0&&(M+="\n")):(w=[Bs(n),"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(As).join("\n"),M=[_,Bs(n),"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.envMap?"#define "+f:"",n.envMap?"#define "+v:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ot?"#define TONE_MAPPING":"",n.toneMapping!==ot?Aa.tonemapping_pars_fragment:"",n.toneMapping!==ot?ws("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Aa.encodings_pars_fragment,Ss("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(As).join("\n")),c=Is(c),c=Ts(c,n),c=Ps(c,n),h=Is(h),h=Ts(h,n),h=Ps(h,n),c=Os(c),h=Os(h),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(E="#version 300 es\n",w=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+w,M=["#define varying in",n.glslVersion===$e?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===$e?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+M);const R=E+M+h,A=vs(o,35633,E+w+c),T=vs(o,35632,R);if(o.attachShader(S,A),o.attachShader(S,T),void 0!==n.index0AttributeName?o.bindAttribLocation(S,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(S,0,"position"),o.linkProgram(S),t.debug.checkShaderErrors){const t=o.getProgramInfoLog(S).trim(),e=o.getShaderInfoLog(A).trim(),n=o.getShaderInfoLog(T).trim();let r=!0,l=!0;if(!1===o.getProgramParameter(S,35714)){r=!1;const e=bs(o,A,"vertex"),n=bs(o,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(S,35715)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}else""!==t?console.warn("THREE.WebGLProgram: Program Info Log:",t):""!==e&&""!==n||(l=!1);l&&(this.diagnostics={runnable:r,programLog:t,vertexShader:{log:e,prefix:w},fragmentShader:{log:n,prefix:M}})}let P,C;return o.deleteShader(A),o.deleteShader(T),this.getUniforms=function(){return void 0===P&&(P=new gs(o,S)),P},this.getAttributes=function(){return void 0===C&&(C=Rs(o,S)),C},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(S),this.program=void 0},this.name=n.shaderName,this.id=xs++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=A,this.fragmentShader=T,this}let Ws=0;class js{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),o=this._getShaderStage(n),l=this._getShaderCacheForMaterial(t);return!1===l.has(r)&&(l.add(r),r.usedTimes++),!1===l.has(o)&&(l.add(o),o.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const t of e)t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(code){const t=this.shaderCache;if(!1===t.has(code)){const e=new qs(code);t.set(code,e)}return t.get(code)}}class qs{constructor(code){this.id=Ws++,this.code=code,this.usedTimes=0}}function Ys(t,e,n,r,o,l,c){const h=new Xi,d=new js,m=[],f=o.isWebGL2,v=o.logarithmicDepthBuffer,x=o.vertexTextures;let _=o.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(l,h,m,M,object){const E=M.fog,A=object.geometry,T=l.isMeshStandardMaterial?M.environment:null,P=(l.isMeshStandardMaterial?n:e).get(l.envMap||T),C=P&&P.mapping===xt?P.image.height:null,I=y[l.type];null!==l.precision&&(_=o.getMaxPrecision(l.precision),_!==l.precision&&console.warn("THREE.WebGLProgram.getParameters:",l.precision,"not supported, using",_,"instead."));const L=A.morphAttributes.position||A.morphAttributes.normal||A.morphAttributes.color,N=void 0!==L?L.length:0;let D,O,k,G,B=0;if(void 0!==A.morphAttributes.position&&(B=1),void 0!==A.morphAttributes.normal&&(B=2),void 0!==A.morphAttributes.color&&(B=3),I){const t=Pa[I];D=t.vertexShader,O=t.fragmentShader}else D=l.vertexShader,O=l.fragmentShader,d.update(l),k=d.getVertexShaderID(l),G=d.getFragmentShaderID(l);const F=t.getRenderTarget(),V=l.alphaTest>0,z=l.clearcoat>0;return{isWebGL2:f,shaderID:I,shaderName:l.type,vertexShader:D,fragmentShader:O,defines:l.defines,customVertexShaderID:k,customFragmentShaderID:G,isRawShaderMaterial:!0===l.isRawShaderMaterial,glslVersion:l.glslVersion,precision:_,instancing:!0===object.isInstancedMesh,instancingColor:!0===object.isInstancedMesh&&null!==object.instanceColor,supportsVertexTextures:x,outputEncoding:null===F?t.outputEncoding:!0===F.isXRRenderTarget?F.texture.encoding:Ge,map:!!l.map,matcap:!!l.matcap,envMap:!!P,envMapMode:P&&P.mapping,envMapCubeUVHeight:C,lightMap:!!l.lightMap,aoMap:!!l.aoMap,emissiveMap:!!l.emissiveMap,bumpMap:!!l.bumpMap,normalMap:!!l.normalMap,objectSpaceNormalMap:l.normalMapType===Ue,tangentSpaceNormalMap:l.normalMapType===ze,decodeVideoTexture:!!l.map&&!0===l.map.isVideoTexture&&l.map.encoding===Be,clearcoat:z,clearcoatMap:z&&!!l.clearcoatMap,clearcoatRoughnessMap:z&&!!l.clearcoatRoughnessMap,clearcoatNormalMap:z&&!!l.clearcoatNormalMap,displacementMap:!!l.displacementMap,roughnessMap:!!l.roughnessMap,metalnessMap:!!l.metalnessMap,specularMap:!!l.specularMap,specularIntensityMap:!!l.specularIntensityMap,specularColorMap:!!l.specularColorMap,opaque:!1===l.transparent&&l.blending===R,alphaMap:!!l.alphaMap,alphaTest:V,gradientMap:!!l.gradientMap,sheen:l.sheen>0,sheenColorMap:!!l.sheenColorMap,sheenRoughnessMap:!!l.sheenRoughnessMap,transmission:l.transmission>0,transmissionMap:!!l.transmissionMap,thicknessMap:!!l.thicknessMap,combine:l.combine,vertexTangents:!!l.normalMap&&!!A.attributes.tangent,vertexColors:l.vertexColors,vertexAlphas:!0===l.vertexColors&&!!A.attributes.color&&4===A.attributes.color.itemSize,vertexUvs:!!(l.map||l.bumpMap||l.normalMap||l.specularMap||l.alphaMap||l.emissiveMap||l.roughnessMap||l.metalnessMap||l.clearcoatMap||l.clearcoatRoughnessMap||l.clearcoatNormalMap||l.displacementMap||l.transmissionMap||l.thicknessMap||l.specularIntensityMap||l.specularColorMap||l.sheenColorMap||l.sheenRoughnessMap),uvsVertexOnly:!(l.map||l.bumpMap||l.normalMap||l.specularMap||l.alphaMap||l.emissiveMap||l.roughnessMap||l.metalnessMap||l.clearcoatNormalMap||l.transmission>0||l.transmissionMap||l.thicknessMap||l.specularIntensityMap||l.specularColorMap||l.sheen>0||l.sheenColorMap||l.sheenRoughnessMap||!l.displacementMap),fog:!!E,useFog:!0===l.fog,fogExp2:E&&E.isFogExp2,flatShading:!!l.flatShading,sizeAttenuation:l.sizeAttenuation,logarithmicDepthBuffer:v,skinning:!0===object.isSkinnedMesh,morphTargets:void 0!==A.morphAttributes.position,morphNormals:void 0!==A.morphAttributes.normal,morphColors:void 0!==A.morphAttributes.color,morphTargetsCount:N,morphTextureStride:B,numDirLights:h.directional.length,numPointLights:h.point.length,numSpotLights:h.spot.length,numRectAreaLights:h.rectArea.length,numHemiLights:h.hemi.length,numDirLightShadows:h.directionalShadowMap.length,numPointLightShadows:h.pointShadowMap.length,numSpotLightShadows:h.spotShadowMap.length,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:l.dithering,shadowMapEnabled:t.shadowMap.enabled&&m.length>0,shadowMapType:t.shadowMap.type,toneMapping:l.toneMapped?t.toneMapping:ot,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:l.premultipliedAlpha,doubleSided:l.side===w,flipSided:l.side===S,useDepthPacking:!!l.depthPacking,depthPacking:l.depthPacking||0,index0AttributeName:l.index0AttributeName,extensionDerivatives:l.extensions&&l.extensions.derivatives,extensionFragDepth:l.extensions&&l.extensions.fragDepth,extensionDrawBuffers:l.extensions&&l.extensions.drawBuffers,extensionShaderTextureLOD:l.extensions&&l.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:l.customProgramCacheKey()}}function E(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(A(n,e),T(n,e),n.push(t.outputEncoding)),n.push(e.customProgramCacheKey),n.join()}function A(t,e){t.push(e.precision),t.push(e.outputEncoding),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.combine),t.push(e.vertexUvs),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}function T(t,e){h.disableAll(),e.isWebGL2&&h.enable(0),e.supportsVertexTextures&&h.enable(1),e.instancing&&h.enable(2),e.instancingColor&&h.enable(3),e.map&&h.enable(4),e.matcap&&h.enable(5),e.envMap&&h.enable(6),e.lightMap&&h.enable(7),e.aoMap&&h.enable(8),e.emissiveMap&&h.enable(9),e.bumpMap&&h.enable(10),e.normalMap&&h.enable(11),e.objectSpaceNormalMap&&h.enable(12),e.tangentSpaceNormalMap&&h.enable(13),e.clearcoat&&h.enable(14),e.clearcoatMap&&h.enable(15),e.clearcoatRoughnessMap&&h.enable(16),e.clearcoatNormalMap&&h.enable(17),e.displacementMap&&h.enable(18),e.specularMap&&h.enable(19),e.roughnessMap&&h.enable(20),e.metalnessMap&&h.enable(21),e.gradientMap&&h.enable(22),e.alphaMap&&h.enable(23),e.alphaTest&&h.enable(24),e.vertexColors&&h.enable(25),e.vertexAlphas&&h.enable(26),e.vertexUvs&&h.enable(27),e.vertexTangents&&h.enable(28),e.uvsVertexOnly&&h.enable(29),e.fog&&h.enable(30),t.push(h.mask),h.disableAll(),e.useFog&&h.enable(0),e.flatShading&&h.enable(1),e.logarithmicDepthBuffer&&h.enable(2),e.skinning&&h.enable(3),e.morphTargets&&h.enable(4),e.morphNormals&&h.enable(5),e.morphColors&&h.enable(6),e.premultipliedAlpha&&h.enable(7),e.shadowMapEnabled&&h.enable(8),e.physicallyCorrectLights&&h.enable(9),e.doubleSided&&h.enable(10),e.flipSided&&h.enable(11),e.useDepthPacking&&h.enable(12),e.dithering&&h.enable(13),e.specularIntensityMap&&h.enable(14),e.specularColorMap&&h.enable(15),e.transmission&&h.enable(16),e.transmissionMap&&h.enable(17),e.thicknessMap&&h.enable(18),e.sheen&&h.enable(19),e.sheenColorMap&&h.enable(20),e.sheenRoughnessMap&&h.enable(21),e.decodeVideoTexture&&h.enable(22),e.opaque&&h.enable(23),t.push(h.mask)}function P(t){const e=y[t.type];let n;if(e){const t=Pa[e];n=oa.clone(t.uniforms)}else n=t.uniforms;return n}function C(e,n){let r;for(let p=0,t=m.length;p<t;p++){const t=m[p];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Xs(t,n,e,l),m.push(r)),r}function I(t){if(0==--t.usedTimes){const i=m.indexOf(t);m[i]=m[m.length-1],m.pop(),t.destroy()}}function L(t){d.remove(t)}function N(){d.dispose()}return{getParameters:M,getProgramCacheKey:E,getUniforms:P,acquireProgram:C,releaseProgram:I,releaseShaderCache:L,programs:m,dispose:N}}function $s(){let t=new WeakMap;function e(object){let map=t.get(object);return void 0===map&&(map={},t.set(object,map)),map}function n(object){t.delete(object)}function r(object,e,n){t.get(object)[e]=n}function o(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:o}}function Ks(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function Qs(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function Zs(){const t=[];let e=0;const n=[],r=[],o=[];function l(){e=0,n.length=0,r.length=0,o.length=0}function c(object,n,r,o,l,c){let h=t[e];return void 0===h?(h={id:object.id,object:object,geometry:n,material:r,groupOrder:o,renderOrder:object.renderOrder,z:l,group:c},t[e]=h):(h.id=object.id,h.object=object,h.geometry=n,h.material=r,h.groupOrder=o,h.renderOrder=object.renderOrder,h.z=l,h.group=c),e++,h}function h(object,t,e,l,h,d){const m=c(object,t,e,l,h,d);e.transmission>0?r.push(m):!0===e.transparent?o.push(m):n.push(m)}function d(object,t,e,l,h,d){const m=c(object,t,e,l,h,d);e.transmission>0?r.unshift(m):!0===e.transparent?o.unshift(m):n.unshift(m)}function m(t,e){n.length>1&&n.sort(t||Ks),r.length>1&&r.sort(e||Qs),o.length>1&&o.sort(e||Qs)}function f(){for(let i=e,n=t.length;i<n;i++){const e=t[i];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}}return{opaque:n,transmissive:r,transparent:o,init:l,push:h,unshift:d,finish:f,sort:m}}function Js(){let t=new WeakMap;function e(e,n){let r;return!1===t.has(e)?(r=new Zs,t.set(e,[r])):n>=t.get(e).length?(r=new Zs,t.get(e).push(r)):r=t.get(e)[n],r}function n(){t=new WeakMap}return{get:e,dispose:n}}function tl(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ei,color:new Vn};break;case"SpotLight":n={position:new ei,direction:new ei,color:new Vn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ei,color:new Vn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ei,skyColor:new Vn,groundColor:new Vn};break;case"RectAreaLight":n={color:new Vn,position:new ei,halfWidth:new ei,halfHeight:new ei}}return t[e.id]=n,n}}}function el(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Rn,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}let nl=0;function il(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function rl(t,e){const n=new tl,r=el(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let i=0;i<9;i++)o.probe.push(new ei);const l=new ei,c=new Ni,h=new Ni;function d(l,c){let h=0,g=0,b=0;for(let i=0;i<9;i++)o.probe[i].set(0,0,0);let d=0,m=0,f=0,v=0,x=0,_=0,y=0,S=0;l.sort(il);const w=!0!==c?Math.PI:1;for(let i=0,t=l.length;i<t;i++){const t=l[i],e=t.color,c=t.intensity,M=t.distance,E=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)h+=e.r*c*w,g+=e.g*c*w,b+=e.b*c*w;else if(t.isLightProbe)for(let e=0;e<9;e++)o.probe[e].addScaledVector(t.sh.coefficients[e],c);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*w),t.castShadow){const shadow=t.shadow,e=r.get(t);e.shadowBias=shadow.bias,e.shadowNormalBias=shadow.normalBias,e.shadowRadius=shadow.radius,e.shadowMapSize=shadow.mapSize,o.directionalShadow[d]=e,o.directionalShadowMap[d]=E,o.directionalShadowMatrix[d]=t.shadow.matrix,_++}o.directional[d]=e,d++}else if(t.isSpotLight){const l=n.get(t);if(l.position.setFromMatrixPosition(t.matrixWorld),l.color.copy(e).multiplyScalar(c*w),l.distance=M,l.coneCos=Math.cos(t.angle),l.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),l.decay=t.decay,t.castShadow){const shadow=t.shadow,e=r.get(t);e.shadowBias=shadow.bias,e.shadowNormalBias=shadow.normalBias,e.shadowRadius=shadow.radius,e.shadowMapSize=shadow.mapSize,o.spotShadow[f]=e,o.spotShadowMap[f]=E,o.spotShadowMatrix[f]=t.shadow.matrix,S++}o.spot[f]=l,f++}else if(t.isRectAreaLight){const r=n.get(t);r.color.copy(e).multiplyScalar(c),r.halfWidth.set(.5*t.width,0,0),r.halfHeight.set(0,.5*t.height,0),o.rectArea[v]=r,v++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*w),e.distance=t.distance,e.decay=t.decay,t.castShadow){const shadow=t.shadow,e=r.get(t);e.shadowBias=shadow.bias,e.shadowNormalBias=shadow.normalBias,e.shadowRadius=shadow.radius,e.shadowMapSize=shadow.mapSize,e.shadowCameraNear=shadow.camera.near,e.shadowCameraFar=shadow.camera.far,o.pointShadow[m]=e,o.pointShadowMap[m]=E,o.pointShadowMatrix[m]=t.shadow.matrix,y++}o.point[m]=e,m++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(c*w),e.groundColor.copy(t.groundColor).multiplyScalar(c*w),o.hemi[x]=e,x++}}v>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(o.rectAreaLTC1=Ta.LTC_FLOAT_1,o.rectAreaLTC2=Ta.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(o.rectAreaLTC1=Ta.LTC_HALF_1,o.rectAreaLTC2=Ta.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=h,o.ambient[1]=g,o.ambient[2]=b;const M=o.hash;M.directionalLength===d&&M.pointLength===m&&M.spotLength===f&&M.rectAreaLength===v&&M.hemiLength===x&&M.numDirectionalShadows===_&&M.numPointShadows===y&&M.numSpotShadows===S||(o.directional.length=d,o.spot.length=f,o.rectArea.length=v,o.point.length=m,o.hemi.length=x,o.directionalShadow.length=_,o.directionalShadowMap.length=_,o.pointShadow.length=y,o.pointShadowMap.length=y,o.spotShadow.length=S,o.spotShadowMap.length=S,o.directionalShadowMatrix.length=_,o.pointShadowMatrix.length=y,o.spotShadowMatrix.length=S,M.directionalLength=d,M.pointLength=m,M.spotLength=f,M.rectAreaLength=v,M.hemiLength=x,M.numDirectionalShadows=_,M.numPointShadows=y,M.numSpotShadows=S,o.version=nl++)}function m(t,e){let n=0,r=0,d=0,m=0,f=0;const v=e.matrixWorldInverse;for(let i=0,e=t.length;i<e;i++){const e=t[i];if(e.isDirectionalLight){const t=o.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),l.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(l),t.direction.transformDirection(v),n++}else if(e.isSpotLight){const t=o.spot[d];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(v),t.direction.setFromMatrixPosition(e.matrixWorld),l.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(l),t.direction.transformDirection(v),d++}else if(e.isRectAreaLight){const t=o.rectArea[m];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(v),h.identity(),c.copy(e.matrixWorld),c.premultiply(v),h.extractRotation(c),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(h),t.halfHeight.applyMatrix4(h),m++}else if(e.isPointLight){const t=o.point[r];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(v),r++}else if(e.isHemisphereLight){const t=o.hemi[f];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(v),f++}}}return{setup:d,setupView:m,state:o}}function al(t,e){const n=new rl(t,e),r=[],o=[];function l(){r.length=0,o.length=0}function c(t){r.push(t)}function h(t){o.push(t)}function d(t){n.setup(r,t)}function m(t){n.setupView(r,t)}return{init:l,state:{lightsArray:r,shadowsArray:o,lights:n},setupLights:d,setupLightsView:m,pushLight:c,pushShadow:h}}function sl(t,e){let n=new WeakMap;function r(r,o=0){let l;return!1===n.has(r)?(l=new al(t,e),n.set(r,[l])):o>=n.get(r).length?(l=new al(t,e),n.get(r).push(l)):l=n.get(r)[o],l}function o(){n=new WeakMap}return{get:r,dispose:o}}class ll extends _r{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=Fe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(source){return super.copy(source),this.depthPacking=source.depthPacking,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this}}ll.prototype.isMeshDepthMaterial=!0;class pl extends _r{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new ei,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(source){return super.copy(source),this.referencePosition.copy(source.referencePosition),this.nearDistance=source.nearDistance,this.farDistance=source.farDistance,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this}}pl.prototype.isMeshDistanceMaterial=!0;const cl="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",hl="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function ml(t,e,n){let r=new wa;const o=new Rn,l=new Rn,c=new qn,h=new ll({depthPacking:Ve}),d=new pl,m={},f=n.maxTextureSize,x={0:S,1:y,2:w},M=new pa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Rn},radius:{value:4}},vertexShader:cl,fragmentShader:hl}),R=M.clone();R.defines.HORIZONTAL_PASS=1;const A=new kr;A.setAttribute("position",new Mr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new ta(A,M),P=this;function C(shadow,n){const r=e.update(T);M.defines.VSM_SAMPLES!==shadow.blurSamples&&(M.defines.VSM_SAMPLES=shadow.blurSamples,R.defines.VSM_SAMPLES=shadow.blurSamples,M.needsUpdate=!0,R.needsUpdate=!0),M.uniforms.shadow_pass.value=shadow.map.texture,M.uniforms.resolution.value=shadow.mapSize,M.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.mapPass),t.clear(),t.renderBufferDirect(n,null,r,M,T,null),R.uniforms.shadow_pass.value=shadow.mapPass.texture,R.uniforms.resolution.value=shadow.mapSize,R.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.map),t.clear(),t.renderBufferDirect(n,null,r,R,T,null)}function I(object,e,n,r,o,l){let c=null;const f=!0===n.isPointLight?object.customDistanceMaterial:object.customDepthMaterial;if(c=void 0!==f?f:!0===n.isPointLight?d:h,t.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length||e.displacementMap&&0!==e.displacementScale||e.alphaMap&&e.alphaTest>0){const t=c.uuid,n=e.uuid;let r=m[t];void 0===r&&(r={},m[t]=r);let o=r[n];void 0===o&&(o=c.clone(),r[n]=o),c=o}return c.visible=e.visible,c.wireframe=e.wireframe,c.side=l===_?null!==e.shadowSide?e.shadowSide:e.side:null!==e.shadowSide?e.shadowSide:x[e.side],c.alphaMap=e.alphaMap,c.alphaTest=e.alphaTest,c.clipShadows=e.clipShadows,c.clippingPlanes=e.clippingPlanes,c.clipIntersection=e.clipIntersection,c.displacementMap=e.displacementMap,c.displacementScale=e.displacementScale,c.displacementBias=e.displacementBias,c.wireframeLinewidth=e.wireframeLinewidth,c.linewidth=e.linewidth,!0===n.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(n.matrixWorld),c.nearDistance=r,c.farDistance=o),c}function L(object,n,o,l,c){if(!1===object.visible)return;if(object.layers.test(n.layers)&&(object.isMesh||object.isLine||object.isPoints)&&(object.castShadow||object.receiveShadow&&c===_)&&(!object.frustumCulled||r.intersectsObject(object))){object.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,object.matrixWorld);const n=e.update(object),r=object.material;if(Array.isArray(r)){const e=n.groups;for(let h=0,d=e.length;h<d;h++){const d=e[h],m=r[d.materialIndex];if(m&&m.visible){const e=I(object,m,l,o.near,o.far,c);t.renderBufferDirect(o,null,n,e,object,d)}}}else if(r.visible){const e=I(object,r,l,o.near,o.far,c);t.renderBufferDirect(o,null,n,e,object,null)}}const h=object.children;for(let i=0,t=h.length;i<t;i++)L(h[i],n,o,l,c)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v,this.render=function(e,n,h){if(!1===P.enabled)return;if(!1===P.autoUpdate&&!1===P.needsUpdate)return;if(0===e.length)return;const d=t.getRenderTarget(),m=t.getActiveCubeFace(),v=t.getActiveMipmapLevel(),x=t.state;x.setBlending(E),x.buffers.color.setClear(1,1,1,1),x.buffers.depth.setTest(!0),x.setScissorTest(!1);for(let i=0,d=e.length;i<d;i++){const d=e[i],shadow=d.shadow;if(void 0===shadow){console.warn("THREE.WebGLShadowMap:",d,"has no shadow.");continue}if(!1===shadow.autoUpdate&&!1===shadow.needsUpdate)continue;o.copy(shadow.mapSize);const m=shadow.getFrameExtents();if(o.multiply(m),l.copy(shadow.mapSize),(o.x>f||o.y>f)&&(o.x>f&&(l.x=Math.floor(f/m.x),o.x=l.x*m.x,shadow.mapSize.x=l.x),o.y>f&&(l.y=Math.floor(f/m.y),o.y=l.y*m.y,shadow.mapSize.y=l.y)),null!==shadow.map||shadow.isPointLightShadow||this.type!==_||(shadow.map=new Yn(o.x,o.y),shadow.map.texture.name=d.name+".shadowMap",shadow.mapPass=new Yn(o.x,o.y),shadow.camera.updateProjectionMatrix()),null===shadow.map){const t={minFilter:St,magFilter:St,format:zt};shadow.map=new Yn(o.x,o.y,t),shadow.map.texture.name=d.name+".shadowMap",shadow.camera.updateProjectionMatrix()}t.setRenderTarget(shadow.map),t.clear();const v=shadow.getViewportCount();for(let t=0;t<v;t++){const e=shadow.getViewport(t);c.set(l.x*e.x,l.y*e.y,l.x*e.z,l.y*e.w),x.viewport(c),shadow.updateMatrices(d,t),r=shadow.getFrustum(),L(n,h,shadow.camera,d,this.type)}shadow.isPointLightShadow||this.type!==_||C(shadow,h),shadow.needsUpdate=!1}P.needsUpdate=!1,t.setRenderTarget(d,m,v)}}function fl(t,e,n){const r=n.isWebGL2;function o(){let e=!1;const n=new qn;let r=null;const o=new qn(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,g,b,a,r){!0===r&&(e*=a,g*=a,b*=a),n.set(e,g,b,a),!1===o.equals(n)&&(t.clearColor(e,g,b,a),o.copy(n))},reset:function(){e=!1,r=null,o.set(-1,0,0,0)}}}function l(){let e=!1,n=null,r=null,o=null;return{setTest:function(t){t?Lt(2929):Nt(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case Y:t.depthFunc(512);break;case $:t.depthFunc(519);break;case K:t.depthFunc(513);break;case Q:t.depthFunc(515);break;case Z:t.depthFunc(514);break;case J:t.depthFunc(518);break;case tt:t.depthFunc(516);break;case et:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){o!==e&&(t.clearDepth(e),o=e)},reset:function(){e=!1,n=null,r=null,o=null}}}function c(){let e=!1,n=null,r=null,o=null,l=null,c=null,h=null,d=null,m=null;return{setTest:function(t){e||(t?Lt(2960):Nt(2960))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,c){r===e&&o===n&&l===c||(t.stencilFunc(e,n,c),r=e,o=n,l=c)},setOp:function(e,n,r){c===e&&h===n&&d===r||(t.stencilOp(e,n,r),c=e,h=n,d=r)},setLocked:function(t){e=t},setClear:function(e){m!==e&&(t.clearStencil(e),m=e)},reset:function(){e=!1,n=null,r=null,o=null,l=null,c=null,h=null,d=null,m=null}}}const h=new o,v=new l,x=new c;let _={},y={},M=new WeakMap,nt=[],it=null,at=!1,ot=null,st=null,lt=null,pt=null,ct=null,ut=null,ht=null,mt=!1,ft=null,gt=null,vt=null,xt=null,_t=null;const yt=t.getParameter(35661);let bt=!1,St=0;const wt=t.getParameter(7938);-1!==wt.indexOf("WebGL")?(St=parseFloat(/^WebGL (\d)/.exec(wt)[1]),bt=St>=1):-1!==wt.indexOf("OpenGL ES")&&(St=parseFloat(/^OpenGL ES (\d)/.exec(wt)[1]),bt=St>=2);let Mt=null,Et={};const Rt=t.getParameter(3088),At=t.getParameter(2978),Tt=(new qn).fromArray(Rt),Pt=(new qn).fromArray(At);function Ct(e,n,r){const data=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let i=0;i<r;i++)t.texImage2D(n+i,0,6408,1,1,0,6408,5121,data);return o}const It={};function Lt(e){!0!==_[e]&&(t.enable(e),_[e]=!0)}function Nt(e){!1!==_[e]&&(t.disable(e),_[e]=!1)}function Dt(e,n){return y[e]!==n&&(t.bindFramebuffer(e,n),y[e]=n,r&&(36009===e&&(y[36160]=n),36160===e&&(y[36009]=n)),!0)}function Ot(r,o){let l=nt,c=!1;if(r)if(l=M.get(o),void 0===l&&(l=[],M.set(o,l)),r.isWebGLMultipleRenderTargets){const t=r.texture;if(l.length!==t.length||36064!==l[0]){for(let i=0,e=t.length;i<e;i++)l[i]=36064+i;l.length=t.length,c=!0}}else 36064!==l[0]&&(l[0]=36064,c=!0);else 1029!==l[0]&&(l[0]=1029,c=!0);c&&(n.isWebGL2?t.drawBuffers(l):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(l))}function kt(e){return it!==e&&(t.useProgram(e),it=e,!0)}It[3553]=Ct(3553,3553,1),It[34067]=Ct(34067,34069,6),h.setClear(0,0,0,1),v.setClear(1),x.setClear(0),Lt(2929),v.setFunc(Q),zt(!1),Ut(m),Lt(2884),Ft(E);const Gt={[I]:32774,[L]:32778,[N]:32779};if(r)Gt[D]=32775,Gt[O]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(Gt[D]=t.MIN_EXT,Gt[O]=t.MAX_EXT)}const Bt={[k]:0,[G]:1,[B]:768,[V]:770,[j]:776,[X]:774,[U]:772,[F]:769,[z]:771,[W]:775,[H]:773};function Ft(e,n,r,o,l,c,h,d){if(e!==E){if(!1===at&&(Lt(3042),at=!0),e===C)l=l||n,c=c||r,h=h||o,n===st&&l===ct||(t.blendEquationSeparate(Gt[n],Gt[l]),st=n,ct=l),r===lt&&o===pt&&c===ut&&h===ht||(t.blendFuncSeparate(Bt[r],Bt[o],Bt[c],Bt[h]),lt=r,pt=o,ut=c,ht=h),ot=e,mt=null;else if(e!==ot||d!==mt){if(st===I&&ct===I||(t.blendEquation(32774),st=I,ct=I),d)switch(e){case R:t.blendFuncSeparate(1,771,1,771);break;case A:t.blendFunc(1,1);break;case T:t.blendFuncSeparate(0,769,0,1);break;case P:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case R:t.blendFuncSeparate(770,771,1,771);break;case A:t.blendFunc(770,1);break;case T:t.blendFuncSeparate(0,769,0,1);break;case P:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}lt=null,pt=null,ut=null,ht=null,ot=e,mt=d}}else!0===at&&(Nt(3042),at=!1)}function Vt(t,e){t.side===w?Nt(2884):Lt(2884);let n=t.side===S;e&&(n=!n),zt(n),t.blending===R&&!1===t.transparent?Ft(E):Ft(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),v.setFunc(t.depthFunc),v.setTest(t.depthTest),v.setMask(t.depthWrite),h.setMask(t.colorWrite);const r=t.stencilWrite;x.setTest(r),r&&(x.setMask(t.stencilWriteMask),x.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),x.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Xt(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?Lt(32926):Nt(32926)}function zt(e){ft!==e&&(e?t.frontFace(2304):t.frontFace(2305),ft=e)}function Ut(e){e!==d?(Lt(2884),e!==gt&&(e===m?t.cullFace(1029):e===f?t.cullFace(1028):t.cullFace(1032))):Nt(2884),gt=e}function Ht(e){e!==vt&&(bt&&t.lineWidth(e),vt=e)}function Xt(e,n,r){e?(Lt(32823),xt===n&&_t===r||(t.polygonOffset(n,r),xt=n,_t=r)):Nt(32823)}function Wt(t){t?Lt(3089):Nt(3089)}function jt(e){void 0===e&&(e=33984+yt-1),Mt!==e&&(t.activeTexture(e),Mt=e)}function qt(e,n){null===Mt&&jt();let r=Et[Mt];void 0===r&&(r={type:void 0,texture:void 0},Et[Mt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||It[e]),r.type=e,r.texture=n)}function Yt(){const e=Et[Mt];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)}function $t(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Kt(){try{t.texSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Qt(){try{t.texSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Zt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Jt(){try{t.texStorage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function te(){try{t.texStorage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function ee(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function ne(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function ie(e){!1===Tt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),Tt.copy(e))}function re(e){!1===Pt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),Pt.copy(e))}function ae(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===r&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),_={},Mt=null,Et={},y={},M=new WeakMap,nt=[],it=null,at=!1,ot=null,st=null,lt=null,pt=null,ct=null,ut=null,ht=null,mt=!1,ft=null,gt=null,vt=null,xt=null,_t=null,Tt.set(0,0,t.canvas.width,t.canvas.height),Pt.set(0,0,t.canvas.width,t.canvas.height),h.reset(),v.reset(),x.reset()}return{buffers:{color:h,depth:v,stencil:x},enable:Lt,disable:Nt,bindFramebuffer:Dt,drawBuffers:Ot,useProgram:kt,setBlending:Ft,setMaterial:Vt,setFlipSided:zt,setCullFace:Ut,setLineWidth:Ht,setPolygonOffset:Xt,setScissorTest:Wt,activeTexture:jt,bindTexture:qt,unbindTexture:Yt,compressedTexImage2D:$t,texImage2D:ee,texImage3D:ne,texStorage2D:Jt,texStorage3D:te,texSubImage2D:Kt,texSubImage3D:Qt,compressedTexSubImage2D:Zt,scissor:ie,viewport:re,reset:ae}}function gl(t,e,n,r,o,l,c){const h=o.isWebGL2,d=o.maxTextures,m=o.maxCubemapSize,f=o.maxTextureSize,v=o.maxSamples,x=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,_=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let S;const w=new WeakMap;let M=!1;try{M="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function E(t,e){return M?new OffscreenCanvas(t,e):Pn("canvas")}function R(image,t,e,n){let r=1;if((image.width>n||image.height>n)&&(r=n/Math.max(image.width,image.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap){const n=t?bn:Math.floor,o=n(r*image.width),l=n(r*image.height);void 0===S&&(S=E(o,l));const canvas=e?E(o,l):S;return canvas.width=o,canvas.height=l,canvas.getContext("2d").drawImage(image,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+image.width+"x"+image.height+") to ("+o+"x"+l+")."),canvas}return"data"in image&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+image.width+"x"+image.height+")."),image}return image}function A(image){return _n(image.width)&&_n(image.height)}function T(t){return!h&&(t.wrapS!==yt||t.wrapT!==yt||t.minFilter!==St&&t.minFilter!==Et)}function P(t,e){return t.generateMipmaps&&e&&t.minFilter!==St&&t.minFilter!==Et}function C(e){t.generateMipmap(e)}function I(n,r,o,l,c=!1){if(!1===h)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let d=r;return 6403===r&&(5126===o&&(d=33326),5131===o&&(d=33325),5121===o&&(d=33321)),33319===r&&(5126===o&&(d=33328),5131===o&&(d=33327),5121===o&&(d=33323)),6408===r&&(5126===o&&(d=34836),5131===o&&(d=34842),5121===o&&(d=l===Be&&!1===c?35907:32856),32819===o&&(d=32854),32820===o&&(d=32855)),33325!==d&&33326!==d&&33327!==d&&33328!==d&&34842!==d&&34836!==d||e.get("EXT_color_buffer_float"),d}function L(t,image,e){return!0===P(t,e)||t.isFramebufferTexture&&t.minFilter!==St&&t.minFilter!==Et?Math.log2(Math.max(image.width,image.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?image.mipmaps.length:1}function N(t){return t===St||t===wt||t===Mt?9728:9729}function D(t){const e=t.target;e.removeEventListener("dispose",D),k(e),e.isVideoTexture&&y.delete(e)}function O(t){const e=t.target;e.removeEventListener("dispose",O),B(e)}function k(t){const e=r.get(t);if(void 0===e.__webglInit)return;const source=t.source,n=w.get(source);if(n){const r=n[e.__cacheKey];r.usedTimes--,0===r.usedTimes&&G(t),0===Object.keys(n).length&&w.delete(source)}r.remove(t)}function G(e){const n=r.get(e);t.deleteTexture(n.__webglTexture);const source=e.source;delete w.get(source)[n.__cacheKey],c.memory.textures--}function B(e){const n=e.texture,o=r.get(e),l=r.get(n);if(void 0!==l.__webglTexture&&(t.deleteTexture(l.__webglTexture),c.memory.textures--),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let i=0;i<6;i++)t.deleteFramebuffer(o.__webglFramebuffer[i]),o.__webglDepthbuffer&&t.deleteRenderbuffer(o.__webglDepthbuffer[i]);else t.deleteFramebuffer(o.__webglFramebuffer),o.__webglDepthbuffer&&t.deleteRenderbuffer(o.__webglDepthbuffer),o.__webglMultisampledFramebuffer&&t.deleteFramebuffer(o.__webglMultisampledFramebuffer),o.__webglColorRenderbuffer&&t.deleteRenderbuffer(o.__webglColorRenderbuffer),o.__webglDepthRenderbuffer&&t.deleteRenderbuffer(o.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(let i=0,e=n.length;i<e;i++){const e=r.get(n[i]);e.__webglTexture&&(t.deleteTexture(e.__webglTexture),c.memory.textures--),r.remove(n[i])}r.remove(n),r.remove(e)}let F=0;function V(){F=0}function z(){const t=F;return t>=d&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+d),F+=1,t}function U(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.encoding),e.join()}function H(t,slot){const e=r.get(t);if(t.isVideoTexture&&ut(t),!1===t.isRenderTargetTexture&&t.version>0&&e.__version!==t.version){const image=t.image;if(null===image)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==image.complete)return void Z(e,t,slot);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+slot),n.bindTexture(3553,e.__webglTexture)}function X(t,slot){const e=r.get(t);t.version>0&&e.__version!==t.version?Z(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(35866,e.__webglTexture))}function W(t,slot){const e=r.get(t);t.version>0&&e.__version!==t.version?Z(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(32879,e.__webglTexture))}function j(t,slot){const e=r.get(t);t.version>0&&e.__version!==t.version?J(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(34067,e.__webglTexture))}const Y={[_t]:10497,[yt]:33071,[bt]:33648},$={[St]:9728,[wt]:9984,[Mt]:9986,[Et]:9729,[Rt]:9985,[At]:9987};function K(n,l,c){if(c?(t.texParameteri(n,10242,Y[l.wrapS]),t.texParameteri(n,10243,Y[l.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,Y[l.wrapR]),t.texParameteri(n,10240,$[l.magFilter]),t.texParameteri(n,10241,$[l.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),l.wrapS===yt&&l.wrapT===yt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,N(l.magFilter)),t.texParameteri(n,10241,N(l.minFilter)),l.minFilter!==St&&l.minFilter!==Et&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const c=e.get("EXT_texture_filter_anisotropic");if(l.type===Dt&&!1===e.has("OES_texture_float_linear"))return;if(!1===h&&l.type===Ot&&!1===e.has("OES_texture_half_float_linear"))return;(l.anisotropy>1||r.get(l).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(l.anisotropy,o.getMaxAnisotropy())),r.get(l).__currentAnisotropy=l.anisotropy)}}function Q(e,n){let r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",D));const source=n.source;let o=w.get(source);void 0===o&&(o={},w.set(source,o));const l=U(n);if(l!==e.__cacheKey){void 0===o[l]&&(o[l]={texture:t.createTexture(),usedTimes:0},c.memory.textures++,r=!0),o[l].usedTimes++;const h=o[e.__cacheKey];void 0!==h&&(o[e.__cacheKey].usedTimes--,0===h.usedTimes&&G(n)),e.__cacheKey=l,e.__webglTexture=o[l].texture}return r}function Z(e,r,slot){let o=3553;r.isDataArrayTexture&&(o=35866),r.isData3DTexture&&(o=32879);const c=Q(e,r),source=r.source;if(n.activeTexture(33984+slot),n.bindTexture(o,e.__webglTexture),source.version!==source.__currentVersion||!0===c){t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);const d=T(r)&&!1===A(r.image);let image=R(r.image,d,!1,f);image=ht(r,image);const m=A(image)||h,v=l.convert(r.format,r.encoding);let x,_=l.convert(r.type),y=I(r.internalFormat,v,_,r.encoding,r.isVideoTexture);K(o,r,m);const S=r.mipmaps,w=h&&!0!==r.isVideoTexture,M=void 0===e.__version||!0===c,E=L(r,image,m);if(r.isDepthTexture)y=6402,h?y=r.type===Dt?36012:r.type===Nt?33190:r.type===Bt?35056:33189:r.type===Dt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Xt&&6402===y&&r.type!==It&&r.type!==Nt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=It,_=l.convert(r.type)),r.format===Wt&&6402===y&&(y=34041,r.type!==Bt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Bt,_=l.convert(r.type))),M&&(w?n.texStorage2D(3553,1,y,image.width,image.height):n.texImage2D(3553,0,y,image.width,image.height,0,v,_,null));else if(r.isDataTexture)if(S.length>0&&m){w&&M&&n.texStorage2D(3553,E,y,S[0].width,S[0].height);for(let i=0,t=S.length;i<t;i++)x=S[i],w?n.texSubImage2D(3553,i,0,0,x.width,x.height,v,_,x.data):n.texImage2D(3553,i,y,x.width,x.height,0,v,_,x.data);r.generateMipmaps=!1}else w?(M&&n.texStorage2D(3553,E,y,image.width,image.height),n.texSubImage2D(3553,0,0,0,image.width,image.height,v,_,image.data)):n.texImage2D(3553,0,y,image.width,image.height,0,v,_,image.data);else if(r.isCompressedTexture){w&&M&&n.texStorage2D(3553,E,y,S[0].width,S[0].height);for(let i=0,t=S.length;i<t;i++)x=S[i],r.format!==zt?null!==v?w?n.compressedTexSubImage2D(3553,i,0,0,x.width,x.height,v,x.data):n.compressedTexImage2D(3553,i,y,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?n.texSubImage2D(3553,i,0,0,x.width,x.height,v,_,x.data):n.texImage2D(3553,i,y,x.width,x.height,0,v,_,x.data)}else if(r.isDataArrayTexture)w?(M&&n.texStorage3D(35866,E,y,image.width,image.height,image.depth),n.texSubImage3D(35866,0,0,0,0,image.width,image.height,image.depth,v,_,image.data)):n.texImage3D(35866,0,y,image.width,image.height,image.depth,0,v,_,image.data);else if(r.isData3DTexture)w?(M&&n.texStorage3D(32879,E,y,image.width,image.height,image.depth),n.texSubImage3D(32879,0,0,0,0,image.width,image.height,image.depth,v,_,image.data)):n.texImage3D(32879,0,y,image.width,image.height,image.depth,0,v,_,image.data);else if(r.isFramebufferTexture){if(M)if(w)n.texStorage2D(3553,E,y,image.width,image.height);else{let t=image.width,e=image.height;for(let i=0;i<E;i++)n.texImage2D(3553,i,y,t,e,0,v,_,null),t>>=1,e>>=1}}else if(S.length>0&&m){w&&M&&n.texStorage2D(3553,E,y,S[0].width,S[0].height);for(let i=0,t=S.length;i<t;i++)x=S[i],w?n.texSubImage2D(3553,i,0,0,v,_,x):n.texImage2D(3553,i,y,v,_,x);r.generateMipmaps=!1}else w?(M&&n.texStorage2D(3553,E,y,image.width,image.height),n.texSubImage2D(3553,0,0,0,v,_,image)):n.texImage2D(3553,0,y,v,_,image);P(r,m)&&C(o),source.__currentVersion=source.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}function J(e,r,slot){if(6!==r.image.length)return;const o=Q(e,r),source=r.source;if(n.activeTexture(33984+slot),n.bindTexture(34067,e.__webglTexture),source.version!==source.__currentVersion||!0===o){t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);const o=r.isCompressedTexture||r.image[0].isCompressedTexture,c=r.image[0]&&r.image[0].isDataTexture,d=[];for(let i=0;i<6;i++)d[i]=o||c?c?r.image[i].image:r.image[i]:R(r.image[i],!1,!0,m),d[i]=ht(r,d[i]);const image=d[0],f=A(image)||h,v=l.convert(r.format,r.encoding),x=l.convert(r.type),_=I(r.internalFormat,v,x,r.encoding),y=h&&!0!==r.isVideoTexture,S=void 0===e.__version;let w,M=L(r,image,f);if(K(34067,r,f),o){y&&S&&n.texStorage2D(34067,M,_,image.width,image.height);for(let i=0;i<6;i++){w=d[i].mipmaps;for(let t=0;t<w.length;t++){const e=w[t];r.format!==zt?null!==v?y?n.compressedTexSubImage2D(34069+i,t,0,0,e.width,e.height,v,e.data):n.compressedTexImage2D(34069+i,t,_,e.width,e.height,0,e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(34069+i,t,0,0,e.width,e.height,v,x,e.data):n.texImage2D(34069+i,t,_,e.width,e.height,0,v,x,e.data)}}}else{w=r.mipmaps,y&&S&&(w.length>0&&M++,n.texStorage2D(34067,M,_,d[0].width,d[0].height));for(let i=0;i<6;i++)if(c){y?n.texSubImage2D(34069+i,0,0,0,d[i].width,d[i].height,v,x,d[i].data):n.texImage2D(34069+i,0,_,d[i].width,d[i].height,0,v,x,d[i].data);for(let t=0;t<w.length;t++){const e=w[t].image[i].image;y?n.texSubImage2D(34069+i,t+1,0,0,e.width,e.height,v,x,e.data):n.texImage2D(34069+i,t+1,_,e.width,e.height,0,v,x,e.data)}}else{y?n.texSubImage2D(34069+i,0,0,0,v,x,d[i]):n.texImage2D(34069+i,0,_,v,x,d[i]);for(let t=0;t<w.length;t++){const e=w[t];y?n.texSubImage2D(34069+i,t+1,0,0,v,x,e.image[i]):n.texImage2D(34069+i,t+1,_,v,x,e.image[i])}}}P(r,f)&&C(34067),source.__currentVersion=source.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}function tt(e,o,c,h,d){const m=l.convert(c.format,c.encoding),f=l.convert(c.type),v=I(c.internalFormat,m,f,c.encoding);r.get(o).__hasExternalTextures||(32879===d||35866===d?n.texImage3D(d,0,v,o.width,o.height,o.depth,0,m,f,null):n.texImage2D(d,0,v,o.width,o.height,0,m,f,null)),n.bindFramebuffer(36160,e),ct(o)?x.framebufferTexture2DMultisampleEXT(36160,h,d,r.get(c).__webglTexture,0,pt(o)):t.framebufferTexture2D(36160,h,d,r.get(c).__webglTexture,0),n.bindFramebuffer(36160,null)}function et(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let o=33189;if(r||ct(n)){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===Dt?o=36012:e.type===Nt&&(o=33190));const r=pt(n);ct(n)?x.renderbufferStorageMultisampleEXT(36161,r,o,n.width,n.height):t.renderbufferStorageMultisample(36161,r,o,n.width,n.height)}else t.renderbufferStorage(36161,o,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){const o=pt(n);r&&!1===ct(n)?t.renderbufferStorageMultisample(36161,o,35056,n.width,n.height):ct(n)?x.renderbufferStorageMultisampleEXT(36161,o,35056,n.width,n.height):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,o=l.convert(e.format,e.encoding),c=l.convert(e.type),h=I(e.internalFormat,o,c,e.encoding),d=pt(n);r&&!1===ct(n)?t.renderbufferStorageMultisample(36161,d,h,n.width,n.height):ct(n)?x.renderbufferStorageMultisampleEXT(36161,d,h,n.width,n.height):t.renderbufferStorage(36161,h,n.width,n.height)}t.bindRenderbuffer(36161,null)}function nt(e,o){if(o&&o.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,e),!o.depthTexture||!o.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(o.depthTexture).__webglTexture&&o.depthTexture.image.width===o.width&&o.depthTexture.image.height===o.height||(o.depthTexture.image.width=o.width,o.depthTexture.image.height=o.height,o.depthTexture.needsUpdate=!0),H(o.depthTexture,0);const l=r.get(o.depthTexture).__webglTexture,c=pt(o);if(o.depthTexture.format===Xt)ct(o)?x.framebufferTexture2DMultisampleEXT(36160,36096,3553,l,0,c):t.framebufferTexture2D(36160,36096,3553,l,0);else{if(o.depthTexture.format!==Wt)throw new Error("Unknown depthTexture format");ct(o)?x.framebufferTexture2DMultisampleEXT(36160,33306,3553,l,0,c):t.framebufferTexture2D(36160,33306,3553,l,0)}}function it(e){const o=r.get(e),l=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!o.__autoAllocateDepthBuffer){if(l)throw new Error("target.depthTexture not supported in Cube render targets");nt(o.__webglFramebuffer,e)}else if(l){o.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(36160,o.__webglFramebuffer[i]),o.__webglDepthbuffer[i]=t.createRenderbuffer(),et(o.__webglDepthbuffer[i],e,!1)}else n.bindFramebuffer(36160,o.__webglFramebuffer),o.__webglDepthbuffer=t.createRenderbuffer(),et(o.__webglDepthbuffer,e,!1);n.bindFramebuffer(36160,null)}function at(t,e,n){const o=r.get(t);void 0!==e&&tt(o.__webglFramebuffer,t,t.texture,36064,3553),void 0!==n&&it(t)}function ot(e){const d=e.texture,m=r.get(e),f=r.get(d);e.addEventListener("dispose",O),!0!==e.isWebGLMultipleRenderTargets&&(void 0===f.__webglTexture&&(f.__webglTexture=t.createTexture()),f.__version=d.version,c.memory.textures++);const v=!0===e.isWebGLCubeRenderTarget,x=!0===e.isWebGLMultipleRenderTargets,_=A(e)||h;if(v){m.__webglFramebuffer=[];for(let i=0;i<6;i++)m.__webglFramebuffer[i]=t.createFramebuffer()}else if(m.__webglFramebuffer=t.createFramebuffer(),x)if(o.drawBuffers){const n=e.texture;for(let i=0,e=n.length;i<e;i++){const e=r.get(n[i]);void 0===e.__webglTexture&&(e.__webglTexture=t.createTexture(),c.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(h&&e.samples>0&&!1===ct(e)){m.__webglMultisampledFramebuffer=t.createFramebuffer(),m.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,m.__webglColorRenderbuffer);const r=l.convert(d.format,d.encoding),o=l.convert(d.type),c=I(d.internalFormat,r,o,d.encoding),h=pt(e);t.renderbufferStorageMultisample(36161,h,c,e.width,e.height),n.bindFramebuffer(36160,m.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,m.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(m.__webglDepthRenderbuffer=t.createRenderbuffer(),et(m.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(36160,null)}if(v){n.bindTexture(34067,f.__webglTexture),K(34067,d,_);for(let i=0;i<6;i++)tt(m.__webglFramebuffer[i],e,d,36064,34069+i);P(d,_)&&C(34067),n.unbindTexture()}else if(x){const t=e.texture;for(let i=0,o=t.length;i<o;i++){const o=t[i],l=r.get(o);n.bindTexture(3553,l.__webglTexture),K(3553,o,_),tt(m.__webglFramebuffer,e,o,36064+i,3553),P(o,_)&&C(3553)}n.unbindTexture()}else{let t=3553;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(h?t=e.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(t,f.__webglTexture),K(t,d,_),tt(m.__webglFramebuffer,e,d,36064,t),P(d,_)&&C(t),n.unbindTexture()}e.depthBuffer&&it(e)}function st(t){const e=A(t)||h,o=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let i=0,l=o.length;i<l;i++){const l=o[i];if(P(l,e)){const e=t.isWebGLCubeRenderTarget?34067:3553,o=r.get(l).__webglTexture;n.bindTexture(e,o),C(e),n.unbindTexture()}}}function lt(e){if(h&&e.samples>0&&!1===ct(e)){const o=e.width,l=e.height;let mask=16384;const c=[36064],h=e.stencilBuffer?33306:36096;e.depthBuffer&&c.push(h);const d=r.get(e),m=void 0!==d.__ignoreDepthValues&&d.__ignoreDepthValues;!1===m&&(e.depthBuffer&&(mask|=256),e.stencilBuffer&&(mask|=1024)),n.bindFramebuffer(36008,d.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,d.__webglFramebuffer),!0===m&&(t.invalidateFramebuffer(36008,[h]),t.invalidateFramebuffer(36009,[h])),t.blitFramebuffer(0,0,o,l,0,0,o,l,mask,9728),_&&t.invalidateFramebuffer(36008,c),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,d.__webglMultisampledFramebuffer)}}function pt(t){return Math.min(v,t.samples)}function ct(t){const n=r.get(t);return h&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function ut(t){const e=c.render.frame;y.get(t)!==e&&(y.set(t,e),t.update())}function ht(t,image){const n=t.encoding,r=t.format,o=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||t.format===Ke||n!==Ge&&(n===Be?!1===h?!0===e.has("EXT_sRGB")&&r===zt?(t.format=Ke,t.minFilter=Et,t.generateMipmaps=!1):image=Un.sRGBToLinear(image):r===zt&&o===Tt||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",n)),image}this.allocateTextureUnit=z,this.resetTextureUnits=V,this.setTexture2D=H,this.setTexture2DArray=X,this.setTexture3D=W,this.setTextureCube=j,this.rebindTextures=at,this.setupRenderTarget=ot,this.updateRenderTargetMipmap=st,this.updateMultisampleRenderTarget=lt,this.setupDepthRenderbuffer=it,this.setupFrameBufferTexture=tt,this.useMultisampledRTT=ct}function vl(t,e,n){const r=n.isWebGL2;function o(p,n=null){let o;if(p===Tt)return 5121;if(p===kt)return 32819;if(p===Gt)return 32820;if(p===Pt)return 5120;if(p===Ct)return 5122;if(p===It)return 5123;if(p===Lt)return 5124;if(p===Nt)return 5125;if(p===Dt)return 5126;if(p===Ot)return r?5131:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(p===Ft)return 6406;if(p===zt)return 6408;if(p===Ut)return 6409;if(p===Ht)return 6410;if(p===Xt)return 6402;if(p===Wt)return 34041;if(p===jt)return 6403;if(p===Vt)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(p===Ke)return o=e.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(p===qt)return 36244;if(p===Yt)return 33319;if(p===$t)return 33320;if(p===Kt)return 36249;if(p===Qt||p===Zt||p===Jt||p===te)if(n===Be){if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(p===Qt)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(p===Zt)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(p===Jt)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(p===te)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(p===Qt)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===Zt)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===Jt)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===te)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(p===ee||p===ne||p===ie||p===re){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(p===ee)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===ne)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===ie)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===re)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(p===ae)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(p===oe||p===se){if(o=e.get("WEBGL_compressed_texture_etc"),null===o)return null;if(p===oe)return n===Be?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(p===se)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(p===le||p===pe||p===ce||p===ue||p===he||p===de||p===me||p===fe||p===ge||p===ve||p===xe||p===_e||p===ye||p===be){if(o=e.get("WEBGL_compressed_texture_astc"),null===o)return null;if(p===le)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(p===pe)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(p===ce)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(p===ue)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(p===he)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(p===de)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(p===me)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(p===fe)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(p===ge)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(p===ve)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(p===xe)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(p===_e)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(p===ye)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(p===be)return n===Be?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(p===Se){if(o=e.get("EXT_texture_compression_bptc"),null===o)return null;if(p===Se)return n===Be?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}return p===Bt?r?34042:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==t[p]?t[p]:null}return{convert:o}}class xl extends ua{constructor(t=[]){super(),this.cameras=t}}xl.prototype.isArrayCamera=!0;class _l extends ar{constructor(){super(),this.type="Group"}}_l.prototype.isGroup=!0;const yl={type:"move"};class bl{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new _l,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new _l,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ei,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ei),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new _l,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ei,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ei),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,o=null,l=null;const c=this._targetRay,h=this._grip,d=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==c&&(r=e.getPose(t.targetRaySpace,n),null!==r&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(yl))),d&&t.hand){l=!0;for(const r of t.hand.values()){const t=e.getJointPose(r,n);if(void 0===d.joints[r.jointName]){const t=new _l;t.matrixAutoUpdate=!1,t.visible=!1,d.joints[r.jointName]=t,d.add(t)}const o=d.joints[r.jointName];null!==t&&(o.matrix.fromArray(t.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=t.radius),o.visible=null!==t}const r=d.joints["index-finger-tip"],o=d.joints["thumb-tip"],c=r.position.distanceTo(o.position),h=.02,m=.005;d.inputState.pinching&&c>h+m?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!d.inputState.pinching&&c<=h-m&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==h&&t.gripSpace&&(o=e.getPose(t.gripSpace,n),null!==o&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),o.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(o.linearVelocity)):h.hasLinearVelocity=!1,o.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(o.angularVelocity)):h.hasAngularVelocity=!1));return null!==c&&(c.visible=null!==r),null!==h&&(h.visible=null!==o),null!==d&&(d.visible=null!==l),this}}class Sl extends jn{constructor(t,e,n,r,o,l,c,h,d,m){if((m=void 0!==m?m:Xt)!==Xt&&m!==Wt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&m===Xt&&(n=It),void 0===n&&m===Wt&&(n=Bt),super(null,r,o,l,c,h,m,n,d),this.image={width:t,height:e},this.magFilter=void 0!==c?c:St,this.minFilter=void 0!==h?h:St,this.flipY=!1,this.generateMipmaps=!1}}Sl.prototype.isDepthTexture=!0;class wl extends Qe{constructor(t,e){super();const n=this;let r=null,o=1,l=null,c="local-floor",h=null,d=null,m=null,f=null,v=null,x=null;const _=e.getContextAttributes();let y=null,S=null;const w=[],M=new Map,E=new ua;E.layers.enable(1),E.viewport=new qn;const R=new ua;R.layers.enable(2),R.viewport=new qn;const A=[E,R],T=new xl;T.layers.enable(1),T.layers.enable(2);let P=null,C=null;function I(t){const e=M.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function L(){M.forEach((function(t,e){t.disconnect(e)})),M.clear(),P=null,C=null,t.setRenderTarget(y),v=null,f=null,m=null,r=null,S=null,V.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function N(t){const e=r.inputSources;for(let i=0;i<e.length;i++){const t="right"===e[i].handedness?1:0;M.set(e[i],w[t])}for(let i=0;i<t.removed.length;i++){const e=t.removed[i],n=M.get(e);n&&(n.dispatchEvent({type:"disconnected",data:e}),M.delete(e))}for(let i=0;i<t.added.length;i++){const e=t.added[i],n=M.get(e);n&&n.dispatchEvent({type:"connected",data:e})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=w[t];return void 0===e&&(e=new bl,w[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=w[t];return void 0===e&&(e=new bl,w[t]=e),e.getGripSpace()},this.getHand=function(t){let e=w[t];return void 0===e&&(e=new bl,w[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){c=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||l},this.setReferenceSpace=function(t){h=t},this.getBaseLayer=function(){return null!==f?f:v},this.getBinding=function(){return m},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(h){if(r=h,null!==r){if(y=t.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",L),r.addEventListener("inputsourceschange",N),!0!==_.xrCompatible&&await e.makeXRCompatible(),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||_.antialias,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};v=new XRWebGLLayer(r,e,n),r.updateRenderState({baseLayer:v}),S=new Yn(v.framebufferWidth,v.framebufferHeight,{format:zt,type:Tt,encoding:t.outputEncoding})}else{let n=null,l=null,c=null;_.depth&&(c=_.stencil?35056:33190,n=_.stencil?Wt:Xt,l=_.stencil?Bt:It);const h={colorFormat:t.outputEncoding===Be?35907:32856,depthFormat:c,scaleFactor:o};m=new XRWebGLBinding(r,e),f=m.createProjectionLayer(h),r.updateRenderState({layers:[f]}),S=new Yn(f.textureWidth,f.textureHeight,{format:zt,type:Tt,depthTexture:new Sl(f.textureWidth,f.textureHeight,l,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:_.stencil,encoding:t.outputEncoding,samples:_.antialias?4:0}),t.properties.get(S).__ignoreDepthValues=f.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(1),l=await r.requestReferenceSpace(c),V.setContext(r),V.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const D=new ei,O=new ei;function k(t,e,n){D.setFromMatrixPosition(e.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);const r=D.distanceTo(O),o=e.projectionMatrix.elements,l=n.projectionMatrix.elements,c=o[14]/(o[10]-1),h=o[14]/(o[10]+1),d=(o[9]+1)/o[5],m=(o[9]-1)/o[5],f=(o[8]-1)/o[0],v=(l[8]+1)/l[0],x=c*f,_=c*v,y=r/(-f+v),S=y*-f;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(S),t.translateZ(y),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const w=c+y,M=h+y,E=x-S,R=_+(r-S),A=d*h/M*w,T=m*h/M*w;t.projectionMatrix.makePerspective(E,R,A,T,w,M)}function G(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===r)return;T.near=R.near=E.near=t.near,T.far=R.far=E.far=t.far,P===T.near&&C===T.far||(r.updateRenderState({depthNear:T.near,depthFar:T.far}),P=T.near,C=T.far);const e=t.parent,n=T.cameras;G(T,e);for(let i=0;i<n.length;i++)G(n[i],e);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),t.position.copy(T.position),t.quaternion.copy(T.quaternion),t.scale.copy(T.scale),t.matrix.copy(T.matrix),t.matrixWorld.copy(T.matrixWorld);const o=t.children;for(let i=0,t=o.length;i<t;i++)o[i].updateMatrixWorld(!0);2===n.length?k(T,E,R):T.projectionMatrix.copy(E.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){return null!==f?f.fixedFoveation:null!==v?v.fixedFoveation:void 0},this.setFoveation=function(t){null!==f&&(f.fixedFoveation=t),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=t)};let B=null;function F(time,e){if(d=e.getViewerPose(h||l),x=e,null!==d){const e=d.views;null!==v&&(t.setRenderTargetFramebuffer(S,v.framebuffer),t.setRenderTarget(S));let n=!1;e.length!==T.cameras.length&&(T.cameras.length=0,n=!0);for(let i=0;i<e.length;i++){const view=e[i];let r=null;if(null!==v)r=v.getViewport(view);else{const e=m.getViewSubImage(f,view);r=e.viewport,0===i&&(t.setRenderTargetTextures(S,e.colorTexture,f.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(S))}const o=A[i];o.matrix.fromArray(view.transform.matrix),o.projectionMatrix.fromArray(view.projectionMatrix),o.viewport.set(r.x,r.y,r.width,r.height),0===i&&T.matrix.copy(o.matrix),!0===n&&T.cameras.push(o)}}const n=r.inputSources;for(let i=0;i<w.length;i++){const t=n[i],r=M.get(t);void 0!==r&&r.update(t,e,h||l)}B&&B(time,e),x=null}const V=new Ma;V.setAnimationLoop(F),this.setAnimationLoop=function(t){B=t},this.dispose=function(){}}}function Ml(t,e){function n(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function r(t,e,n,r,S){e.isMeshBasicMaterial||e.isMeshLambertMaterial?o(t,e):e.isMeshToonMaterial?(o(t,e),f(t,e)):e.isMeshPhongMaterial?(o(t,e),m(t,e)):e.isMeshStandardMaterial?(o(t,e),v(t,e),e.isMeshPhysicalMaterial&&x(t,e,S)):e.isMeshMatcapMaterial?(o(t,e),_(t,e)):e.isMeshDepthMaterial?o(t,e):e.isMeshDistanceMaterial?(o(t,e),y(t,e)):e.isMeshNormalMaterial?o(t,e):e.isLineBasicMaterial?(l(t,e),e.isLineDashedMaterial&&c(t,e)):e.isPointsMaterial?h(t,e,n,r):e.isSpriteMaterial?d(t,e):e.isShadowMaterial?(t.color.value.copy(e.color),t.opacity.value=e.opacity):e.isShaderMaterial&&(e.uniformsNeedUpdate=!1)}function o(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===S&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===S&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);const o=e.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;const e=!0!==t.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*e}let l,c;r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?l=r.map:r.specularMap?l=r.specularMap:r.displacementMap?l=r.displacementMap:r.normalMap?l=r.normalMap:r.bumpMap?l=r.bumpMap:r.roughnessMap?l=r.roughnessMap:r.metalnessMap?l=r.metalnessMap:r.alphaMap?l=r.alphaMap:r.emissiveMap?l=r.emissiveMap:r.clearcoatMap?l=r.clearcoatMap:r.clearcoatNormalMap?l=r.clearcoatNormalMap:r.clearcoatRoughnessMap?l=r.clearcoatRoughnessMap:r.specularIntensityMap?l=r.specularIntensityMap:r.specularColorMap?l=r.specularColorMap:r.transmissionMap?l=r.transmissionMap:r.thicknessMap?l=r.thicknessMap:r.sheenColorMap?l=r.sheenColorMap:r.sheenRoughnessMap&&(l=r.sheenRoughnessMap),void 0!==l&&(l.isWebGLRenderTarget&&(l=l.texture),!0===l.matrixAutoUpdate&&l.updateMatrix(),n.uvTransform.value.copy(l.matrix)),r.aoMap?c=r.aoMap:r.lightMap&&(c=r.lightMap),void 0!==c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),n.uv2Transform.value.copy(c.matrix))}function l(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}function c(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function h(t,e,n,r){let o;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest),e.map?o=e.map:e.alphaMap&&(o=e.alphaMap),void 0!==o&&(!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uvTransform.value.copy(o.matrix))}function d(t,e){let n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.alphaTest>0&&(t.alphaTest.value=e.alphaTest),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function m(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}function f(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function v(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}function x(t,e,n){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap)),e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===S&&t.clearcoatNormalScale.value.negate())),e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=n.texture,t.transmissionSamplerSize.value.set(n.width,n.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor)),t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap)}function _(t,e){e.matcap&&(t.matcap.value=e.matcap)}function y(t,e){t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function El(){const canvas=Pn("canvas");return canvas.style.display="block",canvas}function Rl(t={}){const e=void 0!==t.canvas?t.canvas:El(),n=void 0!==t.context?t.context:null,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,c=void 0!==t.antialias&&t.antialias,h=void 0===t.premultipliedAlpha||t.premultipliedAlpha,d=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,m=void 0!==t.powerPreference?t.powerPreference:"default",f=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let v;v=null!==n?n.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;let x=null,_=null;const M=[],E=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ge,this.physicallyCorrectLights=!1,this.toneMapping=ot,this.toneMappingExposure=1;const R=this;let A=!1,T=0,P=0,C=null,I=-1,L=null;const N=new qn,D=new qn;let O=null,k=e.width,G=e.height,B=1,F=null,V=null;const z=new qn(0,0,k,G),U=new qn(0,0,k,G);let H=!1;const X=new wa;let W=!1,j=!1,Y=null;const $=new Ni,K=new Rn,Q=new ei,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return null===C?B:1}let tt,et,nt,it,at,st,lt,pt,ct,ut,ht,mt,ft,gt,vt,xt,_t,yt,bt,St,wt,Mt,Et,Rt=n;function Pt(t,n){for(let i=0;i<t.length;i++){const r=t[i],o=e.getContext(r,n);if(null!==o)return o}return null}try{const t={alpha:!0,depth:r,stencil:o,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${l}`),e.addEventListener("webglcontextlost",Lt,!1),e.addEventListener("webglcontextrestored",Nt,!1),null===Rt){const e=["webgl2","webgl","experimental-webgl"];if(!0===R.isWebGL1Renderer&&e.shift(),Rt=Pt(e,t),null===Rt)throw Pt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Rt.getShaderPrecisionFormat&&(Rt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function Ct(){tt=new eo(Rt),et=new Na(Rt,tt,t),tt.init(et),Mt=new vl(Rt,tt,et),nt=new fl(Rt,tt,et),it=new ro(Rt),at=new $s,st=new gl(Rt,tt,nt,at,et,Mt,it),lt=new Oa(R),pt=new to(R),ct=new Ea(Rt,et),Et=new Ia(Rt,tt,ct,et),ut=new no(Rt,ct,it,Et),ht=new po(Rt,ut,ct,it),bt=new lo(Rt,et,st),xt=new Da(at),mt=new Ys(R,lt,pt,tt,et,Et,xt),ft=new Ml(R,at),gt=new Js,vt=new sl(tt,et),yt=new Ca(R,lt,nt,ht,v,h),_t=new ml(R,ht,et),St=new La(Rt,tt,it,et),wt=new io(Rt,tt,it,et),it.programs=mt.programs,R.capabilities=et,R.extensions=tt,R.properties=at,R.renderLists=gt,R.shadowMap=_t,R.state=nt,R.info=it}Ct();const It=new wl(R,Rt);function Lt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Nt(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const t=it.autoReset,e=_t.enabled,n=_t.autoUpdate,r=_t.needsUpdate,o=_t.type;Ct(),it.autoReset=t,_t.enabled=e,_t.autoUpdate=n,_t.needsUpdate=r,_t.type=o}function kt(t){const e=t.target;e.removeEventListener("dispose",kt),Gt(e)}function Gt(t){Bt(t),at.remove(t)}function Bt(t){const e=at.get(t).programs;void 0!==e&&(e.forEach((function(t){mt.releaseProgram(t)})),t.isShaderMaterial&&mt.releaseShaderCache(t))}this.xr=It,this.getContext=function(){return Rt},this.getContextAttributes=function(){return Rt.getContextAttributes()},this.forceContextLoss=function(){const t=tt.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=tt.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(t){void 0!==t&&(B=t,this.setSize(k,G,!1))},this.getSize=function(t){return t.set(k,G)},this.setSize=function(t,n,r){It.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=t,G=n,e.width=Math.floor(t*B),e.height=Math.floor(n*B),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(k*B,G*B).floor()},this.setDrawingBufferSize=function(t,n,r){k=t,G=n,B=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(N)},this.getViewport=function(t){return t.copy(z)},this.setViewport=function(t,e,n,r){t.isVector4?z.set(t.x,t.y,t.z,t.w):z.set(t,e,n,r),nt.viewport(N.copy(z).multiplyScalar(B).floor())},this.getScissor=function(t){return t.copy(U)},this.setScissor=function(t,e,n,r){t.isVector4?U.set(t.x,t.y,t.z,t.w):U.set(t,e,n,r),nt.scissor(D.copy(U).multiplyScalar(B).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(t){nt.setScissorTest(H=t)},this.setOpaqueSort=function(t){F=t},this.setTransparentSort=function(t){V=t},this.getClearColor=function(t){return t.copy(yt.getClearColor())},this.setClearColor=function(){yt.setClearColor.apply(yt,arguments)},this.getClearAlpha=function(){return yt.getClearAlpha()},this.setClearAlpha=function(){yt.setClearAlpha.apply(yt,arguments)},this.clear=function(t=!0,e=!0,n=!0){let r=0;t&&(r|=16384),e&&(r|=256),n&&(r|=1024),Rt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Lt,!1),e.removeEventListener("webglcontextrestored",Nt,!1),gt.dispose(),vt.dispose(),at.dispose(),lt.dispose(),pt.dispose(),ht.dispose(),Et.dispose(),mt.dispose(),It.dispose(),It.removeEventListener("sessionstart",Ut),It.removeEventListener("sessionend",Ht),Y&&(Y.dispose(),Y=null),Xt.stop()},this.renderBufferDirect=function(t,e,n,r,object,o){null===e&&(e=Z);const l=object.isMesh&&object.matrixWorld.determinant()<0,c=Zt(t,e,n,r,object);nt.setMaterial(r,l);let h=n.index;const d=n.attributes.position;if(null===h){if(void 0===d||0===d.count)return}else if(0===h.count)return;let m,f=1;!0===r.wireframe&&(h=ut.getWireframeAttribute(n),f=2),Et.setup(object,r,c,n,h);let v=St;null!==h&&(m=ct.get(h),v=wt,v.setIndex(m));const x=null!==h?h.count:d.count,_=n.drawRange.start*f,y=n.drawRange.count*f,S=null!==o?o.start*f:0,w=null!==o?o.count*f:1/0,M=Math.max(_,S),E=Math.min(x,_+y,S+w)-1,R=Math.max(0,E-M+1);if(0!==R){if(object.isMesh)!0===r.wireframe?(nt.setLineWidth(r.wireframeLinewidth*J()),v.setMode(1)):v.setMode(4);else if(object.isLine){let t=r.linewidth;void 0===t&&(t=1),nt.setLineWidth(t*J()),object.isLineSegments?v.setMode(1):object.isLineLoop?v.setMode(2):v.setMode(3)}else object.isPoints?v.setMode(0):object.isSprite&&v.setMode(4);if(object.isInstancedMesh)v.renderInstances(M,R,object.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);v.renderInstances(M,R,t)}else v.render(M,R)}},this.compile=function(t,e){_=vt.get(t),_.init(),E.push(_),t.traverseVisible((function(object){object.isLight&&object.layers.test(e.layers)&&(_.pushLight(object),object.castShadow&&_.pushShadow(object))})),_.setupLights(R.physicallyCorrectLights),t.traverse((function(object){const e=object.material;if(e)if(Array.isArray(e))for(let i=0;i<e.length;i++)Kt(e[i],t,object);else Kt(e,t,object)})),E.pop(),_=null};let Ft=null;function Vt(time){Ft&&Ft(time)}function Ut(){Xt.stop()}function Ht(){Xt.start()}const Xt=new Ma;function Wt(object,t,e,n){if(!1===object.visible)return;if(object.layers.test(t.layers))if(object.isGroup)e=object.renderOrder;else if(object.isLOD)!0===object.autoUpdate&&object.update(t);else if(object.isLight)_.pushLight(object),object.castShadow&&_.pushShadow(object);else if(object.isSprite){if(!object.frustumCulled||X.intersectsSprite(object)){n&&Q.setFromMatrixPosition(object.matrixWorld).applyMatrix4($);const t=ht.update(object),r=object.material;r.visible&&x.push(object,t,r,e,Q.z,null)}}else if((object.isMesh||object.isLine||object.isPoints)&&(object.isSkinnedMesh&&object.skeleton.frame!==it.render.frame&&(object.skeleton.update(),object.skeleton.frame=it.render.frame),!object.frustumCulled||X.intersectsObject(object))){n&&Q.setFromMatrixPosition(object.matrixWorld).applyMatrix4($);const t=ht.update(object),r=object.material;if(Array.isArray(r)){const n=t.groups;for(let i=0,o=n.length;i<o;i++){const o=n[i],l=r[o.materialIndex];l&&l.visible&&x.push(object,t,l,e,Q.z,o)}}else r.visible&&x.push(object,t,r,e,Q.z,null)}const r=object.children;for(let i=0,o=r.length;i<o;i++)Wt(r[i],t,e,n)}function jt(t,e,n,r){const o=t.opaque,l=t.transmissive,c=t.transparent;_.setupLightsView(n),l.length>0&&qt(o,e,n),r&&nt.viewport(N.copy(r)),o.length>0&&Yt(o,e,n),l.length>0&&Yt(l,e,n),c.length>0&&Yt(c,e,n),nt.buffers.depth.setTest(!0),nt.buffers.depth.setMask(!0),nt.buffers.color.setMask(!0),nt.setPolygonOffset(!1)}function qt(t,e,n){const r=et.isWebGL2;null===Y&&(Y=new Yn(1,1,{generateMipmaps:!0,type:tt.has("EXT_color_buffer_half_float")?Ot:Tt,minFilter:At,samples:r&&!0===c?4:0})),R.getDrawingBufferSize(K),r?Y.setSize(K.x,K.y):Y.setSize(bn(K.x),bn(K.y));const o=R.getRenderTarget();R.setRenderTarget(Y),R.clear();const l=R.toneMapping;R.toneMapping=ot,Yt(t,e,n),R.toneMapping=l,st.updateMultisampleRenderTarget(Y),st.updateRenderTargetMipmap(Y),R.setRenderTarget(o)}function Yt(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],object=o.object,l=o.geometry,c=null===r?o.material:r,h=o.group;object.layers.test(n.layers)&&$t(object,e,n,l,c,h)}}function $t(object,t,e,n,r,o){object.onBeforeRender(R,t,e,n,r,o),object.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,object.matrixWorld),object.normalMatrix.getNormalMatrix(object.modelViewMatrix),r.onBeforeRender(R,t,e,n,object,o),!0===r.transparent&&r.side===w?(r.side=S,r.needsUpdate=!0,R.renderBufferDirect(e,t,n,r,object,o),r.side=y,r.needsUpdate=!0,R.renderBufferDirect(e,t,n,r,object,o),r.side=w):R.renderBufferDirect(e,t,n,r,object,o),object.onAfterRender(R,t,e,n,r,o)}function Kt(t,e,object){!0!==e.isScene&&(e=Z);const n=at.get(t),r=_.state.lights,o=_.state.shadowsArray,l=r.state.version,c=mt.getParameters(t,r.state,o,e,object),h=mt.getProgramCacheKey(c);let d=n.programs;n.environment=t.isMeshStandardMaterial?e.environment:null,n.fog=e.fog,n.envMap=(t.isMeshStandardMaterial?pt:lt).get(t.envMap||n.environment),void 0===d&&(t.addEventListener("dispose",kt),d=new Map,n.programs=d);let m=d.get(h);if(void 0!==m){if(n.currentProgram===m&&n.lightsStateVersion===l)return Qt(t,c),m}else c.uniforms=mt.getUniforms(t),t.onBuild(object,c,R),t.onBeforeCompile(c,R),m=mt.acquireProgram(c,h),d.set(h,m),n.uniforms=c.uniforms;const f=n.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(f.clippingPlanes=xt.uniform),Qt(t,c),n.needsLights=te(t),n.lightsStateVersion=l,n.needsLights&&(f.ambientLightColor.value=r.state.ambient,f.lightProbe.value=r.state.probe,f.directionalLights.value=r.state.directional,f.directionalLightShadows.value=r.state.directionalShadow,f.spotLights.value=r.state.spot,f.spotLightShadows.value=r.state.spotShadow,f.rectAreaLights.value=r.state.rectArea,f.ltc_1.value=r.state.rectAreaLTC1,f.ltc_2.value=r.state.rectAreaLTC2,f.pointLights.value=r.state.point,f.pointLightShadows.value=r.state.pointShadow,f.hemisphereLights.value=r.state.hemi,f.directionalShadowMap.value=r.state.directionalShadowMap,f.directionalShadowMatrix.value=r.state.directionalShadowMatrix,f.spotShadowMap.value=r.state.spotShadowMap,f.spotShadowMatrix.value=r.state.spotShadowMatrix,f.pointShadowMap.value=r.state.pointShadowMap,f.pointShadowMatrix.value=r.state.pointShadowMatrix);const v=m.getUniforms(),x=gs.seqWithValue(v.seq,f);return n.currentProgram=m,n.uniformsList=x,m}function Qt(t,e){const n=at.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}function Zt(t,e,n,r,object){!0!==e.isScene&&(e=Z),st.resetTextureUnits();const o=e.fog,l=r.isMeshStandardMaterial?e.environment:null,c=null===C?R.outputEncoding:!0===C.isXRRenderTarget?C.texture.encoding:Ge,h=(r.isMeshStandardMaterial?pt:lt).get(r.envMap||l),d=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,m=!!r.normalMap&&!!n.attributes.tangent,f=!!n.morphAttributes.position,v=!!n.morphAttributes.normal,x=!!n.morphAttributes.color,y=r.toneMapped?R.toneMapping:ot,S=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,w=void 0!==S?S.length:0,M=at.get(r),E=_.state.lights;if(!0===W&&(!0===j||t!==L)){const e=t===L&&r.id===I;xt.setState(r,t,e)}let A=!1;r.version===M.__version?M.needsLights&&M.lightsStateVersion!==E.state.version||M.outputEncoding!==c||object.isInstancedMesh&&!1===M.instancing?A=!0:object.isInstancedMesh||!0!==M.instancing?object.isSkinnedMesh&&!1===M.skinning?A=!0:object.isSkinnedMesh||!0!==M.skinning?M.envMap!==h||!0===r.fog&&M.fog!==o?A=!0:void 0===M.numClippingPlanes||M.numClippingPlanes===xt.numPlanes&&M.numIntersection===xt.numIntersection?(M.vertexAlphas!==d||M.vertexTangents!==m||M.morphTargets!==f||M.morphNormals!==v||M.morphColors!==x||M.toneMapping!==y||!0===et.isWebGL2&&M.morphTargetsCount!==w)&&(A=!0):A=!0:A=!0:A=!0:(A=!0,M.__version=r.version);let T=M.currentProgram;!0===A&&(T=Kt(r,e,object));let P=!1,N=!1,D=!1;const O=T.getUniforms(),k=M.uniforms;if(nt.useProgram(T.program)&&(P=!0,N=!0,D=!0),r.id!==I&&(I=r.id,N=!0),P||L!==t){if(O.setValue(Rt,"projectionMatrix",t.projectionMatrix),et.logarithmicDepthBuffer&&O.setValue(Rt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),L!==t&&(L=t,N=!0,D=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const e=O.map.cameraPosition;void 0!==e&&e.setValue(Rt,Q.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&O.setValue(Rt,"isOrthographic",!0===t.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||object.isSkinnedMesh)&&O.setValue(Rt,"viewMatrix",t.matrixWorldInverse)}if(object.isSkinnedMesh){O.setOptional(Rt,object,"bindMatrix"),O.setOptional(Rt,object,"bindMatrixInverse");const t=object.skeleton;t&&(et.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),O.setValue(Rt,"boneTexture",t.boneTexture,st),O.setValue(Rt,"boneTextureSize",t.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const F=n.morphAttributes;return(void 0!==F.position||void 0!==F.normal||void 0!==F.color&&!0===et.isWebGL2)&&bt.update(object,n,r,T),(N||M.receiveShadow!==object.receiveShadow)&&(M.receiveShadow=object.receiveShadow,O.setValue(Rt,"receiveShadow",object.receiveShadow)),N&&(O.setValue(Rt,"toneMappingExposure",R.toneMappingExposure),M.needsLights&&Jt(k,D),o&&!0===r.fog&&ft.refreshFogUniforms(k,o),ft.refreshMaterialUniforms(k,r,B,G,Y),gs.upload(Rt,M.uniformsList,k,st)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(gs.upload(Rt,M.uniformsList,k,st),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&O.setValue(Rt,"center",object.center),O.setValue(Rt,"modelViewMatrix",object.modelViewMatrix),O.setValue(Rt,"normalMatrix",object.normalMatrix),O.setValue(Rt,"modelMatrix",object.matrixWorld),T}function Jt(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function te(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}Xt.setAnimationLoop(Vt),"undefined"!=typeof self&&Xt.setContext(self),this.setAnimationLoop=function(t){Ft=t,It.setAnimationLoop(t),null===t?Xt.stop():Xt.start()},It.addEventListener("sessionstart",Ut),It.addEventListener("sessionend",Ht),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===A)return;!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===It.enabled&&!0===It.isPresenting&&(!0===It.cameraAutoUpdate&&It.updateCamera(e),e=It.getCamera()),!0===t.isScene&&t.onBeforeRender(R,t,e,C),_=vt.get(t,E.length),_.init(),E.push(_),$.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),X.setFromProjectionMatrix($),j=this.localClippingEnabled,W=xt.init(this.clippingPlanes,j,e),x=gt.get(t,M.length),x.init(),M.push(x),Wt(t,e,0,R.sortObjects),x.finish(),!0===R.sortObjects&&x.sort(F,V),!0===W&&xt.beginShadows();const n=_.state.shadowsArray;if(_t.render(n,t,e),!0===W&&xt.endShadows(),!0===this.info.autoReset&&this.info.reset(),yt.render(x,t),_.setupLights(R.physicallyCorrectLights),e.isArrayCamera){const n=e.cameras;for(let i=0,e=n.length;i<e;i++){const e=n[i];jt(x,t,e,e.viewport)}}else jt(x,t,e);null!==C&&(st.updateMultisampleRenderTarget(C),st.updateRenderTargetMipmap(C)),!0===t.isScene&&t.onAfterRender(R,t,e),Et.resetDefaultState(),I=-1,L=null,E.pop(),_=E.length>0?E[E.length-1]:null,M.pop(),x=M.length>0?M[M.length-1]:null},this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(t,e,n){at.get(t.texture).__webglTexture=e,at.get(t.depthTexture).__webglTexture=n;const r=at.get(t);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===tt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){const n=at.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,n=0){C=t,T=e,P=n;let r=!0;if(t){const e=at.get(t);void 0!==e.__useDefaultFramebuffer?(nt.bindFramebuffer(36160,null),r=!1):void 0===e.__webglFramebuffer?st.setupRenderTarget(t):e.__hasExternalTextures&&st.rebindTextures(t,at.get(t.texture).__webglTexture,at.get(t.depthTexture).__webglTexture)}let o=null,l=!1,c=!1;if(t){const n=t.texture;(n.isData3DTexture||n.isDataArrayTexture)&&(c=!0);const r=at.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(o=r[e],l=!0):o=et.isWebGL2&&t.samples>0&&!1===st.useMultisampledRTT(t)?at.get(t).__webglMultisampledFramebuffer:r,N.copy(t.viewport),D.copy(t.scissor),O=t.scissorTest}else N.copy(z).multiplyScalar(B).floor(),D.copy(U).multiplyScalar(B).floor(),O=H;if(nt.bindFramebuffer(36160,o)&&et.drawBuffers&&r&&nt.drawBuffers(t,o),nt.viewport(N),nt.scissor(D),nt.setScissorTest(O),l){const r=at.get(t.texture);Rt.framebufferTexture2D(36160,36064,34069+e,r.__webglTexture,n)}else if(c){const r=at.get(t.texture),o=e||0;Rt.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,o)}I=-1},this.readRenderTargetPixels=function(t,e,n,r,o,l,c){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let h=at.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==c&&(h=h[c]),h){nt.bindFramebuffer(36160,h);try{const c=t.texture,h=c.format,d=c.type;if(h!==zt&&Mt.convert(h)!==Rt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const m=d===Ot&&(tt.has("EXT_color_buffer_half_float")||et.isWebGL2&&tt.has("EXT_color_buffer_float"));if(!(d===Tt||Mt.convert(d)===Rt.getParameter(35738)||d===Dt&&(et.isWebGL2||tt.has("OES_texture_float")||tt.has("WEBGL_color_buffer_float"))||m))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-r&&n>=0&&n<=t.height-o&&Rt.readPixels(e,n,r,o,Mt.convert(h),Mt.convert(d),l)}finally{const t=null!==C?at.get(C).__webglFramebuffer:null;nt.bindFramebuffer(36160,t)}}},this.copyFramebufferToTexture=function(t,e,n=0){if(!0!==e.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const r=Math.pow(2,-n),o=Math.floor(e.image.width*r),l=Math.floor(e.image.height*r);st.setTexture2D(e,0),Rt.copyTexSubImage2D(3553,n,0,0,t.x,t.y,o,l),nt.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r=0){const o=e.image.width,l=e.image.height,c=Mt.convert(n.format),h=Mt.convert(n.type);st.setTexture2D(n,0),Rt.pixelStorei(37440,n.flipY),Rt.pixelStorei(37441,n.premultiplyAlpha),Rt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?Rt.texSubImage2D(3553,r,t.x,t.y,o,l,c,h,e.image.data):e.isCompressedTexture?Rt.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,c,e.mipmaps[0].data):Rt.texSubImage2D(3553,r,t.x,t.y,c,h,e.image),0===r&&n.generateMipmaps&&Rt.generateMipmap(3553),nt.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,r,o=0){if(R.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const l=t.max.x-t.min.x+1,c=t.max.y-t.min.y+1,h=t.max.z-t.min.z+1,d=Mt.convert(r.format),m=Mt.convert(r.type);let f;if(r.isData3DTexture)st.setTexture3D(r,0),f=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");st.setTexture2DArray(r,0),f=35866}Rt.pixelStorei(37440,r.flipY),Rt.pixelStorei(37441,r.premultiplyAlpha),Rt.pixelStorei(3317,r.unpackAlignment);const v=Rt.getParameter(3314),x=Rt.getParameter(32878),_=Rt.getParameter(3316),y=Rt.getParameter(3315),S=Rt.getParameter(32877),image=n.isCompressedTexture?n.mipmaps[0]:n.image;Rt.pixelStorei(3314,image.width),Rt.pixelStorei(32878,image.height),Rt.pixelStorei(3316,t.min.x),Rt.pixelStorei(3315,t.min.y),Rt.pixelStorei(32877,t.min.z),n.isDataTexture||n.isData3DTexture?Rt.texSubImage3D(f,o,e.x,e.y,e.z,l,c,h,d,m,image.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Rt.compressedTexSubImage3D(f,o,e.x,e.y,e.z,l,c,h,d,image.data)):Rt.texSubImage3D(f,o,e.x,e.y,e.z,l,c,h,d,m,image),Rt.pixelStorei(3314,v),Rt.pixelStorei(32878,x),Rt.pixelStorei(3316,_),Rt.pixelStorei(3315,y),Rt.pixelStorei(32877,S),0===o&&r.generateMipmaps&&Rt.generateMipmap(f),nt.unbindTexture()},this.initTexture=function(t){st.setTexture2D(t,0),nt.unbindTexture()},this.resetState=function(){T=0,P=0,C=null,nt.reset(),Et.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Rl.prototype.isWebGLRenderer=!0;class Al extends Rl{}Al.prototype.isWebGL1Renderer=!0;class Tl extends ar{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(source,t){return super.copy(source,t),null!==source.background&&(this.background=source.background.clone()),null!==source.environment&&(this.environment=source.environment.clone()),null!==source.fog&&(this.fog=source.fog.clone()),null!==source.overrideMaterial&&(this.overrideMaterial=source.overrideMaterial.clone()),this.autoUpdate=source.autoUpdate,this.matrixAutoUpdate=source.matrixAutoUpdate,this}toJSON(meta){const data=super.toJSON(meta);return null!==this.fog&&(data.object.fog=this.fog.toJSON()),data}}Tl.prototype.isScene=!0;class Pl{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=qe,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=nn()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(source){return this.array=new source.array.constructor(source.array),this.count=source.count,this.stride=source.stride,this.usage=source.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(data){void 0===data.arrayBuffers&&(data.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=nn()),void 0===data.arrayBuffers[this.array.buffer._uuid]&&(data.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]),e=new this.constructor(t,this.stride);return e.setUsage(this.usage),e}onUpload(t){return this.onUploadCallback=t,this}toJSON(data){return void 0===data.arrayBuffers&&(data.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=nn()),void 0===data.arrayBuffers[this.array.buffer._uuid]&&(data.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Pl.prototype.isInterleavedBuffer=!0;const Cl=new ei;class Il{constructor(t,e,n,r=!1){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let i=0,e=this.data.count;i<e;i++)Cl.fromBufferAttribute(this,i),Cl.applyMatrix4(t),this.setXYZ(i,Cl.x,Cl.y,Cl.z);return this}applyNormalMatrix(t){for(let i=0,e=this.count;i<e;i++)Cl.fromBufferAttribute(this,i),Cl.applyNormalMatrix(t),this.setXYZ(i,Cl.x,Cl.y,Cl.z);return this}transformDirection(t){for(let i=0,e=this.count;i<e;i++)Cl.fromBufferAttribute(this,i),Cl.transformDirection(t),this.setXYZ(i,Cl.x,Cl.y,Cl.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,o){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=o,this}clone(data){if(void 0===data){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const e=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[e+n])}return new Mr(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===data.interleavedBuffers&&(data.interleavedBuffers={}),void 0===data.interleavedBuffers[this.data.uuid]&&(data.interleavedBuffers[this.data.uuid]=this.data.clone(data)),new Il(data.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(data){if(void 0===data){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const e=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[e+n])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===data.interleavedBuffers&&(data.interleavedBuffers={}),void 0===data.interleavedBuffers[this.data.uuid]&&(data.interleavedBuffers[this.data.uuid]=this.data.toJSON(data)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Il.prototype.isInterleavedBufferAttribute=!0;class Ll extends _r{constructor(t){super(),this.type="SpriteMaterial",this.color=new Vn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.rotation=source.rotation,this.sizeAttenuation=source.sizeAttenuation,this.fog=source.fog,this}}let Nl;Ll.prototype.isSpriteMaterial=!0;const Dl=new ei,Ol=new ei,kl=new ei,Gl=new Rn,Bl=new Rn,Fl=new Ni,Vl=new ei,zl=new ei,Ul=new ei,Hl=new Rn,Xl=new Rn,Wl=new Rn;class jl extends ar{constructor(t){if(super(),this.type="Sprite",void 0===Nl){Nl=new kr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new Pl(t,5);Nl.setIndex([0,1,2,0,2,3]),Nl.setAttribute("position",new Il(e,3,0,!1)),Nl.setAttribute("uv",new Il(e,2,3,!1))}this.geometry=Nl,this.material=void 0!==t?t:new Ll,this.center=new Rn(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ol.setFromMatrixScale(this.matrixWorld),Fl.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),kl.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ol.multiplyScalar(-kl.z);const n=this.material.rotation;let r,o;0!==n&&(o=Math.cos(n),r=Math.sin(n));const l=this.center;ql(Vl.set(-.5,-.5,0),kl,l,Ol,r,o),ql(zl.set(.5,-.5,0),kl,l,Ol,r,o),ql(Ul.set(.5,.5,0),kl,l,Ol,r,o),Hl.set(0,0),Xl.set(1,0),Wl.set(1,1);let c=t.ray.intersectTriangle(Vl,zl,Ul,!1,Dl);if(null===c&&(ql(zl.set(-.5,.5,0),kl,l,Ol,r,o),Xl.set(0,1),c=t.ray.intersectTriangle(Vl,Ul,zl,!1,Dl),null===c))return;const h=t.ray.origin.distanceTo(Dl);h<t.near||h>t.far||e.push({distance:h,point:Dl.clone(),uv:vr.getUV(Dl,Vl,zl,Ul,Hl,Xl,Wl,new Rn),face:null,object:this})}copy(source){return super.copy(source),void 0!==source.center&&this.center.copy(source.center),this.material=source.material,this}}function ql(t,e,n,r,o,l){Gl.subVectors(t,n).addScalar(.5).multiply(r),void 0!==o?(Bl.x=l*Gl.x-o*Gl.y,Bl.y=o*Gl.x+l*Gl.y):Bl.copy(Gl),t.copy(e),t.x+=Bl.x,t.y+=Bl.y,t.applyMatrix4(Fl)}jl.prototype.isSprite=!0;const Yl=new ei,$l=new qn,Kl=new qn,Ql=new ei,Zl=new Ni;class Jl extends ta{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ni,this.bindMatrixInverse=new Ni}copy(source){return super.copy(source),this.bindMode=source.bindMode,this.bindMatrix.copy(source.bindMatrix),this.bindMatrixInverse.copy(source.bindMatrixInverse),this.skeleton=source.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new qn,e=this.geometry.attributes.skinWeight;for(let i=0,n=e.count;i<n;i++){t.fromBufferAttribute(e,i);const n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const n=this.skeleton,r=this.geometry;$l.fromBufferAttribute(r.attributes.skinIndex,t),Kl.fromBufferAttribute(r.attributes.skinWeight,t),Yl.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let i=0;i<4;i++){const t=Kl.getComponent(i);if(0!==t){const r=$l.getComponent(i);Zl.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),e.addScaledVector(Ql.copy(Yl).applyMatrix4(Zl),t)}}return e.applyMatrix4(this.bindMatrixInverse)}}Jl.prototype.isSkinnedMesh=!0;class tp extends ar{constructor(){super(),this.type="Bone"}}tp.prototype.isBone=!0;class ep extends jn{constructor(data=null,t=1,e=1,n,r,o,l,c,h=St,d=St,m,f){super(null,o,l,c,h,d,n,r,m,f),this.image={data:data,width:t,height:e},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}ep.prototype.isDataTexture=!0;const np=new Ni,ip=new Ni;class ap{constructor(t=[],e=[]){this.uuid=nn(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,t=this.bones.length;i<t;i++)this.boneInverses.push(new Ni)}}calculateInverses(){this.boneInverses.length=0;for(let i=0,t=this.bones.length;i<t;i++){const t=new Ni;this.bones[i]&&t.copy(this.bones[i].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let i=0,t=this.bones.length;i<t;i++){const t=this.bones[i];t&&t.matrixWorld.copy(this.boneInverses[i]).invert()}for(let i=0,t=this.bones.length;i<t;i++){const t=this.bones[i];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:ip;np.multiplyMatrices(r,e[i]),np.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new ap(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=yn(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new ep(e,t,t,zt,Dt);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let i=0,e=this.bones.length;i<e;i++){const e=this.bones[i];if(e.name===t)return e}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,n=t.bones.length;i<n;i++){const n=t.bones[i];let r=e[n];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),r=new tp),this.bones.push(r),this.boneInverses.push((new Ni).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const data={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};data.uuid=this.uuid;const t=this.bones,e=this.boneInverses;for(let i=0,n=t.length;i<n;i++){const n=t[i];data.bones.push(n.uuid);const r=e[i];data.boneInverses.push(r.toArray())}return data}}class op extends Mr{constructor(t,e,n,r=1){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,n),this.meshPerAttribute=r}copy(source){return super.copy(source),this.meshPerAttribute=source.meshPerAttribute,this}toJSON(){const data=super.toJSON();return data.meshPerAttribute=this.meshPerAttribute,data.isInstancedBufferAttribute=!0,data}}op.prototype.isInstancedBufferAttribute=!0;const sp=new Ni,lp=new Ni,pp=[],cp=new ta;class up extends ta{constructor(t,e,n){super(t,e),this.instanceMatrix=new op(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(source){return super.copy(source),this.instanceMatrix.copy(source.instanceMatrix),null!==source.instanceColor&&(this.instanceColor=source.instanceColor.clone()),this.count=source.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const n=this.matrixWorld,r=this.count;if(cp.geometry=this.geometry,cp.material=this.material,void 0!==cp.material)for(let o=0;o<r;o++){this.getMatrixAt(o,sp),lp.multiplyMatrices(n,sp),cp.matrixWorld=lp,cp.raycast(t,pp);for(let i=0,t=pp.length;i<t;i++){const t=pp[i];t.instanceId=o,t.object=this,e.push(t)}pp.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new op(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}up.prototype.isInstancedMesh=!0;class hp extends _r{constructor(t){super(),this.type="LineBasicMaterial",this.color=new Vn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.linewidth=source.linewidth,this.linecap=source.linecap,this.linejoin=source.linejoin,this.fog=source.fog,this}}hp.prototype.isLineBasicMaterial=!0;const dp=new ei,mp=new ei,fp=new Ni,gp=new Li,vp=new Mi;class xp extends ar{constructor(t=new kr,e=new hp){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(source){return super.copy(source),this.material=source.material,this.geometry=source.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let i=1,t=e.count;i<t;i++)dp.fromBufferAttribute(e,i-1),mp.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=dp.distanceTo(mp);t.setAttribute("lineDistance",new Tr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,o=t.params.Line.threshold,l=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),vp.copy(n.boundingSphere),vp.applyMatrix4(r),vp.radius+=o,!1===t.ray.intersectsSphere(vp))return;fp.copy(r).invert(),gp.copy(t.ray).applyMatrix4(fp);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,d=new ei,m=new ei,f=new ei,v=new ei,x=this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position;if(null!==r)for(let i=Math.max(0,l.start),n=Math.min(r.count,l.start+l.count)-1;i<n;i+=x){const a=r.getX(i),b=r.getX(i+1);if(d.fromBufferAttribute(o,a),m.fromBufferAttribute(o,b),gp.distanceSqToSegment(d,m,v,f)>h)continue;v.applyMatrix4(this.matrixWorld);const n=t.ray.origin.distanceTo(v);n<t.near||n>t.far||e.push({distance:n,point:f.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}else for(let i=Math.max(0,l.start),n=Math.min(o.count,l.start+l.count)-1;i<n;i+=x){if(d.fromBufferAttribute(o,i),m.fromBufferAttribute(o,i+1),gp.distanceSqToSegment(d,m,v,f)>h)continue;v.applyMatrix4(this.matrixWorld);const n=t.ray.origin.distanceTo(v);n<t.near||n>t.far||e.push({distance:n,point:f.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}xp.prototype.isLine=!0;const _p=new ei,yp=new ei;class bp extends xp{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let i=0,t=e.count;i<t;i+=2)_p.fromBufferAttribute(e,i),yp.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+_p.distanceTo(yp);t.setAttribute("lineDistance",new Tr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}bp.prototype.isLineSegments=!0;class Sp extends xp{constructor(t,e){super(t,e),this.type="LineLoop"}}Sp.prototype.isLineLoop=!0;class wp extends _r{constructor(t){super(),this.type="PointsMaterial",this.color=new Vn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.size=source.size,this.sizeAttenuation=source.sizeAttenuation,this.fog=source.fog,this}}wp.prototype.isPointsMaterial=!0;const Mp=new Ni,Ep=new Li,Rp=new Mi,Ap=new ei;class Tp extends ar{constructor(t=new kr,e=new wp){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(source){return super.copy(source),this.material=source.material,this.geometry=source.geometry,this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,o=t.params.Points.threshold,l=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Rp.copy(n.boundingSphere),Rp.applyMatrix4(r),Rp.radius+=o,!1===t.ray.intersectsSphere(Rp))return;Mp.copy(r).invert(),Ep.copy(t.ray).applyMatrix4(Mp);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c;if(n.isBufferGeometry){const o=n.index,c=n.attributes.position;if(null!==o)for(let i=Math.max(0,l.start),n=Math.min(o.count,l.start+l.count);i<n;i++){const a=o.getX(i);Ap.fromBufferAttribute(c,a),Pp(Ap,a,h,r,t,e,this)}else for(let i=Math.max(0,l.start),n=Math.min(c.count,l.start+l.count);i<n;i++)Ap.fromBufferAttribute(c,i),Pp(Ap,i,h,r,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function Pp(t,e,n,r,o,l,object){const c=Ep.distanceSqToPoint(t);if(c<n){const n=new ei;Ep.closestPointToPoint(t,n),n.applyMatrix4(r);const h=o.ray.origin.distanceTo(n);if(h<o.near||h>o.far)return;l.push({distance:h,distanceToRay:Math.sqrt(c),point:n,index:e,face:null,object:object})}}Tp.prototype.isPoints=!0;class Cp extends jn{constructor(video,t,e,n,r,o,l,c,h){super(video,t,e,n,r,o,l,c,h),this.minFilter=void 0!==o?o:Et,this.magFilter=void 0!==r?r:Et,this.generateMipmaps=!1;const d=this;function m(){d.needsUpdate=!0,video.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in video&&video.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const video=this.image;!1=="requestVideoFrameCallback"in video&&video.readyState>=video.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Cp.prototype.isVideoTexture=!0;class Ip extends jn{constructor(t,e,n){super({width:t,height:e}),this.format=n,this.magFilter=St,this.minFilter=St,this.generateMipmaps=!1,this.needsUpdate=!0}}Ip.prototype.isFramebufferTexture=!0;class Lp extends jn{constructor(t,e,n,r,o,l,c,h,d,m,f,v){super(null,l,c,h,d,m,r,o,f,v),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}Lp.prototype.isCompressedTexture=!0;class Np extends jn{constructor(canvas,t,e,n,r,o,l,c,h){super(canvas,t,e,n,r,o,l,c,h),this.needsUpdate=!0}}Np.prototype.isCanvasTexture=!0;class Dp{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(u,t){const e=this.getUtoTmapping(u);return this.getPoint(e,t)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),o=0;e.push(0);for(let p=1;p<=t;p++)n=this.getPoint(p/t),o+=n.distanceTo(r),e.push(o),r=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(u,t){const e=this.getLengths();let i=0;const n=e.length;let r;r=t||u*e[n-1];let o,l=0,c=n-1;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),o=e[i]-r,o<0)l=i+1;else{if(!(o>0)){c=i;break}c=i-1}if(i=c,e[i]===r)return i/(n-1);const h=e[i];return(i+(r-h)/(e[i+1]-h))/(n-1)}getTangent(t,e){const n=1e-4;let r=t-n,o=t+n;r<0&&(r=0),o>1&&(o=1);const l=this.getPoint(r),c=this.getPoint(o),h=e||(l.isVector2?new Rn:new ei);return h.copy(c).sub(l).normalize(),h}getTangentAt(u,t){const e=this.getUtoTmapping(u);return this.getTangent(e,t)}computeFrenetFrames(t,e){const n=new ei,r=[],o=[],l=[],c=new ei,h=new Ni;for(let i=0;i<=t;i++){const u=i/t;r[i]=this.getTangentAt(u,new ei)}o[0]=new ei,l[0]=new ei;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),f=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=d&&(d=m,n.set(1,0,0)),f<=d&&(d=f,n.set(0,1,0)),v<=d&&n.set(0,0,1),c.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],c),l[0].crossVectors(r[0],o[0]);for(let i=1;i<=t;i++){if(o[i]=o[i-1].clone(),l[i]=l[i-1].clone(),c.crossVectors(r[i-1],r[i]),c.length()>Number.EPSILON){c.normalize();const t=Math.acos(rn(r[i-1].dot(r[i]),-1,1));o[i].applyMatrix4(h.makeRotationAxis(c,t))}l[i].crossVectors(r[i],o[i])}if(!0===e){let e=Math.acos(rn(o[0].dot(o[t]),-1,1));e/=t,r[0].dot(c.crossVectors(o[0],o[t]))>0&&(e=-e);for(let i=1;i<=t;i++)o[i].applyMatrix4(h.makeRotationAxis(r[i],e*i)),l[i].crossVectors(r[i],o[i])}return{tangents:r,normals:o,binormals:l}}clone(){return(new this.constructor).copy(this)}copy(source){return this.arcLengthDivisions=source.arcLengthDivisions,this}toJSON(){const data={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return data.arcLengthDivisions=this.arcLengthDivisions,data.type=this.type,data}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Op extends Dp{constructor(t=0,e=0,n=1,r=1,o=0,l=2*Math.PI,c=!1,h=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=c,this.aRotation=h}getPoint(t,e){const n=e||new Rn,r=2*Math.PI;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(o=l?0:r),!0!==this.aClockwise||l||(o===r?o=-r:o-=r);const c=this.aStartAngle+t*o;let h=this.aX+this.xRadius*Math.cos(c),d=this.aY+this.yRadius*Math.sin(c);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=h-this.aX,r=d-this.aY;h=n*t-r*e+this.aX,d=n*e+r*t+this.aY}return n.set(h,d)}copy(source){return super.copy(source),this.aX=source.aX,this.aY=source.aY,this.xRadius=source.xRadius,this.yRadius=source.yRadius,this.aStartAngle=source.aStartAngle,this.aEndAngle=source.aEndAngle,this.aClockwise=source.aClockwise,this.aRotation=source.aRotation,this}toJSON(){const data=super.toJSON();return data.aX=this.aX,data.aY=this.aY,data.xRadius=this.xRadius,data.yRadius=this.yRadius,data.aStartAngle=this.aStartAngle,data.aEndAngle=this.aEndAngle,data.aClockwise=this.aClockwise,data.aRotation=this.aRotation,data}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}Op.prototype.isEllipseCurve=!0;class kp extends Op{constructor(t,e,n,r,o,l){super(t,e,n,n,r,o,l),this.type="ArcCurve"}}function Gp(){let t=0,e=0,n=0,r=0;function o(o,l,c,h){t=o,e=c,n=-3*o+3*l-2*c-h,r=2*o-2*l+c+h}return{initCatmullRom:function(t,e,n,r,l){o(e,n,l*(n-t),l*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,l,c,h){let d=(e-t)/l-(n-t)/(l+c)+(n-e)/c,m=(n-e)/c-(r-e)/(c+h)+(r-n)/h;d*=c,m*=c,o(e,n,d,m)},calc:function(o){const l=o*o;return t+e*o+n*l+r*(l*o)}}}kp.prototype.isArcCurve=!0;const Bp=new ei,Fp=new Gp,Vp=new Gp,zp=new Gp;class Up extends Dp{constructor(t=[],e=!1,n="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}getPoint(t,e=new ei){const n=e,r=this.points,o=r.length,p=(o-(this.closed?0:1))*t;let l,c,h=Math.floor(p),d=p-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/o)+1)*o:0===d&&h===o-1&&(h=o-2,d=1),this.closed||h>0?l=r[(h-1)%o]:(Bp.subVectors(r[0],r[1]).add(r[0]),l=Bp);const m=r[h%o],f=r[(h+1)%o];if(this.closed||h+2<o?c=r[(h+2)%o]:(Bp.subVectors(r[o-1],r[o-2]).add(r[o-1]),c=Bp),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(l.distanceToSquared(m),t),n=Math.pow(m.distanceToSquared(f),t),r=Math.pow(f.distanceToSquared(c),t);n<1e-4&&(n=1),e<1e-4&&(e=n),r<1e-4&&(r=n),Fp.initNonuniformCatmullRom(l.x,m.x,f.x,c.x,e,n,r),Vp.initNonuniformCatmullRom(l.y,m.y,f.y,c.y,e,n,r),zp.initNonuniformCatmullRom(l.z,m.z,f.z,c.z,e,n,r)}else"catmullrom"===this.curveType&&(Fp.initCatmullRom(l.x,m.x,f.x,c.x,this.tension),Vp.initCatmullRom(l.y,m.y,f.y,c.y,this.tension),zp.initCatmullRom(l.z,m.z,f.z,c.z,this.tension));return n.set(Fp.calc(d),Vp.calc(d),zp.calc(d)),n}copy(source){super.copy(source),this.points=[];for(let i=0,t=source.points.length;i<t;i++){const t=source.points[i];this.points.push(t.clone())}return this.closed=source.closed,this.curveType=source.curveType,this.tension=source.tension,this}toJSON(){const data=super.toJSON();data.points=[];for(let i=0,t=this.points.length;i<t;i++){const t=this.points[i];data.points.push(t.toArray())}return data.closed=this.closed,data.curveType=this.curveType,data.tension=this.tension,data}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,e=t.points.length;i<e;i++){const e=t.points[i];this.points.push((new ei).fromArray(e))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Hp(t,e,n,r,o){const l=.5*(r-e),c=.5*(o-n),h=t*t;return(2*n-2*r+l+c)*(t*h)+(-3*n+3*r-2*l-c)*h+l*t+n}function Xp(t,p){const e=1-t;return e*e*p}function Wp(t,p){return 2*(1-t)*t*p}function jp(t,p){return t*t*p}function qp(t,e,n,r){return Xp(t,e)+Wp(t,n)+jp(t,r)}function Yp(t,p){const e=1-t;return e*e*e*p}function $p(t,p){const e=1-t;return 3*e*e*t*p}function Kp(t,p){return 3*(1-t)*t*t*p}function Qp(t,p){return t*t*t*p}function Zp(t,e,n,r,o){return Yp(t,e)+$p(t,n)+Kp(t,r)+Qp(t,o)}Up.prototype.isCatmullRomCurve3=!0;class Jp extends Dp{constructor(t=new Rn,e=new Rn,n=new Rn,r=new Rn){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new Rn){const n=e,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(Zp(t,r.x,o.x,l.x,c.x),Zp(t,r.y,o.y,l.y,c.y)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}Jp.prototype.isCubicBezierCurve=!0;class tc extends Dp{constructor(t=new ei,e=new ei,n=new ei,r=new ei){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new ei){const n=e,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(Zp(t,r.x,o.x,l.x,c.x),Zp(t,r.y,o.y,l.y,c.y),Zp(t,r.z,o.z,l.z,c.z)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}tc.prototype.isCubicBezierCurve3=!0;class ec extends Dp{constructor(t=new Rn,e=new Rn){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Rn){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(u,t){return this.getPoint(u,t)}getTangent(t,e){const n=e||new Rn;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(source){return super.copy(source),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}ec.prototype.isLineCurve=!0;class nc extends Dp{constructor(t=new ei,e=new ei){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new ei){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(u,t){return this.getPoint(u,t)}copy(source){return super.copy(source),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ic extends Dp{constructor(t=new Rn,e=new Rn,n=new Rn){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Rn){const n=e,r=this.v0,o=this.v1,l=this.v2;return n.set(qp(t,r.x,o.x,l.x),qp(t,r.y,o.y,l.y)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}ic.prototype.isQuadraticBezierCurve=!0;class rc extends Dp{constructor(t=new ei,e=new ei,n=new ei){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new ei){const n=e,r=this.v0,o=this.v1,l=this.v2;return n.set(qp(t,r.x,o.x,l.x),qp(t,r.y,o.y,l.y),qp(t,r.z,o.z,l.z)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}rc.prototype.isQuadraticBezierCurve3=!0;class ac extends Dp{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new Rn){const n=e,r=this.points,p=(r.length-1)*t,o=Math.floor(p),l=p-o,c=r[0===o?o:o-1],h=r[o],d=r[o>r.length-2?r.length-1:o+1],m=r[o>r.length-3?r.length-1:o+2];return n.set(Hp(l,c.x,h.x,d.x,m.x),Hp(l,c.y,h.y,d.y,m.y)),n}copy(source){super.copy(source),this.points=[];for(let i=0,t=source.points.length;i<t;i++){const t=source.points[i];this.points.push(t.clone())}return this}toJSON(){const data=super.toJSON();data.points=[];for(let i=0,t=this.points.length;i<t;i++){const t=this.points[i];data.points.push(t.toArray())}return data}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,e=t.points.length;i<e;i++){const e=t.points[i];this.points.push((new Rn).fromArray(e))}return this}}ac.prototype.isSplineCurve=!0;var oc=Object.freeze({__proto__:null,ArcCurve:kp,CatmullRomCurve3:Up,CubicBezierCurve:Jp,CubicBezierCurve3:tc,EllipseCurve:Op,LineCurve:ec,LineCurve3:nc,QuadraticBezierCurve:ic,QuadraticBezierCurve3:rc,SplineCurve:ac});class sc extends Dp{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ec(e,t))}getPoint(t,e){const n=t*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const t=r[i]-n,o=this.curves[i],l=o.getLength(),u=0===l?0:1-t/l;return o.getPointAt(u,e)}i++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],l=o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,c=o.getPoints(l);for(let t=0;t<c.length;t++){const r=c[t];n&&n.equals(r)||(e.push(r),n=r)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(source){super.copy(source),this.curves=[];for(let i=0,t=source.curves.length;i<t;i++){const t=source.curves[i];this.curves.push(t.clone())}return this.autoClose=source.autoClose,this}toJSON(){const data=super.toJSON();data.autoClose=this.autoClose,data.curves=[];for(let i=0,t=this.curves.length;i<t;i++){const t=this.curves[i];data.curves.push(t.toJSON())}return data}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let i=0,e=t.curves.length;i<e;i++){const e=t.curves[i];this.curves.push((new oc[e.type]).fromJSON(e))}return this}}class lc extends sc{constructor(t){super(),this.type="Path",this.currentPoint=new Rn,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let i=1,e=t.length;i<e;i++)this.lineTo(t[i].x,t[i].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new ec(this.currentPoint.clone(),new Rn(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,r){const o=new ic(this.currentPoint.clone(),new Rn(t,e),new Rn(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(t,e,n,r,o,l){const c=new Jp(this.currentPoint.clone(),new Rn(t,e),new Rn(n,r),new Rn(o,l));return this.curves.push(c),this.currentPoint.set(o,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new ac(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,r,o,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+c,e+h,n,r,o,l),this}absarc(t,e,n,r,o,l){return this.absellipse(t,e,n,n,r,o,l),this}ellipse(t,e,n,r,o,l,c,h){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+d,e+m,n,r,o,l,c,h),this}absellipse(t,e,n,r,o,l,c,h){const d=new Op(t,e,n,r,o,l,c,h);if(this.curves.length>0){const t=d.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(source){return super.copy(source),this.currentPoint.copy(source.currentPoint),this}toJSON(){const data=super.toJSON();return data.currentPoint=this.currentPoint.toArray(),data}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}new ei,new ei,new ei,new vr;class pc extends lc{constructor(t){super(t),this.uuid=nn(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(source){super.copy(source),this.holes=[];for(let i=0,t=source.holes.length;i<t;i++){const t=source.holes[i];this.holes.push(t.clone())}return this}toJSON(){const data=super.toJSON();data.uuid=this.uuid,data.holes=[];for(let i=0,t=this.holes.length;i<t;i++){const t=this.holes[i];data.holes.push(t.toJSON())}return data}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let i=0,e=t.holes.length;i<e;i++){const e=t.holes[i];this.holes.push((new lc).fromJSON(e))}return this}}const cc={triangulate:function(data,t,e=2){const n=t&&t.length,r=n?t[0]*e:data.length;let o=uc(data,0,r,e,!0);const l=[];if(!o||o.next===o.prev)return l;let c,h,d,m,f,v,x;if(n&&(o=xc(data,t,o,e)),data.length>80*e){c=d=data[0],h=m=data[1];for(let i=e;i<r;i+=e)f=data[i],v=data[i+1],f<c&&(c=f),v<h&&(h=v),f>d&&(d=f),v>m&&(m=v);x=Math.max(d-c,m-h),x=0!==x?1/x:0}return dc(o,l,e,c,h,x),l}};function uc(data,t,e,n,r){let i,o;if(r===Vc(data,t,e,n)>0)for(i=t;i<e;i+=n)o=Gc(i,data[i],data[i+1],o);else for(i=e-n;i>=t;i-=n)o=Gc(i,data[i],data[i+1],o);return o&&Pc(o,o.next)&&(Bc(o),o=o.next),o}function hc(t,e){if(!t)return t;e||(e=t);let n,p=t;do{if(n=!1,p.steiner||!Pc(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(Bc(p),p=e=p.prev,p===p.next)break;n=!0}}while(n||p!==e);return e}function dc(t,e,n,r,o,l,c){if(!t)return;!c&&l&&wc(t,r,o,l);let h,d,m=t;for(;t.prev!==t.next;)if(h=t.prev,d=t.next,l?fc(t,r,o,l):mc(t))e.push(h.i/n),e.push(t.i/n),e.push(d.i/n),Bc(t),t=d.next,m=d.next;else if((t=d)===m){c?1===c?dc(t=gc(hc(t),e,n),e,n,r,o,l,2):2===c&&vc(t,e,n,r,o,l):dc(hc(t),e,n,r,o,l,1);break}}function mc(t){const a=t.prev,b=t,e=t.next;if(area(a,b,e)>=0)return!1;let p=t.next.next;for(;p!==t.prev;){if(Ac(a.x,a.y,b.x,b.y,e.x,e.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function fc(t,e,n,r){const a=t.prev,b=t,o=t.next;if(area(a,b,o)>=0)return!1;const l=a.x<b.x?a.x<o.x?a.x:o.x:b.x<o.x?b.x:o.x,c=a.y<b.y?a.y<o.y?a.y:o.y:b.y<o.y?b.y:o.y,h=a.x>b.x?a.x>o.x?a.x:o.x:b.x>o.x?b.x:o.x,d=a.y>b.y?a.y>o.y?a.y:o.y:b.y>o.y?b.y:o.y,m=Ec(l,c,e,n,r),f=Ec(h,d,e,n,r);let p=t.prevZ,v=t.nextZ;for(;p&&p.z>=m&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&Ac(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&Ac(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=m;){if(p!==t.prev&&p!==t.next&&Ac(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&Ac(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function gc(t,e,n){let p=t;do{const a=p.prev,b=p.next.next;!Pc(a,b)&&Cc(a,p,p.next,b)&&Dc(a,b)&&Dc(b,a)&&(e.push(a.i/n),e.push(p.i/n),e.push(b.i/n),Bc(p),Bc(p.next),p=t=b),p=p.next}while(p!==t);return hc(p)}function vc(t,e,n,r,o,l){let a=t;do{let b=a.next.next;for(;b!==a.prev;){if(a.i!==b.i&&Tc(a,b)){let t=kc(a,b);return a=hc(a,a.next),t=hc(t,t.next),dc(a,e,n,r,o,l),void dc(t,e,n,r,o,l)}b=b.next}a=a.next}while(a!==t)}function xc(data,t,e,n){const r=[];let i,o,l,c,h;for(i=0,o=t.length;i<o;i++)l=t[i]*n,c=i<o-1?t[i+1]*n:data.length,h=uc(data,l,c,n,!1),h===h.next&&(h.steiner=!0),r.push(Rc(h));for(r.sort(_c),i=0;i<r.length;i++)yc(r[i],e),e=hc(e,e.next);return e}function _c(a,b){return a.x-b.x}function yc(t,e){if(e=bc(t,e)){const b=kc(e,t);hc(e,e.next),hc(b,b.next)}}function bc(t,e){let p=e;const n=t.x,r=t.y;let o,l=-1/0;do{if(r<=p.y&&r>=p.next.y&&p.next.y!==p.y){const t=p.x+(r-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(t<=n&&t>l){if(l=t,t===n){if(r===p.y)return p;if(r===p.next.y)return p.next}o=p.x<p.next.x?p:p.next}}p=p.next}while(p!==e);if(!o)return null;if(n===l)return o;const c=o,h=o.x,d=o.y;let m,f=1/0;p=o;do{n>=p.x&&p.x>=h&&n!==p.x&&Ac(r<d?n:l,r,h,d,r<d?l:n,r,p.x,p.y)&&(m=Math.abs(r-p.y)/(n-p.x),Dc(p,t)&&(m<f||m===f&&(p.x>o.x||p.x===o.x&&Sc(o,p)))&&(o=p,f=m)),p=p.next}while(p!==c);return o}function Sc(t,p){return area(t.prev,t,p.prev)<0&&area(p.next,t,t.next)<0}function wc(t,e,n,r){let p=t;do{null===p.z&&(p.z=Ec(p.x,p.y,e,n,r)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==t);p.prevZ.nextZ=null,p.prevZ=null,Mc(p)}function Mc(t){let i,p,q,e,n,r,o,l,c=1;do{for(p=t,t=null,n=null,r=0;p;){for(r++,q=p,o=0,i=0;i<c&&(o++,q=q.nextZ,q);i++);for(l=c;o>0||l>0&&q;)0!==o&&(0===l||!q||p.z<=q.z)?(e=p,p=p.nextZ,o--):(e=q,q=q.nextZ,l--),n?n.nextZ=e:t=e,e.prevZ=n,n=e;p=q}n.nextZ=null,c*=2}while(r>1);return t}function Ec(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Rc(t){let p=t,e=t;do{(p.x<e.x||p.x===e.x&&p.y<e.y)&&(e=p),p=p.next}while(p!==t);return e}function Ac(t,e,n,r,o,l,c,h){return(o-c)*(e-h)-(t-c)*(l-h)>=0&&(t-c)*(r-h)-(n-c)*(e-h)>=0&&(n-c)*(l-h)-(o-c)*(r-h)>=0}function Tc(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!Nc(a,b)&&(Dc(a,b)&&Dc(b,a)&&Oc(a,b)&&(area(a.prev,a,b.prev)||area(a,b.prev,b))||Pc(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0)}function area(p,q,t){return(q.y-p.y)*(t.x-q.x)-(q.x-p.x)*(t.y-q.y)}function Pc(t,e){return t.x===e.x&&t.y===e.y}function Cc(t,e,n,r){const o=Lc(area(t,e,n)),l=Lc(area(t,e,r)),c=Lc(area(n,r,t)),h=Lc(area(n,r,e));return o!==l&&c!==h||!(0!==o||!Ic(t,n,e))||!(0!==l||!Ic(t,r,e))||!(0!==c||!Ic(n,t,r))||!(0!==h||!Ic(n,e,r))}function Ic(p,q,t){return q.x<=Math.max(p.x,t.x)&&q.x>=Math.min(p.x,t.x)&&q.y<=Math.max(p.y,t.y)&&q.y>=Math.min(p.y,t.y)}function Lc(t){return t>0?1:t<0?-1:0}function Nc(a,b){let p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&Cc(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}function Dc(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function Oc(a,b){let p=a,t=!1;const e=(a.x+b.x)/2,n=(a.y+b.y)/2;do{p.y>n!=p.next.y>n&&p.next.y!==p.y&&e<(p.next.x-p.x)*(n-p.y)/(p.next.y-p.y)+p.x&&(t=!t),p=p.next}while(p!==a);return t}function kc(a,b){const t=new Fc(a.i,a.x,a.y),e=new Fc(b.i,b.x,b.y),n=a.next,r=b.prev;return a.next=b,b.prev=a,t.next=n,n.prev=t,e.next=t,t.prev=e,r.next=e,e.prev=r,e}function Gc(i,t,e,n){const p=new Fc(i,t,e);return n?(p.next=n.next,p.prev=n,n.next.prev=p,n.next=p):(p.prev=p,p.next=p),p}function Bc(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function Fc(i,t,e){this.i=i,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Vc(data,t,e,n){let r=0;for(let i=t,o=e-n;i<e;i+=n)r+=(data[o]-data[i])*(data[i+1]+data[o+1]),o=i;return r}class zc{static area(t){const e=t.length;let a=0;for(let p=e-1,q=0;q<e;p=q++)a+=t[p].x*t[q].y-t[q].x*t[p].y;return.5*a}static isClockWise(t){return zc.area(t)<0}static triangulateShape(t,e){const n=[],r=[],o=[];Uc(t),Hc(n,t);let l=t.length;e.forEach(Uc);for(let i=0;i<e.length;i++)r.push(l),l+=e[i].length,Hc(n,e[i]);const c=cc.triangulate(n,r);for(let i=0;i<c.length;i+=3)o.push(c.slice(i,i+3));return o}}function Uc(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Hc(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}class Xc extends kr{constructor(t=new pc([new Rn(.5,.5),new Rn(-.5,.5),new Rn(-.5,-.5),new Rn(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,r=[],o=[];for(let i=0,e=t.length;i<e;i++)l(t[i]);function l(t){const l=[],c=void 0!==e.curveSegments?e.curveSegments:12,h=void 0!==e.steps?e.steps:1;let d=void 0!==e.depth?e.depth:1,m=void 0===e.bevelEnabled||e.bevelEnabled,f=void 0!==e.bevelThickness?e.bevelThickness:.2,v=void 0!==e.bevelSize?e.bevelSize:f-.1,x=void 0!==e.bevelOffset?e.bevelOffset:0,_=void 0!==e.bevelSegments?e.bevelSegments:3;const y=e.extrudePath,S=void 0!==e.UVGenerator?e.UVGenerator:Wc;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=e.amount);let w,M,E,R,A,T=!1;y&&(w=y.getSpacedPoints(h),T=!0,m=!1,M=y.computeFrenetFrames(h,!1),E=new ei,R=new ei,A=new ei),m||(_=0,f=0,v=0,x=0);const P=t.extractPoints(c);let C=P.shape;const I=P.holes;if(!zc.isClockWise(C)){C=C.reverse();for(let t=0,e=I.length;t<e;t++){const e=I[t];zc.isClockWise(e)&&(I[t]=e.reverse())}}const L=zc.triangulateShape(C,I),N=C;for(let t=0,e=I.length;t<e;t++){const e=I[t];C=C.concat(e)}function D(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const O=C.length,k=L.length;function G(t,e,n){let r,o,l;const c=t.x-e.x,h=t.y-e.y,d=n.x-t.x,m=n.y-t.y,f=c*c+h*h,v=c*m-h*d;if(Math.abs(v)>Number.EPSILON){const v=Math.sqrt(f),x=Math.sqrt(d*d+m*m),_=e.x-h/v,y=e.y+c/v,S=((n.x-m/x-_)*m-(n.y+d/x-y)*d)/(c*m-h*d);r=_+c*S-t.x,o=y+h*S-t.y;const w=r*r+o*o;if(w<=2)return new Rn(r,o);l=Math.sqrt(w/2)}else{let t=!1;c>Number.EPSILON?d>Number.EPSILON&&(t=!0):c<-Number.EPSILON?d<-Number.EPSILON&&(t=!0):Math.sign(h)===Math.sign(m)&&(t=!0),t?(r=-h,o=c,l=Math.sqrt(f)):(r=c,o=h,l=Math.sqrt(f/2))}return new Rn(r/l,o/l)}const B=[];for(let i=0,t=N.length,e=t-1,n=i+1;i<t;i++,e++,n++)e===t&&(e=0),n===t&&(n=0),B[i]=G(N[i],N[e],N[n]);const F=[];let V,z=B.concat();for(let t=0,e=I.length;t<e;t++){const e=I[t];V=[];for(let i=0,t=e.length,n=t-1,r=i+1;i<t;i++,n++,r++)n===t&&(n=0),r===t&&(r=0),V[i]=G(e[i],e[n],e[r]);F.push(V),z=z.concat(V)}for(let b=0;b<_;b++){const t=b/_,e=f*Math.cos(t*Math.PI/2),n=v*Math.sin(t*Math.PI/2)+x;for(let i=0,t=N.length;i<t;i++){const t=D(N[i],B[i],n);j(t.x,t.y,-e)}for(let t=0,r=I.length;t<r;t++){const r=I[t];V=F[t];for(let i=0,t=r.length;i<t;i++){const t=D(r[i],V[i],n);j(t.x,t.y,-e)}}}const U=v+x;for(let i=0;i<O;i++){const t=m?D(C[i],z[i],U):C[i];T?(R.copy(M.normals[0]).multiplyScalar(t.x),E.copy(M.binormals[0]).multiplyScalar(t.y),A.copy(w[0]).add(R).add(E),j(A.x,A.y,A.z)):j(t.x,t.y,0)}for(let s=1;s<=h;s++)for(let i=0;i<O;i++){const t=m?D(C[i],z[i],U):C[i];T?(R.copy(M.normals[s]).multiplyScalar(t.x),E.copy(M.binormals[s]).multiplyScalar(t.y),A.copy(w[s]).add(R).add(E),j(A.x,A.y,A.z)):j(t.x,t.y,d/h*s)}for(let b=_-1;b>=0;b--){const t=b/_,e=f*Math.cos(t*Math.PI/2),n=v*Math.sin(t*Math.PI/2)+x;for(let i=0,t=N.length;i<t;i++){const t=D(N[i],B[i],n);j(t.x,t.y,d+e)}for(let t=0,r=I.length;t<r;t++){const r=I[t];V=F[t];for(let i=0,t=r.length;i<t;i++){const t=D(r[i],V[i],n);T?j(t.x,t.y+w[h-1].y,w[h-1].x+e):j(t.x,t.y,d+e)}}}function H(){const t=r.length/3;if(m){let t=0,e=O*t;for(let i=0;i<k;i++){const t=L[i];Y(t[2]+e,t[1]+e,t[0]+e)}t=h+2*_,e=O*t;for(let i=0;i<k;i++){const t=L[i];Y(t[0]+e,t[1]+e,t[2]+e)}}else{for(let i=0;i<k;i++){const t=L[i];Y(t[2],t[1],t[0])}for(let i=0;i<k;i++){const t=L[i];Y(t[0]+O*h,t[1]+O*h,t[2]+O*h)}}n.addGroup(t,r.length/3-t,0)}function X(){const t=r.length/3;let e=0;W(N,e),e+=N.length;for(let t=0,n=I.length;t<n;t++){const n=I[t];W(n,e),e+=n.length}n.addGroup(t,r.length/3-t,1)}function W(t,e){let i=t.length;for(;--i>=0;){const n=i;let r=i-1;r<0&&(r=t.length-1);for(let s=0,t=h+2*_;s<t;s++){const t=O*s,o=O*(s+1);$(e+n+t,e+r+t,e+r+o,e+n+o)}}}function j(t,e,n){l.push(t),l.push(e),l.push(n)}function Y(a,b,t){K(a),K(b),K(t);const e=r.length/3,o=S.generateTopUV(n,r,e-3,e-2,e-1);Q(o[0]),Q(o[1]),Q(o[2])}function $(a,b,t,e){K(a),K(b),K(e),K(b),K(t),K(e);const o=r.length/3,l=S.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);Q(l[0]),Q(l[1]),Q(l[3]),Q(l[1]),Q(l[2]),Q(l[3])}function K(t){r.push(l[3*t+0]),r.push(l[3*t+1]),r.push(l[3*t+2])}function Q(t){o.push(t.x),o.push(t.y)}H(),X()}this.setAttribute("position",new Tr(r,3)),this.setAttribute("uv",new Tr(o,2)),this.computeVertexNormals()}toJSON(){const data=super.toJSON();return jc(this.parameters.shapes,this.parameters.options,data)}static fromJSON(data,t){const e=[];for(let n=0,r=data.shapes.length;n<r;n++){const r=t[data.shapes[n]];e.push(r)}const n=data.options.extrudePath;return void 0!==n&&(data.options.extrudePath=(new oc[n.type]).fromJSON(n)),new Xc(e,data.options)}}const Wc={generateTopUV:function(t,e,n,r,o){const l=e[3*n],c=e[3*n+1],h=e[3*r],d=e[3*r+1],m=e[3*o],f=e[3*o+1];return[new Rn(l,c),new Rn(h,d),new Rn(m,f)]},generateSideWallUV:function(t,e,n,r,o,l){const c=e[3*n],h=e[3*n+1],d=e[3*n+2],m=e[3*r],f=e[3*r+1],v=e[3*r+2],x=e[3*o],_=e[3*o+1],y=e[3*o+2],S=e[3*l],w=e[3*l+1],M=e[3*l+2];return Math.abs(h-f)<Math.abs(c-m)?[new Rn(c,1-d),new Rn(m,1-v),new Rn(x,1-y),new Rn(S,1-M)]:[new Rn(h,1-d),new Rn(f,1-v),new Rn(_,1-y),new Rn(w,1-M)]}};function jc(t,e,data){if(data.shapes=[],Array.isArray(t))for(let i=0,e=t.length;i<e;i++){const e=t[i];data.shapes.push(e.uuid)}else data.shapes.push(t.uuid);return void 0!==e.extrudePath&&(data.options.extrudePath=e.extrudePath.toJSON()),data}class qc extends kr{constructor(t=new pc([new Rn(0,.5),new Rn(-.5,-.5),new Rn(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],r=[],o=[],l=[];let c=0,h=0;if(!1===Array.isArray(t))d(t);else for(let i=0;i<t.length;i++)d(t[i]),this.addGroup(c,h,i),c+=h,h=0;function d(t){const c=r.length/3,d=t.extractPoints(e);let m=d.shape;const f=d.holes;!1===zc.isClockWise(m)&&(m=m.reverse());for(let i=0,t=f.length;i<t;i++){const t=f[i];!0===zc.isClockWise(t)&&(f[i]=t.reverse())}const v=zc.triangulateShape(m,f);for(let i=0,t=f.length;i<t;i++){const t=f[i];m=m.concat(t)}for(let i=0,t=m.length;i<t;i++){const t=m[i];r.push(t.x,t.y,0),o.push(0,0,1),l.push(t.x,t.y)}for(let i=0,t=v.length;i<t;i++){const t=v[i],a=t[0]+c,b=t[1]+c,e=t[2]+c;n.push(a,b,e),h+=3}}this.setIndex(n),this.setAttribute("position",new Tr(r,3)),this.setAttribute("normal",new Tr(o,3)),this.setAttribute("uv",new Tr(l,2))}toJSON(){const data=super.toJSON();return Yc(this.parameters.shapes,data)}static fromJSON(data,t){const e=[];for(let n=0,r=data.shapes.length;n<r;n++){const r=t[data.shapes[n]];e.push(r)}return new qc(e,data.curveSegments)}}function Yc(t,data){if(data.shapes=[],Array.isArray(t))for(let i=0,e=t.length;i<e;i++){const e=t[i];data.shapes.push(e.uuid)}else data.shapes.push(t.uuid);return data}class $c extends _r{constructor(t){super(),this.type="ShadowMaterial",this.color=new Vn(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.fog=source.fog,this}}$c.prototype.isShadowMaterial=!0;class Kc extends pa{constructor(t){super(t),this.type="RawShaderMaterial"}}Kc.prototype.isRawShaderMaterial=!0;class Qc extends _r{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Vn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.defines={STANDARD:""},this.color.copy(source.color),this.roughness=source.roughness,this.metalness=source.metalness,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.roughnessMap=source.roughnessMap,this.metalnessMap=source.metalnessMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.envMapIntensity=source.envMapIntensity,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.flatShading=source.flatShading,this.fog=source.fog,this}}Qc.prototype.isMeshStandardMaterial=!0;class Zc extends Qc{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Rn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new Vn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Vn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(source){return super.copy(source),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=source.clearcoat,this.clearcoatMap=source.clearcoatMap,this.clearcoatRoughness=source.clearcoatRoughness,this.clearcoatRoughnessMap=source.clearcoatRoughnessMap,this.clearcoatNormalMap=source.clearcoatNormalMap,this.clearcoatNormalScale.copy(source.clearcoatNormalScale),this.ior=source.ior,this.sheen=source.sheen,this.sheenColor.copy(source.sheenColor),this.sheenColorMap=source.sheenColorMap,this.sheenRoughness=source.sheenRoughness,this.sheenRoughnessMap=source.sheenRoughnessMap,this.transmission=source.transmission,this.transmissionMap=source.transmissionMap,this.thickness=source.thickness,this.thicknessMap=source.thicknessMap,this.attenuationDistance=source.attenuationDistance,this.attenuationColor.copy(source.attenuationColor),this.specularIntensity=source.specularIntensity,this.specularIntensityMap=source.specularIntensityMap,this.specularColor.copy(source.specularColor),this.specularColorMap=source.specularColorMap,this}}Zc.prototype.isMeshPhysicalMaterial=!0;class Jc extends _r{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new Vn(16777215),this.specular=new Vn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.specular.copy(source.specular),this.shininess=source.shininess,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.flatShading=source.flatShading,this.fog=source.fog,this}}Jc.prototype.isMeshPhongMaterial=!0;class tu extends _r{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.gradientMap=source.gradientMap,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.alphaMap=source.alphaMap,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.fog=source.fog,this}}tu.prototype.isMeshToonMaterial=!0;class eu extends _r{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(source){return super.copy(source),this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.flatShading=source.flatShading,this}}eu.prototype.isMeshNormalMaterial=!0;class nu extends _r{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new Vn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=nt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.fog=source.fog,this}}nu.prototype.isMeshLambertMaterial=!0;class iu extends _r{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Rn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.defines={MATCAP:""},this.color.copy(source.color),this.matcap=source.matcap,this.map=source.map,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.alphaMap=source.alphaMap,this.flatShading=source.flatShading,this.fog=source.fog,this}}iu.prototype.isMeshMatcapMaterial=!0;class ru extends hp{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(source){return super.copy(source),this.scale=source.scale,this.dashSize=source.dashSize,this.gapSize=source.gapSize,this}}ru.prototype.isLineDashedMaterial=!0;const au={ShadowMaterial:$c,SpriteMaterial:Ll,RawShaderMaterial:Kc,ShaderMaterial:pa,PointsMaterial:wp,MeshPhysicalMaterial:Zc,MeshStandardMaterial:Qc,MeshPhongMaterial:Jc,MeshToonMaterial:tu,MeshNormalMaterial:eu,MeshLambertMaterial:nu,MeshDepthMaterial:ll,MeshDistanceMaterial:pl,MeshBasicMaterial:yr,MeshMatcapMaterial:iu,LineDashedMaterial:ru,LineBasicMaterial:hp,Material:_r};_r.fromType=function(t){return new au[t]};const ou={arraySlice:function(t,e,n){return ou.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(object){return ArrayBuffer.isView(object)&&!(object instanceof DataView)},getKeyframeOrder:function(t){function e(i,e){return t[i]-t[e]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){const r=t.length,o=new t.constructor(r);for(let i=0,l=0;l!==r;++i){const r=n[i]*e;for(let n=0;n!==e;++n)o[l++]=t[r+n]}return o},flattenJSON:function(t,e,n,r){let i=1,o=t[0];for(;void 0!==o&&void 0===o[r];)o=t[i++];if(void 0===o)return;let l=o[r];if(void 0!==l)if(Array.isArray(l))do{l=o[r],void 0!==l&&(e.push(o.time),n.push.apply(n,l)),o=t[i++]}while(void 0!==o);else if(void 0!==l.toArray)do{l=o[r],void 0!==l&&(e.push(o.time),l.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{l=o[r],void 0!==l&&(e.push(o.time),n.push(l)),o=t[i++]}while(void 0!==o)},subclip:function(t,e,n,r,o=30){const l=t.clone();l.name=e;const c=[];for(let i=0;i<l.tracks.length;++i){const track=l.tracks[i],t=track.getValueSize(),e=[],h=[];for(let l=0;l<track.times.length;++l){const c=track.times[l]*o;if(!(c<n||c>=r)){e.push(track.times[l]);for(let e=0;e<t;++e)h.push(track.values[l*t+e])}}0!==e.length&&(track.times=ou.convertArray(e,track.times.constructor),track.values=ou.convertArray(h,track.values.constructor),c.push(track))}l.tracks=c;let h=1/0;for(let i=0;i<l.tracks.length;++i)h>l.tracks[i].times[0]&&(h=l.tracks[i].times[0]);for(let i=0;i<l.tracks.length;++i)l.tracks[i].shift(-1*h);return l.resetDuration(),l},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const o=n.tracks.length,l=e/r;for(let i=0;i<o;++i){const e=n.tracks[i],r=e.ValueTypeName;if("bool"===r||"string"===r)continue;const o=t.tracks.find((function(track){return track.name===e.name&&track.ValueTypeName===r}));if(void 0===o)continue;let c=0;const h=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);let d=0;const m=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const f=e.times.length-1;let v;if(l<=e.times[0]){const t=c,n=h-c;v=ou.arraySlice(e.values,t,n)}else if(l>=e.times[f]){const t=f*h+c,n=t+h-c;v=ou.arraySlice(e.values,t,n)}else{const t=e.createInterpolant(),n=c,r=h-c;t.evaluate(l),v=ou.arraySlice(t.resultBuffer,n,r)}"quaternion"===r&&(new ti).fromArray(v).normalize().conjugate().toArray(v);const x=o.times.length;for(let t=0;t<x;++t){const e=t*m+d;if("quaternion"===r)ti.multiplyQuaternionsFlat(o.values,e,v,0,o.values,e);else{const t=m-2*d;for(let n=0;n<t;++n)o.values[e+n]-=v[n]}}}return t.blendMode=Ne,t}};class su{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],o=e[n-1];t:{e:{let l;n:{i:if(!(t<r)){for(let l=n+2;;){if(void 0===r){if(t<o)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,o)}if(n===l)break;if(o=r,r=e[++n],t<r)break e}l=e.length;break n}if(t>=o)break t;{const c=e[1];t<c&&(n=2,o=c);for(let l=n-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===l)break;if(r=o,o=e[--n-1],t>=o)break e}l=n,n=0}}for(;n<l;){const r=n+l>>>1;t<e[r]?l=r:n=r+1}if(r=e[n],o=e[n-1],void 0===o)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,o,t)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r;for(let i=0;i!==r;++i)e[i]=n[o+i];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}su.prototype.beforeStart_=su.prototype.copySampleValue_,su.prototype.afterEnd_=su.prototype.copySampleValue_;class lu extends su{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Pe,endingEnd:Pe}}intervalChanged_(t,e,n){const r=this.parameterPositions;let o=t-2,l=t+1,c=r[o],h=r[l];if(void 0===c)switch(this.getSettings_().endingStart){case Ce:o=t,c=2*e-n;break;case Ie:o=r.length-2,c=e+r[o]-r[o+1];break;default:o=t,c=n}if(void 0===h)switch(this.getSettings_().endingEnd){case Ce:l=t,h=2*n-e;break;case Ie:l=1,h=n+r[1]-r[0];break;default:l=t-1,h=e}const d=.5*(n-e),m=this.valueSize;this._weightPrev=d/(e-c),this._weightNext=d/(h-n),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=t*c,d=h-c,m=this._offsetPrev,f=this._offsetNext,v=this._weightPrev,x=this._weightNext,p=(n-e)/(r-e),_=p*p,y=_*p,S=-v*y+2*v*_-v*p,w=(1+v)*y+(-1.5-2*v)*_+(-.5+v)*p+1,M=(-1-x)*y+(1.5+x)*_+.5*p,E=x*y-x*_;for(let i=0;i!==c;++i)o[i]=S*l[m+i]+w*l[d+i]+M*l[h+i]+E*l[f+i];return o}}class pu extends su{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=t*c,d=h-c,m=(n-e)/(r-e),f=1-m;for(let i=0;i!==c;++i)o[i]=l[d+i]*f+l[h+i]*m;return o}}class cu extends su{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class uu{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ou.convertArray(e,this.TimeBufferType),this.values=ou.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(track){const t=track.constructor;let e;if(t.toJSON!==this.toJSON)e=t.toJSON(track);else{e={name:track.name,times:ou.convertArray(track.times,Array),values:ou.convertArray(track.values,Array)};const t=track.getInterpolation();t!==track.DefaultInterpolation&&(e.interpolation=t)}return e.type=track.ValueTypeName,e}InterpolantFactoryMethodDiscrete(t){return new cu(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new pu(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new lu(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Re:e=this.InterpolantFactoryMethodDiscrete;break;case Ae:e=this.InterpolantFactoryMethodLinear;break;case Te:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Re;case this.InterpolantFactoryMethodLinear:return Ae;case this.InterpolantFactoryMethodSmooth:return Te}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]*=t}return this}trim(t,e){const n=this.times,r=n.length;let o=0,l=r-1;for(;o!==r&&n[o]<t;)++o;for(;-1!==l&&n[l]>e;)--l;if(++l,0!==o||l!==r){o>=l&&(l=Math.max(l,1),o=l-1);const t=this.getValueSize();this.times=ou.arraySlice(n,o,l),this.values=ou.arraySlice(this.values,o*t,l*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,o=n.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let i=0;i!==o;i++){const e=n[i];if("number"==typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,i,e),t=!1;break}if(null!==l&&l>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,i,e,l),t=!1;break}l=e}if(void 0!==r&&ou.isTypedArray(r))for(let i=0,e=r.length;i!==e;++i){const e=r[i];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,i,e),t=!1;break}}return t}optimize(){const t=ou.arraySlice(this.times),e=ou.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Te,o=t.length-1;let l=1;for(let i=1;i<o;++i){let o=!1;const time=t[i];if(time!==t[i+1]&&(1!==i||time!==t[0]))if(r)o=!0;else{const t=i*n,r=t-n,l=t+n;for(let c=0;c!==n;++c){const n=e[t+c];if(n!==e[r+c]||n!==e[l+c]){o=!0;break}}}if(o){if(i!==l){t[l]=t[i];const r=i*n,o=l*n;for(let t=0;t!==n;++t)e[o+t]=e[r+t]}++l}}if(o>0){t[l]=t[o];for(let t=o*n,r=l*n,c=0;c!==n;++c)e[r+c]=e[t+c];++l}return l!==t.length?(this.times=ou.arraySlice(t,0,l),this.values=ou.arraySlice(e,0,l*n)):(this.times=t,this.values=e),this}clone(){const t=ou.arraySlice(this.times,0),e=ou.arraySlice(this.values,0),track=new(0,this.constructor)(this.name,t,e);return track.createInterpolant=this.createInterpolant,track}}uu.prototype.TimeBufferType=Float32Array,uu.prototype.ValueBufferType=Float32Array,uu.prototype.DefaultInterpolation=Ae;class hu extends uu{}hu.prototype.ValueTypeName="bool",hu.prototype.ValueBufferType=Array,hu.prototype.DefaultInterpolation=Re,hu.prototype.InterpolantFactoryMethodLinear=void 0,hu.prototype.InterpolantFactoryMethodSmooth=void 0;class du extends uu{}du.prototype.ValueTypeName="color";class mu extends uu{}mu.prototype.ValueTypeName="number";class fu extends su{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=(n-e)/(r-e);let d=t*c;for(let t=d+c;d!==t;d+=4)ti.slerpFlat(o,0,l,d-c,l,d,h);return o}}class gu extends uu{InterpolantFactoryMethodLinear(t){return new fu(this.times,this.values,this.getValueSize(),t)}}gu.prototype.ValueTypeName="quaternion",gu.prototype.DefaultInterpolation=Ae,gu.prototype.InterpolantFactoryMethodSmooth=void 0;class vu extends uu{}vu.prototype.ValueTypeName="string",vu.prototype.ValueBufferType=Array,vu.prototype.DefaultInterpolation=Re,vu.prototype.InterpolantFactoryMethodLinear=void 0,vu.prototype.InterpolantFactoryMethodSmooth=void 0;class xu extends uu{}xu.prototype.ValueTypeName="vector";class _u{constructor(t,e=-1,n,r=Le){this.name=t,this.tracks=n,this.duration=e,this.blendMode=r,this.uuid=nn(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let i=0,t=n.length;i!==t;++i)e.push(bu(n[i]).scale(r));const o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}static toJSON(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let i=0,t=n.length;i!==t;++i)e.push(uu.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(t,e,n,r){const o=e.length,l=[];for(let i=0;i<o;i++){let t=[],c=[];t.push((i+o-1)%o,i,(i+1)%o),c.push(0,1,0);const h=ou.getKeyframeOrder(t);t=ou.sortedArray(t,1,h),c=ou.sortedArray(c,1,h),r||0!==t[0]||(t.push(o),c.push(c[0])),l.push(new mu(".morphTargetInfluences["+e[i].name+"]",t,c).scale(1/n))}return new this(t,-1,l)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const r={},pattern=/^([\w-]*?)([\d]+)$/;for(let i=0,e=t.length;i<e;i++){const e=t[i],n=e.name.match(pattern);if(n&&n.length>1){const t=n[1];let o=r[t];o||(r[t]=o=[]),o.push(e)}}const o=[];for(const t in r)o.push(this.CreateFromMorphTargetSequence(t,r[t],e,n));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,r,o){if(0!==n.length){const l=[],c=[];ou.flattenJSON(n,l,c,r),0!==l.length&&o.push(new t(e,l,c))}},r=[],o=t.name||"default",l=t.fps||30,c=t.blendMode;let h=t.length||-1;const d=t.hierarchy||[];for(let t=0;t<d.length;t++){const o=d[t].keys;if(o&&0!==o.length)if(o[0].morphTargets){const t={};let e;for(e=0;e<o.length;e++)if(o[e].morphTargets)for(let n=0;n<o[e].morphTargets.length;n++)t[o[e].morphTargets[n]]=-1;for(const n in t){const t=[],l=[];for(let r=0;r!==o[e].morphTargets.length;++r){const r=o[e];t.push(r.time),l.push(r.morphTarget===n?1:0)}r.push(new mu(".morphTargetInfluence["+n+"]",t,l))}h=t.length*l}else{const l=".bones["+e[t].name+"]";n(xu,l+".position",o,"pos",r),n(gu,l+".quaternion",o,"rot",r),n(xu,l+".scale",o,"scl",r)}}return 0===r.length?null:new this(o,h,r,c)}resetDuration(){let t=0;for(let i=0,e=this.tracks.length;i!==e;++i){const track=this.tracks[i];t=Math.max(t,track.times[track.times.length-1])}return this.duration=t,this}trim(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this}validate(){let t=!0;for(let i=0;i<this.tracks.length;i++)t=t&&this.tracks[i].validate();return t}optimize(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this}clone(){const t=[];for(let i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function yu(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mu;case"vector":case"vector2":case"vector3":case"vector4":return xu;case"color":return du;case"quaternion":return gu;case"bool":case"boolean":return hu;case"string":return vu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function bu(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=yu(t.type);if(void 0===t.times){const e=[],n=[];ou.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Su={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class wu{constructor(t,e,n){const r=this;let o,l=!1,c=0,h=0;const d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){h++,!1===l&&void 0!==r.onStart&&r.onStart(t,c,h),l=!0},this.itemEnd=function(t){c++,void 0!==r.onProgress&&r.onProgress(t,c,h),c===h&&(l=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return o?o(t):t},this.setURLModifier=function(t){return o=t,this},this.addHandler=function(t,e){return d.push(t,e),this},this.removeHandler=function(t){const e=d.indexOf(t);return-1!==e&&d.splice(e,2),this},this.getHandler=function(t){for(let i=0,e=d.length;i<e;i+=2){const e=d[i],n=d[i+1];if(e.global&&(e.lastIndex=0),e.test(t))return n}return null}}}const Mu=new wu;class Eu{constructor(t){this.manager=void 0!==t?t:Mu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(r,o){n.load(t,r,e,o)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(path){return this.path=path,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const Ru={};class Au extends Eu{constructor(t){super(t)}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=Su.get(t);if(void 0!==o)return this.manager.itemStart(t),setTimeout((()=>{e&&e(o),this.manager.itemEnd(t)}),0),o;if(void 0!==Ru[t])return void Ru[t].push({onLoad:e,onProgress:n,onError:r});Ru[t]=[],Ru[t].push({onLoad:e,onProgress:n,onError:r});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,h=this.responseType;fetch(l).then((e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const n=Ru[t],r=e.body.getReader(),o=e.headers.get("Content-Length"),l=o?parseInt(o):0,c=0!==l;let h=0;const d=new ReadableStream({start(t){function e(){r.read().then((({done:r,value:o})=>{if(r)t.close();else{h+=o.byteLength;const r=new ProgressEvent("progress",{lengthComputable:c,loaded:h,total:l});for(let i=0,t=n.length;i<t;i++){const t=n[i];t.onProgress&&t.onProgress(r)}t.enqueue(o),e()}}))}e()}});return new Response(d)}throw Error(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`)})).then((t=>{switch(h){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((text=>(new DOMParser).parseFromString(text,c)));case"json":return t.json();default:if(void 0===c)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(c),label=e&&e[1]?e[1].toLowerCase():void 0,n=new TextDecoder(label);return t.arrayBuffer().then((t=>n.decode(t)))}}})).then((data=>{Su.add(t,data);const e=Ru[t];delete Ru[t];for(let i=0,t=e.length;i<t;i++){const t=e[i];t.onLoad&&t.onLoad(data)}})).catch((e=>{const n=Ru[t];if(void 0===n)throw this.manager.itemError(t),e;delete Ru[t];for(let i=0,t=n.length;i<t;i++){const t=n[i];t.onError&&t.onError(e)}this.manager.itemError(t)})).finally((()=>{this.manager.itemEnd(t)})),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Tu extends Eu{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Su.get(t);if(void 0!==l)return o.manager.itemStart(t),setTimeout((function(){e&&e(l),o.manager.itemEnd(t)}),0),l;const image=Pn("img");function c(){d(),Su.add(t,this),e&&e(this),o.manager.itemEnd(t)}function h(e){d(),r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)}function d(){image.removeEventListener("load",c,!1),image.removeEventListener("error",h,!1)}return image.addEventListener("load",c,!1),image.addEventListener("error",h,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(image.crossOrigin=this.crossOrigin),o.manager.itemStart(t),image.src=t,image}}class Pu extends Eu{constructor(t){super(t)}load(t,e,n,r){const o=new fa,l=new Tu(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let c=0;function h(i){l.load(t[i],(function(image){o.images[i]=image,c++,6===c&&(o.needsUpdate=!0,e&&e(o))}),void 0,r)}for(let i=0;i<t.length;++i)h(i);return o}}class Cu extends Eu{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new ep,c=new Au(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(o.withCredentials),c.load(t,(function(t){const n=o.parse(t);n&&(void 0!==n.image?l.image=n.image:void 0!==n.data&&(l.image.width=n.width,l.image.height=n.height,l.image.data=n.data),l.wrapS=void 0!==n.wrapS?n.wrapS:yt,l.wrapT=void 0!==n.wrapT?n.wrapT:yt,l.magFilter=void 0!==n.magFilter?n.magFilter:Et,l.minFilter=void 0!==n.minFilter?n.minFilter:Et,l.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(l.encoding=n.encoding),void 0!==n.flipY&&(l.flipY=n.flipY),void 0!==n.format&&(l.format=n.format),void 0!==n.type&&(l.type=n.type),void 0!==n.mipmaps&&(l.mipmaps=n.mipmaps,l.minFilter=At),1===n.mipmapCount&&(l.minFilter=Et),void 0!==n.generateMipmaps&&(l.generateMipmaps=n.generateMipmaps),l.needsUpdate=!0,e&&e(l,n))}),n,r),l}}class Iu extends Eu{constructor(t){super(t)}load(t,e,n,r){const o=new jn,l=new Tu(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,(function(image){o.image=image,o.needsUpdate=!0,void 0!==e&&e(o)}),n,r),o}}class Lu extends ar{constructor(t,e=1){super(),this.type="Light",this.color=new Vn(t),this.intensity=e}dispose(){}copy(source){return super.copy(source),this.color.copy(source.color),this.intensity=source.intensity,this}toJSON(meta){const data=super.toJSON(meta);return data.object.color=this.color.getHex(),data.object.intensity=this.intensity,void 0!==this.groundColor&&(data.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(data.object.distance=this.distance),void 0!==this.angle&&(data.object.angle=this.angle),void 0!==this.decay&&(data.object.decay=this.decay),void 0!==this.penumbra&&(data.object.penumbra=this.penumbra),void 0!==this.shadow&&(data.object.shadow=this.shadow.toJSON()),data}}Lu.prototype.isLight=!0;class Nu extends Lu{constructor(t,e,n){super(t,n),this.type="HemisphereLight",this.position.copy(ar.DefaultUp),this.updateMatrix(),this.groundColor=new Vn(e)}copy(source){return Lu.prototype.copy.call(this,source),this.groundColor.copy(source.groundColor),this}}Nu.prototype.isHemisphereLight=!0;const Du=new Ni,Ou=new ei,ku=new ei;class Gu{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Rn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ni,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wa,this._frameExtents=new Rn(1,1),this._viewportCount=1,this._viewports=[new qn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;Ou.setFromMatrixPosition(t.matrixWorld),e.position.copy(Ou),ku.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(ku),e.updateMatrixWorld(),Du.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Du),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(source){return this.camera=source.camera.clone(),this.bias=source.bias,this.radius=source.radius,this.mapSize.copy(source.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const object={};return 0!==this.bias&&(object.bias=this.bias),0!==this.normalBias&&(object.normalBias=this.normalBias),1!==this.radius&&(object.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(object.mapSize=this.mapSize.toArray()),object.camera=this.camera.toJSON(!1).object,delete object.camera.matrix,object}}class Bu extends Gu{constructor(){super(new ua(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,n=2*en*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;n===e.fov&&r===e.aspect&&o===e.far||(e.fov=n,e.aspect=r,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(source){return super.copy(source),this.focus=source.focus,this}}Bu.prototype.isSpotLightShadow=!0;class Fu extends Lu{constructor(t,e,n=0,r=Math.PI/3,o=0,l=1){super(t,e),this.type="SpotLight",this.position.copy(ar.DefaultUp),this.updateMatrix(),this.target=new ar,this.distance=n,this.angle=r,this.penumbra=o,this.decay=l,this.shadow=new Bu}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(source){return super.copy(source),this.distance=source.distance,this.angle=source.angle,this.penumbra=source.penumbra,this.decay=source.decay,this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}Fu.prototype.isSpotLight=!0;const Vu=new Ni,zu=new ei,Uu=new ei;class Hu extends Gu{constructor(){super(new ua(90,1,.5,500)),this._frameExtents=new Rn(4,2),this._viewportCount=6,this._viewports=[new qn(2,1,1,1),new qn(0,1,1,1),new qn(3,1,1,1),new qn(1,1,1,1),new qn(3,0,1,1),new qn(1,0,1,1)],this._cubeDirections=[new ei(1,0,0),new ei(-1,0,0),new ei(0,0,1),new ei(0,0,-1),new ei(0,1,0),new ei(0,-1,0)],this._cubeUps=[new ei(0,1,0),new ei(0,1,0),new ei(0,1,0),new ei(0,1,0),new ei(0,0,1),new ei(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,r=this.matrix,o=t.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),zu.setFromMatrixPosition(t.matrixWorld),n.position.copy(zu),Uu.copy(n.position),Uu.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Uu),n.updateMatrixWorld(),r.makeTranslation(-zu.x,-zu.y,-zu.z),Vu.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Vu)}}Hu.prototype.isPointLightShadow=!0;class Xu extends Lu{constructor(t,e,n=0,r=1){super(t,e),this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new Hu}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(source){return super.copy(source),this.distance=source.distance,this.decay=source.decay,this.shadow=source.shadow.clone(),this}}Xu.prototype.isPointLight=!0;class Wu extends Gu{constructor(){super(new ka(-5,5,5,-5,.5,500))}}Wu.prototype.isDirectionalLightShadow=!0;class ju extends Lu{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(ar.DefaultUp),this.updateMatrix(),this.target=new ar,this.shadow=new Wu}dispose(){this.shadow.dispose()}copy(source){return super.copy(source),this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}ju.prototype.isDirectionalLight=!0;class qu extends Lu{constructor(t,e){super(t,e),this.type="AmbientLight"}}qu.prototype.isAmbientLight=!0;class Yu extends Lu{constructor(t,e,n=10,r=10){super(t,e),this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(source){return super.copy(source),this.width=source.width,this.height=source.height,this}toJSON(meta){const data=super.toJSON(meta);return data.object.width=this.width,data.object.height=this.height,data}}Yu.prototype.isRectAreaLight=!0;class $u{constructor(){this.coefficients=[];for(let i=0;i<9;i++)this.coefficients.push(new ei)}set(t){for(let i=0;i<9;i++)this.coefficients[i].copy(t[i]);return this}zero(){for(let i=0;i<9;i++)this.coefficients[i].set(0,0,0);return this}getAt(t,e){const n=t.x,r=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*r),e.addScaledVector(l[2],.488603*o),e.addScaledVector(l[3],.488603*n),e.addScaledVector(l[4],n*r*1.092548),e.addScaledVector(l[5],r*o*1.092548),e.addScaledVector(l[6],.315392*(3*o*o-1)),e.addScaledVector(l[7],n*o*1.092548),e.addScaledVector(l[8],.546274*(n*n-r*r)),e}getIrradianceAt(t,e){const n=t.x,r=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],1.023328*r),e.addScaledVector(l[2],1.023328*o),e.addScaledVector(l[3],1.023328*n),e.addScaledVector(l[4],.858086*n*r),e.addScaledVector(l[5],.858086*r*o),e.addScaledVector(l[6],.743125*o*o-.247708),e.addScaledVector(l[7],.858086*n*o),e.addScaledVector(l[8],.429043*(n*n-r*r)),e}add(t){for(let i=0;i<9;i++)this.coefficients[i].add(t.coefficients[i]);return this}addScaledSH(t,s){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],s);return this}scale(s){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(s);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(t.coefficients[i]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,r=t.y,o=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*o,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*n*o,e[8]=.546274*(n*n-r*r)}}$u.prototype.isSphericalHarmonics3=!0;class Ku extends Lu{constructor(t=new $u,e=1){super(void 0,e),this.sh=t}copy(source){return super.copy(source),this.sh.copy(source.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(meta){const data=super.toJSON(meta);return data.object.sh=this.sh.toArray(),data}}Ku.prototype.isLightProbe=!0;class Qu{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let s="";for(let i=0,e=t.length;i<e;i++)s+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(s))}catch(t){return s}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,path){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(path)&&/^\//.test(t)&&(path=path.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:path+t)}}class Zu extends kr{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(source){return super.copy(source),this.instanceCount=source.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const data=super.toJSON(this);return data.instanceCount=this.instanceCount,data.isInstancedBufferGeometry=!0,data}}Zu.prototype.isInstancedBufferGeometry=!0;class Ju extends Eu{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Su.get(t);if(void 0!==l)return o.manager.itemStart(t),setTimeout((function(){e&&e(l),o.manager.itemEnd(t)}),0),l;const c={};c.credentials="anonymous"===this.crossOrigin?"same-origin":"include",c.headers=this.requestHeader,fetch(t,c).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(o.options,{colorSpaceConversion:"none"}))})).then((function(n){Su.add(t,n),e&&e(n),o.manager.itemEnd(t)})).catch((function(e){r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)})),o.manager.itemStart(t)}}let eh;Ju.prototype.isImageBitmapLoader=!0;const nh={getContext:function(){return void 0===eh&&(eh=new(window.AudioContext||window.webkitAudioContext)),eh},setContext:function(t){eh=t}};class ih extends Eu{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new Au(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,(function(n){try{const t=n.slice(0);nh.getContext().decodeAudioData(t,(function(t){e(t)}))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}}class rh extends Ku{constructor(t,e,n=1){super(void 0,n);const r=(new Vn).set(t),o=(new Vn).set(e),l=new ei(r.r,r.g,r.b),c=new ei(o.r,o.g,o.b),h=Math.sqrt(Math.PI),d=h*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(c).multiplyScalar(h),this.sh.coefficients[1].copy(l).sub(c).multiplyScalar(d)}}rh.prototype.isHemisphereLightProbe=!0;class ah extends Ku{constructor(t,e=1){super(void 0,e);const n=(new Vn).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}ah.prototype.isAmbientLightProbe=!0;class oh{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=sh();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function sh(){return("undefined"==typeof performance?Date:performance).now()}class lh extends ar{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const source=this.context.createBufferSource();return source.buffer=this.buffer,source.loop=this.loop,source.loopStart=this.loopStart,source.loopEnd=this.loopEnd,source.onended=this.onEnded.bind(this),source.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=source,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let i=1,t=this.filters.length;i<t;i++)this.filters[i-1].connect(this.filters[i]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let i=1,t=this.filters.length;i<t;i++)this.filters[i-1].disconnect(this.filters[i]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(filter){return this.setFilters(filter?[filter]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}class ph{constructor(t,e,n){let r,o,l;switch(this.binding=t,this.valueSize=n,e){case"quaternion":r=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,r=this.valueSize,o=t*r+r;let l=this.cumulativeWeight;if(0===l){for(let i=0;i!==r;++i)n[o+i]=n[i];l=e}else{l+=e;const t=e/l;this._mixBufferRegion(n,o,0,t,r)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,r=t*e+e,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const t=e*this._origIndex;this._mixBufferRegion(n,r,t,1-o,e)}l>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*e,1,e);for(let i=e,t=e+e;i!==t;++i)if(n[i]!==n[i+e]){c.setValue(n,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,r=n*this._origIndex;t.getValue(e,r);for(let i=n,t=r;i!==t;++i)e[i]=e[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,n,r,o){if(r>=.5)for(let i=0;i!==o;++i)t[e+i]=t[n+i]}_slerp(t,e,n,r){ti.slerpFlat(t,e,t,e,t,n,r)}_slerpAdditive(t,e,n,r,o){const l=this._workIndex*o;ti.multiplyQuaternionsFlat(t,l,t,e,t,n),ti.slerpFlat(t,e,t,e,t,l,r)}_lerp(t,e,n,r,o){const s=1-r;for(let i=0;i!==o;++i){const o=e+i;t[o]=t[o]*s+t[n+i]*r}}_lerpAdditive(t,e,n,r,o){for(let i=0;i!==o;++i){const o=e+i;t[o]=t[o]+t[n+i]*r}}}const ch="\\[\\]\\.:\\/",uh=new RegExp("["+ch+"]","g"),hh="[^"+ch+"]",dh="[^"+ch.replace("\\.","")+"]",mh=/((?:WC+[\/:])*)/.source.replace("WC",hh),fh=/(WCOD+)?/.source.replace("WCOD",dh),gh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",hh),vh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",hh),xh=new RegExp("^"+mh+fh+gh+vh+"$"),_h=["material","materials","bones"];class yh{constructor(t,path,e){const n=e||bh.parseTrackName(path);this._targetGroup=t,this._bindings=t.subscribe_(path,n)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}bind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,e=t.length;i!==e;++i)t[i].bind()}unbind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,e=t.length;i!==e;++i)t[i].unbind()}}class bh{constructor(t,path,e){this.path=path,this.parsedPath=e||bh.parseTrackName(path),this.node=bh.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,path,e){return t&&t.isAnimationObjectGroup?new bh.Composite(t,path,e):new bh(t,path,e)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(uh,"")}static parseTrackName(t){const e=xh.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==_h.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const source=this.resolvedProperty;for(let i=0,n=source.length;i!==n;++i)t[e++]=source[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let o=e.propertyIndex;if(t||(t=bh.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let i=0;i<t.length;i++)if(t[i].name===r){r=i;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const l=t[r];if(void 0===l){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else void 0!==l.fromArray&&void 0!==l.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bh.Composite=yh,bh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},bh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},bh.prototype.GetterByBindingType=[bh.prototype._getValue_direct,bh.prototype._getValue_array,bh.prototype._getValue_arrayElement,bh.prototype._getValue_toArray],bh.prototype.SetterByBindingTypeAndVersioning=[[bh.prototype._setValue_direct,bh.prototype._setValue_direct_setNeedsUpdate,bh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bh.prototype._setValue_array,bh.prototype._setValue_array_setNeedsUpdate,bh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bh.prototype._setValue_arrayElement,bh.prototype._setValue_arrayElement_setNeedsUpdate,bh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bh.prototype._setValue_fromArray,bh.prototype._setValue_fromArray_setNeedsUpdate,bh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Sh{constructor(t,e,n=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=r;const o=e.tracks,l=o.length,c=new Array(l),h={endingStart:Pe,endingEnd:Pe};for(let i=0;i!==l;++i){const t=o[i].createInterpolant(null);c[i]=t,t.settings=h}this._interpolantSettings=h,this._interpolants=c,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Me,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(time){return this._startTime=time,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,r=t._clip.duration,o=r/n,l=n/r;t.warp(1,o,e),this.warp(l,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const r=this._mixer,o=r.time,l=this.timeScale;let c=this._timeScaleInterpolant;null===c&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const h=c.parameterPositions,d=c.sampleValues;return h[0]=o,h[1]=o+n,d[0]=t/l,d[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(time,t,e,n){if(!this.enabled)return void this._updateWeight(time);const r=this._startTime;if(null!==r){const n=(time-r)*e;if(n<0||0===e)return;this._startTime=null,t=e*n}t*=this._updateTimeScale(time);const o=this._updateTime(t),l=this._updateWeight(time);if(l>0){const t=this._interpolants,e=this._propertyBindings;if(this.blendMode===Ne)for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulateAdditive(l);else for(let r=0,c=t.length;r!==c;++r)t[r].evaluate(o),e[r].accumulate(n,l)}}_updateWeight(time){let t=0;if(this.enabled){t=this.weight;const e=this._weightInterpolant;if(null!==e){const n=e.evaluate(time)[0];t*=n,time>e.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(time){let t=0;if(!this.paused){t=this.timeScale;const e=this._timeScaleInterpolant;null!==e&&(t*=e.evaluate(time)[0],time>e.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(t){const e=this._clip.duration,n=this.loop;let time=this.time+t,r=this._loopCount;const o=n===Ee;if(0===t)return-1===r?time:o&&1==(1&r)?e-time:time;if(n===we){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(time>=e)time=e;else{if(!(time<0)){this.time=time;break t}time=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),time>=e||time<0){const n=Math.floor(time/e);time-=e*n,r+=Math.abs(n);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,time=t>0?e:0,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===l){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=time,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=time;if(o&&1==(1&r))return e-time}return time}_setEndings(t,e,n){const r=this._interpolantSettings;n?(r.endingStart=Ce,r.endingEnd=Ce):(r.endingStart=t?this.zeroSlopeAtStart?Ce:Pe:Ie,r.endingEnd=e?this.zeroSlopeAtEnd?Ce:Pe:Ie)}_scheduleFading(t,e,n){const r=this._mixer,o=r.time;let l=this._weightInterpolant;null===l&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const c=l.parameterPositions,h=l.sampleValues;return c[0]=o,h[0]=e,c[1]=o+t,h[1]=n,this}}class wh extends Qe{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,r=t._clip.tracks,o=r.length,l=t._propertyBindings,c=t._interpolants,h=n.uuid,d=this._bindingsByRootAndName;let m=d[h];void 0===m&&(m={},d[h]=m);for(let i=0;i!==o;++i){const track=r[i],t=track.name;let o=m[t];if(void 0!==o)++o.referenceCount,l[i]=o;else{if(o=l[i],void 0!==o){null===o._cacheIndex&&(++o.referenceCount,this._addInactiveBinding(o,h,t));continue}const path=e&&e._propertyBindings[i].binding.parsedPath;o=new ph(bh.create(n,t,path),track.ValueTypeName,track.getValueSize()),++o.referenceCount,this._addInactiveBinding(o,h,t),l[i]=o}c[i].resultBuffer=o.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let i=0,t=e.length;i!==t;++i){const t=e[i];0==t.useCount++&&(this._lendBinding(t),t.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,t=e.length;i!==t;++i){const t=e[i];0==--t.useCount&&(t.restoreOriginalState(),this._takeBackBinding(t))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,n){const r=this._actions,o=this._actionsByClip;let l=o[e];if(void 0===l)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=l;else{const e=l.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=r.length,r.push(t),l.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;const o=t._clip.uuid,l=this._actionsByClip,c=l[o],h=c.knownActions,d=h[h.length-1],m=t._byClipCacheIndex;d._byClipCacheIndex=m,h[m]=d,h.pop(),t._byClipCacheIndex=null,delete c.actionByRoot[(t._localRoot||this._root).uuid],0===h.length&&delete l[o],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,t=e.length;i!==t;++i){const t=e[i];0==--t.referenceCount&&this._removeInactiveBinding(t)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_addInactiveBinding(t,e,n){const r=this._bindingsByRootAndName,o=this._bindings;let l=r[e];void 0===l&&(l={},r[e]=l),l[n]=t,t._cacheIndex=o.length,o.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,r=n.rootNode.uuid,o=n.path,l=this._bindingsByRootAndName,c=l[r],h=e[e.length-1],d=t._cacheIndex;h._cacheIndex=d,e[d]=h,e.pop(),delete c[o],0===Object.keys(c).length&&delete l[r]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new pu(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,o=e[r];t.__cacheIndex=r,e[r]=t,o.__cacheIndex=n,e[n]=o}clipAction(t,e,n){const r=e||this._root,o=r.uuid;let l="string"==typeof t?_u.findByName(r,t):t;const c=null!==l?l.uuid:t,h=this._actionsByClip[c];let d=null;if(void 0===n&&(n=null!==l?l.blendMode:Le),void 0!==h){const t=h.actionByRoot[o];if(void 0!==t&&t.blendMode===n)return t;d=h.knownActions[0],null===l&&(l=d._clip)}if(null===l)return null;const m=new Sh(this,l,e,n);return this._bindAction(m,d),this._addInactiveAction(m,c,o),m}existingAction(t,e){const n=e||this._root,r=n.uuid,o="string"==typeof t?_u.findByName(n,t):t,l=o?o.uuid:t,c=this._actionsByClip[l];return void 0!==c&&c.actionByRoot[r]||null}stopAllAction(){const t=this._actions;for(let i=this._nActiveActions-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,time=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let i=0;i!==n;++i)e[i]._update(time,t,r,o);const l=this._bindings,c=this._nActiveBindings;for(let i=0;i!==c;++i)l[i].apply(o);return this}setTime(t){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,r=this._actionsByClip,o=r[n];if(void 0!==o){const t=o.knownActions;for(let i=0,n=t.length;i!==n;++i){const n=t[i];this._deactivateAction(n);const r=n._cacheIndex,o=e[e.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,o._cacheIndex=r,e[r]=o,e.pop(),this._removeInactiveBindingsForAction(n)}delete r[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const r=n[t].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const t in r){const e=r[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}wh.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Mh extends Pl{constructor(t,e,n=1){super(t,e),this.meshPerAttribute=n}copy(source){return super.copy(source),this.meshPerAttribute=source.meshPerAttribute,this}clone(data){const t=super.clone(data);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(data){const t=super.toJSON(data);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}Mh.prototype.isInstancedInterleavedBuffer=!0;class Eh{constructor(t,e,n=0,r=1/0){this.ray=new Li(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new Xi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(object,t=!0,e=[]){return Ah(object,this,e,t),e.sort(Rh),e}intersectObjects(t,e=!0,n=[]){for(let i=0,r=t.length;i<r;i++)Ah(t[i],this,n,e);return n.sort(Rh),n}}function Rh(a,b){return a.distance-b.distance}function Ah(object,t,e,n){if(object.layers.test(t.layers)&&object.raycast(t,e),!0===n){const n=object.children;for(let i=0,r=n.length;i<r;i++)Ah(n[i],t,e,!0)}}class Th{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(rn(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const Ph=new ei,Ch=new Ni,Ih=new Ni;class Lh extends bp{constructor(object){const t=Nh(object),e=new kr,n=[],r=[],o=new Vn(0,0,1),l=new Vn(0,1,0);for(let i=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(o.r,o.g,o.b),r.push(l.r,l.g,l.b))}e.setAttribute("position",new Tr(n,3)),e.setAttribute("color",new Tr(r,3)),super(e,new hp({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=object,this.bones=t,this.matrix=object.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,r=n.getAttribute("position");Ih.copy(this.root.matrixWorld).invert();for(let i=0,t=0;i<e.length;i++){const n=e[i];n.parent&&n.parent.isBone&&(Ch.multiplyMatrices(Ih,n.matrixWorld),Ph.setFromMatrixPosition(Ch),r.setXYZ(t,Ph.x,Ph.y,Ph.z),Ch.multiplyMatrices(Ih,n.parent.matrixWorld),Ph.setFromMatrixPosition(Ch),r.setXYZ(t+1,Ph.x,Ph.y,Ph.z),t+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function Nh(object){const t=[];!0===object.isBone&&t.push(object);for(let i=0;i<object.children.length;i++)t.push.apply(t,Nh(object.children[i]));return t}class Dh extends bp{constructor(t=10,e=10,n=4473924,r=8947848){n=new Vn(n),r=new Vn(r);const o=e/2,l=t/e,c=t/2,h=[],d=[];for(let i=0,t=0,m=-c;i<=e;i++,m+=l){h.push(-c,0,m,c,0,m),h.push(m,0,-c,m,0,c);const e=i===o?n:r;e.toArray(d,t),t+=3,e.toArray(d,t),t+=3,e.toArray(d,t),t+=3,e.toArray(d,t),t+=3}const m=new kr;m.setAttribute("position",new Tr(h,3)),m.setAttribute("color",new Tr(d,3)),super(m,new hp({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}const Oh=new ri;class kh extends bp{constructor(object,t=16776960){const e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new kr;r.setIndex(new Mr(e,1)),r.setAttribute("position",new Mr(n,3)),super(r,new hp({color:t,toneMapped:!1})),this.object=object,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(object){if(void 0!==object&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Oh.setFromObject(this.object),Oh.isEmpty())return;const t=Oh.min,e=Oh.max,n=this.geometry.attributes.position,r=n.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(object){return this.object=object,this.update(),this}copy(source){return bp.prototype.copy.call(this,source),this.object=source.object,this}}class Gh extends bp{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new kr;r.setAttribute("position",new Tr(e,3)),r.setAttribute("color",new Tr(n,3)),super(r,new hp({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,n){const r=new Vn,o=this.geometry.attributes.color.array;return r.set(t),r.toArray(o,0),r.toArray(o,3),r.set(e),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bh{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=rn(t,-65504,65504),Vh[0]=t;const e=zh[0],n=e>>23&511;return Uh[n]+((8388607&e)>>Hh[n])}static fromHalfFloat(t){const e=t>>10;return zh[0]=Xh[jh[e]+(1023&t)]+Wh[e],Vh[0]}}const Fh=new ArrayBuffer(4),Vh=new Float32Array(Fh),zh=new Uint32Array(Fh),Uh=new Uint32Array(512),Hh=new Uint32Array(512);for(let i=0;i<256;++i){const t=i-127;t<-27?(Uh[i]=0,Uh[256|i]=32768,Hh[i]=24,Hh[256|i]=24):t<-14?(Uh[i]=1024>>-t-14,Uh[256|i]=1024>>-t-14|32768,Hh[i]=-t-1,Hh[256|i]=-t-1):t<=15?(Uh[i]=t+15<<10,Uh[256|i]=t+15<<10|32768,Hh[i]=13,Hh[256|i]=13):t<128?(Uh[i]=31744,Uh[256|i]=64512,Hh[i]=24,Hh[256|i]=24):(Uh[i]=31744,Uh[256|i]=64512,Hh[i]=13,Hh[256|i]=13)}const Xh=new Uint32Array(2048),Wh=new Uint32Array(64),jh=new Uint32Array(64);for(let i=1;i<1024;++i){let t=i<<13,e=0;for(;0==(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,Xh[i]=t|e}for(let i=1024;i<2048;++i)Xh[i]=939524096+(i-1024<<13);for(let i=1;i<31;++i)Wh[i]=i<<23;Wh[31]=1199570944,Wh[32]=2147483648;for(let i=33;i<63;++i)Wh[i]=2147483648+(i-32<<23);Wh[63]=3347054592;for(let i=1;i<64;++i)32!==i&&(jh[i]=1024);Dp.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Dp.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},lc.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)},Dh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Lh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Eu.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Qu.extractUrlBase(t)},Eu.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},ri.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},ri.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ri.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},ri.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},ri.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)},Hi.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},Mi.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},wa.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},An.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},An.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},An.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},An.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},An.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},An.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},Ni.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},Ni.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Ni.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new ei).setFromMatrixColumn(this,3)},Ni.prototype.setRotationFromQuaternion=function(q){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(q)},Ni.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Ni.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ni.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ni.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Ni.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},Ni.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ni.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Ni.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Ni.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Ni.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Ni.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Ni.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ni.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Ni.prototype.makeFrustum=function(t,e,n,r,o,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,o,l)},Ni.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},ya.prototype.isIntersectionLine=function(line){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(line)},ti.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},ti.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Li.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},Li.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},Li.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},vr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},vr.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},vr.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},vr.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},vr.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)},vr.barycoordFromPoint=function(t,a,b,e,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),vr.getBarycoord(t,a,b,e,n)},vr.normal=function(a,b,t,e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),vr.getNormal(a,b,t,e)},pc.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},pc.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Xc(this,t)},pc.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new qc(this,t)},Rn.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},Rn.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},Rn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ei.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},ei.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},ei.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},ei.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},ei.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},ei.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},ei.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},ei.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},ei.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},qn.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},qn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ar.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},ar.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},ar.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},ar.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},ar.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(ar.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ta.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ta.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),De},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Jl.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ua.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Lu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Mr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Ye},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Ye)}}}),Mr.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Ye:qe),this},Mr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Mr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},kr.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},kr.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Mr(arguments[1],arguments[2])))},kr.prototype.addDrawCall=function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},kr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},kr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},kr.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},kr.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(kr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Pl.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?Ye:qe),this},Pl.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Xc.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Xc.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Xc.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Tl.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(_r.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Vn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===M}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(pa.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Rl.prototype.clearTarget=function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},Rl.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},Rl.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Rl.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Rl.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Rl.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Rl.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Rl.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Rl.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Rl.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Rl.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Rl.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Rl.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Rl.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Rl.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},Rl.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Rl.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Rl.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Rl.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Rl.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Rl.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Rl.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Rl.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Rl.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Rl.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Rl.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?Be:Ge}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(ml.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Yn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),lh.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new ih).load(t,(function(t){e.setBuffer(t)})),this},ma.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},ma.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)},Un.crossOrigin=void 0,Un.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const o=new Iu;o.setCrossOrigin(this.crossOrigin);const l=o.load(t,n,void 0,r);return e&&(l.mapping=e),l},Un.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const o=new Pu;o.setCrossOrigin(this.crossOrigin);const l=o.load(t,n,void 0,r);return e&&(l.mapping=e),l},Un.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Un.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:l}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=l);var qh=function(){function t(t){this.directionalLight=null,this.currentCamera=t,this.viewpoint=new Yh}return t.prototype.setCameraViewPoint=function(){this.currentCamera.near=this.viewpoint.nearPlane,this.currentCamera.far=this.viewpoint.farPlane,this.currentCamera.position.set(this.viewpoint.eyePosition[0],this.viewpoint.eyePosition[1],this.viewpoint.eyePosition[2]),this.currentCamera.lookAt(this.viewpoint.targetPosition[0],this.viewpoint.targetPosition[1],this.viewpoint.targetPosition[2]),this.currentCamera.up.set(this.viewpoint.upVector[0],this.viewpoint.upVector[1],this.viewpoint.upVector[2]),this.currentCamera.updateProjectionMatrix(),this.updateDirectionalLight()},t.prototype.updateCameraViewPoint=function(t){this.viewpoint=t,this.setCameraViewPoint()},t.prototype.updateDirectionalLight=function(t){t&&(this.directionalLight=t,this.directionalLight.position.set(this.currentCamera.position.x,this.currentCamera.position.y,this.currentCamera.position.z))},t}(),Yh=function(){function t(){this.nearPlane=.1,this.farPlane=2e3,this.eyePosition=[0,0,0],this.targetPosition=[0,0,0],this.upVector=[0,1,0]}return t}(),$h="#define GLSLIFY 1\nattribute vec3 position;uniform mat4 modelViewMatrix;uniform mat4 projectionMatrix;varying vec2 vUv;void main(){gl_Position=vec4(position,1.0);vUv=vec2(position.x,position.y)*0.5+0.5;}",Kh="precision mediump float;\n#define GLSLIFY 1\nvec3 mod289_0(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_0(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_0(vec4 x){return mod289_0(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_0(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float pnoise(vec3 P,vec3 rep){vec3 Pi0=mod(floor(P),rep);vec3 Pi1=mod(Pi0+vec3(1.0),rep);Pi0=mod289_0(Pi0);Pi1=mod289_0(Pi1);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute_0(permute_0(ix)+iy);vec4 ixy0=permute_0(ixy+iz0);vec4 ixy1=permute_0(ixy+iz1);vec4 gx0=ixy0*(1.0/7.0);vec4 gy0=fract(floor(gx0)*(1.0/7.0))-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1*(1.0/7.0);vec4 gy1=fract(floor(gx1)*(1.0/7.0))-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt_0(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt_0(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}vec3 mod289_1(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289_1(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute_1(vec4 x){return mod289_1(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt_1(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g_0=step(x0.yzx,x0.xyz);vec3 l=1.0-g_0;vec3 i1=min(g_0.xyz,l.zxy);vec3 i2=max(g_0.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289_1(i);vec4 p=permute_1(permute_1(permute_1(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt_1(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}float grain(vec2 texCoord,vec2 resolution,float frame,float multiplier){vec2 mult=texCoord*resolution;float offset=snoise(vec3(mult/multiplier,frame));float n1=pnoise(vec3(mult,offset),vec3(1.0/texCoord*resolution,1.0));return n1/2.0+0.5;}float grain(vec2 texCoord,vec2 resolution,float frame){return grain(texCoord,resolution,frame,2.5);}float grain(vec2 texCoord,vec2 resolution){return grain(texCoord,resolution,0.0);}vec3 blendSoftLight(vec3 base,vec3 blend){return mix(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend),2.0*base*blend+base*base*(1.0-2.0*blend),step(base,vec3(0.5)));}uniform vec3 color1;uniform vec3 color2;uniform float aspect;uniform vec2 offset;uniform vec2 scale;uniform float noiseAlpha;uniform bool aspectCorrection;uniform float grainScale;uniform float grainTime;uniform vec2 smooth;varying vec2 vUv;void main(){vec2 q=vec2(vUv-0.5);if(aspectCorrection){q.x*=aspect;}q/=scale;q-=offset;float dst=length(q);dst=smoothstep(smooth.x,smooth.y,dst);vec3 color=mix(color1,color2,dst);if(noiseAlpha>0.0&&grainScale>0.0){float gSize=1.0/grainScale;float g=grain(vUv,vec2(gSize*aspect,gSize),grainTime);vec3 noiseColor=blendSoftLight(color,vec3(g));gl_FragColor.rgb=mix(color,noiseColor,noiseAlpha);}else{gl_FragColor.rgb=color;}gl_FragColor.a=1.0;}";function Qh(t){var e=(t=t||{}).geometry||new Ra(2,2,1),n=new Kc({vertexShader:$h,fragmentShader:Kh,side:w,uniforms:{aspectCorrection:{value:!1},aspect:{value:1},grainScale:{value:.005},grainTime:{value:0},noiseAlpha:{value:.25},offset:{value:new Rn(0,0)},scale:{value:new Rn(1,1)},smooth:{value:new Rn(0,1)},color1:{value:new Vn("#fff")},color2:{value:new Vn("#283844")}},depthTest:!1}),r=new ta(e,n);r.frustumCulled=!1;var o={mesh:r,style:function(){}};function l(t){return Array.isArray(t)?(new Rn).fromArray(t):t}return o.style=function(t){if(t=t||{},Array.isArray(t.colors)){var e=t.colors.map((function(t){return"string"==typeof t||"number"==typeof t?new Vn(t):t}));n.uniforms.color1.value.copy(e[0]),n.uniforms.color2.value.copy(e[1])}if("number"==typeof t.aspect&&(n.uniforms.aspect.value=t.aspect),"number"==typeof t.grainScale&&(n.uniforms.grainScale.value=t.grainScale),"number"==typeof t.grainTime&&(n.uniforms.grainTime.value=t.grainTime),t.smooth){var r=l(t.smooth);n.uniforms.smooth.value.copy(r)}if(t.offset){var o=l(t.offset);n.uniforms.offset.value.copy(o)}if("number"==typeof t.noiseAlpha&&(n.uniforms.noiseAlpha.value=t.noiseAlpha),void 0!==t.scale){var c=t.scale,h=[];"number"==typeof c&&(h=[c,c]);var d=l(h);n.uniforms.scale.value.copy(d)}void 0!==t.aspectCorrection&&(n.uniforms.aspectCorrection.value=Boolean(t.aspectCorrection))},t?o.style(t):o.style(),o}function Zh(t){document.fullscreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function Jh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function ed(object,t){object.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?t(e.material):[e.material].forEach(t))}))}var nd=Jh(),id=function(){function t(t,e){var n=this;this.sceneName="",this.viewPoint=new Yh,this.cameraPositionFlag=!1,this.content=new _l,this.isHalfed=!1,this.color1="#5454ad",this.color2="#18e5a7",this.lights=[],this.onWindowResize=function(){n.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),n.camera.aspect=n.container.clientWidth/n.container.clientHeight,n.camera.updateProjectionMatrix(),n.vignette.style({aspect:n.camera.aspect}),n.renderer.setSize(n.container.clientWidth,n.container.clientHeight)},this.container=t,this.renderer=e,this.scene=new Tl,this.camera=new ua(75,t.clientWidth/t.clientHeight,.1,500),this.ambientLight=new qu(2105376,1),this.directionalLight=new ju(16777215,2.5),this.vignette=Qh({aspect:this.container.clientWidth/this.container.clientHeight,grainScale:nd?0:.001,colors:[this.color1,this.color2]}),this.vignette.mesh.name="Vignette",this.vignette.mesh.renderOrder=-1,this.copperControl=new qh(this.camera),this.init()}return t.prototype.init=function(){this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.addLights()},t.prototype.createDemoMesh=function(){var t=new ia,e=new Jc({color:16711935,wireframe:!0}),n=new ta(t,e);this.scene.add(n),this.scene.add(new Gh(5))},t.prototype.loadMetadataUrl=function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText).length;1===t||t>1||console.error("Empty metadata!")}},e.open("GET",t,!0),e.send()},t.prototype.loadViewUrl=function(t){var e=this,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=JSON.parse(n.responseText);e.loadView(t)}},n.open("GET",t,!0),n.send()},t.prototype.loadView=function(t){this.cameraPositionFlag=!0,this.viewPoint=t;var e=new Yh;e.farPlane=t.farPlane,e.nearPlane=t.nearPlane,e.eyePosition=t.eyePosition,e.targetPosition=t.targetPosition,e.upVector=t.upVector,this.copperControl.updateCameraViewPoint(e)},t.prototype.getDefaultViewPoint=function(){return this.viewPoint},t.prototype.setViewPoint=function(t,e){var n=new Yh;return n.farPlane=t.far,n.nearPlane=t.near,n.eyePosition=[t.position.x,t.position.y,t.position.z],n.targetPosition=e?[e[0],e[1],e[2]]:[0,0,0],n.upVector=[t.up.x,t.up.y,t.up.z],n},t.prototype.addObject=function(t){this.scene.add(t)},t.prototype.addLights=function(){var t=new Nu;t.name="hemi_light",this.scene.add(t),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(t),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight)},t.prototype.removeLights=function(){this.lights&&(this.lights.forEach((function(t){return t.parent.remove(t)})),this.lights.length=0)},t.prototype.updateLights=function(t){var e=this.lights;t.addLights&&!e.length?this.addLights():!t.addLights&&e.length&&this.removeLights(),2===e.length&&(e[0].intensity=t.ambientIntensity,e[0].color.setHex(t.ambientColor),e[1].intensity=t.directIntensity,e[1].color.setHex(t.directColor))},t.prototype.updateDisplay=function(t){ed(this.content,(function(e){e.wireframe=t.wireframe}))},t.prototype.updateBackground=function(t,e){this.vignette.style({colors:[t,e]})},t.prototype.updateModelChildrenVisualisation=function(t){t.visible=!t.visible;var e=[];this.content.traverse((function(t){e.push(t.visible)})),e.includes(!1)?this.isHalfed=!0:this.isHalfed=!1},t.prototype.render=function(){this.renderer.render(this.scene,this.camera)},t}();function rd(t){ad[1].path=t}var ad=[{id:"",name:"None",path:null,format:".hdr"},{id:"venice-sunset",name:"Venice Sunset",path:"",format:".hdr"},{id:"footprint-court",name:"Footprint Court (HDR Labs)",path:"",format:".hdr"}];class od extends Cu{constructor(t){super(t),this.type=Ot}parse(t){const e=-1,n=1,r=2,o=3,l=4,c=function(t,l){switch(t){case n:console.error("THREE.RGBELoader Read Error: "+(l||""));break;case r:console.error("THREE.RGBELoader Write Error: "+(l||""));break;case o:console.error("THREE.RGBELoader Bad File Format: "+(l||""));break;default:console.error("THREE.RGBELoader: Error: "+(l||""))}return e},h=1,d=2,m=4,f="\n",v=function(t,e,n){const r=128;e=e||1024;let p=t.pos,i=-1,o=0,s="",l=String.fromCharCode.apply(null,new Uint16Array(t.subarray(p,p+r)));for(;0>(i=l.indexOf(f))&&o<e&&p<t.byteLength;)s+=l,o+=l.length,p+=r,l+=String.fromCharCode.apply(null,new Uint16Array(t.subarray(p,p+r)));return-1<i&&(!1!==n&&(t.pos+=o+i+1),s+l.slice(0,i))},x=function(t){const e=/^#\?(\S+)/,r=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,l=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,f=/^\s*FORMAT=(\S+)\s*$/,x=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,header={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let line,_;if(t.pos>=t.byteLength||!(line=v(t)))return c(n,"no header found");if(!(_=line.match(e)))return c(o,"bad initial token");for(header.valid|=h,header.programtype=_[1],header.string+=line+"\n";line=v(t),!1!==line;)if(header.string+=line+"\n","#"!==line.charAt(0)){if((_=line.match(r))&&(header.gamma=parseFloat(_[1])),(_=line.match(l))&&(header.exposure=parseFloat(_[1])),(_=line.match(f))&&(header.valid|=d,header.format=_[1]),(_=line.match(x))&&(header.valid|=m,header.height=parseInt(_[1],10),header.width=parseInt(_[2],10)),header.valid&d&&header.valid&m)break}else header.comments+=line+"\n";return header.valid&d?header.valid&m?header:c(o,"missing image size specifier"):c(o,"missing format specifier")},_=function(t,e,r){const h=e;if(h<8||h>32767||2!==t[0]||2!==t[1]||128&t[2])return new Uint8Array(t);if(h!==(t[2]<<8|t[3]))return c(o,"wrong scanline width");const d=new Uint8Array(4*e*r);if(!d.length)return c(l,"unable to allocate buffer space");let m=0,f=0;const v=4*h,x=new Uint8Array(4),_=new Uint8Array(v);let y=r;for(;y>0&&f<t.byteLength;){if(f+4>t.byteLength)return c(n);if(x[0]=t[f++],x[1]=t[f++],x[2]=t[f++],x[3]=t[f++],2!=x[0]||2!=x[1]||(x[2]<<8|x[3])!=h)return c(o,"bad rgbe scanline format");let e,r=0;for(;r<v&&f<t.byteLength;){e=t[f++];const n=e>128;if(n&&(e-=128),0===e||r+e>v)return c(o,"bad scanline data");if(n){const n=t[f++];for(let i=0;i<e;i++)_[r++]=n}else _.set(t.subarray(f,f+e),r),r+=e,f+=e}const l=h;for(let i=0;i<l;i++){let t=0;d[m]=_[i+t],t+=h,d[m+1]=_[i+t],t+=h,d[m+2]=_[i+t],t+=h,d[m+3]=_[i+t],m+=4}y--}return d},y=function(t,e,n,r){const o=t[e+3],l=Math.pow(2,o-128)/255;n[r+0]=t[e+0]*l,n[r+1]=t[e+1]*l,n[r+2]=t[e+2]*l,n[r+3]=1},S=function(t,e,n,r){const o=t[e+3],l=Math.pow(2,o-128)/255;n[r+0]=Bh.toHalfFloat(Math.min(t[e+0]*l,65504)),n[r+1]=Bh.toHalfFloat(Math.min(t[e+1]*l,65504)),n[r+2]=Bh.toHalfFloat(Math.min(t[e+2]*l,65504)),n[r+3]=Bh.toHalfFloat(1)},w=new Uint8Array(t);w.pos=0;const M=x(w);if(e!==M){const t=M.width,n=M.height,r=_(w.subarray(w.pos),t,n);if(e!==r){let data,e,o,l;switch(this.type){case Dt:l=r.length/4;const t=new Float32Array(4*l);for(let e=0;e<l;e++)y(r,4*e,t,4*e);data=t,o=Dt;break;case Ot:l=r.length/4;const e=new Uint16Array(4*l);for(let t=0;t<l;t++)S(r,4*t,e,4*t);data=e,o=Ot;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:t,height:n,data:data,header:M.string,gamma:M.gamma,exposure:M.exposure,format:e,type:o}}}return null}setDataType(t){return this.type=t,this}load(t,e,n,r){function o(t,n){switch(t.type){case Dt:case Ot:t.encoding=Ge,t.minFilter=Et,t.magFilter=Et,t.generateMipmaps=!1,t.flipY=!0}e&&e(t,n)}return super.load(t,o,n,r)}}var sd=function(){var t=0,e=document.createElement("div");function n(t){return e.appendChild(t.dom),t}function r(n){for(var i=0;i<e.children.length;i++)e.children[i].style.display=i===n?"block":"none";t=n}e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",(function(n){n.preventDefault(),r(++t%e.children.length)}),!1);var o=(performance||Date).now(),l=o,c=0,h=n(new sd.Panel("FPS","#0ff","#002")),d=n(new sd.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var m=n(new sd.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:n,showPanel:r,begin:function(){o=(performance||Date).now()},end:function(){c++;var time=(performance||Date).now();if(d.update(time-o,200),time>=l+1e3&&(h.update(1e3*c/(time-l),100),l=time,c=0,m)){var t=performance.memory;m.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return time},update:function(){o=this.end()},domElement:e,setMode:r}};function ld(t){if(t&&"undefined"!=typeof window){var style=document.createElement("style");return style.setAttribute("type","text/css"),style.innerHTML=t,document.head.appendChild(style),t}}function pd(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),g=Math.round(t.g),b=Math.round(t.b),a=t.a,o=Math.round(t.h),s=t.s.toFixed(1),l=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var c=t.hex.toString(16);c.length<6;)c="0"+c;return"#"+c}return"CSS_RGB"===n?"rgb("+r+","+g+","+b+")":"CSS_RGBA"===n?"rgba("+r+","+g+","+b+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+g+","+b+"]":"RGBA_ARRAY"===n?"["+r+","+g+","+b+","+a+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+g+",b:"+b+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+g+",b:"+b+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+o+",s:"+s+",v:"+l+"}":"HSVA_OBJ"===n?"{h:"+o+",s:"+s+",v:"+l+",a:"+a+"}":"unknown format"}sd.Panel=function(t,e,n){var r=1/0,o=0,l=Math.round,c=l(window.devicePixelRatio||1),h=80*c,d=48*c,m=3*c,f=2*c,v=3*c,x=15*c,_=74*c,y=30*c,canvas=document.createElement("canvas");canvas.width=h,canvas.height=d,canvas.style.cssText="width:80px;height:48px";var S=canvas.getContext("2d");return S.font="bold "+9*c+"px Helvetica,Arial,sans-serif",S.textBaseline="top",S.fillStyle=n,S.fillRect(0,0,h,d),S.fillStyle=e,S.fillText(t,m,f),S.fillRect(v,x,_,y),S.fillStyle=n,S.globalAlpha=.9,S.fillRect(v,x,_,y),{dom:canvas,update:function(d,w){r=Math.min(r,d),o=Math.max(o,d),S.fillStyle=n,S.globalAlpha=1,S.fillRect(0,0,h,x),S.fillStyle=e,S.fillText(l(d)+" "+t+" ("+l(r)+"-"+l(o)+")",m,f),S.drawImage(canvas,v+c,x,_-c,y,v,x,_-c,y),S.fillRect(v+_-c,x,c,y),S.fillStyle=n,S.globalAlpha=.9,S.fillRect(v+_-c,x,c,l((1-d/w)*y))}}};var cd=Array.prototype.forEach,ud=Array.prototype.slice,hd={BREAK:{},extend:function(t){return this.each(ud.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))}),this),t},defaults:function(t){return this.each(ud.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))}),this),t},compose:function(){var t=ud.call(arguments);return function(){for(var e=ud.call(arguments),i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(cd&&t.forEach&&t.forEach===cd)t.forEach(e,n);else if(t.length===t.length+0){var r=void 0,o=void 0;for(r=0,o=t.length;r<o;r++)if(r in t&&e.call(n,t[r],r)===this.BREAK)return}else for(var l in t)if(e.call(n,t[l],l)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var o=this,l=arguments;function c(){r=null,n||t.apply(o,l)}var h=n||!r;clearTimeout(r),r=setTimeout(c,e),h&&t.apply(o,l)}},toArray:function(t){return t.toArray?t.toArray():ud.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},md=[{litmus:hd.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:pd},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:pd},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:pd},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*,\s*(\S+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:pd}}},{litmus:hd.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:hd.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:hd.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(hd.isNumber(t.r)&&hd.isNumber(t.g)&&hd.isNumber(t.b)&&hd.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(hd.isNumber(t.r)&&hd.isNumber(t.g)&&hd.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(hd.isNumber(t.h)&&hd.isNumber(t.s)&&hd.isNumber(t.v)&&hd.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(hd.isNumber(t.h)&&hd.isNumber(t.s)&&hd.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],fd=void 0,gd=void 0,vd=function(){gd=!1;var t=arguments.length>1?hd.toArray(arguments):arguments[0];return hd.each(md,(function(e){if(e.litmus(t))return hd.each(e.conversions,(function(e,n){if(fd=e.read(t),!1===gd&&!1!==fd)return gd=fd,fd.conversionName=n,fd.conversion=e,hd.BREAK})),hd.BREAK})),gd},xd=void 0,_d={hsv_to_rgb:function(t,s,e){var n=Math.floor(t/60)%6,r=t/60-Math.floor(t/60),p=e*(1-s),q=e*(1-r*s),o=e*(1-(1-r)*s),l=[[e,o,p],[q,e,p],[p,e,o],[p,q,e],[o,p,e],[e,p,q]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,g,b){var e=Math.min(t,g,b),n=Math.max(t,g,b),r=n-e,o=void 0;return 0===n?{h:NaN,s:0,v:0}:(o=t===n?(g-b)/r:g===n?2+(b-t)/r:4+(t-g)/r,(o/=6)<0&&(o+=1),{h:360*o,s:r/n,v:n/255})},rgb_to_hex:function(t,g,b){var e=this.hex_with_component(0,2,t);return e=this.hex_with_component(e,1,g),e=this.hex_with_component(e,0,b)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(xd=8*e)|t&~(255<<xd)}},yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Sd=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wd=function t(object,e,n){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,e);if(void 0===desc){var r=Object.getPrototypeOf(object);return null===r?void 0:t(r,e,n)}if("value"in desc)return desc.value;var o=desc.get;return void 0!==o?o.call(n):void 0},Md=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Ed=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Rd=function(){function t(){if(bd(this,t),this.__state=vd.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return Sd(t,[{key:"toString",value:function(){return pd(this)}},{key:"toHexString",value:function(){return pd(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function Ad(t,component,e){Object.defineProperty(t,component,{get:function(){return"RGB"===this.__state.space||Rd.recalculateRGB(this,component,e),this.__state[component]},set:function(t){"RGB"!==this.__state.space&&(Rd.recalculateRGB(this,component,e),this.__state.space="RGB"),this.__state[component]=t}})}function Td(t,component){Object.defineProperty(t,component,{get:function(){return"HSV"===this.__state.space||Rd.recalculateHSV(this),this.__state[component]},set:function(t){"HSV"!==this.__state.space&&(Rd.recalculateHSV(this),this.__state.space="HSV"),this.__state[component]=t}})}Rd.recalculateRGB=function(t,component,e){if("HEX"===t.__state.space)t.__state[component]=_d.component_from_hex(t.__state.hex,e);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");hd.extend(t.__state,_d.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},Rd.recalculateHSV=function(t){var e=_d.rgb_to_hsv(t.r,t.g,t.b);hd.extend(t.__state,{s:e.s,v:e.v}),hd.isNaN(e.h)?hd.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},Rd.COMPONENTS=["r","g","b","h","s","v","hex","a"],Ad(Rd.prototype,"r",2),Ad(Rd.prototype,"g",1),Ad(Rd.prototype,"b",0),Td(Rd.prototype,"h"),Td(Rd.prototype,"s"),Td(Rd.prototype,"v"),Object.defineProperty(Rd.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(Rd.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=_d.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var Pd=function(){function t(object,e){bd(this,t),this.initialValue=object[e],this.domElement=document.createElement("div"),this.object=object,this.property=e,this.__onChange=void 0,this.__onFinishChange=void 0}return Sd(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),Cd={HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},Id={};hd.each(Cd,(function(t,e){hd.each(t,(function(t){Id[t]=e}))}));var Ld=/(\d+(\.\d+)?)px/;function Nd(t){if("0"===t||hd.isUndefined(t))return 0;var e=t.match(Ld);return hd.isNull(e)?0:parseFloat(e[1])}var Dd={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var r=n,o=e;hd.isUndefined(o)&&(o=!0),hd.isUndefined(r)&&(r=!0),t.style.position="absolute",o&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var o=n||{},l=Id[e];if(!l)throw new Error("Event type "+e+" not supported.");var c=document.createEvent(l);switch(l){case"MouseEvents":var h=o.x||o.clientX||0,d=o.y||o.clientY||0;c.initMouseEvent(e,o.bubbles||!1,o.cancelable||!0,window,o.clickCount||1,0,0,h,d,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var m=c.initKeyboardEvent||c.initKeyEvent;hd.defaults(o,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),m(e,o.bubbles||!1,o.cancelable,window,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.keyCode,o.charCode);break;default:c.initEvent(e,o.bubbles||!1,o.cancelable||!0)}hd.defaults(c,r),t.dispatchEvent(c)},bind:function(t,e,n,r){var o=r||!1;return t.addEventListener?t.addEventListener(e,n,o):t.attachEvent&&t.attachEvent("on"+e,n),Dd},unbind:function(t,e,n,r){var o=r||!1;return t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent&&t.detachEvent("on"+e,n),Dd},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return Dd},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return Dd},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var style=getComputedStyle(t);return Nd(style["border-left-width"])+Nd(style["border-right-width"])+Nd(style["padding-left"])+Nd(style["padding-right"])+Nd(style.width)},getHeight:function(t){var style=getComputedStyle(t);return Nd(style["border-top-width"])+Nd(style["border-bottom-width"])+Nd(style["padding-top"])+Nd(style["padding-bottom"])+Nd(style.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},Od=function(t){function e(object,t){bd(this,e);var n=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t)),r=n;function o(){r.setValue(!r.__prev)}return n.__prev=n.getValue(),n.__checkbox=document.createElement("input"),n.__checkbox.setAttribute("type","checkbox"),Dd.bind(n.__checkbox,"change",o,!1),n.domElement.appendChild(n.__checkbox),n.updateDisplay(),n}return Md(e,t),Sd(e,[{key:"setValue",value:function(t){var n=wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Pd),kd=function(t){function e(object,t,n){bd(this,e);var r=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t)),o=n,l=r;if(r.__select=document.createElement("select"),hd.isArray(o)){var map={};hd.each(o,(function(element){map[element]=element})),o=map}return hd.each(o,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),l.__select.appendChild(n)})),r.updateDisplay(),Dd.bind(r.__select,"change",(function(){var t=this.options[this.selectedIndex].value;l.setValue(t)})),r.domElement.appendChild(r.__select),r}return Md(e,t),Sd(e,[{key:"setValue",value:function(t){var n=wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return Dd.isActive(this.__select)?this:(this.__select.value=this.getValue(),wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(Pd),Gd=function(t){function e(object,t){bd(this,e);var n=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t)),r=n;function o(){r.setValue(r.__input.value)}function l(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}return n.__input=document.createElement("input"),n.__input.setAttribute("type","text"),Dd.bind(n.__input,"keyup",o),Dd.bind(n.__input,"change",o),Dd.bind(n.__input,"blur",l),Dd.bind(n.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),n.updateDisplay(),n.domElement.appendChild(n.__input),n}return Md(e,t),Sd(e,[{key:"updateDisplay",value:function(){return Dd.isActive(this.__input)||(this.__input.value=this.getValue()),wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Pd);function Bd(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var Fd=function(t){function e(object,t,n){bd(this,e);var r=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t)),o=n||{};return r.__min=o.min,r.__max=o.max,r.__step=o.step,hd.isUndefined(r.__step)?0===r.initialValue?r.__impliedStep=1:r.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(r.initialValue))/Math.LN10))/10:r.__impliedStep=r.__step,r.__precision=Bd(r.__impliedStep),r}return Md(e,t),Sd(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=Bd(t),this}}]),e}(Pd);function Vd(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var zd=function(t){function e(object,t,n){bd(this,e);var r=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t,n));r.__truncationSuspended=!1;var o=r,l=void 0;function c(){var t=parseFloat(o.__input.value);hd.isNaN(t)||o.setValue(t)}function h(){o.__onFinishChange&&o.__onFinishChange.call(o,o.getValue())}function d(){h()}function m(t){var e=l-t.clientY;o.setValue(o.getValue()+e*o.__impliedStep),l=t.clientY}function f(){Dd.unbind(window,"mousemove",m),Dd.unbind(window,"mouseup",f),h()}function v(t){Dd.bind(window,"mousemove",m),Dd.bind(window,"mouseup",f),l=t.clientY}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),Dd.bind(r.__input,"change",c),Dd.bind(r.__input,"blur",d),Dd.bind(r.__input,"mousedown",v),Dd.bind(r.__input,"keydown",(function(t){13===t.keyCode&&(o.__truncationSuspended=!0,this.blur(),o.__truncationSuspended=!1,h())})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return Md(e,t),Sd(e,[{key:"updateDisplay",value:function(){return this.__input.value=this.__truncationSuspended?this.getValue():Vd(this.getValue(),this.__precision),wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Fd);function map(t,e,n,r,o){return r+(t-e)/(n-e)*(o-r)}var Ud=function(t){function e(object,t,n,r,o){bd(this,e);var l=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t,{min:n,max:r,step:o})),c=l;function h(t){document.activeElement.blur(),Dd.bind(window,"mousemove",d),Dd.bind(window,"mouseup",m),d(t)}function d(t){t.preventDefault();var e=c.__background.getBoundingClientRect();return c.setValue(map(t.clientX,e.left,e.right,c.__min,c.__max)),!1}function m(){Dd.unbind(window,"mousemove",d),Dd.unbind(window,"mouseup",m),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}function f(t){1===t.touches.length&&(Dd.bind(window,"touchmove",v),Dd.bind(window,"touchend",x),v(t))}function v(t){var e=t.touches[0].clientX,n=c.__background.getBoundingClientRect();c.setValue(map(e,n.left,n.right,c.__min,c.__max))}function x(){Dd.unbind(window,"touchmove",v),Dd.unbind(window,"touchend",x),c.__onFinishChange&&c.__onFinishChange.call(c,c.getValue())}return l.__background=document.createElement("div"),l.__foreground=document.createElement("div"),Dd.bind(l.__background,"mousedown",h),Dd.bind(l.__background,"touchstart",f),Dd.addClass(l.__background,"slider"),Dd.addClass(l.__foreground,"slider-fg"),l.updateDisplay(),l.__background.appendChild(l.__foreground),l.domElement.appendChild(l.__background),l}return Md(e,t),Sd(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(Fd),Hd=function(t){function e(object,t,text){bd(this,e);var n=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t)),r=n;return n.__button=document.createElement("div"),n.__button.innerHTML=void 0===text?"Fire":text,Dd.bind(n.__button,"click",(function(t){return t.preventDefault(),r.fire(),!1})),Dd.addClass(n.__button,"button"),n.domElement.appendChild(n.__button),n}return Md(e,t),Sd(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(Pd),Xd=function(t){function e(object,t){bd(this,e);var n=Ed(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,object,t));n.__color=new Rd(n.getValue()),n.__temp=new Rd(0);var r=n;n.domElement=document.createElement("div"),Dd.makeSelectable(n.domElement,!1),n.__selector=document.createElement("div"),n.__selector.className="selector",n.__saturation_field=document.createElement("div"),n.__saturation_field.className="saturation-field",n.__field_knob=document.createElement("div"),n.__field_knob.className="field-knob",n.__field_knob_border="2px solid ",n.__hue_knob=document.createElement("div"),n.__hue_knob.className="hue-knob",n.__hue_field=document.createElement("div"),n.__hue_field.className="hue-field",n.__input=document.createElement("input"),n.__input.type="text",n.__input_textShadow="0 1px 1px ",Dd.bind(n.__input,"keydown",(function(t){13===t.keyCode&&m.call(this)})),Dd.bind(n.__input,"blur",m),Dd.bind(n.__selector,"mousedown",(function(){Dd.addClass(this,"drag").bind(window,"mouseup",(function(){Dd.removeClass(r.__selector,"drag")}))})),Dd.bind(n.__selector,"touchstart",(function(){Dd.addClass(this,"drag").bind(window,"touchend",(function(){Dd.removeClass(r.__selector,"drag")}))}));var o=document.createElement("div");function l(t){v(t),Dd.bind(window,"mousemove",v),Dd.bind(window,"touchmove",v),Dd.bind(window,"mouseup",h),Dd.bind(window,"touchend",h)}function c(t){x(t),Dd.bind(window,"mousemove",x),Dd.bind(window,"touchmove",x),Dd.bind(window,"mouseup",d),Dd.bind(window,"touchend",d)}function h(){Dd.unbind(window,"mousemove",v),Dd.unbind(window,"touchmove",v),Dd.unbind(window,"mouseup",h),Dd.unbind(window,"touchend",h),f()}function d(){Dd.unbind(window,"mousemove",x),Dd.unbind(window,"touchmove",x),Dd.unbind(window,"mouseup",d),Dd.unbind(window,"touchend",d),f()}function m(){var i=vd(this.value);!1!==i?(r.__color.__state=i,r.setValue(r.__color.toOriginal())):this.value=r.__color.toString()}function f(){r.__onFinishChange&&r.__onFinishChange.call(r,r.__color.toOriginal())}function v(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=r.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,o=n.clientX,l=n.clientY,s=(o-e.left)/(e.right-e.left),c=1-(l-e.top)/(e.bottom-e.top);return c>1?c=1:c<0&&(c=0),s>1?s=1:s<0&&(s=0),r.__color.v=c,r.__color.s=s,r.setValue(r.__color.toOriginal()),!1}function x(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=r.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),r.__color.h=360*n,r.setValue(r.__color.toOriginal()),!1}return hd.extend(n.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),hd.extend(n.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:n.__field_knob_border+(n.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),hd.extend(n.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),hd.extend(n.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),hd.extend(o.style,{width:"100%",height:"100%",background:"none"}),jd(o,"top","rgba(0,0,0,0)","#000"),hd.extend(n.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),qd(n.__hue_field),hd.extend(n.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:n.__input_textShadow+"rgba(0,0,0,0.7)"}),Dd.bind(n.__saturation_field,"mousedown",l),Dd.bind(n.__saturation_field,"touchstart",l),Dd.bind(n.__field_knob,"mousedown",l),Dd.bind(n.__field_knob,"touchstart",l),Dd.bind(n.__hue_field,"mousedown",c),Dd.bind(n.__hue_field,"touchstart",c),n.__saturation_field.appendChild(o),n.__selector.appendChild(n.__field_knob),n.__selector.appendChild(n.__saturation_field),n.__selector.appendChild(n.__hue_field),n.__hue_field.appendChild(n.__hue_knob),n.domElement.appendChild(n.__input),n.domElement.appendChild(n.__selector),n.updateDisplay(),n}return Md(e,t),Sd(e,[{key:"updateDisplay",value:function(){var i=vd(this.getValue());if(!1!==i){var t=!1;hd.each(Rd.COMPONENTS,(function(component){if(!hd.isUndefined(i[component])&&!hd.isUndefined(this.__color.__state[component])&&i[component]!==this.__color.__state[component])return t=!0,{}}),this),t&&hd.extend(this.__color.__state,i)}hd.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var e=this.__color.v<.5||this.__color.s>.5?255:0,n=255-e;hd.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+e+","+e+","+e+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,jd(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),hd.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+e+","+e+","+e+")",textShadow:this.__input_textShadow+"rgba("+n+","+n+","+n+",.7)"})}}]),e}(Pd),Wd=["-moz-","-o-","-webkit-","-ms-",""];function jd(t,e,a,b){t.style.background="",hd.each(Wd,(function(n){t.style.cssText+="background: "+n+"linear-gradient("+e+", "+a+" 0%, "+b+" 100%); "}))}function qd(t){t.style.background="",t.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",t.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",t.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}var Yd={load:function(t,e){var n=e||document,link=n.createElement("link");link.type="text/css",link.rel="stylesheet",link.href=t,n.getElementsByTagName("head")[0].appendChild(link)},inject:function(t,e){var n=e||document,r=document.createElement("style");r.type="text/css",r.innerHTML=t;var head=n.getElementsByTagName("head")[0];try{head.appendChild(r)}catch(t){}}},$d='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',Kd=function(object,t){var e=object[t];return hd.isArray(arguments[2])||hd.isObject(arguments[2])?new kd(object,t,arguments[2]):hd.isNumber(e)?hd.isNumber(arguments[2])&&hd.isNumber(arguments[3])?hd.isNumber(arguments[4])?new Ud(object,t,arguments[2],arguments[3],arguments[4]):new Ud(object,t,arguments[2],arguments[3]):hd.isNumber(arguments[4])?new zd(object,t,{min:arguments[2],max:arguments[3],step:arguments[4]}):new zd(object,t,{min:arguments[2],max:arguments[3]}):hd.isString(e)?new Gd(object,t):hd.isFunction(e)?new Hd(object,t,""):hd.isBoolean(e)?new Od(object,t):null};function Qd(t){setTimeout(t,1e3/60)}var Zd=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||Qd,Jd=function(){function t(){bd(this,t),this.backgroundElement=document.createElement("div"),hd.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),Dd.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),hd.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;Dd.bind(this.backgroundElement,"click",(function(){e.hide()}))}return Sd(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),hd.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",Dd.unbind(t.domElement,"webkitTransitionEnd",e),Dd.unbind(t.domElement,"transitionend",e),Dd.unbind(t.domElement,"oTransitionEnd",e)};Dd.bind(this.domElement,"webkitTransitionEnd",e),Dd.bind(this.domElement,"transitionend",e),Dd.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-Dd.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-Dd.getHeight(this.domElement)/2+"px"}}]),t}(),tm=ld(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .cr.function .property-name{width:100%}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");Yd.inject(tm);var nm="dg",im=72,rm=20,am="Default",om=function(){try{return!!window.localStorage}catch(t){return!1}}(),sm=void 0,lm=!0,pm=void 0,cm=!1,um=[],hm=function t(e){var n=this,r=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),Dd.addClass(this.domElement,nm),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=hd.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=hd.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),hd.isUndefined(r.load)?r.load={preset:am}:r.preset&&(r.load.preset=r.preset),hd.isUndefined(r.parent)&&r.hideable&&um.push(this),r.resizable=hd.isUndefined(r.parent)&&r.resizable,r.autoPlace&&hd.isUndefined(r.scrollable)&&(r.scrollable=!0);var o=om&&"true"===localStorage.getItem(_m(this,"isLocal")),l=void 0,c=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,Rm(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,Mm(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,c&&(c.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?Dd.addClass(n.__ul,t.CLASS_CLOSED):Dd.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return o},set:function(t){om&&(o=t,t?Dd.bind(window,"unload",l):Dd.unbind(window,"unload",l),localStorage.setItem(_m(n,"isLocal"),t))}}}),hd.isUndefined(r.parent)){if(this.closed=r.closed||!1,Dd.addClass(this.domElement,t.CLASS_MAIN),Dd.makeSelectable(this.domElement,!1),om&&o){n.useLocalStorage=!0;var h=localStorage.getItem(_m(this,"gui"));h&&(r.load=JSON.parse(h))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,Dd.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(Dd.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(Dd.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),Dd.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===r.closed&&(r.closed=!0);var d=document.createTextNode(r.name);Dd.addClass(d,"controller-name"),c=dm(n,d);var m=function(t){return t.preventDefault(),n.closed=!n.closed,!1};Dd.addClass(this.__ul,t.CLASS_CLOSED),Dd.addClass(c,"title"),Dd.bind(c,"click",m),r.closed||(this.closed=!1)}function f(){var t=n.getRoot();t.width+=1,hd.defer((function(){t.width-=1}))}r.autoPlace&&(hd.isUndefined(r.parent)&&(lm&&(pm=document.createElement("div"),Dd.addClass(pm,nm),Dd.addClass(pm,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(pm),lm=!1),pm.appendChild(this.domElement),Dd.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||Mm(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},Dd.bind(window,"resize",this.__resizeHandler),Dd.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),Dd.bind(this.__ul,"transitionend",this.__resizeHandler),Dd.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&wm(this),l=function(){om&&"true"===localStorage.getItem(_m(n,"isLocal"))&&localStorage.setItem(_m(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=l,r.parent||f()};function dm(t,e,n){var li=document.createElement("li");return e&&li.appendChild(e),n?t.__ul.insertBefore(li,n):t.__ul.appendChild(li),t.onResize(),li}function mm(t){Dd.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&Dd.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function fm(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function gm(t,li,e){if(e.__li=li,e.__gui=t,hd.extend(e,{options:function(n){if(arguments.length>1){var r=e.__li.nextElementSibling;return e.remove(),xm(t,e.object,e.property,{before:r,factoryArgs:[hd.toArray(arguments)]})}if(hd.isArray(n)||hd.isObject(n)){var o=e.__li.nextElementSibling;return e.remove(),xm(t,e.object,e.property,{before:o,factoryArgs:[n]})}},name:function(t){return e.__li.firstElementChild.firstElementChild.innerHTML=t,e},listen:function(){return e.__gui.listen(e),e},remove:function(){return e.__gui.remove(e),e}}),e instanceof Ud){var n=new zd(e.object,e.property,{min:e.__min,max:e.__max,step:e.__step});hd.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var r=e[t],o=n[t];e[t]=n[t]=function(){var t=Array.prototype.slice.call(arguments);return o.apply(n,t),r.apply(e,t)}})),Dd.addClass(li,"has-slider"),e.domElement.insertBefore(n.domElement,e.domElement.firstElementChild)}else if(e instanceof zd){var r=function(n){if(hd.isNumber(e.__min)&&hd.isNumber(e.__max)){var r=e.__li.firstElementChild.firstElementChild.innerHTML,o=e.__gui.__listening.indexOf(e)>-1;e.remove();var l=xm(t,e.object,e.property,{before:e.__li.nextElementSibling,factoryArgs:[e.__min,e.__max,e.__step]});return l.name(r),o&&l.listen(),l}return n};e.min=hd.compose(r,e.min),e.max=hd.compose(r,e.max)}else e instanceof Od?(Dd.bind(li,"click",(function(){Dd.fakeEvent(e.__checkbox,"click")})),Dd.bind(e.__checkbox,"click",(function(t){t.stopPropagation()}))):e instanceof Hd?(Dd.bind(li,"click",(function(){Dd.fakeEvent(e.__button,"click")})),Dd.bind(li,"mouseover",(function(){Dd.addClass(e.__button,"hover")})),Dd.bind(li,"mouseout",(function(){Dd.removeClass(e.__button,"hover")}))):e instanceof Xd&&(Dd.addClass(li,"color"),e.updateDisplay=hd.compose((function(t){return li.style.borderLeftColor=e.__color.toString(),t}),e.updateDisplay),e.updateDisplay());e.setValue=hd.compose((function(n){return t.getRoot().__preset_select&&e.isModified()&&fm(t.getRoot(),!0),n}),e.setValue)}function vm(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var o=n.__rememberedObjectIndecesToControllers[r];if(void 0===o&&(o={},n.__rememberedObjectIndecesToControllers[r]=o),o[e.property]=e,n.load&&n.load.remembered){var l=n.load.remembered,c=void 0;if(l[t.preset])c=l[t.preset];else{if(!l[am])return;c=l[am]}if(c[r]&&void 0!==c[r][e.property]){var h=c[r][e.property];e.initialValue=h,e.setValue(h)}}}}function xm(t,object,e,n){if(void 0===object[e])throw new Error('Object "'+object+'" has no property "'+e+'"');var r=void 0;if(n.color)r=new Xd(object,e);else{var o=[object,e].concat(n.factoryArgs);r=Kd.apply(t,o)}n.before instanceof Pd&&(n.before=n.before.__li),vm(t,r),Dd.addClass(r.domElement,"c");var l=document.createElement("span");Dd.addClass(l,"property-name"),l.innerHTML=r.property;var c=document.createElement("div");c.appendChild(l),c.appendChild(r.domElement);var li=dm(t,c,n.before);return Dd.addClass(li,hm.CLASS_CONTROLLER_ROW),r instanceof Xd?Dd.addClass(li,"color"):Dd.addClass(li,yd(r.getValue())),gm(t,li,r),t.__controllers.push(r),r}function _m(t,e){return document.location.href+"."+e}function ym(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function bm(t,e){e.style.display=t.useLocalStorage?"block":"none"}function Sm(t){var div=t.__save_row=document.createElement("li");Dd.addClass(t.domElement,"has-save"),t.__ul.insertBefore(div,t.__ul.firstChild),Dd.addClass(div,"save-row");var e=document.createElement("span");e.innerHTML="&nbsp;",Dd.addClass(e,"button gears");var button=document.createElement("span");button.innerHTML="Save",Dd.addClass(button,"button"),Dd.addClass(button,"save");var n=document.createElement("span");n.innerHTML="New",Dd.addClass(n,"button"),Dd.addClass(n,"save-as");var r=document.createElement("span");r.innerHTML="Revert",Dd.addClass(r,"button"),Dd.addClass(r,"revert");var select=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?hd.each(t.load.remembered,(function(e,n){ym(t,n,n===t.preset)})):ym(t,am,!1),Dd.bind(select,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),div.appendChild(select),div.appendChild(e),div.appendChild(button),div.appendChild(n),div.appendChild(r),om){var o=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(_m(t,"isLocal"))&&l.setAttribute("checked","checked"),bm(t,o),Dd.bind(l,"change",(function(){t.useLocalStorage=!t.useLocalStorage,bm(t,o)}))}var c=document.getElementById("dg-new-constructor");Dd.bind(c,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||sm.hide()})),Dd.bind(e,"click",(function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),sm.show(),c.focus(),c.select()})),Dd.bind(button,"click",(function(){t.save()})),Dd.bind(n,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),Dd.bind(r,"click",(function(){t.revert()}))}function wm(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){Dd.removeClass(t.__closeButton,hm.CLASS_DRAG),Dd.unbind(window,"mousemove",n),Dd.unbind(window,"mouseup",r)}function o(o){return o.preventDefault(),e=o.clientX,Dd.addClass(t.__closeButton,hm.CLASS_DRAG),Dd.bind(window,"mousemove",n),Dd.bind(window,"mouseup",r),!1}t.__resize_handle=document.createElement("div"),hd.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),Dd.bind(t.__resize_handle,"mousedown",o),Dd.bind(t.__closeButton,"mousedown",o),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function Mm(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function Em(t,e){var n={};return hd.each(t.__rememberedObjects,(function(r,o){var l={},c=t.__rememberedObjectIndecesToControllers[o];hd.each(c,(function(t,n){l[n]=e?t.initialValue:t.getValue()})),n[o]=l})),n}function Rm(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}function Am(t){0!==t.length&&Zd.call(window,(function(){Am(t)})),hd.each(t,(function(t){t.updateDisplay()}))}hm.toggleHide=function(){cm=!cm,hd.each(um,(function(t){t.domElement.style.display=cm?"none":""}))},hm.CLASS_AUTO_PLACE="a",hm.CLASS_AUTO_PLACE_CONTAINER="ac",hm.CLASS_MAIN="main",hm.CLASS_CONTROLLER_ROW="cr",hm.CLASS_TOO_TALL="taller-than-window",hm.CLASS_CLOSED="closed",hm.CLASS_CLOSE_BUTTON="close-button",hm.CLASS_CLOSE_TOP="close-top",hm.CLASS_CLOSE_BOTTOM="close-bottom",hm.CLASS_DRAG="drag",hm.DEFAULT_WIDTH=245,hm.TEXT_CLOSED="Close Controls",hm.TEXT_OPEN="Open Controls",hm._keydownHandler=function(t){"text"===document.activeElement.type||t.which!==im&&t.keyCode!==im||hm.toggleHide()},Dd.bind(window,"keydown",hm._keydownHandler,!1),hd.extend(hm.prototype,{add:function(object,t){return xm(this,object,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(object,t){return xm(this,object,t,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;hd.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&pm.removeChild(this.domElement);var t=this;hd.each(this.__folders,(function(e){t.removeFolder(e)})),Dd.unbind(window,"keydown",hm._keydownHandler,!1),mm(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new hm(e);this.__folders[t]=n;var li=dm(this,n.domElement);return Dd.addClass(li,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],mm(t);var e=this;hd.each(t.__folders,(function(e){t.removeFolder(e)})),hd.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=Dd.getOffset(t.__ul).top,n=0;hd.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=Dd.getHeight(e))})),window.innerHeight-e-rm<n?(Dd.addClass(t.domElement,hm.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-rm+"px"):(Dd.removeClass(t.domElement,hm.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&hd.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:hd.debounce((function(){this.onResize()}),50),remember:function(){if(hd.isUndefined(sm)&&((sm=new Jd).domElement.innerHTML=$d),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;hd.each(Array.prototype.slice.call(arguments),(function(object){0===t.__rememberedObjects.length&&Sm(t),-1===t.__rememberedObjects.indexOf(object)&&t.__rememberedObjects.push(object)})),this.autoPlace&&Mm(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=Em(this)),t.folders={},hd.each(this.__folders,(function(element,e){t.folders[e]=element.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=Em(this),fm(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered[am]=Em(this,!0)),this.load.remembered[t]=Em(this),this.preset=t,ym(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){hd.each(this.__controllers,(function(e){this.getRoot().load.remembered?vm(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),hd.each(this.__folders,(function(t){t.revert(t)})),t||fm(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&Am(this.__listening)},updateDisplay:function(){hd.each(this.__controllers,(function(t){t.updateDisplay()})),hd.each(this.__folders,(function(t){t.updateDisplay()}))}});var Tm=hm,Pm=function(){function t(t,e){this.visualCtrls=[],this.container=t,this.options=e,this.renderer=new Rl({antialias:!0}),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Be,this.gui=null,this.stats=sd(),this.pmremGenerator=new ja(this.renderer),this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.currentScene=new id(this.container,this.renderer),this.currentScene.sceneName="default",this.updateEnvironment(this.currentScene.vignette),this.state={playbackSpeed:1,wireframe:!1,skeleton:!1,grid:!1,addLights:!0,exposure:1,ambientIntensity:.3,ambientColor:2105376,directIntensity:.8*Math.PI,directColor:16777215,bgColor1:"#5454ad",bgColor2:"#18e5a7"},this.visualiseFolder=null,this.cameraFolder=null,this.init()}return t.prototype.init=function(){var t;""===this.currentScene.sceneName&&(this.currentScene.sceneName="default"),(null===(t=this.options)||void 0===t?void 0:t.guiOpen)&&!this.gui&&this.addGui(),[].forEach.call(this.stats.dom.children,(function(t){return t.style.display=""})),this.container.appendChild(this.renderer.domElement)},t.prototype.updateEnvironment=function(t){var e=this,n=ad.filter((function(t){return"Venice Sunset"===t.name}))[0];this.getCubeMapTexture(n).then((function(n){var r=e.getCurrentScene();n&&t&&(null==r||r.scene.add(t.mesh)),r.scene.environment=n,r.scene.background=n}))},t.prototype.getCubeMapTexture=function(t){var e=this,path=t.path;return path?new Promise((function(t,n){(new od).load(path,(function(n){var r=e.pmremGenerator.fromEquirectangular(n).texture;e.pmremGenerator.dispose(),t(r)}),void 0,n)})):Promise.resolve({envMap:null})},t.prototype.getCurrentScene=function(){return this.currentScene},t.prototype.hideGui=function(){this.gui&&this.gui.hide()},t.prototype.closeGui=function(){this.gui&&(this.gui.closed=!0)},t.prototype.addGui=function(){var t,e,n,r=this,o=this.gui=new Tm({width:260}),l=o.addFolder("Visualisation settings");l.add(this.state,"wireframe").onChange((function(){return r.currentScene.updateDisplay(r.state)})),this.visualiseFolder=l.addFolder("ModelVisualisation");var c=l.addColor(this.state,"bgColor1"),h=l.addColor(this.state,"bgColor2");if(c.onChange((function(){return r.currentScene.updateBackground(r.state.bgColor1,r.state.bgColor2)})),h.onChange((function(){return r.currentScene.updateBackground(r.state.bgColor1,r.state.bgColor2)})),(null===(t=this.options)||void 0===t?void 0:t.camera)&&(this.cameraFolder=o.addFolder("Camera")),null===(e=this.options)||void 0===e?void 0:e.performance){var d=o.addFolder("Performance"),m=document.createElement("li");this.stats.dom.style.position="static",m.appendChild(this.stats.dom),m.style.height="50px",d.__ul.appendChild(m)}if(null===(n=this.options)||void 0===n?void 0:n.light){var f=o.addFolder("LightsFolder");[f.add(this.state,"addLights").listen(),f.add(this.state,"ambientIntensity",0,2),f.addColor(this.state,"ambientColor"),f.add(this.state,"directIntensity",0,4),f.addColor(this.state,"directColor")].forEach((function(t){return t.onChange((function(){return r.currentScene.updateLights(r.state)}))}))}},t.prototype.updateGui=function(){var t=this;0!==this.visualCtrls.length&&this.visualCtrls.forEach((function(e){var n;null===(n=t.visualiseFolder)||void 0===n||n.remove(e)})),this.visualCtrls=[],setTimeout((function(){var e,n,r,o,l,c,h,d,m=[];null===(e=t.currentScene.content)||void 0===e||e.children;var f=function(t){if(t.isMesh){var e={name:t.name||"Untitled",visible:t.visible,mesh:t};m.push(e)}};if(null===(n=t.currentScene.content)||void 0===n||n.traverse((function(t){t.isMesh&&f(t)})),m.forEach((function(e){var n=t.visualiseFolder.add(e,"visible").name(e.name).onChange((function(){t.currentScene.updateModelChildrenVisualisation(e.mesh)}));t.visualCtrls.push(n)})),t.cameraFolder){if(t.cameraFolder.__controllers.length>0){var v=[];t.cameraFolder.__controllers.forEach((function(t){v.push(t)})),v.forEach((function(e){var n;null===(n=t.cameraFolder)||void 0===n||n.remove(e)}))}null===(r=t.cameraFolder)||void 0===r||r.add(t.currentScene.camera,"near"),null===(o=t.cameraFolder)||void 0===o||o.add(t.currentScene.camera,"far");var x=null===(l=t.cameraFolder)||void 0===l?void 0:l.__folders;for(var _ in x)if(Object.prototype.hasOwnProperty.call(x,_)){var sub=x[_];null===(c=t.cameraFolder)||void 0===c||c.removeFolder(sub)}var y=null===(h=t.cameraFolder)||void 0===h?void 0:h.addFolder("position");y.add(t.currentScene.camera.position,"x"),y.add(t.currentScene.camera.position,"y"),y.add(t.currentScene.camera.position,"z");var S=null===(d=t.cameraFolder)||void 0===d?void 0:d.addFolder("up");S.add(t.currentScene.camera.up,"x"),S.add(t.currentScene.camera.up,"y"),S.add(t.currentScene.camera.up,"z")}}),1500)},t}();const Cm={type:"change"},Im={type:"start"},Lm={type:"end"};class Nm extends Qe{constructor(object,t){super(),void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');const e=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=object,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:c.ROTATE,MIDDLE:c.DOLLY,RIGHT:c.PAN},this.target=new ei;const r=1e-6,o=new ei;let l=1,h=n.NONE,d=n.NONE,m=0,f=0,v=0;const x=new ei,_=new Rn,y=new Rn,S=new ei,w=new Rn,M=new Rn,E=new Rn,R=new Rn,A=[],T={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const t=e.domElement.getBoundingClientRect(),n=e.domElement.ownerDocument.documentElement;e.screen.left=t.left+window.pageXOffset-n.clientLeft,e.screen.top=t.top+window.pageYOffset-n.clientTop,e.screen.width=t.width,e.screen.height=t.height};const P=function(){const t=new Rn;return function(n,r){return t.set((n-e.screen.left)/e.screen.width,(r-e.screen.top)/e.screen.height),t}}(),C=function(){const t=new Rn;return function(n,r){return t.set((n-.5*e.screen.width-e.screen.left)/(.5*e.screen.width),(e.screen.height+2*(e.screen.top-r))/e.screen.width),t}}();function I(t){!1!==e.enabled&&(0===A.length&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",L),e.domElement.addEventListener("pointerup",N)),W(t),"touch"===t.pointerType?z(t):G(t))}function L(t){!1!==e.enabled&&("touch"===t.pointerType?U(t):B(t))}function N(t){!1!==e.enabled&&("touch"===t.pointerType?H(t):F(),j(t),0===A.length&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",L),e.domElement.removeEventListener("pointerup",N)))}function D(t){j(t)}function O(t){!1!==e.enabled&&(window.removeEventListener("keydown",O),d===n.NONE&&(t.code!==e.keys[n.ROTATE]||e.noRotate?t.code!==e.keys[n.ZOOM]||e.noZoom?t.code!==e.keys[n.PAN]||e.noPan||(d=n.PAN):d=n.ZOOM:d=n.ROTATE))}function k(){!1!==e.enabled&&(d=n.NONE,window.addEventListener("keydown",O))}function G(t){if(h===n.NONE)switch(t.button){case e.mouseButtons.LEFT:h=n.ROTATE;break;case e.mouseButtons.MIDDLE:h=n.ZOOM;break;case e.mouseButtons.RIGHT:h=n.PAN}const r=d!==n.NONE?d:h;r!==n.ROTATE||e.noRotate?r!==n.ZOOM||e.noZoom?r!==n.PAN||e.noPan||(E.copy(P(t.pageX,t.pageY)),R.copy(E)):(w.copy(P(t.pageX,t.pageY)),M.copy(w)):(y.copy(C(t.pageX,t.pageY)),_.copy(y)),e.dispatchEvent(Im)}function B(t){const r=d!==n.NONE?d:h;r!==n.ROTATE||e.noRotate?r!==n.ZOOM||e.noZoom?r!==n.PAN||e.noPan||R.copy(P(t.pageX,t.pageY)):M.copy(P(t.pageX,t.pageY)):(_.copy(y),y.copy(C(t.pageX,t.pageY)))}function F(){h=n.NONE,e.dispatchEvent(Lm)}function V(t){if(!1!==e.enabled&&!0!==e.noZoom){switch(t.preventDefault(),t.deltaMode){case 2:w.y-=.025*t.deltaY;break;case 1:w.y-=.01*t.deltaY;break;default:w.y-=25e-5*t.deltaY}e.dispatchEvent(Im),e.dispatchEvent(Lm)}}function z(t){if(Y(t),1===A.length)h=n.TOUCH_ROTATE,y.copy(C(A[0].pageX,A[0].pageY)),_.copy(y);else{h=n.TOUCH_ZOOM_PAN;const t=A[0].pageX-A[1].pageX,e=A[0].pageY-A[1].pageY;f=m=Math.sqrt(t*t+e*e);const r=(A[0].pageX+A[1].pageX)/2,o=(A[0].pageY+A[1].pageY)/2;E.copy(P(r,o)),R.copy(E)}e.dispatchEvent(Im)}function U(t){if(Y(t),1===A.length)_.copy(y),y.copy(C(t.pageX,t.pageY));else{const e=$(t),n=t.pageX-e.x,r=t.pageY-e.y;f=Math.sqrt(n*n+r*r);const o=(t.pageX+e.x)/2,l=(t.pageY+e.y)/2;R.copy(P(o,l))}}function H(t){switch(A.length){case 0:h=n.NONE;break;case 1:h=n.TOUCH_ROTATE,y.copy(C(t.pageX,t.pageY)),_.copy(y);break;case 2:h=n.TOUCH_ZOOM_PAN,y.copy(C(t.pageX-_.x,t.pageY-_.y)),_.copy(y)}e.dispatchEvent(Lm)}function X(t){!1!==e.enabled&&t.preventDefault()}function W(t){A.push(t)}function j(t){delete T[t.pointerId];for(let i=0;i<A.length;i++)if(A[i].pointerId==t.pointerId)return void A.splice(i,1)}function Y(t){let e=T[t.pointerId];void 0===e&&(e=new Rn,T[t.pointerId]=e),e.set(t.pageX,t.pageY)}function $(t){const e=t.pointerId===A[0].pointerId?A[1]:A[0];return T[e.pointerId]}this.rotateCamera=function(){const t=new ei,n=new ti,r=new ei,o=new ei,l=new ei,c=new ei;return function(){c.set(y.x-_.x,y.y-_.y,0);let h=c.length();h?(x.copy(e.object.position).sub(e.target),r.copy(x).normalize(),o.copy(e.object.up).normalize(),l.crossVectors(o,r).normalize(),o.setLength(y.y-_.y),l.setLength(y.x-_.x),c.copy(o.add(l)),t.crossVectors(c,x).normalize(),h*=e.rotateSpeed,n.setFromAxisAngle(t,h),x.applyQuaternion(n),e.object.up.applyQuaternion(n),S.copy(t),v=h):!e.staticMoving&&v&&(v*=Math.sqrt(1-e.dynamicDampingFactor),x.copy(e.object.position).sub(e.target),n.setFromAxisAngle(S,v),x.applyQuaternion(n),e.object.up.applyQuaternion(n)),_.copy(y)}}(),this.zoomCamera=function(){let t;h===n.TOUCH_ZOOM_PAN?(t=m/f,m=f,e.object.isPerspectiveCamera?x.multiplyScalar(t):e.object.isOrthographicCamera?(e.object.zoom/=t,e.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(t=1+(M.y-w.y)*e.zoomSpeed,1!==t&&t>0&&(e.object.isPerspectiveCamera?x.multiplyScalar(t):e.object.isOrthographicCamera?(e.object.zoom/=t,e.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),e.staticMoving?w.copy(M):w.y+=(M.y-w.y)*this.dynamicDampingFactor)},this.panCamera=function(){const t=new Rn,n=new ei,r=new ei;return function(){if(t.copy(R).sub(E),t.lengthSq()){if(e.object.isOrthographicCamera){const n=(e.object.right-e.object.left)/e.object.zoom/e.domElement.clientWidth,r=(e.object.top-e.object.bottom)/e.object.zoom/e.domElement.clientWidth;t.x*=n,t.y*=r}t.multiplyScalar(x.length()*e.panSpeed),r.copy(x).cross(e.object.up).setLength(t.x),r.add(n.copy(e.object.up).setLength(t.y)),e.object.position.add(r),e.target.add(r),e.staticMoving?E.copy(R):E.add(t.subVectors(R,E).multiplyScalar(e.dynamicDampingFactor))}}}(),this.checkDistances=function(){e.noZoom&&e.noPan||(x.lengthSq()>e.maxDistance*e.maxDistance&&(e.object.position.addVectors(e.target,x.setLength(e.maxDistance)),w.copy(M)),x.lengthSq()<e.minDistance*e.minDistance&&(e.object.position.addVectors(e.target,x.setLength(e.minDistance)),w.copy(M)))},this.update=function(){x.subVectors(e.object.position,e.target),e.noRotate||e.rotateCamera(),e.noZoom||e.zoomCamera(),e.noPan||e.panCamera(),e.object.position.addVectors(e.target,x),e.object.isPerspectiveCamera?(e.checkDistances(),e.object.lookAt(e.target),o.distanceToSquared(e.object.position)>r&&(e.dispatchEvent(Cm),o.copy(e.object.position))):e.object.isOrthographicCamera?(e.object.lookAt(e.target),(o.distanceToSquared(e.object.position)>r||l!==e.object.zoom)&&(e.dispatchEvent(Cm),o.copy(e.object.position),l=e.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){h=n.NONE,d=n.NONE,e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.up.copy(e.up0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),x.subVectors(e.object.position,e.target),e.object.lookAt(e.target),e.dispatchEvent(Cm),o.copy(e.object.position),l=e.object.zoom},this.dispose=function(){e.domElement.removeEventListener("contextmenu",X),e.domElement.removeEventListener("pointerdown",I),e.domElement.removeEventListener("pointercancel",D),e.domElement.removeEventListener("wheel",V),e.domElement.removeEventListener("pointermove",L),e.domElement.removeEventListener("pointerup",N),window.removeEventListener("keydown",O),window.removeEventListener("keyup",k)},this.domElement.addEventListener("contextmenu",X),this.domElement.addEventListener("pointerdown",I),this.domElement.addEventListener("pointercancel",D),this.domElement.addEventListener("wheel",V,{passive:!1}),window.addEventListener("keydown",O),window.addEventListener("keyup",k),this.handleResize(),this.update()}}class Dm extends Eu{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new Vm(t)})),this.register((function(t){return new jm(t)})),this.register((function(t){return new qm(t)})),this.register((function(t){return new zm(t)})),this.register((function(t){return new Um(t)})),this.register((function(t){return new Hm(t)})),this.register((function(t){return new Xm(t)})),this.register((function(t){return new Fm(t)})),this.register((function(t){return new Wm(t)})),this.register((function(t){return new Gm(t)})),this.register((function(t){return new Ym(t)}))}load(t,e,n,r){const o=this;let l;l=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Qu.extractUrlBase(t),this.manager.itemStart(t);const c=function(e){r?r(e):console.error(e),o.manager.itemError(t),o.manager.itemEnd(t)},h=new Au(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(t,(function(data){try{o.parse(data,l,(function(n){e(n),o.manager.itemEnd(t)}),c)}catch(t){c(t)}}),n,c)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(data,path,t,e){let content;const n={},r={};if("string"==typeof data)content=data;else if(Qu.decodeText(new Uint8Array(data,0,4))===$m){try{n[km.KHR_BINARY_GLTF]=new Zm(data)}catch(t){return void(e&&e(t))}content=n[km.KHR_BINARY_GLTF].content}else content=Qu.decodeText(new Uint8Array(data));const o=JSON.parse(content);if(void 0===o.asset||o.asset.version[0]<2)return void(e&&e(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const l=new Rf(o,{path:path||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let i=0;i<this.pluginCallbacks.length;i++){const t=this.pluginCallbacks[i](l);r[t.name]=t,n[t.name]=!0}if(o.extensionsUsed)for(let i=0;i<o.extensionsUsed.length;++i){const t=o.extensionsUsed[i],e=o.extensionsRequired||[];switch(t){case km.KHR_MATERIALS_UNLIT:n[t]=new Bm;break;case km.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:n[t]=new nf;break;case km.KHR_DRACO_MESH_COMPRESSION:n[t]=new Jm(o,this.dracoLoader);break;case km.KHR_TEXTURE_TRANSFORM:n[t]=new tf;break;case km.KHR_MESH_QUANTIZATION:n[t]=new rf;break;default:e.indexOf(t)>=0&&void 0===r[t]&&console.warn('THREE.GLTFLoader: Unknown extension "'+t+'".')}}l.setExtensions(n),l.setPlugins(r),l.parse(t,e)}parseAsync(data,path){const t=this;return new Promise((function(e,n){t.parse(data,path,e,n)}))}}function Om(){let t={};return{get:function(e){return t[e]},add:function(e,object){t[e]=object},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const km={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Gm{constructor(t){this.parser=t,this.name=km.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,r=e.length;n<r;n++){const r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let r=e.cache.get(n);if(r)return r;const o=e.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[t];let c;const h=new Vn(16777215);void 0!==l.color&&h.fromArray(l.color);const d=void 0!==l.range?l.range:0;switch(l.type){case"directional":c=new ju(h),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Xu(h),c.distance=d;break;case"spot":c=new Fu(h),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,void 0!==l.intensity&&(c.intensity=l.intensity),c.name=e.createUniqueName(l.name||"light_"+t),r=Promise.resolve(c),e.cache.add(n,r),r}createNodeAttachment(t){const e=this,n=this.parser,r=n.json.nodes[t],o=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then((function(t){return n._getNodeRef(e.cache,o,t)}))}}class Bm{constructor(){this.name=km.KHR_MATERIALS_UNLIT}getMaterialType(){return yr}extendParams(t,e,n){const r=[];t.color=new Vn(1,1,1),t.opacity=1;const o=e.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const e=o.baseColorFactor;t.color.fromArray(e),t.opacity=e[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(t,"map",o.baseColorTexture,Be))}return Promise.all(r)}}class Fm{constructor(t){this.parser=t,this.name=km.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(e.emissiveIntensity=r),Promise.resolve()}}class Vm{constructor(t){this.parser=t,this.name=km.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Zc:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],l=r.extensions[this.name];if(void 0!==l.clearcoatFactor&&(e.clearcoat=l.clearcoatFactor),void 0!==l.clearcoatTexture&&o.push(n.assignTexture(e,"clearcoatMap",l.clearcoatTexture)),void 0!==l.clearcoatRoughnessFactor&&(e.clearcoatRoughness=l.clearcoatRoughnessFactor),void 0!==l.clearcoatRoughnessTexture&&o.push(n.assignTexture(e,"clearcoatRoughnessMap",l.clearcoatRoughnessTexture)),void 0!==l.clearcoatNormalTexture&&(o.push(n.assignTexture(e,"clearcoatNormalMap",l.clearcoatNormalTexture)),void 0!==l.clearcoatNormalTexture.scale)){const t=l.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Rn(t,t)}return Promise.all(o)}}class zm{constructor(t){this.parser=t,this.name=km.KHR_MATERIALS_SHEEN}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Zc:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[];e.sheenColor=new Vn(0,0,0),e.sheenRoughness=0,e.sheen=1;const l=r.extensions[this.name];return void 0!==l.sheenColorFactor&&e.sheenColor.fromArray(l.sheenColorFactor),void 0!==l.sheenRoughnessFactor&&(e.sheenRoughness=l.sheenRoughnessFactor),void 0!==l.sheenColorTexture&&o.push(n.assignTexture(e,"sheenColorMap",l.sheenColorTexture,Be)),void 0!==l.sheenRoughnessTexture&&o.push(n.assignTexture(e,"sheenRoughnessMap",l.sheenRoughnessTexture)),Promise.all(o)}}class Um{constructor(t){this.parser=t,this.name=km.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Zc:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],l=r.extensions[this.name];return void 0!==l.transmissionFactor&&(e.transmission=l.transmissionFactor),void 0!==l.transmissionTexture&&o.push(n.assignTexture(e,"transmissionMap",l.transmissionTexture)),Promise.all(o)}}class Hm{constructor(t){this.parser=t,this.name=km.KHR_MATERIALS_VOLUME}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Zc:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],l=r.extensions[this.name];e.thickness=void 0!==l.thicknessFactor?l.thicknessFactor:0,void 0!==l.thicknessTexture&&o.push(n.assignTexture(e,"thicknessMap",l.thicknessTexture)),e.attenuationDistance=l.attenuationDistance||0;const c=l.attenuationColor||[1,1,1];return e.attenuationColor=new Vn(c[0],c[1],c[2]),Promise.all(o)}}class Xm{constructor(t){this.parser=t,this.name=km.KHR_MATERIALS_IOR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Zc:null}extendMaterialParams(t,e){const n=this.parser.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();const r=n.extensions[this.name];return e.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class Wm{constructor(t){this.parser=t,this.name=km.KHR_MATERIALS_SPECULAR}getMaterialType(t){const e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?Zc:null}extendMaterialParams(t,e){const n=this.parser,r=n.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const o=[],l=r.extensions[this.name];e.specularIntensity=void 0!==l.specularFactor?l.specularFactor:1,void 0!==l.specularTexture&&o.push(n.assignTexture(e,"specularIntensityMap",l.specularTexture));const c=l.specularColorFactor||[1,1,1];return e.specularColor=new Vn(c[0],c[1],c[2]),void 0!==l.specularColorTexture&&o.push(n.assignTexture(e,"specularColorMap",l.specularColorTexture,Be)),Promise.all(o)}}class jm{constructor(t){this.parser=t,this.name=km.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,r=n.textures[t];if(!r.extensions||!r.extensions[this.name])return null;const o=r.extensions[this.name],l=e.options.ktx2Loader;if(!l){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,o.source,l)}}class qm{constructor(t){this.parser=t,this.name=km.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,r=n.json,o=r.textures[t];if(!o.extensions||!o.extensions[e])return null;const l=o.extensions[e],source=r.images[l.source];let c=n.textureLoader;if(source.uri){const t=n.options.manager.getHandler(source.uri);null!==t&&(c=t)}return this.detectSupport().then((function(o){if(o)return n.loadTextureImage(t,l.source,c);if(r.extensionsRequired&&r.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)}))}detectSupport(){return this.isSupported||(this.isSupported=new Promise((function(t){const image=new Image;image.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",image.onload=image.onerror=function(){t(1===image.height)}}))),this.isSupported}}class Ym{constructor(t){this.name=km.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const t=n.extensions[this.name],r=this.parser.getDependency("buffer",t.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,o.ready]).then((function(e){const n=t.byteOffset||0,r=t.byteLength||0,l=t.count,c=t.byteStride,h=new ArrayBuffer(l*c),source=new Uint8Array(e[0],n,r);return o.decodeGltfBuffer(new Uint8Array(h),l,c,source,t.mode,t.filter),h}))}return null}}const $m="glTF",Km=12,Qm={JSON:1313821514,BIN:5130562};class Zm{constructor(data){this.name=km.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(data,0,Km);if(this.header={magic:Qu.decodeText(new Uint8Array(data.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==$m)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const e=this.header.length-Km,n=new DataView(data,Km);let r=0;for(;r<e;){const t=n.getUint32(r,!0);r+=4;const e=n.getUint32(r,!0);if(r+=4,e===Qm.JSON){const e=new Uint8Array(data,Km+r,t);this.content=Qu.decodeText(e)}else if(e===Qm.BIN){const e=Km+r;this.body=data.slice(e,e+t)}r+=t}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Jm{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=km.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,r=this.dracoLoader,o=t.extensions[this.name].bufferView,l=t.extensions[this.name].attributes,c={},h={},d={};for(const t in l){const e=df[t]||t.toLowerCase();c[e]=l[t]}for(const e in t.attributes){const r=df[e]||e.toLowerCase();if(void 0!==l[e]){const o=n.accessors[t.attributes[e]],l=pf[o.componentType];d[r]=l,h[r]=!0===o.normalized}}return e.getDependency("bufferView",o).then((function(t){return new Promise((function(e){r.decodeDracoFile(t,(function(t){for(const e in t.attributes){const n=t.attributes[e],r=h[e];void 0!==r&&(n.normalized=r)}e(t)}),c,d)}))}))}}class tf{constructor(){this.name=km.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class ef extends Qc{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),c={specular:{value:(new Vn).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=c,this.onBeforeCompile=function(t){for(const e in c)t.uniforms[e]=c[e];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",l)},Object.defineProperties(this,{specular:{get:function(){return c.specular.value},set:function(t){c.specular.value=t}},specularMap:{get:function(){return c.specularMap.value},set:function(t){c.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(t){c.glossiness.value=t}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(t){c.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(source){return super.copy(source),this.specularMap=source.specularMap,this.specular.copy(source.specular),this.glossinessMap=source.glossinessMap,this.glossiness=source.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class nf{constructor(){this.name=km.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return ef}extendParams(t,e,n){const r=e.extensions[this.name];t.color=new Vn(1,1,1),t.opacity=1;const o=[];if(Array.isArray(r.diffuseFactor)){const e=r.diffuseFactor;t.color.fromArray(e),t.opacity=e[3]}if(void 0!==r.diffuseTexture&&o.push(n.assignTexture(t,"map",r.diffuseTexture,Be)),t.emissive=new Vn(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new Vn(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){const e=r.specularGlossinessTexture;o.push(n.assignTexture(t,"glossinessMap",e)),o.push(n.assignTexture(t,"specularMap",e,Be))}return Promise.all(o)}createMaterial(t){const e=new ef(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=void 0===t.emissiveIntensity?1:t.emissiveIntensity,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=ze,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e}}class rf{constructor(){this.name=km.KHR_MESH_QUANTIZATION}}class af extends su{constructor(t,e,n,r){super(t,e,n,r)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r*3+r;for(let i=0;i!==r;i++)e[i]=n[o+i];return e}}af.prototype.beforeStart_=af.prototype.copySampleValue_,af.prototype.afterEnd_=af.prototype.copySampleValue_,af.prototype.interpolate_=function(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=2*c,d=3*c,td=r-e,p=(n-e)/td,m=p*p,f=m*p,v=t*d,x=v-d,_=-2*f+3*m,y=f-m,S=1-_,w=y-m+p;for(let i=0;i!==c;i++){const t=l[x+i+c],e=l[x+i+h]*td,n=l[v+i+c],r=l[v+i]*td;o[i]=S*t+w*e+_*n+y*r}return o};const of=new ti;class sf extends af{interpolate_(t,e,n,r){const o=super.interpolate_(t,e,n,r);return of.fromArray(o).normalize().toArray(o),o}}const lf={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},pf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},cf={9728:St,9729:Et,9984:wt,9985:Rt,9986:Mt,9987:At},uf={33071:yt,33648:bt,10497:_t},hf={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},df={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},mf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},ff={CUBICSPLINE:void 0,LINEAR:Ae,STEP:Re},gf={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function vf(t){return void 0===t.DefaultMaterial&&(t.DefaultMaterial=new Qc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:y})),t.DefaultMaterial}function xf(t,object,e){for(const n in e.extensions)void 0===t[n]&&(object.userData.gltfExtensions=object.userData.gltfExtensions||{},object.userData.gltfExtensions[n]=e.extensions[n])}function _f(object,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(object.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function yf(t,e,n){let r=!1,o=!1,l=!1;for(let i=0,t=e.length;i<t;i++){const t=e[i];if(void 0!==t.POSITION&&(r=!0),void 0!==t.NORMAL&&(o=!0),void 0!==t.COLOR_0&&(l=!0),r&&o&&l)break}if(!r&&!o&&!l)return Promise.resolve(t);const c=[],h=[],d=[];for(let i=0,m=e.length;i<m;i++){const m=e[i];if(r){const e=void 0!==m.POSITION?n.getDependency("accessor",m.POSITION):t.attributes.position;c.push(e)}if(o){const e=void 0!==m.NORMAL?n.getDependency("accessor",m.NORMAL):t.attributes.normal;h.push(e)}if(l){const e=void 0!==m.COLOR_0?n.getDependency("accessor",m.COLOR_0):t.attributes.color;d.push(e)}}return Promise.all([Promise.all(c),Promise.all(h),Promise.all(d)]).then((function(e){const n=e[0],c=e[1],h=e[2];return r&&(t.morphAttributes.position=n),o&&(t.morphAttributes.normal=c),l&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t}))}function bf(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(let i=0,n=e.weights.length;i<n;i++)t.morphTargetInfluences[i]=e.weights[i];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,e=n.length;i<e;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Sf(t){const e=t.extensions&&t.extensions[km.KHR_DRACO_MESH_COMPRESSION];let n;return n=e?"draco:"+e.bufferView+":"+e.indices+":"+wf(e.attributes):t.indices+":"+wf(t.attributes)+":"+t.mode,n}function wf(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function Mf(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Ef(t){return t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"}class Rf{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new Om,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,o=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;"undefined"==typeof createImageBitmap||n||r&&o<98?this.textureLoader=new Iu(this.options.manager):this.textureLoader=new Ju(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Au(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,r=this.json,o=this.extensions;this.cache.removeAll(),this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all(this._invokeAll((function(t){return t.beforeRoot&&t.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(e){const l={scene:e[0][r.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:r.asset,parser:n,userData:{}};xf(o,l,r),_f(l,r),Promise.all(n._invokeAll((function(t){return t.afterRoot&&t.afterRoot(l)}))).then((function(){t(l)}))})).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let n=0,r=e.length;n<r;n++){const r=e[n].joints;for(let i=0,e=r.length;i<e;i++)t[r[i]].isBone=!0}for(let e=0,r=t.length;e<r;e++){const r=t[e];void 0!==r.mesh&&(this._addNodeRef(this.meshCache,r.mesh),void 0!==r.skin&&(n[r.mesh].isSkinnedMesh=!0)),void 0!==r.camera&&this._addNodeRef(this.cameraCache,r.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,object){if(t.refs[e]<=1)return object;const n=object.clone(),r=(t,e)=>{const n=this.associations.get(t);null!=n&&this.associations.set(e,n);for(const[i,n]of t.children.entries())r(n,e.children[i])};return r(object,n),n.name+="_instance_"+t.uses[e]++,n}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const n=t(e[i]);if(n)return n}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let i=0;i<e.length;i++){const r=t(e[i]);r&&n.push(r)}return n}getDependency(t,e){const n=t+":"+e;let r=this.cache.get(n);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this.loadNode(e);break;case"mesh":r=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":r=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":r=this.loadSkin(e);break;case"animation":r=this._invokeOne((function(t){return t.loadAnimation&&t.loadAnimation(e)}));break;case"camera":r=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,r)}return r}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this,defs=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(defs.map((function(e,r){return n.getDependency(t,r)}))),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[km.KHR_BINARY_GLTF].body);const r=this.options;return new Promise((function(t,o){n.load(Qu.resolveURL(e.uri,r.path),t,void 0,(function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){const n=e.byteLength||0,r=e.byteOffset||0;return t.slice(r,r+n)}))}loadAccessor(t){const e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);const o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(t){const o=t[0],l=hf[r.type],c=pf[r.componentType],h=c.BYTES_PER_ELEMENT,d=h*l,m=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,v=!0===r.normalized;let x,_;if(f&&f!==d){const t=Math.floor(m/f),n="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+t+":"+r.count;let d=e.cache.get(n);d||(x=new c(o,t*f,r.count*f/h),d=new Pl(x,f/h),e.cache.add(n,d)),_=new Il(d,l,m%f/h,v)}else x=null===o?new c(r.count*l):new c(o,m,r.count*l),_=new Mr(x,l,v);if(void 0!==r.sparse){const e=hf.SCALAR,n=pf[r.sparse.indices.componentType],h=r.sparse.indices.byteOffset||0,d=r.sparse.values.byteOffset||0,m=new n(t[1],h,r.sparse.count*e),f=new c(t[2],d,r.sparse.count*l);null!==o&&(_=new Mr(_.array.slice(),_.itemSize,_.normalized));for(let i=0,t=m.length;i<t;i++){const t=m[i];if(_.setX(t,f[i*l]),l>=2&&_.setY(t,f[i*l+1]),l>=3&&_.setZ(t,f[i*l+2]),l>=4&&_.setW(t,f[i*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _}))}loadTexture(t){const e=this.json,n=this.options,r=e.textures[t].source,o=e.images[r];let l=this.textureLoader;if(o.uri){const t=n.manager.getHandler(o.uri);null!==t&&(l=t)}return this.loadTextureImage(t,r,l)}loadTextureImage(t,e,n){const r=this,o=this.json,l=o.textures[t],c=o.images[e],h=(c.uri||c.bufferView)+":"+l.sampler;if(this.textureCache[h])return this.textureCache[h];const d=this.loadImageSource(e,n).then((function(e){e.flipY=!1,l.name&&(e.name=l.name);const n=(o.samplers||{})[l.sampler]||{};return e.magFilter=cf[n.magFilter]||Et,e.minFilter=cf[n.minFilter]||At,e.wrapS=uf[n.wrapS]||_t,e.wrapT=uf[n.wrapT]||_t,r.associations.set(e,{textures:t}),e})).catch((function(){return null}));return this.textureCache[h]=d,d}loadImageSource(t,e){const n=this,r=this.json,o=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then((t=>t.clone()));const l=r.images[t],c=self.URL||self.webkitURL;let h=l.uri||"",d=!1;if(void 0!==l.bufferView)h=n.getDependency("bufferView",l.bufferView).then((function(t){d=!0;const e=new Blob([t],{type:l.mimeType});return h=c.createObjectURL(e),h}));else if(void 0===l.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const m=Promise.resolve(h).then((function(t){return new Promise((function(n,r){let l=n;!0===e.isImageBitmapLoader&&(l=function(t){const e=new jn(t);e.needsUpdate=!0,n(e)}),e.load(Qu.resolveURL(t,o.path),l,void 0,r)}))})).then((function(t){return!0===d&&c.revokeObjectURL(h),t.userData.mimeType=l.mimeType||Ef(l.uri),t})).catch((function(t){throw console.error("THREE.GLTFLoader: Couldn't load texture",h),t}));return this.sourceCache[t]=m,m}assignTexture(t,e,n,r){const o=this;return this.getDependency("texture",n.index).then((function(l){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===e&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),o.extensions[km.KHR_TEXTURE_TRANSFORM]){const t=void 0!==n.extensions?n.extensions[km.KHR_TEXTURE_TRANSFORM]:void 0;if(t){const e=o.associations.get(l);l=o.extensions[km.KHR_TEXTURE_TRANSFORM].extendTexture(l,t),o.associations.set(l,e)}}return void 0!==r&&(l.encoding=r),t[e]=l,l}))}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const r=void 0===e.attributes.tangent,o=void 0!==e.attributes.color,l=void 0===e.attributes.normal;if(t.isPoints){const t="PointsMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new wp,_r.prototype.copy.call(e,n),e.color.copy(n.color),e.map=n.map,e.sizeAttenuation=!1,this.cache.add(t,e)),n=e}else if(t.isLine){const t="LineBasicMaterial:"+n.uuid;let e=this.cache.get(t);e||(e=new hp,_r.prototype.copy.call(e,n),e.color.copy(n.color),this.cache.add(t,e)),n=e}if(r||o||l){let t="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(t+="specular-glossiness:"),r&&(t+="derivative-tangents:"),o&&(t+="vertex-colors:"),l&&(t+="flat-shading:");let e=this.cache.get(t);e||(e=n.clone(),o&&(e.vertexColors=!0),l&&(e.flatShading=!0),r&&(e.normalScale&&(e.normalScale.y*=-1),e.clearcoatNormalScale&&(e.clearcoatNormalScale.y*=-1)),this.cache.add(t,e),this.associations.set(e,this.associations.get(n))),n=e}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n}getMaterialType(){return Qc}loadMaterial(t){const e=this,n=this.json,r=this.extensions,o=n.materials[t];let l;const c={},h=o.extensions||{},d=[];if(h[km.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const t=r[km.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];l=t.getMaterialType(),d.push(t.extendParams(c,o,e))}else if(h[km.KHR_MATERIALS_UNLIT]){const t=r[km.KHR_MATERIALS_UNLIT];l=t.getMaterialType(),d.push(t.extendParams(c,o,e))}else{const n=o.pbrMetallicRoughness||{};if(c.color=new Vn(1,1,1),c.opacity=1,Array.isArray(n.baseColorFactor)){const t=n.baseColorFactor;c.color.fromArray(t),c.opacity=t[3]}void 0!==n.baseColorTexture&&d.push(e.assignTexture(c,"map",n.baseColorTexture,Be)),c.metalness=void 0!==n.metallicFactor?n.metallicFactor:1,c.roughness=void 0!==n.roughnessFactor?n.roughnessFactor:1,void 0!==n.metallicRoughnessTexture&&(d.push(e.assignTexture(c,"metalnessMap",n.metallicRoughnessTexture)),d.push(e.assignTexture(c,"roughnessMap",n.metallicRoughnessTexture))),l=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),d.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,c)}))))}!0===o.doubleSided&&(c.side=w);const m=o.alphaMode||gf.OPAQUE;if(m===gf.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,m===gf.MASK&&(c.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&l!==yr&&(d.push(e.assignTexture(c,"normalMap",o.normalTexture)),c.normalScale=new Rn(1,1),void 0!==o.normalTexture.scale)){const t=o.normalTexture.scale;c.normalScale.set(t,t)}return void 0!==o.occlusionTexture&&l!==yr&&(d.push(e.assignTexture(c,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(c.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&l!==yr&&(c.emissive=(new Vn).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&l!==yr&&d.push(e.assignTexture(c,"emissiveMap",o.emissiveTexture,Be)),Promise.all(d).then((function(){let n;return n=l===ef?r[km.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new l(c),o.name&&(n.name=o.name),_f(n,o),e.associations.set(n,{materials:t}),o.extensions&&xf(r,n,o),n}))}createUniqueName(t){const e=bh.sanitizeNodeName(t||"");let n=e;for(let i=1;this.nodeNamesUsed[n];++i)n=e+"_"+i;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const e=this,n=this.extensions,r=this.primitiveCache;function o(t){return n[km.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return Pf(n,t,e)}))}const l=[];for(let i=0,n=t.length;i<n;i++){const n=t[i],c=Sf(n),h=r[c];if(h)l.push(h.promise);else{let t;t=n.extensions&&n.extensions[km.KHR_DRACO_MESH_COMPRESSION]?o(n):Pf(new kr,n,e),r[c]={primitive:n,promise:t},l.push(t)}}return Promise.all(l)}loadMesh(t){const e=this,n=this.json,r=this.extensions,o=n.meshes[t],l=o.primitives,c=[];for(let i=0,t=l.length;i<t;i++){const t=void 0===l[i].material?vf(this.cache):this.getDependency("material",l[i].material);c.push(t)}return c.push(e.loadGeometries(l)),Promise.all(c).then((function(n){const c=n.slice(0,n.length-1),h=n[n.length-1],d=[];for(let i=0,n=h.length;i<n;i++){const n=h[i],m=l[i];let f;const v=c[i];if(m.mode===lf.TRIANGLES||m.mode===lf.TRIANGLE_STRIP||m.mode===lf.TRIANGLE_FAN||void 0===m.mode)f=!0===o.isSkinnedMesh?new Jl(n,v):new ta(n,v),!0!==f.isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),m.mode===lf.TRIANGLE_STRIP?f.geometry=Cf(f.geometry,Oe):m.mode===lf.TRIANGLE_FAN&&(f.geometry=Cf(f.geometry,ke));else if(m.mode===lf.LINES)f=new bp(n,v);else if(m.mode===lf.LINE_STRIP)f=new xp(n,v);else if(m.mode===lf.LINE_LOOP)f=new Sp(n,v);else{if(m.mode!==lf.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);f=new Tp(n,v)}Object.keys(f.geometry.morphAttributes).length>0&&bf(f,o),f.name=e.createUniqueName(o.name||"mesh_"+t),_f(f,o),m.extensions&&xf(r,f,m),e.assignFinalMaterial(f),d.push(f)}for(let i=0,n=d.length;i<n;i++)e.associations.set(d[i],{meshes:t,primitives:i});if(1===d.length)return d[0];const m=new _l;e.associations.set(m,{meshes:t});for(let i=0,t=d.length;i<t;i++)m.add(d[i]);return m}))}loadCamera(t){let e;const n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new ua(En.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new ka(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),_f(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))}loadAnimation(t){const e=this.json.animations[t],n=[],r=[],o=[],l=[],c=[];for(let i=0,t=e.channels.length;i<t;i++){const t=e.channels[i],h=e.samplers[t.sampler],d=t.target,m=void 0!==d.node?d.node:d.id,input=void 0!==e.parameters?e.parameters[h.input]:h.input,output=void 0!==e.parameters?e.parameters[h.output]:h.output;n.push(this.getDependency("node",m)),r.push(this.getDependency("accessor",input)),o.push(this.getDependency("accessor",output)),l.push(h),c.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(o),Promise.all(l),Promise.all(c)]).then((function(n){const r=n[0],o=n[1],l=n[2],c=n[3],h=n[4],d=[];for(let i=0,t=r.length;i<t;i++){const t=r[i],e=o[i],n=l[i],m=c[i],f=h[i];if(void 0===t)continue;let v;switch(t.updateMatrix(),t.matrixAutoUpdate=!0,mf[f.path]){case mf.weights:v=mu;break;case mf.rotation:v=gu;break;case mf.position:case mf.scale:default:v=xu}const x=t.name?t.name:t.uuid,_=void 0!==m.interpolation?ff[m.interpolation]:Ae,y=[];mf[f.path]===mf.weights?t.traverse((function(object){object.morphTargetInfluences&&y.push(object.name?object.name:object.uuid)})):y.push(x);let S=n.array;if(n.normalized){const t=Mf(S.constructor),e=new Float32Array(S.length);for(let n=0,r=S.length;n<r;n++)e[n]=S[n]*t;S=e}for(let t=0,n=y.length;t<n;t++){const track=new v(y[t]+"."+mf[f.path],e.array,S,_);"CUBICSPLINE"===m.interpolation&&(track.createInterpolant=function(t){return new(this instanceof gu?sf:af)(this.times,this.values,this.getValueSize()/3,t)},track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),d.push(track)}}const m=e.name?e.name:"animation_"+t;return new _u(m,void 0,d)}))}createNodeMesh(t){const e=this.json,n=this,r=e.nodes[t];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(t){const e=n._getNodeRef(n.meshCache,r.mesh,t);return void 0!==r.weights&&e.traverse((function(t){if(t.isMesh)for(let i=0,e=r.weights.length;i<e;i++)t.morphTargetInfluences[i]=r.weights[i]})),e}))}loadNode(t){const e=this.json,n=this.extensions,r=this,o=e.nodes[t],l=o.name?r.createUniqueName(o.name):"";return function(){const e=[],n=r._invokeOne((function(e){return e.createNodeMesh&&e.createNodeMesh(t)}));return n&&e.push(n),void 0!==o.camera&&e.push(r.getDependency("camera",o.camera).then((function(t){return r._getNodeRef(r.cameraCache,o.camera,t)}))),r._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){e.push(t)})),Promise.all(e)}().then((function(e){let c;if(c=!0===o.isBone?new tp:e.length>1?new _l:1===e.length?e[0]:new ar,c!==e[0])for(let i=0,t=e.length;i<t;i++)c.add(e[i]);if(o.name&&(c.userData.name=o.name,c.name=l),_f(c,o),o.extensions&&xf(n,c,o),void 0!==o.matrix){const t=new Ni;t.fromArray(o.matrix),c.applyMatrix4(t)}else void 0!==o.translation&&c.position.fromArray(o.translation),void 0!==o.rotation&&c.quaternion.fromArray(o.rotation),void 0!==o.scale&&c.scale.fromArray(o.scale);return r.associations.has(c)||r.associations.set(c,{}),r.associations.get(c).nodes=t,c}))}loadScene(t){const e=this.json,n=this.extensions,r=this.json.scenes[t],o=this,l=new _l;r.name&&(l.name=o.createUniqueName(r.name)),_f(l,r),r.extensions&&xf(n,l,r);const c=r.nodes||[],h=[];for(let i=0,t=c.length;i<t;i++)h.push(Af(c[i],l,e,o));return Promise.all(h).then((function(){const t=t=>{const e=new Map;for(const[t,n]of o.associations)(t instanceof _r||t instanceof jn)&&e.set(t,n);return t.traverse((t=>{const n=o.associations.get(t);null!=n&&e.set(t,n)})),e};return o.associations=t(l),l}))}}function Af(t,e,n,r){const o=n.nodes[t];return r.getDependency("node",t).then((function(t){if(void 0===o.skin)return t;let e;return r.getDependency("skin",o.skin).then((function(t){e=t;const n=[];for(let i=0,t=e.joints.length;i<t;i++)n.push(r.getDependency("node",e.joints[i]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(!t.isMesh)return;const r=[],o=[];for(let t=0,l=n.length;t<l;t++){const l=n[t];if(l){r.push(l);const n=new Ni;void 0!==e.inverseBindMatrices&&n.fromArray(e.inverseBindMatrices.array,16*t),o.push(n)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[t])}t.bind(new ap(r,o),t.matrixWorld)})),t}))})).then((function(t){e.add(t);const l=[];if(o.children){const e=o.children;for(let i=0,o=e.length;i<o;i++){const o=e[i];l.push(Af(o,t,n,r))}}return Promise.all(l)}))}function Tf(t,e,n){const r=e.attributes,o=new ri;if(void 0===r.POSITION)return;{const t=n.json.accessors[r.POSITION],e=t.min,l=t.max;if(void 0===e||void 0===l)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(o.set(new ei(e[0],e[1],e[2]),new ei(l[0],l[1],l[2])),t.normalized){const e=Mf(pf[t.componentType]);o.min.multiplyScalar(e),o.max.multiplyScalar(e)}}const l=e.targets;if(void 0!==l){const t=new ei,e=new ei;for(let i=0,r=l.length;i<r;i++){const r=l[i];if(void 0!==r.POSITION){const o=n.json.accessors[r.POSITION],l=o.min,c=o.max;if(void 0!==l&&void 0!==c){if(e.setX(Math.max(Math.abs(l[0]),Math.abs(c[0]))),e.setY(Math.max(Math.abs(l[1]),Math.abs(c[1]))),e.setZ(Math.max(Math.abs(l[2]),Math.abs(c[2]))),o.normalized){const t=Mf(pf[o.componentType]);e.multiplyScalar(t)}t.max(e)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(t)}t.boundingBox=o;const c=new Mi;o.getCenter(c.center),c.radius=o.min.distanceTo(o.max)/2,t.boundingSphere=c}function Pf(t,e,n){const r=e.attributes,o=[];function l(e,r){return n.getDependency("accessor",e).then((function(e){t.setAttribute(r,e)}))}for(const e in r){const n=df[e]||e.toLowerCase();n in t.attributes||o.push(l(r[e],n))}if(void 0!==e.indices&&!t.index){const r=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));o.push(r)}return _f(t,e),Tf(t,e,n),Promise.all(o).then((function(){return void 0!==e.targets?yf(t,e.targets,n):t}))}function Cf(t,e){let n=t.getIndex();if(null===n){const e=[],r=t.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(let i=0;i<r.count;i++)e.push(i);t.setIndex(e),n=t.getIndex()}const r=n.count-2,o=[];if(e===ke)for(let i=1;i<=r;i++)o.push(n.getX(0)),o.push(n.getX(i)),o.push(n.getX(i+1));else for(let i=0;i<r;i++)i%2==0?(o.push(n.getX(i)),o.push(n.getX(i+1)),o.push(n.getX(i+2))):(o.push(n.getX(i+2)),o.push(n.getX(i+1)),o.push(n.getX(i)));o.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=t.clone();return l.setIndex(o),l}class If{constructor(t=4){this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(t){if(!this.workers[t]){const e=this.workerCreator();e.addEventListener("message",this._onMessage.bind(this,t)),this.workers[t]=e}}_getIdleWorker(){for(let i=0;i<this.pool;i++)if(!(this.workerStatus&1<<i))return i;return-1}_onMessage(t,e){const n=this.workersResolve[t];if(n&&n(e),this.queue.length){const{resolve:e,msg:n,transfer:r}=this.queue.shift();this.workersResolve[t]=e,this.workers[t].postMessage(n,r)}else this.workerStatus^=1<<t}setWorkerCreator(t){this.workerCreator=t}setWorkerLimit(t){this.pool=t}postMessage(t,e){return new Promise((n=>{const r=this._getIdleWorker();-1!==r?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=n,this.workers[r].postMessage(t,e)):this.queue.push({resolve:n,msg:t,transfer:e})}))}dispose(){this.workers.forEach((t=>t.terminate())),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const Lf=2,Nf=1,Df=new WeakMap;let Of=0;class kf extends Eu{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new If,this.workerSourceURL="",this.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(path){return this.transcoderPath=path,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new Au(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new Au(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,r]).then((([t,e])=>{const n=kf.BasisWorker.toString(),body=["/* constants */","let _EngineFormat = "+JSON.stringify(kf.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(kf.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(kf.BasisFormat),"/* basis_transcoder.js */",t,"/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([body])),this.transcoderBinary=e,this.workerPool.setWorkerCreator((()=>{const t=new Worker(this.workerSourceURL),e=this.transcoderBinary.slice(0);return t.postMessage({type:"init",config:this.workerConfig,transcoderBinary:e},[e]),t}))})),Of>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Of++}return this.transcoderPending}load(t,e,n,r){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const o=new Au(this.manager);o.setResponseType("arraybuffer"),o.setWithCredentials(this.withCredentials);const l=new Lp;return o.load(t,(t=>{if(Df.has(t))return Df.get(t).promise.then(e).catch(r);this._createTexture([t]).then((function(t){l.copy(t),l.needsUpdate=!0,e&&e(l)})).catch(r)}),n,r),l}_createTextureFrom(t){const{mipmaps:e,width:n,height:r,format:o,type:l,error:c,dfdTransferFn:h,dfdFlags:d}=t;if("error"===l)return Promise.reject(c);const m=new Lp(e,n,r,o,Tt);return m.minFilter=1===e.length?Et:At,m.magFilter=Et,m.generateMipmaps=!1,m.needsUpdate=!0,m.encoding=h===Lf?Be:Ge,m.premultiplyAlpha=!!(d&Nf),m}_createTexture(t,e={}){const n=e,r=this.init().then((()=>this.workerPool.postMessage({type:"transcode",buffers:t,taskConfig:n},t))).then((t=>this._createTextureFrom(t.data)));return Df.set(t[0],{promise:r}),r}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),Of--,this}}kf.BasisFormat={ETC1S:0,UASTC_4x4:1},kf.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},kf.EngineFormat={RGBAFormat:zt,RGBA_ASTC_4x4_Format:le,RGBA_BPTC_Format:Se,RGBA_ETC2_EAC_Format:se,RGBA_PVRTC_4BPPV1_Format:ie,RGBA_S3TC_DXT5_Format:te,RGB_ETC1_Format:ae,RGB_ETC2_Format:oe,RGB_PVRTC_4BPPV1_Format:ee,RGB_S3TC_DXT1_Format:Qt},kf.BasisWorker=function(){let t,e,n;const r=_EngineFormat,o=_TranscoderFormat,l=_BasisFormat;function c(t){e=new Promise((e=>{n={wasmBinary:t,onRuntimeInitialized:e},BASIS(n)})).then((()=>{n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}))}function h(t){const e=new n.KTX2File(new Uint8Array(t));function r(){e.close(),e.delete()}if(!e.isValid())throw r(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const o=e.isUASTC()?l.UASTC_4x4:l.ETC1S,c=e.getWidth(),h=e.getHeight(),d=e.getLevels(),m=e.getHasAlpha(),f=e.getDFDTransferFunc(),x=e.getDFDFlags(),{transcoderFormat:_,engineFormat:y}=v(o,c,h,m);if(!c||!h||!d)throw r(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!e.startTranscoding())throw r(),new Error("THREE.KTX2Loader: .startTranscoding failed");const S=[];for(let t=0;t<d;t++){const n=e.getImageLevelInfo(t,0,0),o=n.origWidth,l=n.origHeight,c=new Uint8Array(e.getImageTranscodedSizeInBytes(t,0,0,_));if(!e.transcodeImage(c,t,0,0,_,0,-1,-1))throw r(),new Error("THREE.KTX2Loader: .transcodeImage failed.");S.push({data:c,width:o,height:l})}return r(),{width:c,height:h,hasAlpha:m,mipmaps:S,format:y,dfdTransferFn:f,dfdFlags:x}}self.addEventListener("message",(function(n){const r=n.data;switch(r.type){case"init":t=r.config,c(r.transcoderBinary);break;case"transcode":e.then((()=>{try{const{width:t,height:e,hasAlpha:n,mipmaps:o,format:l,dfdTransferFn:c,dfdFlags:d}=h(r.buffers[0]),m=[];for(let i=0;i<o.length;++i)m.push(o[i].data.buffer);self.postMessage({type:"transcode",id:r.id,width:t,height:e,hasAlpha:n,mipmaps:o,format:l,dfdTransferFn:c,dfdFlags:d},m)}catch(t){console.error(t),self.postMessage({type:"error",id:r.id,error:t.message})}}))}}));const d=[{if:"astcSupported",basisFormat:[l.UASTC_4x4],transcoderFormat:[o.ASTC_4x4,o.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[l.ETC1S,l.UASTC_4x4],transcoderFormat:[o.BC7_M5,o.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[l.ETC1S,l.UASTC_4x4],transcoderFormat:[o.BC1,o.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[l.ETC1S,l.UASTC_4x4],transcoderFormat:[o.ETC1,o.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[l.ETC1S,l.UASTC_4x4],transcoderFormat:[o.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[l.ETC1S,l.UASTC_4x4],transcoderFormat:[o.PVRTC1_4_RGB,o.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],m=d.sort((function(a,b){return a.priorityETC1S-b.priorityETC1S})),f=d.sort((function(a,b){return a.priorityUASTC-b.priorityUASTC}));function v(e,n,c,h){let d,v;const _=e===l.ETC1S?m:f;for(let i=0;i<_.length;i++){const r=_[i];if(t[r.if]&&r.basisFormat.includes(e)&&!(h&&r.transcoderFormat.length<2)&&(!r.needsPowerOfTwo||x(n)&&x(c)))return d=r.transcoderFormat[h?1:0],v=r.engineFormat[h?1:0],{transcoderFormat:d,engineFormat:v}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),d=o.RGBA32,v=r.RGBAFormat,{transcoderFormat:d,engineFormat:v}}function x(t){return t<=2||0==(t&t-1)&&0!==t}};const Gf=new WeakMap;class Bf extends Eu{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(path){return this.decoderPath=path,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,e,n,r){const o=new Au(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(t=>{const n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(t,n).then(e).catch(r)}),n,r)}decodeDracoFile(t,e,n,r){const o={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(t,o).then(e)}decodeGeometry(t,e){for(const t in e.attributeTypes){const n=e.attributeTypes[t];void 0!==n.BYTES_PER_ELEMENT&&(e.attributeTypes[t]=n.name)}const n=JSON.stringify(e);if(Gf.has(t)){const e=Gf.get(t);if(e.key===n)return e.promise;if(0===t.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const o=this.workerNextTaskID++,l=t.byteLength,c=this._getWorker(o,l).then((n=>(r=n,new Promise(((n,l)=>{r._callbacks[o]={resolve:n,reject:l},r.postMessage({type:"decode",id:o,taskConfig:e,buffer:t},[t])}))))).then((t=>this._createGeometry(t.geometry)));return c.catch((()=>!0)).then((()=>{r&&o&&this._releaseTask(r,o)})),Gf.set(t,{key:n,promise:c}),c}_createGeometry(t){const e=new kr;t.index&&e.setIndex(new Mr(t.index.array,1));for(let i=0;i<t.attributes.length;i++){const n=t.attributes[i],r=n.name,o=n.array,l=n.itemSize;e.setAttribute(r,new Mr(o,l))}return e}_loadLibrary(t,e){const n=new Au(this.manager);return n.setPath(this.decoderPath),n.setResponseType(e),n.setWithCredentials(this.withCredentials),new Promise(((e,r)=>{n.load(t,e,void 0,r)}))}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then((e=>{const n=e[0];t||(this.decoderConfig.wasmBinary=e[1]);const r=Ff.toString(),body=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([body]))})),this.decoderPending}_getWorker(t,e){return this._initDecoder().then((()=>{if(this.workerPool.length<this.workerLimit){const t=new Worker(this.workerSourceURL);t._callbacks={},t._taskCosts={},t._taskLoad=0,t.postMessage({type:"init",decoderConfig:this.decoderConfig}),t.onmessage=function(e){const n=e.data;switch(n.type){case"decode":t._callbacks[n.id].resolve(n);break;case"error":t._callbacks[n.id].reject(n);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+n.type+'"')}},this.workerPool.push(t)}else this.workerPool.sort((function(a,b){return a._taskLoad>b._taskLoad?-1:1}));const n=this.workerPool[this.workerPool.length-1];return n._taskCosts[t]=e,n._taskLoad+=e,n}))}_releaseTask(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]}debug(){console.log("Task load: ",this.workerPool.map((t=>t._taskLoad)))}dispose(){for(let i=0;i<this.workerPool.length;++i)this.workerPool[i].terminate();return this.workerPool.length=0,this}}function Ff(){let t,e;function n(t,e,n,l){const c=l.attributeIDs,h=l.attributeTypes;let d,m;const f=e.GetEncodedGeometryType(n);if(f===t.TRIANGULAR_MESH)d=new t.Mesh,m=e.DecodeBufferToMesh(n,d);else{if(f!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");d=new t.PointCloud,m=e.DecodeBufferToPointCloud(n,d)}if(!m.ok()||0===d.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const n in c){const r=self[h[n]];let m,f;if(l.useUniqueIDs)f=c[n],m=e.GetAttributeByUniqueId(d,f);else{if(f=e.GetAttributeId(d,t[c[n]]),-1===f)continue;m=e.GetAttribute(d,f)}v.attributes.push(o(t,e,d,n,r,m))}return f===t.TRIANGULAR_MESH&&(v.index=r(t,e,d)),t.destroy(d),v}function r(t,e,n){const r=3*n.num_faces(),o=4*r,l=t._malloc(o);e.GetTrianglesUInt32Array(n,o,l);const c=new Uint32Array(t.HEAPF32.buffer,l,r).slice();return t._free(l),{array:c,itemSize:1}}function o(t,e,n,r,o,c){const h=c.num_components(),d=n.num_points()*h,m=d*o.BYTES_PER_ELEMENT,f=l(t,o),v=t._malloc(m);e.GetAttributeDataArrayForAllPoints(n,c,f,m,v);const x=new o(t.HEAPF32.buffer,v,d).slice();return t._free(v),{name:r,array:x,itemSize:h}}function l(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}onmessage=function(r){const o=r.data;switch(o.type){case"init":t=o.decoderConfig,e=new Promise((function(e){t.onModuleLoaded=function(t){e({draco:t})},DracoDecoderModule(t)}));break;case"decode":const r=o.buffer,l=o.taskConfig;e.then((t=>{const e=t.draco,c=new e.Decoder,h=new e.DecoderBuffer;h.Init(new Int8Array(r),r.byteLength);try{const t=n(e,c,h,l),r=t.attributes.map((t=>t.array.buffer));t.index&&r.push(t.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:t},r)}catch(t){console.error(t),self.postMessage({type:"error",id:o.id,error:t.message})}finally{e.destroy(h),e.destroy(c)}}))}}}var Vf="https://unpkg.com/three@0.".concat(l,".x"),zf=new wu,Uf=new Bf(zf).setDecoderPath("".concat(Vf,"/examples/js/libs/draco/gltf/")),Hf=new kf(zf).setTranscoderPath("".concat(Vf,"/examples/js/libs/basis"));function Xf(t){return new Dm(zf).setCrossOrigin("anonymous").setDRACOLoader(Uf).setKTX2Loader(Hf.detectSupport(t))}function Wf(t,e,n,r){var o,l,c=new Eh,h=new yr({wireframe:!0,color:65382}),d={},m="";n.forEach((function(t){d[t.name]=t.material}));var f=function(f){var v=new Rn(f.offsetX,f.offsetY);c.setFromCamera({x:v.x/e.clientWidth*2-1,y:-v.y/e.clientHeight*2+1},t),(o=c.intersectObjects(n,!1)).length>0?l=o[0].object:(l=null,m="",r(void 0)),n.forEach((function(t,i){l&&l.name===t.name?m!=t.name&&(m=t.name,n[i].material=h,r(n[i])):n[i].material=d[t.name]}))};e.addEventListener("mousemove",jf(f,80),!1)}function jf(t,e){var n=0;return function(r){var o=Date.now();o-n>e&&(t.call(null,r),n=o)}}var qf=function(t){return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};try{URL.revokeObjectURL(qf(""))}catch(t){qf=function(t){return"data:application/javascript;charset=UTF-8,"+encodeURI(t)}}var Yf=Uint8Array,$f=Uint16Array,Kf=Uint32Array,Qf=new Yf([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zf=new Yf([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jf=new Yf([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tg=function(t,e){for(var b=new $f(31),i=0;i<31;++i)b[i]=e+=1<<t[i-1];var n=new Kf(b[30]);for(i=1;i<30;++i)for(var r=b[i];r<b[i+1];++r)n[r]=r-b[i]<<5|i;return[b,n]},eg=tg(Qf,2),ng=eg[0],ig=eg[1];ng[28]=258,ig[258]=28;for(var rg=tg(Zf,0)[0],ag=new $f(32768),i=0;i<32768;++i){var og=(43690&i)>>>1|(21845&i)<<1;og=(61680&(og=(52428&og)>>>2|(13107&og)<<2))>>>4|(3855&og)<<4,ag[i]=((65280&og)>>>8|(255&og)<<8)>>>1}var sg=function(t,e,n){for(var s=t.length,i=0,r=new $f(e);i<s;++i)++r[t[i]-1];var o,l=new $f(e);for(i=0;i<e;++i)l[i]=l[i-1]+r[i-1]<<1;if(n){o=new $f(1<<e);var c=15-e;for(i=0;i<s;++i)if(t[i])for(var h=i<<4|t[i],d=e-t[i],m=l[t[i]-1]++<<d,f=m|(1<<d)-1;m<=f;++m)o[ag[m]>>>c]=h}else for(o=new $f(s),i=0;i<s;++i)t[i]&&(o[i]=ag[l[t[i]-1]++]>>>15-t[i]);return o},lg=new Yf(288);for(i=0;i<144;++i)lg[i]=8;for(i=144;i<256;++i)lg[i]=9;for(i=256;i<280;++i)lg[i]=7;for(i=280;i<288;++i)lg[i]=8;var pg=new Yf(32);for(i=0;i<32;++i)pg[i]=5;var cg=sg(lg,9,1),ug=sg(pg,5,1),hg=function(a){for(var t=a[0],i=1;i<a.length;++i)a[i]>t&&(t=a[i]);return t},dg=function(t,p,e){var n=p/8|0;return(t[n]|t[n+1]<<8)>>(7&p)&e},mg=function(t,p){var e=p/8|0;return(t[e]|t[e+1]<<8|t[e+2]<<16)>>(7&p)},fg=function(p){return(p/8|0)+(7&p&&1)},gg=function(t,s,e){(null==s||s<0)&&(s=0),(null==e||e>t.length)&&(e=t.length);var n=new(t instanceof $f?$f:t instanceof Kf?Kf:Yf)(e-s);return n.set(t.subarray(s,e)),n},vg=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Yf(0);var o=!e||n,l=!n||n.i;n||(n={}),e||(e=new Yf(3*r));var c=function(t){var n=e.length;if(t>n){var r=new Yf(Math.max(2*n,t));r.set(e),e=r}},h=n.f||0,d=n.p||0,m=n.b||0,f=n.l,v=n.d,x=n.m,_=n.n,y=8*r;do{if(!f){n.f=h=dg(t,d,1);var S=dg(t,d+1,3);if(d+=3,!S){var w=t[(s=fg(d)+4)-4]|t[s-3]<<8,M=s+w;if(M>r){if(l)throw"unexpected EOF";break}o&&c(m+w),e.set(t.subarray(s,M),m),n.b=m+=w,n.p=d=8*M;continue}if(1==S)f=cg,v=ug,x=9,_=5;else{if(2!=S)throw"invalid block type";var E=dg(t,d,31)+257,R=dg(t,d+10,15)+4,A=E+dg(t,d+5,31)+1;d+=14;for(var T=new Yf(A),P=new Yf(19),i=0;i<R;++i)P[Jf[i]]=dg(t,d+3*i,7);d+=3*R;var C=hg(P),I=(1<<C)-1,L=sg(P,C,1);for(i=0;i<A;){var s,N=L[dg(t,d,I)];if(d+=15&N,(s=N>>>4)<16)T[i++]=s;else{var D=0,O=0;for(16==s?(O=3+dg(t,d,3),d+=2,D=T[i-1]):17==s?(O=3+dg(t,d,7),d+=3):18==s&&(O=11+dg(t,d,127),d+=7);O--;)T[i++]=D}}var k=T.subarray(0,E),dt=T.subarray(E);x=hg(k),_=hg(dt),f=sg(k,x,1),v=sg(dt,_,1)}if(d>y){if(l)throw"unexpected EOF";break}}o&&c(m+131072);for(var G=(1<<x)-1,B=(1<<_)-1,F=d;;F=d){var V=(D=f[mg(t,d)&G])>>>4;if((d+=15&D)>y){if(l)throw"unexpected EOF";break}if(!D)throw"invalid length/literal";if(V<256)e[m++]=V;else{if(256==V){F=d,f=null;break}var z=V-254;if(V>264){var b=Qf[i=V-257];z=dg(t,d,(1<<b)-1)+ng[i],d+=b}var U=v[mg(t,d)&B],H=U>>>4;if(!U)throw"invalid distance";if(d+=15&U,dt=rg[H],H>3&&(b=Zf[H],dt+=mg(t,d)&(1<<b)-1,d+=b),d>y){if(l)throw"unexpected EOF";break}o&&c(m+131072);for(var X=m+z;m<X;m+=4)e[m]=e[m-dt],e[m+1]=e[m+1-dt],e[m+2]=e[m+2-dt],e[m+3]=e[m+3-dt];m=X}}n.l=f,n.p=F,n.b=m,f&&(h=1,n.m=x,n.d=v,n.n=_)}while(!h);return m==e.length?e:gg(e,0,m)},xg=new Yf(0),_g=function(t){if(31!=t[0]||139!=t[1]||8!=t[2])throw"invalid gzip data";var e=t[3],n=10;4&e&&(n+=t[10]|2+(t[11]<<8));for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!t[n++]);return n+(2&e)},yg=function(t){var e=t.length;return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0},bg=function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"};function Sg(data,t){return vg(data.subarray(_g(data),-8),t||new Yf(yg(data)))}function wg(data,t){return vg((bg(data),data.subarray(2,-4)),t)}var td="undefined"!=typeof TextDecoder&&new TextDecoder;try{td.decode(xg,{stream:!0})}catch(t){}function Mg(t,e,n){const r=this;this.volume=t,e=e||0,Object.defineProperty(this,"index",{get:function(){return e},set:function(t){return e=t,r.geometryNeedsUpdate=!0,e}}),this.axis=n||"z",this.canvas=document.createElement("canvas"),this.canvasBuffer=document.createElement("canvas"),this.updateGeometry();const o=new jn(this.canvas);o.minFilter=Et,o.wrapS=o.wrapT=yt;const l=new yr({map:o,side:w,transparent:!0});this.mesh=new ta(this.geometry,l),this.mesh.matrixAutoUpdate=!1,this.geometryNeedsUpdate=!0,this.repaint()}function Eg(t,e,n,r,o){if(arguments.length>0){switch(this.xLength=Number(t)||1,this.yLength=Number(e)||1,this.zLength=Number(n)||1,this.axisOrder=["x","y","z"],r){case"Uint8":case"uint8":case"uchar":case"unsigned char":case"uint8_t":default:this.data=new Uint8Array(o);break;case"Int8":case"int8":case"signed char":case"int8_t":this.data=new Int8Array(o);break;case"Int16":case"int16":case"short":case"short int":case"signed short":case"signed short int":case"int16_t":this.data=new Int16Array(o);break;case"Uint16":case"uint16":case"ushort":case"unsigned short":case"unsigned short int":case"uint16_t":this.data=new Uint16Array(o);break;case"Int32":case"int32":case"int":case"signed int":case"int32_t":this.data=new Int32Array(o);break;case"Uint32":case"uint32":case"uint":case"unsigned int":case"uint32_t":this.data=new Uint32Array(o);break;case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":throw new Error("Error in Volume constructor : this type is not supported in JavaScript");case"Float32":case"float32":case"float":this.data=new Float32Array(o);break;case"Float64":case"float64":case"double":this.data=new Float64Array(o)}if(this.data.length!==this.xLength*this.yLength*this.zLength)throw new Error("Error in Volume constructor, lengths are not matching arrayBuffer size")}this.spacing=[1,1,1],this.offset=[0,0,0],this.matrix=new An,this.matrix.identity();let l=-1/0;Object.defineProperty(this,"lowerThreshold",{get:function(){return l},set:function(t){l=t,this.sliceList.forEach((function(t){t.geometryNeedsUpdate=!0}))}});let c=1/0;Object.defineProperty(this,"upperThreshold",{get:function(){return c},set:function(t){c=t,this.sliceList.forEach((function(t){t.geometryNeedsUpdate=!0}))}}),this.sliceList=[]}Mg.prototype={constructor:Mg,repaint:function(){this.geometryNeedsUpdate&&this.updateGeometry();const t=this.iLength,e=this.jLength,n=this.sliceAccess,r=this.volume,canvas=this.canvasBuffer,o=this.ctxBuffer,l=o.getImageData(0,0,t,e),data=l.data,c=r.data,h=r.upperThreshold,d=r.lowerThreshold,m=r.windowLow,f=r.windowHigh;let v=0;if("label"===r.dataType)for(let r=0;r<e;r++)for(let i=0;i<t;i++){let label=c[n(i,r)];label=label>=this.colorMap.length?label%this.colorMap.length+1:label;const t=this.colorMap[label];data[4*v]=t>>24&255,data[4*v+1]=t>>16&255,data[4*v+2]=t>>8&255,data[4*v+3]=255&t,v++}else for(let r=0;r<e;r++)for(let i=0;i<t;i++){let t=c[n(i,r)],e=255;e=h>=t&&d<=t?e:0,t=Math.floor(255*(t-m)/(f-m)),t=t>255?255:t<0?0:0|t,data[4*v]=t,data[4*v+1]=t,data[4*v+2]=t,data[4*v+3]=e,v++}o.putImageData(l,0,0),this.ctx.drawImage(canvas,0,0,t,e,0,0,this.canvas.width,this.canvas.height),this.mesh.material.map.needsUpdate=!0},updateGeometry:function(){const t=this.volume.extractPerpendicularPlane(this.axis,this.index);this.sliceAccess=t.sliceAccess,this.jLength=t.jLength,this.iLength=t.iLength,this.matrix=t.matrix,this.canvas.width=t.planeWidth,this.canvas.height=t.planeHeight,this.canvasBuffer.width=this.iLength,this.canvasBuffer.height=this.jLength,this.ctx=this.canvas.getContext("2d"),this.ctxBuffer=this.canvasBuffer.getContext("2d"),this.geometry&&this.geometry.dispose(),this.geometry=new Ra(t.planeWidth,t.planeHeight),this.mesh&&(this.mesh.geometry=this.geometry,this.mesh.matrix.identity(),this.mesh.applyMatrix4(this.matrix)),this.geometryNeedsUpdate=!1}},Eg.prototype={constructor:Eg,getData:function(i,t,e){return this.data[e*this.xLength*this.yLength+t*this.xLength+i]},access:function(i,t,e){return e*this.xLength*this.yLength+t*this.xLength+i},reverseAccess:function(t){const e=Math.floor(t/(this.yLength*this.xLength)),n=Math.floor((t-e*this.yLength*this.xLength)/this.xLength);return[t-e*this.yLength*this.xLength-n*this.xLength,n,e]},map:function(t,e){const n=this.data.length;e=e||this;for(let i=0;i<n;i++)this.data[i]=t.call(e,this.data[i],i,this.data);return this},extractPerpendicularPlane:function(t,e){let n,r,o,l;const c=new ei,h=new ei,d=new ei,m=(new Ni).identity(),f=this,v=new ei(this.xLength,this.yLength,this.zLength);switch(t){case"x":c.set(1,0,0),h.set(0,0,-1),d.set(0,-1,0),n=this.spacing[this.axisOrder.indexOf("z")],r=this.spacing[this.axisOrder.indexOf("y")],l=new ei(e,0,0),m.multiply((new Ni).makeRotationY(Math.PI/2)),o=(f.RASDimensions[0]-1)/2,m.setPosition(new ei(e-o,0,0));break;case"y":c.set(0,1,0),h.set(1,0,0),d.set(0,0,1),n=this.spacing[this.axisOrder.indexOf("x")],r=this.spacing[this.axisOrder.indexOf("z")],l=new ei(0,e,0),m.multiply((new Ni).makeRotationX(-Math.PI/2)),o=(f.RASDimensions[1]-1)/2,m.setPosition(new ei(0,e-o,0));break;default:c.set(0,0,1),h.set(1,0,0),d.set(0,-1,0),n=this.spacing[this.axisOrder.indexOf("x")],r=this.spacing[this.axisOrder.indexOf("y")],l=new ei(0,0,e),o=(f.RASDimensions[2]-1)/2,m.setPosition(new ei(0,0,e-o))}h.applyMatrix4(f.inverseMatrix).normalize(),h.arglet="i",d.applyMatrix4(f.inverseMatrix).normalize(),d.arglet="j",c.applyMatrix4(f.inverseMatrix).normalize();const x=Math.floor(Math.abs(h.dot(v))),_=Math.floor(Math.abs(d.dot(v))),y=Math.abs(x*n),S=Math.abs(_*r);l=Math.abs(Math.round(l.applyMatrix4(f.inverseMatrix).dot(c)));const base=[new ei(1,0,0),new ei(0,1,0),new ei(0,0,1)],w=[h,d,c].find((function(t){return Math.abs(t.dot(base[0]))>.9})),M=[h,d,c].find((function(t){return Math.abs(t.dot(base[1]))>.9})),E=[h,d,c].find((function(t){return Math.abs(t.dot(base[2]))>.9}));function R(i,t){const e=w===c?l:"i"===w.arglet?i:t,n=M===c?l:"i"===M.arglet?i:t,r=E===c?l:"i"===E.arglet?i:t,o=w.dot(base[0])>0?e:f.xLength-1-e,h=M.dot(base[1])>0?n:f.yLength-1-n,d=E.dot(base[2])>0?r:f.zLength-1-r;return f.access(o,h,d)}return{iLength:x,jLength:_,sliceAccess:R,matrix:m,planeWidth:y,planeHeight:S}},extractSlice:function(t,e){const n=new Mg(this,e,t);return this.sliceList.push(n),n},repaintAllSlices:function(){return this.sliceList.forEach((function(t){t.repaint()})),this},computeMinMax:function(){let t=1/0,e=-1/0;const n=this.data.length;let i=0;for(i=0;i<n;i++)if(!isNaN(this.data[i])){const n=this.data[i];t=Math.min(t,n),e=Math.max(e,n)}return this.min=t,this.max=e,[t,e]}};class Rg extends Eu{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new Au(o.manager);l.setPath(o.path),l.setResponseType("arraybuffer"),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,(function(data){try{e(o.parse(data))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}parse(data){let t=data,e=0;const n=new Int8Array(new Int16Array([1]).buffer)[0]>0,r=!0,o={};function l(o,l){null==l&&(l=1);let h=1,d=Uint8Array;switch(o){case"uchar":break;case"schar":d=Int8Array;break;case"ushort":d=Uint16Array,h=2;break;case"sshort":d=Int16Array,h=2;break;case"uint":d=Uint32Array,h=4;break;case"sint":d=Int32Array,h=4;break;case"float":d=Float32Array,h=4;break;case"complex":case"double":d=Float64Array,h=8}let m=new d(t.slice(e,e+=l*h));return n!=r&&(m=c(m,h)),1==l?m[0]:m}function c(t,e){const n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(let i=0;i<t.byteLength;i+=e)for(let t=i+e-1,r=i;t>r;t--,r++){const e=n[r];n[r]=n[t],n[t]=e}return t}function h(header){let data,t,e,i,n,r,l,c;const h=header.split(/\r?\n/);for(l=0,c=h.length;l<c;l++)n=h[l],n.match(/NRRD\d+/)?o.isNrrd=!0:n.match(/^#/)||(r=n.match(/(.*):(.*)/))&&(t=r[1].trim(),data=r[2].trim(),e=Ag[t],e?e.call(o,data):o[t]=data);if(!o.isNrrd)throw new Error("Not an NRRD file");if("bz2"===o.encoding||"bzip2"===o.encoding)throw new Error("Bzip is not supported");if(!o.vectors&&(o.vectors=[],o.vectors.push([1,0,0]),o.vectors.push([0,1,0]),o.vectors.push([0,0,1]),o.spacings))for(i=0;i<=2;i++)if(!isNaN(o.spacings[i]))for(let t=0;t<=2;t++)o.vectors[i][t]*=o.spacings[i]}function d(data,t,e){let n,r="";t=t||0,e=e||data.length;const l=o.sizes.reduce((function(t,e){return t*e}),1);let base=10;"hex"===o.encoding&&(base=16);const c=new o.__array(l);let h=0,d=parseInt;o.__array!==Float32Array&&o.__array!==Float64Array||(d=parseFloat);for(let i=t;i<e;i++)n=data[i],(n<9||n>13)&&32!==n?r+=String.fromCharCode(n):(""!==r&&(c[h]=d(r,base),h++),r="");return""!==r&&(c[h]=d(r,base),h++),c}const m=l("uchar",data.byteLength),f=m.length;let i,v=null,x=0;for(i=1;i<f;i++)if(10==m[i-1]&&10==m[i]){v=this.parseChars(m,0,i-2),x=i+1;break}if(h(v),t=m.subarray(x),"gz"===o.encoding.substring(0,2))t=Sg(new Uint8Array(t));else if("ascii"===o.encoding||"text"===o.encoding||"txt"===o.encoding||"hex"===o.encoding)t=d(t);else if("raw"===o.encoding){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t[i];t=e}t=t.buffer;const _=new Eg;_.header=o,_.data=new o.__array(t);const y=_.computeMinMax(),S=y[0],w=y[1];if(_.windowLow=S,_.windowHigh=w,_.dimensions=[o.sizes[0],o.sizes[1],o.sizes[2]],_.xLength=_.dimensions[0],_.yLength=_.dimensions[1],_.zLength=_.dimensions[2],o.vectors){const t=o.vectors.findIndex((t=>0!==t[0])),e=o.vectors.findIndex((t=>0!==t[1])),n=o.vectors.findIndex((t=>0!==t[2])),r=[];r[t]="x",r[e]="y",r[n]="z",_.axisOrder=r}else _.axisOrder=["x","y","z"];const M=(new ei).fromArray(o.vectors[0]).length(),E=(new ei).fromArray(o.vectors[1]).length(),R=(new ei).fromArray(o.vectors[2]).length();_.spacing=[M,E,R],_.matrix=new Ni;const A=new Ni;if("left-posterior-superior"===o.space?A.set(-1,0,0,0,0,-1,0,0,0,0,1,0,0,0,0,1):"left-anterior-superior"===o.space&&A.set(1,0,0,0,0,1,0,0,0,0,-1,0,0,0,0,1),o.vectors){const t=o.vectors,e=(new Ni).set(t[0][0],t[1][0],t[2][0],0,t[0][1],t[1][1],t[2][1],0,t[0][2],t[1][2],t[2][2],0,0,0,0,1),n=(new Ni).multiplyMatrices(e,A);_.matrix=n}else _.matrix.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return _.inverseMatrix=new Ni,_.inverseMatrix.copy(_.matrix).invert(),_.RASDimensions=new ei(_.xLength,_.yLength,_.zLength).applyMatrix4(_.matrix).round().toArray().map(Math.abs),_.lowerThreshold===-1/0&&(_.lowerThreshold=S),_.upperThreshold===1/0&&(_.upperThreshold=w),_}parseChars(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length);let output="",i=0;for(i=e;i<n;++i)output+=String.fromCharCode(t[i]);return output}}const Ag={type:function(data){switch(data){case"uchar":case"unsigned char":case"uint8":case"uint8_t":this.__array=Uint8Array;break;case"signed char":case"int8":case"int8_t":this.__array=Int8Array;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":this.__array=Int16Array;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":this.__array=Uint16Array;break;case"int":case"signed int":case"int32":case"int32_t":this.__array=Int32Array;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":this.__array=Uint32Array;break;case"float":this.__array=Float32Array;break;case"double":this.__array=Float64Array;break;default:throw new Error("Unsupported NRRD data type: "+data)}return this.type=data},endian:function(data){return this.endian=data},encoding:function(data){return this.encoding=data},dimension:function(data){return this.dim=parseInt(data,10)},sizes:function(data){let i;return this.sizes=function(){const t=data.split(/\s+/),e=[];for(let n=0,r=t.length;n<r;n++)i=t[n],e.push(parseInt(i,10));return e}()},space:function(data){return this.space=data},"space origin":function(data){return this.space_origin=data.split("(")[1].split(")")[0].split(",")},"space directions":function(data){let t,e;const n=data.match(/\(.*?\)/g);return this.vectors=function(){const r=[];for(let o=0,l=n.length;o<l;o++)e=n[o],r.push(function(){const n=e.slice(1,-1).split(/,/),r=[];for(let e=0,o=n.length;e<o;e++)t=n[e],r.push(parseFloat(t));return r}());return r}()},spacings:function(data){let t;const e=data.split(/\s+/);return this.spacings=function(){const n=[];for(let r=0,o=e.length;r<o;r++)t=e[r],n.push(parseFloat(t));return n}()}},Tg={uniforms:{u_size:{value:new ei(1,1,1)},u_renderstyle:{value:0},u_renderthreshold:{value:.5},u_clim:{value:new Rn(1,1)},u_data:{value:null},u_cmdata:{value:null}},vertexShader:'\n\n\t\tvarying vec4 v_nearpos;\n\t\tvarying vec4 v_farpos;\n\t\tvarying vec3 v_position;\n\n\t\tvoid main() {\n\t\t\t\t// Prepare transforms to map to "camera view". See also:\n\t\t\t\t// https://threejs.org/docs/#api/renderers/webgl/WebGLProgram\n\t\t\t\tmat4 viewtransformf = modelViewMatrix;\n\t\t\t\tmat4 viewtransformi = inverse(modelViewMatrix);\n\n\t\t\t\t// Project local vertex coordinate to camera position. Then do a step\n\t\t\t\t// backward (in cam coords) to the near clipping plane, and project back. Do\n\t\t\t\t// the same for the far clipping plane. This gives us all the information we\n\t\t\t\t// need to calculate the ray and truncate it to the viewing cone.\n\t\t\t\tvec4 position4 = vec4(position, 1.0);\n\t\t\t\tvec4 pos_in_cam = viewtransformf * position4;\n\n\t\t\t\t// Intersection of ray and near clipping plane (z = -1 in clip coords)\n\t\t\t\tpos_in_cam.z = -pos_in_cam.w;\n\t\t\t\tv_nearpos = viewtransformi * pos_in_cam;\n\n\t\t\t\t// Intersection of ray and far clipping plane (z = +1 in clip coords)\n\t\t\t\tpos_in_cam.z = pos_in_cam.w;\n\t\t\t\tv_farpos = viewtransformi * pos_in_cam;\n\n\t\t\t\t// Set varyings and output pos\n\t\t\t\tv_position = position;\n\t\t\t\tgl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;\n\t\t}',fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\t\t\t\tprecision mediump sampler3D;\n\n\t\t\t\tuniform vec3 u_size;\n\t\t\t\tuniform int u_renderstyle;\n\t\t\t\tuniform float u_renderthreshold;\n\t\t\t\tuniform vec2 u_clim;\n\n\t\t\t\tuniform sampler3D u_data;\n\t\t\t\tuniform sampler2D u_cmdata;\n\n\t\t\t\tvarying vec3 v_position;\n\t\t\t\tvarying vec4 v_nearpos;\n\t\t\t\tvarying vec4 v_farpos;\n\n\t\t\t\t// The maximum distance through our rendering volume is sqrt(3).\n\t\t\t\tconst int MAX_STEPS = 887;\t// 887 for 512^3, 1774 for 1024^3\n\t\t\t\tconst int REFINEMENT_STEPS = 4;\n\t\t\t\tconst float relative_step_size = 1.0;\n\t\t\t\tconst vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);\n\t\t\t\tconst vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);\n\t\t\t\tconst vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);\n\t\t\t\tconst float shininess = 40.0;\n\n\t\t\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);\n\t\t\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);\n\n\t\t\t\tfloat sample1(vec3 texcoords);\n\t\t\t\tvec4 apply_colormap(float val);\n\t\t\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);\n\n\n\t\t\t\tvoid main() {\n\t\t\t\t\t\t// Normalize clipping plane info\n\t\t\t\t\t\tvec3 farpos = v_farpos.xyz / v_farpos.w;\n\t\t\t\t\t\tvec3 nearpos = v_nearpos.xyz / v_nearpos.w;\n\n\t\t\t\t\t\t// Calculate unit vector pointing in the view direction through this fragment.\n\t\t\t\t\t\tvec3 view_ray = normalize(nearpos.xyz - farpos.xyz);\n\n\t\t\t\t\t\t// Compute the (negative) distance to the front surface or near clipping plane.\n\t\t\t\t\t\t// v_position is the back face of the cuboid, so the initial distance calculated in the dot\n\t\t\t\t\t\t// product below is the distance from near clip plane to the back of the cuboid\n\t\t\t\t\t\tfloat distance = dot(nearpos - v_position, view_ray);\n\t\t\t\t\t\tdistance = max(distance, min((-0.5 - v_position.x) / view_ray.x,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.x - 0.5 - v_position.x) / view_ray.x));\n\t\t\t\t\t\tdistance = max(distance, min((-0.5 - v_position.y) / view_ray.y,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.y - 0.5 - v_position.y) / view_ray.y));\n\t\t\t\t\t\tdistance = max(distance, min((-0.5 - v_position.z) / view_ray.z,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(u_size.z - 0.5 - v_position.z) / view_ray.z));\n\n\t\t\t\t\t\t// Now we have the starting position on the front surface\n\t\t\t\t\t\tvec3 front = v_position + view_ray * distance;\n\n\t\t\t\t\t\t// Decide how many steps to take\n\t\t\t\t\t\tint nsteps = int(-distance / relative_step_size + 0.5);\n\t\t\t\t\t\tif ( nsteps < 1 )\n\t\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t// Get starting location and step vector in texture coordinates\n\t\t\t\t\t\tvec3 step = ((v_position - front) / u_size) / float(nsteps);\n\t\t\t\t\t\tvec3 start_loc = front / u_size;\n\n\t\t\t\t\t\t// For testing: show the number of steps. This helps to establish\n\t\t\t\t\t\t// whether the rays are correctly oriented\n\t\t\t\t\t\t//'gl_FragColor = vec4(0.0, float(nsteps) / 1.0 / u_size.x, 1.0, 1.0);\n\t\t\t\t\t\t//'return;\n\n\t\t\t\t\t\tif (u_renderstyle == 0)\n\t\t\t\t\t\t\t\tcast_mip(start_loc, step, nsteps, view_ray);\n\t\t\t\t\t\telse if (u_renderstyle == 1)\n\t\t\t\t\t\t\t\tcast_iso(start_loc, step, nsteps, view_ray);\n\n\t\t\t\t\t\tif (gl_FragColor.a < 0.05)\n\t\t\t\t\t\t\t\tdiscard;\n\t\t\t\t}\n\n\n\t\t\t\tfloat sample1(vec3 texcoords) {\n\t\t\t\t\t\t/* Sample float value from a 3D texture. Assumes intensity data. */\n\t\t\t\t\t\treturn texture(u_data, texcoords.xyz).r;\n\t\t\t\t}\n\n\n\t\t\t\tvec4 apply_colormap(float val) {\n\t\t\t\t\t\tval = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);\n\t\t\t\t\t\treturn texture2D(u_cmdata, vec2(val, 0.5));\n\t\t\t\t}\n\n\n\t\t\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {\n\n\t\t\t\t\t\tfloat max_val = -1e6;\n\t\t\t\t\t\tint max_i = 100;\n\t\t\t\t\t\tvec3 loc = start_loc;\n\n\t\t\t\t\t\t// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with\n\t\t\t\t\t\t// non-constant expression. So we use a hard-coded max, and an additional condition\n\t\t\t\t\t\t// inside the loop.\n\t\t\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {\n\t\t\t\t\t\t\t\tif (iter >= nsteps)\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t// Sample from the 3D texture\n\t\t\t\t\t\t\t\tfloat val = sample1(loc);\n\t\t\t\t\t\t\t\t// Apply MIP operation\n\t\t\t\t\t\t\t\tif (val > max_val) {\n\t\t\t\t\t\t\t\t\t\tmax_val = val;\n\t\t\t\t\t\t\t\t\t\tmax_i = iter;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Advance location deeper into the volume\n\t\t\t\t\t\t\t\tloc += step;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Refine location, gives crispier images\n\t\t\t\t\t\tvec3 iloc = start_loc + step * (float(max_i) - 0.5);\n\t\t\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);\n\t\t\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {\n\t\t\t\t\t\t\t\tmax_val = max(max_val, sample1(iloc));\n\t\t\t\t\t\t\t\tiloc += istep;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Resolve final color\n\t\t\t\t\t\tgl_FragColor = apply_colormap(max_val);\n\t\t\t\t}\n\n\n\t\t\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {\n\n\t\t\t\t\t\tgl_FragColor = vec4(0.0);\t// init transparent\n\t\t\t\t\t\tvec4 color3 = vec4(0.0);\t// final color\n\t\t\t\t\t\tvec3 dstep = 1.5 / u_size;\t// step to sample derivative\n\t\t\t\t\t\tvec3 loc = start_loc;\n\n\t\t\t\t\t\tfloat low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);\n\n\t\t\t\t\t\t// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with\n\t\t\t\t\t\t// non-constant expression. So we use a hard-coded max, and an additional condition\n\t\t\t\t\t\t// inside the loop.\n\t\t\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {\n\t\t\t\t\t\t\t\tif (iter >= nsteps)\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t// Sample from the 3D texture\n\t\t\t\t\t\t\t\tfloat val = sample1(loc);\n\n\t\t\t\t\t\t\t\tif (val > low_threshold) {\n\t\t\t\t\t\t\t\t\t\t// Take the last interval in smaller steps\n\t\t\t\t\t\t\t\t\t\tvec3 iloc = loc - 0.5 * step;\n\t\t\t\t\t\t\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);\n\t\t\t\t\t\t\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tval = sample1(iloc);\n\t\t\t\t\t\t\t\t\t\t\t\tif (val > u_renderthreshold) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgl_FragColor = add_lighting(val, iloc, dstep, view_ray);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tiloc += istep;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Advance location deeper into the volume\n\t\t\t\t\t\t\t\tloc += step;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)\n\t\t\t\t{\n\t\t\t\t\t// Calculate color by incorporating lighting\n\n\t\t\t\t\t\t// View direction\n\t\t\t\t\t\tvec3 V = normalize(view_ray);\n\n\t\t\t\t\t\t// calculate normal vector from gradient\n\t\t\t\t\t\tvec3 N;\n\t\t\t\t\t\tfloat val1, val2;\n\t\t\t\t\t\tval1 = sample1(loc + vec3(-step[0], 0.0, 0.0));\n\t\t\t\t\t\tval2 = sample1(loc + vec3(+step[0], 0.0, 0.0));\n\t\t\t\t\t\tN[0] = val1 - val2;\n\t\t\t\t\t\tval = max(max(val1, val2), val);\n\t\t\t\t\t\tval1 = sample1(loc + vec3(0.0, -step[1], 0.0));\n\t\t\t\t\t\tval2 = sample1(loc + vec3(0.0, +step[1], 0.0));\n\t\t\t\t\t\tN[1] = val1 - val2;\n\t\t\t\t\t\tval = max(max(val1, val2), val);\n\t\t\t\t\t\tval1 = sample1(loc + vec3(0.0, 0.0, -step[2]));\n\t\t\t\t\t\tval2 = sample1(loc + vec3(0.0, 0.0, +step[2]));\n\t\t\t\t\t\tN[2] = val1 - val2;\n\t\t\t\t\t\tval = max(max(val1, val2), val);\n\n\t\t\t\t\t\tfloat gm = length(N); // gradient magnitude\n\t\t\t\t\t\tN = normalize(N);\n\n\t\t\t\t\t\t// Flip normal so it points towards viewer\n\t\t\t\t\t\tfloat Nselect = float(dot(N, V) > 0.0);\n\t\t\t\t\t\tN = (2.0 * Nselect - 1.0) * N;\t// ==\tNselect * N - (1.0-Nselect)*N;\n\n\t\t\t\t\t\t// Init colors\n\t\t\t\t\t\tvec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\t\tvec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\t\tvec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);\n\n\t\t\t\t\t\t// note: could allow multiple lights\n\t\t\t\t\t\tfor (int i=0; i<1; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t // Get light direction (make sure to prevent zero devision)\n\t\t\t\t\t\t\t\tvec3 L = normalize(view_ray);\t//lightDirs[i];\n\t\t\t\t\t\t\t\tfloat lightEnabled = float( length(L) > 0.0 );\n\t\t\t\t\t\t\t\tL = normalize(L + (1.0 - lightEnabled));\n\n\t\t\t\t\t\t\t\t// Calculate lighting properties\n\t\t\t\t\t\t\t\tfloat lambertTerm = clamp(dot(N, L), 0.0, 1.0);\n\t\t\t\t\t\t\t\tvec3 H = normalize(L+V); // Halfway vector\n\t\t\t\t\t\t\t\tfloat specularTerm = pow(max(dot(H, N), 0.0), shininess);\n\n\t\t\t\t\t\t\t\t// Calculate mask\n\t\t\t\t\t\t\t\tfloat mask1 = lightEnabled;\n\n\t\t\t\t\t\t\t\t// Calculate colors\n\t\t\t\t\t\t\t\tambient_color +=\tmask1 * ambient_color;\t// * gl_LightSource[i].ambient;\n\t\t\t\t\t\t\t\tdiffuse_color +=\tmask1 * lambertTerm;\n\t\t\t\t\t\t\t\tspecular_color += mask1 * specularTerm * specular_color;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Calculate final color by componing different components\n\t\t\t\t\t\tvec4 final_color;\n\t\t\t\t\t\tvec4 color = apply_colormap(val);\n\t\t\t\t\t\tfinal_color = color * (ambient_color + diffuse_color) + specular_color;\n\t\t\t\t\t\tfinal_color.a = color.a;\n\t\t\t\t\t\treturn final_color;\n\t\t\t\t}"};var Pg,Cg,Ig="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAEklEQVR42mNkYGBgHAWjYKQCAH7BAv8WAlmwAAAAAElFTkSuQmCC",img="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAABCAIAAAC+O+cgAAAAtUlEQVR42n2Q0W3FMAzEyNNqHaH7j2L1w3ZenDwUMAwedXKA+MMvSqJiiBoiCWqWxKBEXaMZ8Sqs0zcmIv1p2nKwEvpLZMYOe3R4wku+TO7es/O8H+vHlH/KR9zQT8+z8F4531kRe379MIK4oD3v/SP7iplyHTKB5WNPs4AFH3kzO446Y+y6wA4TxqfMXBmzVrtwREY5ZrMY069dxr28Yb+wVjp02QWhSwKFJcHCaGGwTLBIzB9eyYkORwhbNAAAAABJRU5ErkJggg==";function Lg(t,e,n,r){var o;(new Rg).load(t,(function(t){Og(r);var e=new ia(t.xLength,t.yLength,t.zLength),l=new yr({color:65280});(Pg=new ta(e,l)).visible=!1;var c=t.extractSlice("z",Math.floor(t.RASDimensions[2]/4)),h=t.extractSlice("y",Math.floor(t.RASDimensions[1]/2)),d=t.extractSlice("x",Math.floor(t.RASDimensions[0]/2));o={x:d.mesh,y:h.mesh,z:c.mesh,cube:Pg},Cg&&(Cg.add(d,"index",0,t.RASDimensions[0],1).name("indexX").onChange((function(){d.repaint.call(d)})),Cg.add(h,"index",0,t.RASDimensions[1],1).name("indexY").onChange((function(){h.repaint.call(h)})),Cg.add(c,"index",0,t.RASDimensions[2],1).name("indexZ").onChange((function(){c.repaint.call(c)})),Cg.add(t,"lowerThreshold",t.min,t.max,1).name("Lower Threshold").onChange((function(){t.repaintAllSlices()})),Cg.add(t,"upperThreshold",t.min,t.max,1).name("Upper Threshold").onChange((function(){t.repaintAllSlices()})),Cg.add(t,"windowLow",t.min,t.max,1).name("Window Low").onChange((function(){t.repaintAllSlices()})),Cg.add(t,"windowHigh",t.min,t.max,1).name("Window High").onChange((function(){t.repaintAllSlices()}))),Cg?n&&n(t,o,Cg):n&&n(t,o)}))}function Ng(t,e,n){var r,o,l,c={clim1:0,clim2:1,renderStyle:"iso",isothreshold:.15,colormap:"viridis"};(new Rg).load(t,(function(t){var h=new Qn(t.data,t.xLength,t.yLength,t.zLength);h.format=jt,h.type=Dt,h.minFilter=h.magFilter=Et,h.unpackAlignment=1,h.needsUpdate=!0,r={viridis:(new Iu).load(img),gary:(new Iu).load(Ig)};var d=Tg,m=oa.clone(d.uniforms);m.u_data.value=h,m.u_size.value.set(t.xLength,t.yLength,t.zLength),m.u_clim.value.set(c.clim1,c.clim2),m.u_renderstyle.value="mip"===c.renderStyle?0:1,m.u_renderthreshold.value=c.isothreshold,m.u_cmdata.value=r[c.colormap],o=new pa({uniforms:m,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,side:S});var f=new ia(t.xLength,t.yLength,t.zLength);f.translate(t.xLength/2-.5,t.yLength/2-.5,t.zLength/2-.5),l=new ta(f,o);var v=new kh(l);e.add(v),v.applyMatrix4(t.matrix),e.add(l);var x=new Tm;function _(){o.uniforms.u_clim.value.set(c.clim1,c.clim2),o.uniforms.u_renderstyle.value="mip"==c.renderStyle?0:1,o.uniforms.u_renderthreshold.value=c.isothreshold,o.uniforms.u_cmdata.value=r[c.colormap]}x.add(c,"clim1",0,1,.01).onChange(_),x.add(c,"clim2",0,1,.01).onChange(_),x.add(c,"colormap",{gray:"gray",viridis:"viridis"}).onChange(_),x.add(c,"renderStyle",{mip:"mip",iso:"iso"}).onChange(_),x.add(c,"isothreshold",0,1,.01).onChange(_),n&&n(t,x)}))}function Dg(t,e,n){var r=new kh(n||Pg);t.addObject(r),r.applyMatrix4(e.matrix)}function Og(t){t&&t.openGui&&(t.container?(Cg=new Tm({width:260,autoPlace:!1}),t.container.appendChild(Cg.domElement)):(Cg=new Tm).closed=!0)}class kg extends Eu{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new Au(o.manager);l.setPath(o.path),l.setResponseType("arraybuffer"),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,(function(text){try{e(o.parse(text))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}parse(data){function t(data){const t=[],e=[],n=[],r=[];let o;const l=/^[^\d.\s-]+/,c=/(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)\s+(\-?\d+\.?[\d\-\+e]*)/g,h=/^(\d+)\s+([\s\d]*)/,d=/^POINTS /,m=/^POLYGONS /,f=/^TRIANGLE_STRIPS /,v=/^POINT_DATA[ ]+(\d+)/,x=/^CELL_DATA[ ]+(\d+)/,_=/^COLOR_SCALARS[ ]+(\w+)[ ]+3/,y=/^NORMALS[ ]+(\w+)[ ]+(\w+)/;let S=!1,w=!1,M=!1,E=!1,R=!1,A=!1,T=!1;const P=data.split("\n");for(const i in P){const line=P[i].trim();if(0===line.indexOf("DATASET")){const t=line.split(" ")[1];if("POLYDATA"!==t)throw new Error("Unsupported DATASET type: "+t)}else if(S)for(;null!==(o=c.exec(line))&&null===l.exec(line);){const t=parseFloat(o[1]),n=parseFloat(o[2]),r=parseFloat(o[3]);e.push(t,n,r)}else if(w){if(null!==(o=h.exec(line))){const e=parseInt(o[1]),n=o[2].split(/\s+/);if(e>=3){const r=parseInt(n[0]);let o=1;for(let l=0;l<e-2;++l){const e=parseInt(n[o]),l=parseInt(n[o+1]);t.push(r,e,l),o++}}}}else if(M){if(null!==(o=h.exec(line))){const e=parseInt(o[1]),n=o[2].split(/\s+/);if(e>=3)for(let r=0;r<e-2;r++)if(r%2==1){const e=parseInt(n[r]),o=parseInt(n[r+2]),l=parseInt(n[r+1]);t.push(e,o,l)}else{const e=parseInt(n[r]),o=parseInt(n[r+1]),l=parseInt(n[r+2]);t.push(e,o,l)}}}else if(E||R)if(A)for(;null!==(o=c.exec(line))&&null===l.exec(line);){const t=parseFloat(o[1]),g=parseFloat(o[2]),b=parseFloat(o[3]);n.push(t,g,b)}else if(T)for(;null!==(o=c.exec(line))&&null===l.exec(line);){const t=parseFloat(o[1]),e=parseFloat(o[2]),n=parseFloat(o[3]);r.push(t,e,n)}null!==m.exec(line)?(w=!0,S=!1,M=!1):null!==d.exec(line)?(w=!1,S=!0,M=!1):null!==f.exec(line)?(w=!1,S=!1,M=!0):null!==v.exec(line)?(E=!0,S=!1,w=!1,M=!1):null!==x.exec(line)?(R=!0,S=!1,w=!1,M=!1):null!==_.exec(line)?(A=!0,T=!1,S=!1,w=!1,M=!1):null!==y.exec(line)&&(T=!0,A=!1,S=!1,w=!1,M=!1)}let C=new kr;if(C.setIndex(t),C.setAttribute("position",new Tr(e,3)),r.length===e.length&&C.setAttribute("normal",new Tr(r,3)),n.length!==t.length)n.length===e.length&&C.setAttribute("color",new Tr(n,3));else{C=C.toNonIndexed();const t=C.attributes.position.count/3;if(n.length===3*t){const e=[];for(let i=0;i<t;i++){const t=n[3*i+0],g=n[3*i+1],b=n[3*i+2];e.push(t,g,b),e.push(t,g,b),e.push(t,g,b)}C.setAttribute("color",new Tr(e,3))}}return C}function e(data){const t=new Uint8Array(data),e=new DataView(data);let n,line,r=[],o=[],l=[],c=0;function h(t,e){let n=e,r=t[n];const s=[];for(;10!==r;)s.push(String.fromCharCode(r)),n++,r=t[n];return{start:e,end:n,next:n+1,parsedString:s.join("")}}for(;;){if(n=h(t,c),line=n.parsedString,0===line.indexOf("DATASET")){const t=line.split(" ")[1];if("POLYDATA"!==t)throw new Error("Unsupported DATASET type: "+t)}else if(0===line.indexOf("POINTS")){const t=parseInt(line.split(" ")[1],10),o=4*t*3;r=new Float32Array(3*t);let l=n.next;for(let i=0;i<t;i++)r[3*i]=e.getFloat32(l,!1),r[3*i+1]=e.getFloat32(l+4,!1),r[3*i+2]=e.getFloat32(l+8,!1),l+=12;n.next=n.next+o+1}else if(0===line.indexOf("TRIANGLE_STRIPS")){const t=parseInt(line.split(" ")[1],10),r=parseInt(line.split(" ")[2],10),o=4*r;l=new Uint32Array(3*r-9*t);let c=0,h=n.next;for(let i=0;i<t;i++){const t=e.getInt32(h,!1),n=[];h+=4;for(let s=0;s<t;s++)n.push(e.getInt32(h,!1)),h+=4;for(let e=0;e<t-2;e++)e%2?(l[c++]=n[e],l[c++]=n[e+2],l[c++]=n[e+1]):(l[c++]=n[e],l[c++]=n[e+1],l[c++]=n[e+2])}n.next=n.next+o+1}else if(0===line.indexOf("POLYGONS")){const t=parseInt(line.split(" ")[1],10),r=parseInt(line.split(" ")[2],10),o=4*r;l=new Uint32Array(3*r-9*t);let c=0,h=n.next;for(let i=0;i<t;i++){const t=e.getInt32(h,!1),n=[];h+=4;for(let s=0;s<t;s++)n.push(e.getInt32(h,!1)),h+=4;for(let e=1;e<t-1;e++)l[c++]=n[0],l[c++]=n[e],l[c++]=n[e+1]}n.next=n.next+o+1}else if(0===line.indexOf("POINT_DATA")){const r=parseInt(line.split(" ")[1],10);n=h(t,n.next);const l=4*r*3;o=new Float32Array(3*r);let c=n.next;for(let i=0;i<r;i++)o[3*i]=e.getFloat32(c,!1),o[3*i+1]=e.getFloat32(c+4,!1),o[3*i+2]=e.getFloat32(c+8,!1),c+=12;n.next=n.next+l}if(c=n.next,c>=t.byteLength)break}const d=new kr;return d.setIndex(new Mr(l,1)),d.setAttribute("position",new Mr(r,3)),o.length===r.length&&d.setAttribute("normal",new Mr(o,3)),d}function n(t,e){const n=t.length,r=new Float32Array(n+e.length);return r.set(t),r.set(e,n),r}function r(t,e){const n=t.length,r=new Int32Array(n+e.length);return r.set(t),r.set(e,n),r}function o(t){function e(t){let n={};if(1===t.nodeType){if(t.attributes&&t.attributes.length>0){n.attributes={};for(let e=0;e<t.attributes.length;e++){const r=t.attributes.item(e);n.attributes[r.nodeName]=r.nodeValue.trim()}}}else 3===t.nodeType&&(n=t.nodeValue.trim());if(t.hasChildNodes())for(let i=0;i<t.childNodes.length;i++){const r=t.childNodes.item(i),o=r.nodeName;if(void 0===n[o]){const t=e(r);""!==t&&(n[o]=t)}else{if(void 0===n[o].push){const t=n[o];n[o]=[t]}const t=e(r);""!==t&&n[o].push(t)}}return n}function o(t){const e="undefined"!=typeof Uint8Array?Uint8Array:Array,n=[],code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let i=0,t=code.length;i<t;++i)n[code.charCodeAt(i)]=i;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63;const r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");const o="="===t[r-2]?2:"="===t[r-1]?1:0,l=new e(3*r/4-o),c=o>0?r-4:r;let i,h,d=0;for(i=0,h=0;i<c;i+=4,h+=3){const e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)];l[d++]=(16711680&e)>>16,l[d++]=(65280&e)>>8,l[d++]=255&e}if(2===o){const e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4;l[d++]=255&e}else if(1===o){const e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2;l[d++]=e>>8&255,l[d++]=255&e}return l}function l(t,e){let l,content,h=0;if("UInt64"===c.attributes.header_type?h=8:"UInt32"===c.attributes.header_type&&(h=4),"binary"===t.attributes.format&&e){"Float32"===t.attributes.type?l=new Float32Array:"Int32"!==t.attributes.type&&"Int64"!==t.attributes.type||(l=new Int32Array);const e=t["#text"],c=o(Array.isArray(e)?e[0]:e),d=8;let m=c[0];for(let i=1;i<h-1;i++)m|=c[i]<<i*d;let f=(m+3)*h;f+=f%3>0?3-f%3:0;const v=[];let x=f;v.push(x);const _=3*h;for(let i=0;i<m;i++){let t=c[i*h+_];for(let e=1;e<h-1;e++)t|=c[i*h+_+e]<<e*d;x+=t,v.push(x)}for(let i=0;i<v.length-1;i++)content=wg(c.slice(v[i],v[i+1])).buffer,"Float32"===t.attributes.type?(content=new Float32Array(content),l=n(l,content)):"Int32"!==t.attributes.type&&"Int64"!==t.attributes.type||(content=new Int32Array(content),l=r(l,content));delete t["#text"],"Int64"===t.attributes.type&&"binary"===t.attributes.format&&(l=l.filter((function(t,e){if(e%2!=1)return!0})))}else"binary"!==t.attributes.format||e?content=t["#text"]?t["#text"].split(/\s+/).filter((function(t){if(""!==t)return t})):new Int32Array(0).buffer:(content=o(t["#text"]),content=content.slice(h).buffer),delete t["#text"],"Float32"===t.attributes.type?l=new Float32Array(content):"Int32"===t.attributes.type?l=new Int32Array(content):"Int64"===t.attributes.type&&(l=new Int32Array(content),"binary"===t.attributes.format&&(l=l.filter((function(t,e){if(e%2!=1)return!0}))));return l}const c=e((new DOMParser).parseFromString(t,"application/xml").documentElement);let h=[],d=[],m=[];if(c.PolyData){const t=c.PolyData.Piece,e=c.attributes.hasOwnProperty("compressor"),n=["PointData","Points","Strips","Polys"];let r=0;const o=n.length;for(;r<o;){const section=t[n[r]];if(section&&section.DataArray){let o;o="[object Array]"===Object.prototype.toString.call(section.DataArray)?section.DataArray:[section.DataArray];let c=0;const f=o.length;for(;c<f;)"#text"in o[c]&&o[c]["#text"].length>0&&(o[c].text=l(o[c],e)),c++;switch(n[r]){case"PointData":{const e=parseInt(t.attributes.NumberOfPoints),n=section.attributes.Normals;if(e>0)for(let i=0,t=o.length;i<t;i++)if(n===o[i].attributes.Name){const t=o[i].attributes.NumberOfComponents;d=new Float32Array(e*t),d.set(o[i].text,0)}}break;case"Points":{const e=parseInt(t.attributes.NumberOfPoints);if(e>0){const t=section.DataArray.attributes.NumberOfComponents;h=new Float32Array(e*t),h.set(section.DataArray.text,0)}}break;case"Strips":{const e=parseInt(t.attributes.NumberOfStrips);if(e>0){const t=new Int32Array(section.DataArray[0].text.length),n=new Int32Array(section.DataArray[1].text.length);t.set(section.DataArray[0].text,0),n.set(section.DataArray[1].text,0);const r=e+t.length;m=new Uint32Array(3*r-9*e);let o=0;for(let i=0,r=e;i<r;i++){const e=[];for(let s=0,r=n[i],o=0;s<r-o;s++)e.push(t[s]),i>0&&(o=n[i-1]);for(let t=0,r=n[i],l=0;t<r-l-2;t++)t%2?(m[o++]=e[t],m[o++]=e[t+2],m[o++]=e[t+1]):(m[o++]=e[t],m[o++]=e[t+1],m[o++]=e[t+2]),i>0&&(l=n[i-1])}}}break;case"Polys":{const e=parseInt(t.attributes.NumberOfPolys);if(e>0){const t=new Int32Array(section.DataArray[0].text.length),n=new Int32Array(section.DataArray[1].text.length);t.set(section.DataArray[0].text,0),n.set(section.DataArray[1].text,0);const r=e+t.length;m=new Uint32Array(3*r-9*e);let o=0,l=0,i=0,c=0;const h=e;for(;i<h;){const e=[];let s=0;const r=n[i];for(;s<r-c;)e.push(t[l++]),s++;let h=1;for(;h<r-c-1;)m[o++]=e[0],m[o++]=e[h],m[o++]=e[h+1],h++;i++,c=n[i-1]}}}}}r++}const f=new kr;return f.setIndex(new Mr(m,1)),f.setAttribute("position",new Mr(h,3)),d.length===h.length&&f.setAttribute("normal",new Mr(d,3)),f}throw new Error("Unsupported DATASET type")}const meta=Qu.decodeText(new Uint8Array(data,0,250)).split("\n");return-1!==meta[0].indexOf("xml")?o(Qu.decodeText(data)):meta[2].includes("ASCII")?t(Qu.decodeText(data)):e(data)}}var Gg=new nu({wireframe:!1,side:w,color:16711680});function Bg(t,e){(new kg).load(t,(function(t){var n=new ta(t,Gg);e.add(n)}))}var Fg=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.clock=new oh,r.mixer=null,r.playRate=1,r.modelReady=!1,r.pickableObjects=[],r.controls=new Nm(r.camera,r.renderer.domElement),window.addEventListener("resize",r.onWindowResize,!1),r}return n(e,t),e.prototype.loadGltf=function(t,e){var n=this;Xf(this.renderer).load(t,(function(t){var r=(new ri).setFromObject(t.scene),o=r.getSize(new ei).length(),l=r.getCenter(new ei);n.controls.maxDistance=10*o,t.scene.position.x+=t.scene.position.x-l.x,t.scene.position.y+=t.scene.position.y-l.y,t.scene.position.z+=t.scene.position.z-l.z,n.cameraPositionFlag||(n.camera.position.copy(l),n.camera.position.x+=o/2,n.camera.position.y+=o/5,n.camera.position.z+=o/2,n.camera.lookAt(l),n.viewPoint=n.setViewPoint(n.camera,[l.x,l.y,l.z])),n.mixer=new wh(t.scene),t.animations.forEach((function(a,t){var e,r;0===t?n.clipAction=null===(e=n.mixer)||void 0===e?void 0:e.clipAction(a).play():null===(r=n.mixer)||void 0===r||r.clipAction(a).play()})),n.content=t.scene,n.scene.add(t.scene),n.modelReady=!0,e&&e(t.scene)}),(function(t){}))},e.prototype.loadNrrd=function(t,e,n){Lg(t,this.scene,e,n)},e.prototype.loadVtk=function(t){Bg(t,this.scene)},e.prototype.pickModel=function(content,t,e){var n=this;content.traverse((function(t){if(t.isMesh){var r=t;e&&e.includes(r.name)||n.pickableObjects.push(r)}})),Wf(this.camera,this.container,this.pickableObjects,t)},e.prototype.getPlayRate=function(){return this.playRate},e.prototype.setPlayRate=function(t){this.playRate=t},e.prototype.setModelPosition=function(t,e){e.x&&(t.position.x=e.x),e.y&&(t.position.y=e.y),e.z&&(t.position.z=e.z)},e.prototype.resetView=function(){this.controls.reset(),this.updateCamera(this.viewPoint)},e.prototype.updateCamera=function(t){this.cameraPositionFlag=!0,this.copperControl.updateCameraViewPoint(t)},e.prototype.getCurrentTime=function(){var t=0;return this.clipAction&&(t=this.clipAction.time/this.clipAction._clip.duration),t},e.prototype.getCurrentMixer=function(){return this.mixer},e.prototype.render=function(){this.controls.update(),this.modelReady&&this.mixer&&this.mixer.update(this.clock.getDelta()*this.playRate),this.renderer.render(this.scene,this.camera)},e}(id),Vg=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.sceneMap={},r.preRenderCallbackFunctions=[],r.animate=function(){r.render(),r.stats.update(),requestAnimationFrame(r.animate)},r}return n(e,t),e.prototype.getSceneByName=function(t){return this.sceneMap[t]},e.prototype.setCurrentScene=function(t){t&&(this.currentScene=t,this.options&&this.updateGui(),this.onWindowResize())},e.prototype.createScene=function(t){if(null==this.sceneMap[t]){var e=new Fg(this.container,this.renderer);return e.sceneName=t,this.updateEnvironment(e.vignette),this.sceneMap[t]=e,e}},e.prototype.addPreRenderCallbackFunction=function(t){var e=this.preRenderCallbackFunctions.length+1,n={id:e,callback:t};return this.preRenderCallbackFunctions.push(n),e},e.prototype.onWindowResize=function(){},e.prototype.render=function(){this.currentScene.render(),this.preRenderCallbackFunctions.forEach((function(t){t.callback.call(null)}))},e}(Pm);function zg(text,t,e,n,r,option){var o=document.createElement("canvas");o.width=512,o.height=512;var g=o.getContext("2d");g.textBaseline="alphabetic",g.measureText(text).width,g.fillStyle="rgb(255,255,255)",g.textAlign="center",g.font=option?option.font_size+" "+option.font:"30px Helvetica",g.fillText(text,256,256),g.strokeStyle="rgb(255,255,255)",g.strokeText(text,256,256);var l=new jn(o);l.needsUpdate=!0;var c=new Ll({map:l,color:"#ffffff"}),h=new jl(c);return h.scale.set(r,r,1),h.position.set(t,e,n),h}function Ug(t,text,e,n,r,o,option){var label=zg(text,e,n,r,o,option);t.addObject(label)}function Hg(t,e,n){var r=new ei,o=new ei;r.set(n.x/t.clientWidth*2-1,-n.y/t.clientHeight*2+1,.5),r.unproject(e),r.sub(e.position).normalize();var l=(.2-e.position.z)/r.z;return o.copy(e.position).add(r.multiplyScalar(l)),{x:o.x,y:o.y,z:o.z}}function Xg(t,e,n){var r=new ei;n.getWorldPosition(r);var o=r.project(e),l=t.clientWidth/2,c=t.clientHeight/2;return{x:Math.round(l*o.x+l),y:Math.round(c*o.y+c)}}const Wg={type:"change"},jg={type:"start"},qg={type:"end"};class Yg extends Qe{constructor(object,t){super(),void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=object,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new ei,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:c.ROTATE,MIDDLE:c.DOLLY,RIGHT:c.PAN},this.touches={ONE:h.ROTATE,TWO:h.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",ht),this._domElementKeyEvents=t},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(Wg),e.update(),r=n.NONE},this.update=function(){const t=new ei,c=(new ti).setFromUnitVectors(object.up,new ei(0,1,0)),h=c.clone().invert(),x=new ei,_=new ti,y=2*Math.PI;return function(){const S=e.object.position;t.copy(S).sub(e.target),t.applyQuaternion(c),l.setFromVector3(t),e.autoRotate&&r===n.NONE&&L(C()),e.enableDamping?(l.theta+=d.theta*e.dampingFactor,l.phi+=d.phi*e.dampingFactor):(l.theta+=d.theta,l.phi+=d.phi);let w=e.minAzimuthAngle,M=e.maxAzimuthAngle;return isFinite(w)&&isFinite(M)&&(w<-Math.PI?w+=y:w>Math.PI&&(w-=y),M<-Math.PI?M+=y:M>Math.PI&&(M-=y),l.theta=w<=M?Math.max(w,Math.min(M,l.theta)):l.theta>(w+M)/2?Math.max(w,l.theta):Math.min(M,l.theta)),l.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=m,l.radius=Math.max(e.minDistance,Math.min(e.maxDistance,l.radius)),!0===e.enableDamping?e.target.addScaledVector(f,e.dampingFactor):e.target.add(f),t.setFromSpherical(l),t.applyQuaternion(h),S.copy(e.target).add(t),e.object.lookAt(e.target),!0===e.enableDamping?(d.theta*=1-e.dampingFactor,d.phi*=1-e.dampingFactor,f.multiplyScalar(1-e.dampingFactor)):(d.set(0,0,0),f.set(0,0,0)),m=1,!!(v||x.distanceToSquared(e.object.position)>o||8*(1-_.dot(e.object.quaternion))>o)&&(e.dispatchEvent(Wg),x.copy(e.object.position),_.copy(e.object.quaternion),v=!1,!0)}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",gt),e.domElement.removeEventListener("pointerdown",at),e.domElement.removeEventListener("pointercancel",lt),e.domElement.removeEventListener("wheel",ut),e.domElement.removeEventListener("pointermove",ot),e.domElement.removeEventListener("pointerup",st),null!==e._domElementKeyEvents&&e._domElementKeyEvents.removeEventListener("keydown",ht)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=n.NONE;const o=1e-6,l=new Th,d=new Th;let m=1;const f=new ei;let v=!1;const x=new Rn,_=new Rn,y=new Rn,S=new Rn,w=new Rn,M=new Rn,E=new Rn,R=new Rn,A=new Rn,T=[],P={};function C(){return 2*Math.PI/60/60*e.autoRotateSpeed}function I(){return Math.pow(.95,e.zoomSpeed)}function L(t){d.theta-=t}function N(t){d.phi-=t}const D=function(){const t=new ei;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),f.add(t)}}(),O=function(){const t=new ei;return function(n,r){!0===e.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(n),f.add(t)}}(),k=function(){const t=new ei;return function(n,r){const element=e.domElement;if(e.object.isPerspectiveCamera){const o=e.object.position;t.copy(o).sub(e.target);let l=t.length();l*=Math.tan(e.object.fov/2*Math.PI/180),D(2*n*l/element.clientHeight,e.object.matrix),O(2*r*l/element.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(D(n*(e.object.right-e.object.left)/e.object.zoom/element.clientWidth,e.object.matrix),O(r*(e.object.top-e.object.bottom)/e.object.zoom/element.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function G(t){e.object.isPerspectiveCamera?m/=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom*t)),e.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function B(t){e.object.isPerspectiveCamera?m*=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/t)),e.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function F(t){x.set(t.clientX,t.clientY)}function V(t){E.set(t.clientX,t.clientY)}function z(t){S.set(t.clientX,t.clientY)}function U(t){_.set(t.clientX,t.clientY),y.subVectors(_,x).multiplyScalar(e.rotateSpeed);const element=e.domElement;L(2*Math.PI*y.x/element.clientHeight),N(2*Math.PI*y.y/element.clientHeight),x.copy(_),e.update()}function H(t){R.set(t.clientX,t.clientY),A.subVectors(R,E),A.y>0?G(I()):A.y<0&&B(I()),E.copy(R),e.update()}function X(t){w.set(t.clientX,t.clientY),M.subVectors(w,S).multiplyScalar(e.panSpeed),k(M.x,M.y),S.copy(w),e.update()}function W(t){t.deltaY<0?B(I()):t.deltaY>0&&G(I()),e.update()}function j(t){let n=!1;switch(t.code){case e.keys.UP:k(0,e.keyPanSpeed),n=!0;break;case e.keys.BOTTOM:k(0,-e.keyPanSpeed),n=!0;break;case e.keys.LEFT:k(e.keyPanSpeed,0),n=!0;break;case e.keys.RIGHT:k(-e.keyPanSpeed,0),n=!0}n&&(t.preventDefault(),e.update())}function Y(){if(1===T.length)x.set(T[0].pageX,T[0].pageY);else{const t=.5*(T[0].pageX+T[1].pageX),e=.5*(T[0].pageY+T[1].pageY);x.set(t,e)}}function $(){if(1===T.length)S.set(T[0].pageX,T[0].pageY);else{const t=.5*(T[0].pageX+T[1].pageX),e=.5*(T[0].pageY+T[1].pageY);S.set(t,e)}}function K(){const t=T[0].pageX-T[1].pageX,e=T[0].pageY-T[1].pageY,n=Math.sqrt(t*t+e*e);E.set(0,n)}function Q(){e.enableZoom&&K(),e.enablePan&&$()}function Z(){e.enableZoom&&K(),e.enableRotate&&Y()}function J(t){if(1==T.length)_.set(t.pageX,t.pageY);else{const e=yt(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);_.set(n,r)}y.subVectors(_,x).multiplyScalar(e.rotateSpeed);const element=e.domElement;L(2*Math.PI*y.x/element.clientHeight),N(2*Math.PI*y.y/element.clientHeight),x.copy(_)}function tt(t){if(1===T.length)w.set(t.pageX,t.pageY);else{const e=yt(t),n=.5*(t.pageX+e.x),r=.5*(t.pageY+e.y);w.set(n,r)}M.subVectors(w,S).multiplyScalar(e.panSpeed),k(M.x,M.y),S.copy(w)}function et(t){const n=yt(t),r=t.pageX-n.x,o=t.pageY-n.y,l=Math.sqrt(r*r+o*o);R.set(0,l),A.set(0,Math.pow(R.y/E.y,e.zoomSpeed)),G(A.y),E.copy(R)}function nt(t){e.enableZoom&&et(t),e.enablePan&&tt(t)}function it(t){e.enableZoom&&et(t),e.enableRotate&&J(t)}function at(t){!1!==e.enabled&&(0===T.length&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",ot),e.domElement.addEventListener("pointerup",st)),vt(t),"touch"===t.pointerType?mt(t):pt(t))}function ot(t){!1!==e.enabled&&("touch"===t.pointerType?ft(t):ct(t))}function st(t){xt(t),0===T.length&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",ot),e.domElement.removeEventListener("pointerup",st)),e.dispatchEvent(qg),r=n.NONE}function lt(t){xt(t)}function pt(t){let o;switch(t.button){case 0:o=e.mouseButtons.LEFT;break;case 1:o=e.mouseButtons.MIDDLE;break;case 2:o=e.mouseButtons.RIGHT;break;default:o=-1}switch(o){case c.DOLLY:if(!1===e.enableZoom)return;V(t),r=n.DOLLY;break;case c.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===e.enablePan)return;z(t),r=n.PAN}else{if(!1===e.enableRotate)return;F(t),r=n.ROTATE}break;case c.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===e.enableRotate)return;F(t),r=n.ROTATE}else{if(!1===e.enablePan)return;z(t),r=n.PAN}break;default:r=n.NONE}r!==n.NONE&&e.dispatchEvent(jg)}function ct(t){if(!1!==e.enabled)switch(r){case n.ROTATE:if(!1===e.enableRotate)return;U(t);break;case n.DOLLY:if(!1===e.enableZoom)return;H(t);break;case n.PAN:if(!1===e.enablePan)return;X(t)}}function ut(t){!1!==e.enabled&&!1!==e.enableZoom&&r===n.NONE&&(t.preventDefault(),e.dispatchEvent(jg),W(t),e.dispatchEvent(qg))}function ht(t){!1!==e.enabled&&!1!==e.enablePan&&j(t)}function mt(t){switch(_t(t),T.length){case 1:switch(e.touches.ONE){case h.ROTATE:if(!1===e.enableRotate)return;Y(),r=n.TOUCH_ROTATE;break;case h.PAN:if(!1===e.enablePan)return;$(),r=n.TOUCH_PAN;break;default:r=n.NONE}break;case 2:switch(e.touches.TWO){case h.DOLLY_PAN:if(!1===e.enableZoom&&!1===e.enablePan)return;Q(),r=n.TOUCH_DOLLY_PAN;break;case h.DOLLY_ROTATE:if(!1===e.enableZoom&&!1===e.enableRotate)return;Z(),r=n.TOUCH_DOLLY_ROTATE;break;default:r=n.NONE}break;default:r=n.NONE}r!==n.NONE&&e.dispatchEvent(jg)}function ft(t){switch(_t(t),r){case n.TOUCH_ROTATE:if(!1===e.enableRotate)return;J(t),e.update();break;case n.TOUCH_PAN:if(!1===e.enablePan)return;tt(t),e.update();break;case n.TOUCH_DOLLY_PAN:if(!1===e.enableZoom&&!1===e.enablePan)return;nt(t),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(!1===e.enableZoom&&!1===e.enableRotate)return;it(t),e.update();break;default:r=n.NONE}}function gt(t){!1!==e.enabled&&t.preventDefault()}function vt(t){T.push(t)}function xt(t){delete P[t.pointerId];for(let i=0;i<T.length;i++)if(T[i].pointerId==t.pointerId)return void T.splice(i,1)}function _t(t){let e=P[t.pointerId];void 0===e&&(e=new Rn,P[t.pointerId]=e),e.set(t.pageX,t.pageY)}function yt(t){const e=t.pointerId===T[0].pointerId?T[1]:T[0];return P[e.pointerId]}e.domElement.addEventListener("contextmenu",gt),e.domElement.addEventListener("pointerdown",at),e.domElement.addEventListener("pointercancel",lt),e.domElement.addEventListener("wheel",ut,{passive:!1}),this.update()}}var $g=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.renderRequested=!1,r.isResize=!1,r.pickableObjects=[],r.confirmResize=function(){r.isResize=!0,r.requestRenderIfNotRequested()},r.render=function(){r.renderRequested=void 0,r.controls.update(),r.renderer.render(r.scene,r.camera)},r.requestRenderIfNotRequested=function(){r.renderRequested||(r.isResize&&(r.isResize=!1,r.onWindowResize()),r.renderRequested=!0,requestAnimationFrame(r.render))},r.controls=new Yg(r.camera,n.domElement),r.controls.addEventListener("change",r.requestRenderIfNotRequested),window.addEventListener("resize",r.confirmResize,!1),requestAnimationFrame(r.render),r}return n(e,t),e.prototype.loadGltf=function(t,e){var n=this;Xf(this.renderer).load(t,(function(t){var r=(new ri).setFromObject(t.scene),o=r.getSize(new ei).length(),l=r.getCenter(new ei);n.controls.maxDistance=10*o,t.scene.position.x+=t.scene.position.x-l.x,t.scene.position.y+=t.scene.position.y-l.y,t.scene.position.z+=t.scene.position.z-l.z,n.cameraPositionFlag||(n.camera.position.copy(l),n.camera.position.x+=o/2,n.camera.position.y+=o/5,n.camera.position.z+=o/2,n.camera.lookAt(l),n.viewPoint=n.setViewPoint(n.camera,[l.x,l.y,l.z])),n.content=t.scene,n.scene.add(t.scene),e&&e(t.scene)}),(function(t){}))},e.prototype.pickModel=function(content,t,e){var n=this;content.traverse((function(t){if(t.isMesh){var r=t;e&&e.includes(r.name)||n.pickableObjects.push(r)}})),Wf(this.camera,this.container,this.pickableObjects,t)},e}(id),Kg=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.sceneMap={},r.animate=function(){r.render(),r.stats.update()},r}return n(e,t),e.prototype.getSceneByName=function(t){return this.sceneMap[t]},e.prototype.setCurrentScene=function(t){t&&(this.currentScene=t,this.options&&this.updateGui())},e.prototype.createScene=function(t){if(null==this.sceneMap[t]){var e=new $g(this.container,this.renderer);return e.sceneName=t,this.updateEnvironment(e.vignette),this.sceneMap[t]=e,e}},e.prototype.render=function(){this.currentScene.render()},e}(Pm);Jh();var Qg=function(){function t(t,e){var n=this;this.gui=new Tm,this.scene=new Tl,this.sceneName="",this.viewPoint=new Yh,this.cameraPositionFlag=!1,this.content=new _l,this.isHalfed=!1,this.pickableObjects=[],this.color1="#5454ad",this.color2="#18e5a7",this.lights=[],this.renderNrrdVolume=!1,this.onWindowResize=function(){var t=n.container.getBoundingClientRect(),e=t.width/t.height;if(n.renderNrrdVolume){var r=n.camera,o=r.top-r.bottom;r.left=-o*e/2,r.right=o*e/2}else n.camera.aspect=e;n.camera.updateProjectionMatrix(),n.controls.update()},this.container=t,this.renderer=e,this.camera=new ua(75,t.clientWidth/t.clientHeight,.1,500),this.ambientLight=new qu(2105376,1),this.directionalLight=new ju(16777215,2.5),this.vignette=Qh({aspect:this.container.clientWidth/this.container.clientHeight,grainScale:0,colors:[this.color1,this.color2]}),this.vignette.mesh.name="Vignette",this.vignette.mesh.renderOrder=-1,this.copperControl=new qh(this.camera),this.init(),this.controls=new Nm(this.camera,t)}return t.prototype.init=function(){this.copperControl.setCameraViewPoint(),this.camera.position.z=2,this.container.appendChild(this.gui.domElement),this.addLights()},t.prototype.createDemoMesh=function(){var t=new ia,e=new Jc({color:16711935,wireframe:!0}),n=new ta(t,e);this.scene.add(n),this.scene.add(new Gh(5))},t.prototype.addObject=function(t){this.scene.add(t)},t.prototype.loadGltf=function(t,e){var n=this;Xf(this.renderer).load(t,(function(t){var r=(new ri).setFromObject(t.scene),o=r.getSize(new ei).length(),l=r.getCenter(new ei);n.controls.maxDistance=10*o,t.scene.position.x+=t.scene.position.x-l.x,t.scene.position.y+=t.scene.position.y-l.y,t.scene.position.z+=t.scene.position.z-l.z,n.cameraPositionFlag||(n.camera.position.copy(l),n.camera.position.x+=o/2,n.camera.position.y+=o/5,n.camera.position.z+=o/2,n.camera.lookAt(l),n.viewPoint=n.setViewPoint(n.camera,[l.x,l.y,l.z])),n.content=t.scene,n.scene.add(t.scene),e&&e(t.scene)}),(function(t){}))},t.prototype.pickModel=function(content,t,e){var n=this;content.traverse((function(t){if(t.isMesh){var r=t;e&&e.includes(r.name)||n.pickableObjects.push(r)}})),Wf(this.camera,this.container,this.pickableObjects,t)},t.prototype.setViewPoint=function(t,e){var n=new Yh;return n.farPlane=t.far,n.nearPlane=t.near,n.eyePosition=[t.position.x,t.position.y,t.position.z],n.targetPosition=e?[e[0],e[1],e[2]]:[0,0,0],n.upVector=[t.up.x,t.up.y,t.up.z],n},t.prototype.loadNrrd=function(t,e,n){Lg(t,this.scene,e,n)},t.prototype.loadNrrd1=function(t,e){var n=512,r=window.innerWidth/window.innerHeight;this.camera=new ka(-n*r/2,n*r/2,n/2,-n/2,1,1e3),this.camera.position.set(-64,-64,128),this.camera.up.set(0,0,1),this.controls.dispose(),this.controls=new Yg(this.camera,this.container),this.controls.target.set(64,64,128),this.controls.minZoom=.5,this.controls.maxZoom=4,this.controls.enablePan=!1,this.renderNrrdVolume=!0,Ng(t,this.scene,e)},t.prototype.updateBackground=function(t,e){this.vignette.style({colors:[t,e]})},t.prototype.addLights=function(){var t=new Nu;t.name="hemi_light",this.scene.add(t),this.ambientLight.name="ambient_light",this.directionalLight.name="main_light",this.directionalLight.position.set(.5,0,.866),this.camera.add(this.ambientLight),this.camera.add(this.directionalLight),this.lights.push(t),this.lights.push(this.ambientLight),this.lights.push(this.directionalLight)},t.prototype.removeLights=function(){this.lights&&(this.lights.forEach((function(t){return t.parent.remove(t)})),this.lights.length=0)},t.prototype.loadViewUrl=function(t){var e=this,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=JSON.parse(n.responseText);e.loadView(t)}},n.open("GET",t,!0),n.send()},t.prototype.loadView=function(t){this.cameraPositionFlag=!0,this.viewPoint=t;var e=new Yh;e.farPlane=t.farPlane,e.nearPlane=t.nearPlane,e.eyePosition=t.eyePosition,e.targetPosition=t.targetPosition,e.upVector=t.upVector,this.copperControl.updateCameraViewPoint(e)},t.prototype.render=function(){this.controls.update(),this.onWindowResize(),this.renderer.render(this.scene,this.camera)},t}(),Zg=function(){function t(t,e,n){var r=this;this.renderer=new Rl({alpha:!0,antialias:!0}),this.renderSceneInfo=function(t){t.scene;var e=t.container;t.camera,t.controls;var n=e.getBoundingClientRect(),o=n.left,l=n.right,c=n.top,h=n.bottom,d=n.width,m=n.height;if(!(h<0||c>r.renderer.domElement.clientHeight||l<0||o>r.renderer.domElement.clientWidth)){var f=r.renderer.domElement.clientHeight-h;r.renderer.setScissor(o,f,d,m),r.renderer.setViewport(o,f,d,m),t.render()}},this.resizeRendererToDisplaySize=function(){var t=r.renderer.domElement.clientWidth,e=r.renderer.domElement.clientHeight;(r.renderer.domElement.width!==t||r.renderer.domElement.height!==e)&&(r.elems.map((function(t,e){e===r.numberOfScene-1&&r.numberOfScene%2!=0?t.style.width=r.container.clientWidth+"px":t.style.width=r.container.clientWidth/2-2+"px",t.style.height=r.container.clientHeight/Math.ceil(r.numberOfScene/2)+"px"})),r.renderer.setSize(t,e,!1))},this.animate=function(){var t=new Vn("#000");r.renderer.setScissorTest(!1),r.renderer.setClearColor(t,0),r.renderer.clear(!0,!0),r.renderer.setScissorTest(!0),r.resizeRendererToDisplaySize(),r.sceneInfos.forEach((function(t){r.renderSceneInfo(t)}));var e="translateY(".concat(window.scrollY,"px)");r.renderer.domElement.style.transform=e,window.requestAnimationFrame(r.animate)},this.numberOfScene=e>0?e:1,this.container=t,this.elems=[],this.scenes=[],this.cameras=[],this.sceneInfos=[],this.canvas=this.renderer.domElement,this.pmremGenerator=new ja(this.renderer),this.init()}return t.prototype.init=function(){this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Be,this.pmremGenerator.compileEquirectangularShader(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.canvas.className="copper3D_canvas",this.container.className="copper3D_container_root",this.container.appendChild(this.canvas);for(var i=0;i<this.numberOfScene;i++){var t=document.createElement("div");t.className="copper3D_scene_div",this.container.appendChild(t),this.elems.push(t);var e=new Qg(t,this.renderer);this.updateEnvironment(e),this.sceneInfos.push(e)}},t.prototype.updateEnvironment=function(t){var e=ad.filter((function(t){return"Venice Sunset"===t.name}))[0];this.getCubeMapTexture(e).then((function(e){e&&t.vignette&&t.scene.add(t.vignette.mesh),t.scene.environment=e,t.scene.background=e}))},t.prototype.getCubeMapTexture=function(t){var e=this,path=t.path;return path?new Promise((function(t,n){(new od).load(path,(function(n){var r=e.pmremGenerator.fromEquirectangular(n).texture;e.pmremGenerator.dispose(),t(r)}),void 0,n)})):Promise.resolve({envMap:null})},t}();function Jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tv(t,e){return t(e={exports:{}},e.exports),e.exports}var ev,nv,iv,rv=tv((function(t,e){!function(e,n){t.exports=n()}(self,(function(){return(()=>{var t={"./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js":t=>{!function(e,n){t.exports=n()}(self,(()=>(()=>{var t={591:(t,e,n)=>{var r=n(8).default;function o(){t.exports=o=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,l=n.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},h=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function v(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,l=Object.create(o.prototype),c=new N(r||[]);return l._invoke=function(t,e,n){var r="suspendedStart";return function(o,l){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw l;return O()}for(n.method=o,n.arg=l;;){var c=n.delegate;if(c){var h=C(c,n);if(h){if(h===_)continue;return h}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=x(t,e,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===_)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}}(t,n,c),l}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=v;var _={};function y(){}function S(){}function w(){}var M={};f(M,h,(function(){return this}));var E=Object.getPrototypeOf,R=E&&E(E(D([])));R&&R!==n&&l.call(R,h)&&(M=R);var A=w.prototype=y.prototype=Object.create(M);function T(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function n(o,c,h,d){var m=x(t[o],t,c);if("throw"!==m.type){var f=m.arg,v=f.value;return v&&"object"==r(v)&&l.call(v,"__await")?e.resolve(v.__await).then((function(t){n("next",t,h,d)}),(function(t){n("throw",t,h,d)})):e.resolve(v).then((function(t){f.value=t,h(f)}),(function(t){return n("throw",t,h,d)}))}d(m.arg)}var o;this._invoke=function(t,r){function l(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(l,l):l()}}function C(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=x(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,_;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,_):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function D(t){if(t){var e=t[h];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(l.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:O}}function O(){return{value:void 0,done:!0}}return S.prototype=w,f(A,"constructor",w),f(w,"constructor",S),S.displayName=f(w,m,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,f(t,m,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},T(P.prototype),f(P.prototype,d,(function(){return this})),e.AsyncIterator=P,e.async=function(t,n,r,o,l){void 0===l&&(l=Promise);var c=new P(v(t,n,r,o),l);return e.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},T(A),f(A,m,"Generator"),f(A,h,(function(){return this})),f(A,"toString",(function(){return"[object Generator]"})),e.keys=function(object){var t=[];for(var e in object)t.push(e);return t.reverse(),function e(){for(;t.length;){var n=t.pop();if(n in object)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var c=l.call(r,"catchLoc"),h=l.call(r,"finallyLoc");if(c&&h){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),_}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var r=n.arg;L(e)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:D(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),_}},e}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},8:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},757:(t,e,n)=>{var r=n(591)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},140:(t,e,n)=>{t.exports=n.p+"791f4146c35521990ba3e84e823a55f3.wasm"},915:(t,e,n)=>{t.exports=n.p+"f1877cdf3dec53d47652f14c1e1b12c1.bin"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var l=e[r]={exports:{}};return t[r](l,l.exports,n),l.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})();var r={};return(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e;function o(t){e=t}n.r(r),n.d(r,{HeartRateDetector:()=>K,setBinUrl:()=>$,setWasm:()=>o}),n(140);var l,c=(l="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(n){var r,o,c=void 0!==(n=n||{})?n:{};c.ready=new Promise((function(t,e){r=t,o=e}));var h,d={};for(h in c)c.hasOwnProperty(h)&&(d[h]=c[h]);var m,f,v=function(t,e){throw e},x=!0,_="";function y(path){return c.locateFile?c.locateFile(path,_):_+path}"undefined"!=typeof document&&document.currentScript&&(_=document.currentScript.src),l&&(_=l),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",m=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText};var S=c.print||console.log.bind(console),w=c.printErr||console.warn.bind(console);for(h in d)d.hasOwnProperty(h)&&(c[h]=d[h]);d=null,c.arguments,c.thisProgram,c.quit&&(v=c.quit);var M=16;function E(t,e){return e||(e=M),Math.ceil(t/e)*e}function R(t,e){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==e[0]?[]:[n[e[0]]]},i=1;i<e.length;++i)r.parameters.push(n[e[i]]);return new WebAssembly.Function(r,t)}var o=[1,0,1,96],l=e.slice(0,1),c=e.slice(1),h={i:127,j:126,f:125,d:124};for(o.push(c.length),i=0;i<c.length;++i)o.push(h[c[i]]);"v"==l?o.push(0):o=o.concat([1,h[l]]),o[1]=o.length-2;var d=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),m=new WebAssembly.Module(d);return new WebAssembly.Instance(m,{e:{f:t}}).exports.f}var A,T=[];function P(){if(T.length)return T.pop();try{J.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return J.length-1}function C(t,e){if(!A){A=new WeakMap;for(var i=0;i<J.length;i++){var n=J.get(i);n&&A.set(n,i)}}if(A.has(t))return A.get(t);var r=P();try{J.set(r,t)}catch(n){if(!(n instanceof TypeError))throw n;var o=R(t,e);J.set(r,o)}return A.set(t,r),r}function I(t){A.delete(J.get(t)),T.push(t)}function L(t,e){return C(t,e)}var N,D=0,O=function(t){D=t},k=function(){return D};c.wasmBinary&&(N=c.wasmBinary);var G,B=c.noExitRuntime||!0;function F(t,e,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":j[t>>0]=e;break;case"i16":$[t>>1]=e;break;case"i32":K[t>>2]=e;break;case"i64":Tt=[e>>>0,(At=e,+Math.abs(At)>=1?At>0?(0|Math.min(+Math.floor(At/4294967296),4294967295))>>>0:~~+Math.ceil((At-+(~~At>>>0))/4294967296)>>>0:0)],K[t>>2]=Tt[0],K[t+4>>2]=Tt[1];break;case"float":Q[t>>2]=e;break;case"double":Z[t>>3]=e;break;default:Mt("invalid type for setValue: "+n)}}function V(t,e,n){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return j[t>>0];case"i16":return $[t>>1];case"i32":case"i64":return K[t>>2];case"float":return Q[t>>2];case"double":return Z[t>>3];default:Mt("invalid type for getValue: "+e)}return null}"object"!==("undefined"==typeof WebAssembly?"undefined":t(WebAssembly))&&Mt("no native wasm support detected");var z=!1;function U(t,text){t||Mt("Assertion failed: "+text)}function H(t){var e=c["_"+t];return U(e,"Cannot call unknown function "+t+", make sure it is exported"),e}function X(t,e,n,r,o){var l={string:function(t){var e=0;if(null!=t&&0!==t){var n=1+(t.length<<2);at(t,e=we(n),n)}return e},array:function(t){var e=we(t.length);return st(t,e),e}};function c(t){return"string"===e?nt(t):"boolean"===e?Boolean(t):t}var h=H(t),d=[],m=0;if(r)for(var i=0;i<r.length;i++){var f=l[n[i]];f?(0===m&&(m=be()),d[i]=f(r[i])):d[i]=r[i]}var v=h.apply(null,d);return v=c(v),0!==m&&Se(m),v}var W,j,Y,$,K,Q,Z,J,tt="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function et(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.subarray&&tt)return tt.decode(t.subarray(e,o));for(var l="";e<o;){var c=t[e++];if(128&c){var h=63&t[e++];if(192!=(224&c)){var d=63&t[e++];if((c=224==(240&c)?(15&c)<<12|h<<6|d:(7&c)<<18|h<<12|d<<6|63&t[e++])<65536)l+=String.fromCharCode(c);else{var m=c-65536;l+=String.fromCharCode(55296|m>>10,56320|1023&m)}}else l+=String.fromCharCode((31&c)<<6|h)}else l+=String.fromCharCode(c)}return l}function nt(t,e){return t?et(Y,t,e):""}function it(t,e,n,r){if(!(r>0))return 0;for(var o=n,l=n+r-1,i=0;i<t.length;++i){var u=t.charCodeAt(i);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&t.charCodeAt(++i)),u<=127){if(n>=l)break;e[n++]=u}else if(u<=2047){if(n+1>=l)break;e[n++]=192|u>>6,e[n++]=128|63&u}else if(u<=65535){if(n+2>=l)break;e[n++]=224|u>>12,e[n++]=128|u>>6&63,e[n++]=128|63&u}else{if(n+3>=l)break;e[n++]=240|u>>18,e[n++]=128|u>>12&63,e[n++]=128|u>>6&63,e[n++]=128|63&u}}return e[n]=0,n-o}function at(t,e,n){return it(t,Y,e,n)}function ot(t){for(var e=0,i=0;i<t.length;++i){var u=t.charCodeAt(i);u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&t.charCodeAt(++i)),u<=127?++e:e+=u<=2047?2:u<=65535?3:4}return e}function st(t,e){j.set(t,e)}function lt(t,e){return t%e>0&&(t+=e-t%e),t}function pt(t){W=t,c.HEAP8=j=new Int8Array(t),c.HEAP16=$=new Int16Array(t),c.HEAP32=K=new Int32Array(t),c.HEAPU8=Y=new Uint8Array(t),c.HEAPU16=new Uint16Array(t),c.HEAPU32=new Uint32Array(t),c.HEAPF32=Q=new Float32Array(t),c.HEAPF64=Z=new Float64Array(t)}c.INITIAL_MEMORY;var ct=[],ut=[],ht=[];function mt(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)vt(c.preRun.shift());Nt(ct)}function ft(){c.noFSInit||Xt.init.initialized||Xt.init(),Nt(ut)}function gt(){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)_t(c.postRun.shift());Nt(ht)}function vt(t){ct.unshift(t)}function xt(t){ut.unshift(t)}function _t(t){ht.unshift(t)}var yt=0,bt=null;function St(t){yt++,c.monitorRunDependencies&&c.monitorRunDependencies(yt)}function wt(t){if(yt--,c.monitorRunDependencies&&c.monitorRunDependencies(yt),0==yt&&bt){var e=bt;bt=null,e()}}function Mt(t){c.onAbort&&c.onAbort(t),w(t+=""),z=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.";var e=new WebAssembly.RuntimeError(t);throw o(e),e}c.preloadedImages={},c.preloadedAudios={};var Et="data:application/octet-stream;base64,";function Rt(t){return t.startsWith(Et)}var At,Tt,Pt=e;function Ct(t){try{if(t==Pt&&N)return new Uint8Array(N);if(!f)throw"both async and sync fetching of the wasm failed"}catch(t){Mt(t)}}function It(){return!N&&x&&"function"==typeof fetch?fetch(Pt,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+Pt+"'";return t.arrayBuffer()})).catch((function(){return Ct(Pt)})):Promise.resolve().then((function(){return Ct(Pt)}))}function Lt(){var t={a:_e};function e(t,e){var n=t.exports;c.asm=n,pt((G=c.asm.D).buffer),J=c.asm.la,xt(c.asm.E),wt()}function n(t){e(t.instance)}function r(e){return It().then((function(e){return WebAssembly.instantiate(e,t)})).then(e,(function(t){w("failed to asynchronously prepare wasm: "+t),Mt(t)}))}function l(){return N||"function"!=typeof WebAssembly.instantiateStreaming||Rt(Pt)||"function"!=typeof fetch?r(n):fetch(Pt,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(n,(function(t){return w("wasm streaming compile failed: "+t),w("falling back to ArrayBuffer instantiation"),r(n)}))}))}if(St(),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(t){return w("Module.instantiateWasm callback failed with error: "+t),!1}return l().catch(o),{}}function Nt(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?J.get(n)():J.get(n)(e.arg):n(void 0===e.arg?null:e.arg)}else e(c)}}Rt(Pt)||(Pt=y(Pt));var Dt=0;function Ot(){return B||Dt>0}function kt(t,e,line,n){Mt("Assertion failed: "+nt(t)+", at: "+[e?nt(e):"unknown filename",line,n?nt(n):"unknown function"])}var Gt={splitPath:function(t){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(t).slice(1)},normalizeArray:function(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n;n--)t.unshift("..");return t},normalize:function(path){var t="/"===path.charAt(0),e="/"===path.substr(-1);return(path=Gt.normalizeArray(path.split("/").filter((function(p){return!!p})),!t).join("/"))||t||(path="."),path&&e&&(path+="/"),(t?"/":"")+path},dirname:function(path){var t=Gt.splitPath(path),e=t[0],n=t[1];return e||n?(n&&(n=n.substr(0,n.length-1)),e+n):"."},basename:function(path){if("/"===path)return"/";var t=(path=(path=Gt.normalize(path)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?path:path.substr(t+1)},extname:function(path){return Gt.splitPath(path)[3]},join:function(){var t=Array.prototype.slice.call(arguments,0);return Gt.normalize(t.join("/"))},join2:function(t,e){return Gt.normalize(t+"/"+e)}};function Bt(){if("object"===("undefined"==typeof crypto?"undefined":t(crypto))&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){Mt("randomDevice")}}var Ft={resolve:function(){for(var t="",e=!1,i=arguments.length-1;i>=-1&&!e;i--){var path=i>=0?arguments[i]:Xt.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");if(!path)return"";t=path+"/"+t,e="/"===path.charAt(0)}return(e?"/":"")+(t=Gt.normalizeArray(t.split("/").filter((function(p){return!!p})),!e).join("/"))||"."},relative:function(t,e){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=Ft.resolve(t).substr(1),e=Ft.resolve(e).substr(1);for(var r=n(t.split("/")),o=n(e.split("/")),l=Math.min(r.length,o.length),c=l,i=0;i<l;i++)if(r[i]!==o[i]){c=i;break}var h=[];for(i=c;i<r.length;i++)h.push("..");return(h=h.concat(o.slice(c))).join("/")}},Vt={ttys:[],init:function(){},shutdown:function(){},register:function(t,e){Vt.ttys[t]={input:[],output:[],ops:e},Xt.registerDevice(t,Vt.stream_ops)},stream_ops:{open:function(t){var e=Vt.ttys[t.node.rdev];if(!e)throw new Xt.ErrnoError(43);t.tty=e,t.seekable=!1},close:function(t){t.tty.ops.flush(t.tty)},flush:function(t){t.tty.ops.flush(t.tty)},read:function(t,e,n,r,o){if(!t.tty||!t.tty.ops.get_char)throw new Xt.ErrnoError(60);for(var l=0,i=0;i<r;i++){var c;try{c=t.tty.ops.get_char(t.tty)}catch(t){throw new Xt.ErrnoError(29)}if(void 0===c&&0===l)throw new Xt.ErrnoError(6);if(null==c)break;l++,e[n+i]=c}return l&&(t.node.timestamp=Date.now()),l},write:function(t,e,n,r,o){if(!t.tty||!t.tty.ops.put_char)throw new Xt.ErrnoError(60);try{for(var i=0;i<r;i++)t.tty.ops.put_char(t.tty,e[n+i])}catch(t){throw new Xt.ErrnoError(29)}return r&&(t.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(t){if(!t.input.length){var e=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?null!==(e=window.prompt("Input: "))&&(e+="\n"):"function"==typeof readline&&null!==(e=readline())&&(e+="\n"),!e)return null;t.input=xe(e,!0)}return t.input.shift()},put_char:function(t,e){null===e||10===e?(S(et(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(S(et(t.output,0)),t.output=[])}},default_tty1_ops:{put_char:function(t,e){null===e||10===e?(w(et(t.output,0)),t.output=[]):0!=e&&t.output.push(e)},flush:function(t){t.output&&t.output.length>0&&(w(et(t.output,0)),t.output=[])}}};function zt(t){for(var e=E(t,65536),n=Ee(e);t<e;)j[n+t++]=0;return n}var Ut,Ht={ops_table:null,mount:function(t){return Ht.createNode(null,"/",16895,0)},createNode:function(t,e,n,r){if(Xt.isBlkdev(n)||Xt.isFIFO(n))throw new Xt.ErrnoError(63);Ht.ops_table||(Ht.ops_table={dir:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,lookup:Ht.node_ops.lookup,mknod:Ht.node_ops.mknod,rename:Ht.node_ops.rename,unlink:Ht.node_ops.unlink,rmdir:Ht.node_ops.rmdir,readdir:Ht.node_ops.readdir,symlink:Ht.node_ops.symlink},stream:{llseek:Ht.stream_ops.llseek}},file:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:{llseek:Ht.stream_ops.llseek,read:Ht.stream_ops.read,write:Ht.stream_ops.write,allocate:Ht.stream_ops.allocate,mmap:Ht.stream_ops.mmap,msync:Ht.stream_ops.msync}},link:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,readlink:Ht.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:Xt.chrdev_stream_ops}});var o=Xt.createNode(t,e,n,r);return Xt.isDir(o.mode)?(o.node_ops=Ht.ops_table.dir.node,o.stream_ops=Ht.ops_table.dir.stream,o.contents={}):Xt.isFile(o.mode)?(o.node_ops=Ht.ops_table.file.node,o.stream_ops=Ht.ops_table.file.stream,o.usedBytes=0,o.contents=null):Xt.isLink(o.mode)?(o.node_ops=Ht.ops_table.link.node,o.stream_ops=Ht.ops_table.link.stream):Xt.isChrdev(o.mode)&&(o.node_ops=Ht.ops_table.chrdev.node,o.stream_ops=Ht.ops_table.chrdev.stream),o.timestamp=Date.now(),t&&(t.contents[e]=o,t.timestamp=o.timestamp),o},getFileDataAsTypedArray:function(t){return t.contents?t.contents.subarray?t.contents.subarray(0,t.usedBytes):new Uint8Array(t.contents):new Uint8Array(0)},expandFileStorage:function(t,e){var n=t.contents?t.contents.length:0;if(!(n>=e)){var r=1048576;e=Math.max(e,n*(n<r?2:1.125)>>>0),0!=n&&(e=Math.max(e,256));var o=t.contents;t.contents=new Uint8Array(e),t.usedBytes>0&&t.contents.set(o.subarray(0,t.usedBytes),0)}},resizeFileStorage:function(t,e){if(t.usedBytes!=e)if(0==e)t.contents=null,t.usedBytes=0;else{var n=t.contents;t.contents=new Uint8Array(e),n&&t.contents.set(n.subarray(0,Math.min(e,t.usedBytes))),t.usedBytes=e}},node_ops:{getattr:function(t){var e={};return e.dev=Xt.isChrdev(t.mode)?t.id:1,e.ino=t.id,e.mode=t.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=t.rdev,Xt.isDir(t.mode)?e.size=4096:Xt.isFile(t.mode)?e.size=t.usedBytes:Xt.isLink(t.mode)?e.size=t.link.length:e.size=0,e.atime=new Date(t.timestamp),e.mtime=new Date(t.timestamp),e.ctime=new Date(t.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(t,e){void 0!==e.mode&&(t.mode=e.mode),void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.size&&Ht.resizeFileStorage(t,e.size)},lookup:function(t,e){throw Xt.genericErrors[44]},mknod:function(t,e,n,r){return Ht.createNode(t,e,n,r)},rename:function(t,e,n){if(Xt.isDir(t.mode)){var r;try{r=Xt.lookupNode(e,n)}catch(t){}if(r)for(var i in r.contents)throw new Xt.ErrnoError(55)}delete t.parent.contents[t.name],t.parent.timestamp=Date.now(),t.name=n,e.contents[n]=t,e.timestamp=t.parent.timestamp,t.parent=e},unlink:function(t,e){delete t.contents[e],t.timestamp=Date.now()},rmdir:function(t,e){var n=Xt.lookupNode(t,e);for(var i in n.contents)throw new Xt.ErrnoError(55);delete t.contents[e],t.timestamp=Date.now()},readdir:function(t){var e=[".",".."];for(var n in t.contents)t.contents.hasOwnProperty(n)&&e.push(n);return e},symlink:function(t,e,n){var r=Ht.createNode(t,e,41471,0);return r.link=n,r},readlink:function(t){if(!Xt.isLink(t.mode))throw new Xt.ErrnoError(28);return t.link}},stream_ops:{read:function(t,e,n,r,o){var l=t.node.contents;if(o>=t.node.usedBytes)return 0;var c=Math.min(t.node.usedBytes-o,r);if(c>8&&l.subarray)e.set(l.subarray(o,o+c),n);else for(var i=0;i<c;i++)e[n+i]=l[o+i];return c},write:function(t,e,n,r,o,l){if(e.buffer===j.buffer&&(l=!1),!r)return 0;var c=t.node;if(c.timestamp=Date.now(),e.subarray&&(!c.contents||c.contents.subarray)){if(l)return c.contents=e.subarray(n,n+r),c.usedBytes=r,r;if(0===c.usedBytes&&0===o)return c.contents=e.slice(n,n+r),c.usedBytes=r,r;if(o+r<=c.usedBytes)return c.contents.set(e.subarray(n,n+r),o),r}if(Ht.expandFileStorage(c,o+r),c.contents.subarray&&e.subarray)c.contents.set(e.subarray(n,n+r),o);else for(var i=0;i<r;i++)c.contents[o+i]=e[n+i];return c.usedBytes=Math.max(c.usedBytes,o+r),r},llseek:function(t,e,n){var r=e;if(1===n?r+=t.position:2===n&&Xt.isFile(t.node.mode)&&(r+=t.node.usedBytes),r<0)throw new Xt.ErrnoError(28);return r},allocate:function(t,e,n){Ht.expandFileStorage(t.node,e+n),t.node.usedBytes=Math.max(t.node.usedBytes,e+n)},mmap:function(t,address,e,n,r,o){if(0!==address)throw new Xt.ErrnoError(28);if(!Xt.isFile(t.node.mode))throw new Xt.ErrnoError(43);var l,c,h=t.node.contents;if(2&o||h.buffer!==W){if((n>0||n+e<h.length)&&(h=h.subarray?h.subarray(n,n+e):Array.prototype.slice.call(h,n,n+e)),c=!0,!(l=zt(e)))throw new Xt.ErrnoError(48);j.set(h,l)}else c=!1,l=h.byteOffset;return{ptr:l,allocated:c}},msync:function(t,e,n,r,o){if(!Xt.isFile(t.node.mode))throw new Xt.ErrnoError(43);return 2&o||Ht.stream_ops.write(t,e,0,r,n,!1),0}}},Xt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(path,t){if(t=t||{},!(path=Ft.resolve(Xt.cwd(),path)))return{path:"",node:null};var e={follow_mount:!0,recurse_count:0};for(var n in e)void 0===t[n]&&(t[n]=e[n]);if(t.recurse_count>8)throw new Xt.ErrnoError(32);for(var r=Gt.normalizeArray(path.split("/").filter((function(p){return!!p})),!1),o=Xt.root,l="/",i=0;i<r.length;i++){var c=i===r.length-1;if(c&&t.parent)break;if(o=Xt.lookupNode(o,r[i]),l=Gt.join2(l,r[i]),Xt.isMountpoint(o)&&(!c||c&&t.follow_mount)&&(o=o.mounted.root),!c||t.follow)for(var h=0;Xt.isLink(o.mode);){var link=Xt.readlink(l);if(l=Ft.resolve(Gt.dirname(l),link),o=Xt.lookupPath(l,{recurse_count:t.recurse_count}).node,h++>40)throw new Xt.ErrnoError(32)}}return{path:l,node:o}},getPath:function(t){for(var path;;){if(Xt.isRoot(t)){var e=t.mount.mountpoint;return path?"/"!==e[e.length-1]?e+"/"+path:e+path:e}path=path?t.name+"/"+path:t.name,t=t.parent}},hashName:function(t,e){for(var n=0,i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i)|0;return(t+n>>>0)%Xt.nameTable.length},hashAddNode:function(t){var e=Xt.hashName(t.parent.id,t.name);t.name_next=Xt.nameTable[e],Xt.nameTable[e]=t},hashRemoveNode:function(t){var e=Xt.hashName(t.parent.id,t.name);if(Xt.nameTable[e]===t)Xt.nameTable[e]=t.name_next;else for(var n=Xt.nameTable[e];n;){if(n.name_next===t){n.name_next=t.name_next;break}n=n.name_next}},lookupNode:function(t,e){var n=Xt.mayLookup(t);if(n)throw new Xt.ErrnoError(n,t);for(var r=Xt.hashName(t.id,e),o=Xt.nameTable[r];o;o=o.name_next){var l=o.name;if(o.parent.id===t.id&&l===e)return o}return Xt.lookup(t,e)},createNode:function(t,e,n,r){var o=new Xt.FSNode(t,e,n,r);return Xt.hashAddNode(o),o},destroyNode:function(t){Xt.hashRemoveNode(t)},isRoot:function(t){return t===t.parent},isMountpoint:function(t){return!!t.mounted},isFile:function(t){return 32768==(61440&t)},isDir:function(t){return 16384==(61440&t)},isLink:function(t){return 40960==(61440&t)},isChrdev:function(t){return 8192==(61440&t)},isBlkdev:function(t){return 24576==(61440&t)},isFIFO:function(t){return 4096==(61440&t)},isSocket:function(t){return 49152==(49152&t)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(t){var e=Xt.flagModes[t];if(void 0===e)throw new Error("Unknown file open mode: "+t);return e},flagsToPermissionString:function(t){var e=["r","w","rw"][3&t];return 512&t&&(e+="w"),e},nodePermissions:function(t,e){return 0},mayLookup:function(t){var e=Xt.nodePermissions(t,"x");return e||(t.node_ops.lookup?0:2)},mayCreate:function(t,e){try{return Xt.lookupNode(t,e),20}catch(t){}return Xt.nodePermissions(t,"wx")},mayDelete:function(t,e,n){var r;try{r=Xt.lookupNode(t,e)}catch(t){return t.errno}var o=Xt.nodePermissions(t,"wx");if(o)return o;if(n){if(!Xt.isDir(r.mode))return 54;if(Xt.isRoot(r)||Xt.getPath(r)===Xt.cwd())return 10}else if(Xt.isDir(r.mode))return 31;return 0},mayOpen:function(t,e){return t?Xt.isLink(t.mode)?32:Xt.isDir(t.mode)&&("r"!==Xt.flagsToPermissionString(e)||512&e)?31:Xt.nodePermissions(t,Xt.flagsToPermissionString(e)):44},MAX_OPEN_FDS:4096,nextfd:function(t,e){t=t||0,e=e||Xt.MAX_OPEN_FDS;for(var n=t;n<=e;n++)if(!Xt.streams[n])return n;throw new Xt.ErrnoError(33)},getStream:function(t){return Xt.streams[t]},createStream:function(t,e,n){Xt.FSStream||(Xt.FSStream=function(){},Xt.FSStream.prototype={object:{get:function(){return this.node},set:function(t){this.node=t}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var r=new Xt.FSStream;for(var p in t)r[p]=t[p];t=r;var o=Xt.nextfd(e,n);return t.fd=o,Xt.streams[o]=t,t},closeStream:function(t){Xt.streams[t]=null},chrdev_stream_ops:{open:function(t){var e=Xt.getDevice(t.node.rdev);t.stream_ops=e.stream_ops,t.stream_ops.open&&t.stream_ops.open(t)},llseek:function(){throw new Xt.ErrnoError(70)}},major:function(t){return t>>8},minor:function(t){return 255&t},makedev:function(t,e){return t<<8|e},registerDevice:function(t,e){Xt.devices[t]={stream_ops:e}},getDevice:function(t){return Xt.devices[t]},getMounts:function(t){for(var e=[],n=[t];n.length;){var r=n.pop();e.push(r),n.push.apply(n,r.mounts)}return e},syncfs:function(t,e){"function"==typeof t&&(e=t,t=!1),Xt.syncFSRequests++,Xt.syncFSRequests>1&&w("warning: "+Xt.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var n=Xt.getMounts(Xt.root.mount),r=0;function o(t){return Xt.syncFSRequests--,e(t)}function l(t){if(t)return l.errored?void 0:(l.errored=!0,o(t));++r>=n.length&&o(null)}n.forEach((function(e){if(!e.type.syncfs)return l(null);e.type.syncfs(e,t,l)}))},mount:function(t,e,n){var r,o="/"===n,l=!n;if(o&&Xt.root)throw new Xt.ErrnoError(10);if(!o&&!l){var c=Xt.lookupPath(n,{follow_mount:!1});if(n=c.path,r=c.node,Xt.isMountpoint(r))throw new Xt.ErrnoError(10);if(!Xt.isDir(r.mode))throw new Xt.ErrnoError(54)}var h={type:t,opts:e,mountpoint:n,mounts:[]},d=t.mount(h);return d.mount=h,h.root=d,o?Xt.root=d:r&&(r.mounted=h,r.mount&&r.mount.mounts.push(h)),d},unmount:function(t){var e=Xt.lookupPath(t,{follow_mount:!1});if(!Xt.isMountpoint(e.node))throw new Xt.ErrnoError(28);var n=e.node,r=n.mounted,o=Xt.getMounts(r);Object.keys(Xt.nameTable).forEach((function(t){for(var e=Xt.nameTable[t];e;){var n=e.name_next;o.includes(e.mount)&&Xt.destroyNode(e),e=n}})),n.mounted=null;var l=n.mount.mounts.indexOf(r);n.mount.mounts.splice(l,1)},lookup:function(t,e){return t.node_ops.lookup(t,e)},mknod:function(path,t,e){var n=Xt.lookupPath(path,{parent:!0}).node,r=Gt.basename(path);if(!r||"."===r||".."===r)throw new Xt.ErrnoError(28);var o=Xt.mayCreate(n,r);if(o)throw new Xt.ErrnoError(o);if(!n.node_ops.mknod)throw new Xt.ErrnoError(63);return n.node_ops.mknod(n,r,t,e)},create:function(path,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Xt.mknod(path,t,0)},mkdir:function(path,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Xt.mknod(path,t,0)},mkdirTree:function(path,t){for(var e=path.split("/"),n="",i=0;i<e.length;++i)if(e[i]){n+="/"+e[i];try{Xt.mkdir(n,t)}catch(t){if(20!=t.errno)throw t}}},mkdev:function(path,t,e){return void 0===e&&(e=t,t=438),t|=8192,Xt.mknod(path,t,e)},symlink:function(t,e){if(!Ft.resolve(t))throw new Xt.ErrnoError(44);var n=Xt.lookupPath(e,{parent:!0}).node;if(!n)throw new Xt.ErrnoError(44);var r=Gt.basename(e),o=Xt.mayCreate(n,r);if(o)throw new Xt.ErrnoError(o);if(!n.node_ops.symlink)throw new Xt.ErrnoError(63);return n.node_ops.symlink(n,r,t)},rename:function(t,e){var n,r,o=Gt.dirname(t),l=Gt.dirname(e),c=Gt.basename(t),h=Gt.basename(e);if(n=Xt.lookupPath(t,{parent:!0}).node,r=Xt.lookupPath(e,{parent:!0}).node,!n||!r)throw new Xt.ErrnoError(44);if(n.mount!==r.mount)throw new Xt.ErrnoError(75);var d,m=Xt.lookupNode(n,c),f=Ft.relative(t,l);if("."!==f.charAt(0))throw new Xt.ErrnoError(28);if("."!==(f=Ft.relative(e,o)).charAt(0))throw new Xt.ErrnoError(55);try{d=Xt.lookupNode(r,h)}catch(t){}if(m!==d){var v=Xt.isDir(m.mode),x=Xt.mayDelete(n,c,v);if(x)throw new Xt.ErrnoError(x);if(x=d?Xt.mayDelete(r,h,v):Xt.mayCreate(r,h))throw new Xt.ErrnoError(x);if(!n.node_ops.rename)throw new Xt.ErrnoError(63);if(Xt.isMountpoint(m)||d&&Xt.isMountpoint(d))throw new Xt.ErrnoError(10);if(r!==n&&(x=Xt.nodePermissions(n,"w")))throw new Xt.ErrnoError(x);try{Xt.trackingDelegate.willMovePath&&Xt.trackingDelegate.willMovePath(t,e)}catch(n){w("FS.trackingDelegate['willMovePath']('"+t+"', '"+e+"') threw an exception: "+n.message)}Xt.hashRemoveNode(m);try{n.node_ops.rename(m,r,h)}catch(t){throw t}finally{Xt.hashAddNode(m)}try{Xt.trackingDelegate.onMovePath&&Xt.trackingDelegate.onMovePath(t,e)}catch(n){w("FS.trackingDelegate['onMovePath']('"+t+"', '"+e+"') threw an exception: "+n.message)}}},rmdir:function(path){var t=Xt.lookupPath(path,{parent:!0}).node,e=Gt.basename(path),n=Xt.lookupNode(t,e),r=Xt.mayDelete(t,e,!0);if(r)throw new Xt.ErrnoError(r);if(!t.node_ops.rmdir)throw new Xt.ErrnoError(63);if(Xt.isMountpoint(n))throw new Xt.ErrnoError(10);try{Xt.trackingDelegate.willDeletePath&&Xt.trackingDelegate.willDeletePath(path)}catch(t){w("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,e),Xt.destroyNode(n);try{Xt.trackingDelegate.onDeletePath&&Xt.trackingDelegate.onDeletePath(path)}catch(t){w("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+t.message)}},readdir:function(path){var t=Xt.lookupPath(path,{follow:!0}).node;if(!t.node_ops.readdir)throw new Xt.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(path){var t=Xt.lookupPath(path,{parent:!0}).node,e=Gt.basename(path),n=Xt.lookupNode(t,e),r=Xt.mayDelete(t,e,!1);if(r)throw new Xt.ErrnoError(r);if(!t.node_ops.unlink)throw new Xt.ErrnoError(63);if(Xt.isMountpoint(n))throw new Xt.ErrnoError(10);try{Xt.trackingDelegate.willDeletePath&&Xt.trackingDelegate.willDeletePath(path)}catch(t){w("FS.trackingDelegate['willDeletePath']('"+path+"') threw an exception: "+t.message)}t.node_ops.unlink(t,e),Xt.destroyNode(n);try{Xt.trackingDelegate.onDeletePath&&Xt.trackingDelegate.onDeletePath(path)}catch(t){w("FS.trackingDelegate['onDeletePath']('"+path+"') threw an exception: "+t.message)}},readlink:function(path){var link=Xt.lookupPath(path).node;if(!link)throw new Xt.ErrnoError(44);if(!link.node_ops.readlink)throw new Xt.ErrnoError(28);return Ft.resolve(Xt.getPath(link.parent),link.node_ops.readlink(link))},stat:function(path,t){var e=Xt.lookupPath(path,{follow:!t}).node;if(!e)throw new Xt.ErrnoError(44);if(!e.node_ops.getattr)throw new Xt.ErrnoError(63);return e.node_ops.getattr(e)},lstat:function(path){return Xt.stat(path,!0)},chmod:function(path,t,e){var n;if(!(n="string"==typeof path?Xt.lookupPath(path,{follow:!e}).node:path).node_ops.setattr)throw new Xt.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(path,t){Xt.chmod(path,t,!0)},fchmod:function(t,e){var n=Xt.getStream(t);if(!n)throw new Xt.ErrnoError(8);Xt.chmod(n.node,e)},chown:function(path,t,e,n){var r;if(!(r="string"==typeof path?Xt.lookupPath(path,{follow:!n}).node:path).node_ops.setattr)throw new Xt.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:function(path,t,e){Xt.chown(path,t,e,!0)},fchown:function(t,e,n){var r=Xt.getStream(t);if(!r)throw new Xt.ErrnoError(8);Xt.chown(r.node,e,n)},truncate:function(path,t){if(t<0)throw new Xt.ErrnoError(28);var e;if(!(e="string"==typeof path?Xt.lookupPath(path,{follow:!0}).node:path).node_ops.setattr)throw new Xt.ErrnoError(63);if(Xt.isDir(e.mode))throw new Xt.ErrnoError(31);if(!Xt.isFile(e.mode))throw new Xt.ErrnoError(28);var n=Xt.nodePermissions(e,"w");if(n)throw new Xt.ErrnoError(n);e.node_ops.setattr(e,{size:t,timestamp:Date.now()})},ftruncate:function(t,e){var n=Xt.getStream(t);if(!n)throw new Xt.ErrnoError(8);if(0==(2097155&n.flags))throw new Xt.ErrnoError(28);Xt.truncate(n.node,e)},utime:function(path,t,e){var n=Xt.lookupPath(path,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,e)})},open:function(path,e,n,r,o){if(""===path)throw new Xt.ErrnoError(44);var l;if(n=void 0===n?438:n,n=64&(e="string"==typeof e?Xt.modeStringToFlags(e):e)?4095&n|32768:0,"object"===t(path))l=path;else{path=Gt.normalize(path);try{l=Xt.lookupPath(path,{follow:!(131072&e)}).node}catch(t){}}var h=!1;if(64&e)if(l){if(128&e)throw new Xt.ErrnoError(20)}else l=Xt.mknod(path,n,0),h=!0;if(!l)throw new Xt.ErrnoError(44);if(Xt.isChrdev(l.mode)&&(e&=-513),65536&e&&!Xt.isDir(l.mode))throw new Xt.ErrnoError(54);if(!h){var d=Xt.mayOpen(l,e);if(d)throw new Xt.ErrnoError(d)}512&e&&Xt.truncate(l,0),e&=-131713;var m=Xt.createStream({node:l,path:Xt.getPath(l),flags:e,seekable:!0,position:0,stream_ops:l.stream_ops,ungotten:[],error:!1},r,o);m.stream_ops.open&&m.stream_ops.open(m),!c.logReadFiles||1&e||(Xt.readFiles||(Xt.readFiles={}),path in Xt.readFiles||(Xt.readFiles[path]=1,w("FS.trackingDelegate error on read file: "+path)));try{if(Xt.trackingDelegate.onOpenFile){var f=0;1!=(2097155&e)&&(f|=Xt.tracking.openFlags.READ),0!=(2097155&e)&&(f|=Xt.tracking.openFlags.WRITE),Xt.trackingDelegate.onOpenFile(path,f)}}catch(t){w("FS.trackingDelegate['onOpenFile']('"+path+"', flags) threw an exception: "+t.message)}return m},close:function(t){if(Xt.isClosed(t))throw new Xt.ErrnoError(8);t.getdents&&(t.getdents=null);try{t.stream_ops.close&&t.stream_ops.close(t)}catch(t){throw t}finally{Xt.closeStream(t.fd)}t.fd=null},isClosed:function(t){return null===t.fd},llseek:function(t,e,n){if(Xt.isClosed(t))throw new Xt.ErrnoError(8);if(!t.seekable||!t.stream_ops.llseek)throw new Xt.ErrnoError(70);if(0!=n&&1!=n&&2!=n)throw new Xt.ErrnoError(28);return t.position=t.stream_ops.llseek(t,e,n),t.ungotten=[],t.position},read:function(t,e,n,r,o){if(r<0||o<0)throw new Xt.ErrnoError(28);if(Xt.isClosed(t))throw new Xt.ErrnoError(8);if(1==(2097155&t.flags))throw new Xt.ErrnoError(8);if(Xt.isDir(t.node.mode))throw new Xt.ErrnoError(31);if(!t.stream_ops.read)throw new Xt.ErrnoError(28);var l=void 0!==o;if(l){if(!t.seekable)throw new Xt.ErrnoError(70)}else o=t.position;var c=t.stream_ops.read(t,e,n,r,o);return l||(t.position+=c),c},write:function(t,e,n,r,o,l){if(r<0||o<0)throw new Xt.ErrnoError(28);if(Xt.isClosed(t))throw new Xt.ErrnoError(8);if(0==(2097155&t.flags))throw new Xt.ErrnoError(8);if(Xt.isDir(t.node.mode))throw new Xt.ErrnoError(31);if(!t.stream_ops.write)throw new Xt.ErrnoError(28);t.seekable&&1024&t.flags&&Xt.llseek(t,0,2);var c=void 0!==o;if(c){if(!t.seekable)throw new Xt.ErrnoError(70)}else o=t.position;var h=t.stream_ops.write(t,e,n,r,o,l);c||(t.position+=h);try{t.path&&Xt.trackingDelegate.onWriteToFile&&Xt.trackingDelegate.onWriteToFile(t.path)}catch(e){w("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+e.message)}return h},allocate:function(t,e,n){if(Xt.isClosed(t))throw new Xt.ErrnoError(8);if(e<0||n<=0)throw new Xt.ErrnoError(28);if(0==(2097155&t.flags))throw new Xt.ErrnoError(8);if(!Xt.isFile(t.node.mode)&&!Xt.isDir(t.node.mode))throw new Xt.ErrnoError(43);if(!t.stream_ops.allocate)throw new Xt.ErrnoError(138);t.stream_ops.allocate(t,e,n)},mmap:function(t,address,e,n,r,o){if(0!=(2&r)&&0==(2&o)&&2!=(2097155&t.flags))throw new Xt.ErrnoError(2);if(1==(2097155&t.flags))throw new Xt.ErrnoError(2);if(!t.stream_ops.mmap)throw new Xt.ErrnoError(43);return t.stream_ops.mmap(t,address,e,n,r,o)},msync:function(t,e,n,r,o){return t&&t.stream_ops.msync?t.stream_ops.msync(t,e,n,r,o):0},munmap:function(t){return 0},ioctl:function(t,e,n){if(!t.stream_ops.ioctl)throw new Xt.ErrnoError(59);return t.stream_ops.ioctl(t,e,n)},readFile:function(path,t){if((t=t||{}).flags=t.flags||0,t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var e,n=Xt.open(path,t.flags),r=Xt.stat(path).size,o=new Uint8Array(r);return Xt.read(n,o,0,r,0),"utf8"===t.encoding?e=et(o,0):"binary"===t.encoding&&(e=o),Xt.close(n),e},writeFile:function(path,data,t){(t=t||{}).flags=t.flags||577;var e=Xt.open(path,t.flags,t.mode);if("string"==typeof data){var n=new Uint8Array(ot(data)+1),r=it(data,n,0,n.length);Xt.write(e,n,0,r,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(data))throw new Error("Unsupported data type");Xt.write(e,data,0,data.byteLength,void 0,t.canOwn)}Xt.close(e)},cwd:function(){return Xt.currentPath},chdir:function(path){var t=Xt.lookupPath(path,{follow:!0});if(null===t.node)throw new Xt.ErrnoError(44);if(!Xt.isDir(t.node.mode))throw new Xt.ErrnoError(54);var e=Xt.nodePermissions(t.node,"x");if(e)throw new Xt.ErrnoError(e);Xt.currentPath=t.path},createDefaultDirectories:function(){Xt.mkdir("/tmp"),Xt.mkdir("/home"),Xt.mkdir("/home/web_user")},createDefaultDevices:function(){Xt.mkdir("/dev"),Xt.registerDevice(Xt.makedev(1,3),{read:function(){return 0},write:function(t,e,n,r,o){return r}}),Xt.mkdev("/dev/null",Xt.makedev(1,3)),Vt.register(Xt.makedev(5,0),Vt.default_tty_ops),Vt.register(Xt.makedev(6,0),Vt.default_tty1_ops),Xt.mkdev("/dev/tty",Xt.makedev(5,0)),Xt.mkdev("/dev/tty1",Xt.makedev(6,0));var t=Bt();Xt.createDevice("/dev","random",t),Xt.createDevice("/dev","urandom",t),Xt.mkdir("/dev/shm"),Xt.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Xt.mkdir("/proc");var t=Xt.mkdir("/proc/self");Xt.mkdir("/proc/self/fd"),Xt.mount({mount:function(){var e=Xt.createNode(t,"fd",16895,73);return e.node_ops={lookup:function(t,e){var n=+e,r=Xt.getStream(n);if(!r)throw new Xt.ErrnoError(8);var o={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return o.parent=o,o}},e}},{},"/proc/self/fd")},createStandardStreams:function(){c.stdin?Xt.createDevice("/dev","stdin",c.stdin):Xt.symlink("/dev/tty","/dev/stdin"),c.stdout?Xt.createDevice("/dev","stdout",null,c.stdout):Xt.symlink("/dev/tty","/dev/stdout"),c.stderr?Xt.createDevice("/dev","stderr",null,c.stderr):Xt.symlink("/dev/tty1","/dev/stderr"),Xt.open("/dev/stdin",0),Xt.open("/dev/stdout",1),Xt.open("/dev/stderr",1)},ensureErrnoError:function(){Xt.ErrnoError||(Xt.ErrnoError=function(t,e){this.node=e,this.setErrno=function(t){this.errno=t},this.setErrno(t),this.message="FS error"},Xt.ErrnoError.prototype=new Error,Xt.ErrnoError.prototype.constructor=Xt.ErrnoError,[44].forEach((function(code){Xt.genericErrors[code]=new Xt.ErrnoError(code),Xt.genericErrors[code].stack="<generic error, no stack>"})))},staticInit:function(){Xt.ensureErrnoError(),Xt.nameTable=new Array(4096),Xt.mount(Ht,{},"/"),Xt.createDefaultDirectories(),Xt.createDefaultDevices(),Xt.createSpecialDirectories(),Xt.filesystems={MEMFS:Ht}},init:function(input,output,t){Xt.init.initialized=!0,Xt.ensureErrnoError(),c.stdin=input||c.stdin,c.stdout=output||c.stdout,c.stderr=t||c.stderr,Xt.createStandardStreams()},quit:function(){Xt.init.initialized=!1;var t=c._fflush;t&&t(0);for(var i=0;i<Xt.streams.length;i++){var e=Xt.streams[i];e&&Xt.close(e)}},getMode:function(t,e){var n=0;return t&&(n|=365),e&&(n|=146),n},findObject:function(path,t){var e=Xt.analyzePath(path,t);return e.exists?e.object:null},analyzePath:function(path,t){try{path=(n=Xt.lookupPath(path,{follow:!t})).path}catch(t){}var e={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Xt.lookupPath(path,{parent:!0});e.parentExists=!0,e.parentPath=n.path,e.parentObject=n.node,e.name=Gt.basename(path),n=Xt.lookupPath(path,{follow:!t}),e.exists=!0,e.path=n.path,e.object=n.node,e.name=n.node.name,e.isRoot="/"===n.path}catch(t){e.error=t.errno}return e},createPath:function(t,path,e,n){t="string"==typeof t?t:Xt.getPath(t);for(var r=path.split("/").reverse();r.length;){var o=r.pop();if(o){var l=Gt.join2(t,o);try{Xt.mkdir(l)}catch(t){}t=l}}return l},createFile:function(t,e,n,r,o){var path=Gt.join2("string"==typeof t?t:Xt.getPath(t),e),l=Xt.getMode(r,o);return Xt.create(path,l)},createDataFile:function(t,e,data,n,r,o){var path=e?Gt.join2("string"==typeof t?t:Xt.getPath(t),e):t,l=Xt.getMode(n,r),c=Xt.create(path,l);if(data){if("string"==typeof data){for(var h=new Array(data.length),i=0,d=data.length;i<d;++i)h[i]=data.charCodeAt(i);data=h}Xt.chmod(c,146|l);var m=Xt.open(c,577);Xt.write(m,data,0,data.length,0,o),Xt.close(m),Xt.chmod(c,l)}return c},createDevice:function(t,e,input,output){var path=Gt.join2("string"==typeof t?t:Xt.getPath(t),e),n=Xt.getMode(!!input,!!output);Xt.createDevice.major||(Xt.createDevice.major=64);var r=Xt.makedev(Xt.createDevice.major++,0);return Xt.registerDevice(r,{open:function(t){t.seekable=!1},close:function(t){output&&output.buffer&&output.buffer.length&&output(10)},read:function(t,e,n,r,o){for(var l=0,i=0;i<r;i++){var c;try{c=input()}catch(t){throw new Xt.ErrnoError(29)}if(void 0===c&&0===l)throw new Xt.ErrnoError(6);if(null==c)break;l++,e[n+i]=c}return l&&(t.node.timestamp=Date.now()),l},write:function(t,e,n,r,o){for(var i=0;i<r;i++)try{output(e[n+i])}catch(t){throw new Xt.ErrnoError(29)}return r&&(t.node.timestamp=Date.now()),i}}),Xt.mkdev(path,n,r)},forceLoadFile:function(t){if(t.isDevice||t.isFolder||t.link||t.contents)return!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!m)throw new Error("Cannot load without read() or XMLHttpRequest.");try{t.contents=xe(m(t.url),!0),t.usedBytes=t.contents.length}catch(t){throw new Xt.ErrnoError(29)}},createLazyFile:function(t,e,n,r,o){function l(){this.lengthKnown=!1,this.chunks=[]}if(l.prototype.get=function(t){if(!(t>this.length-1||t<0)){var e=t%this.chunkSize,n=t/this.chunkSize|0;return this.getter(n)[e]}},l.prototype.setDataGetter=function(t){this.getter=t},l.prototype.cacheLength=function(){var t=new XMLHttpRequest;if(t.open("HEAD",n,!1),t.send(null),!(t.status>=200&&t.status<300||304===t.status))throw new Error("Couldn't load "+n+". Status: "+t.status);var header,e=Number(t.getResponseHeader("Content-length")),r=(header=t.getResponseHeader("Accept-Ranges"))&&"bytes"===header,o=(header=t.getResponseHeader("Content-Encoding"))&&"gzip"===header,l=1048576;r||(l=e);var c=function(t,r){if(t>r)throw new Error("invalid range ("+t+", "+r+") or no bytes requested!");if(r>e-1)throw new Error("only "+e+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",n,!1),e!==l&&o.setRequestHeader("Range","bytes="+t+"-"+r),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(o.status>=200&&o.status<300||304===o.status))throw new Error("Couldn't load "+n+". Status: "+o.status);return void 0!==o.response?new Uint8Array(o.response||[]):xe(o.responseText||"",!0)},h=this;h.setDataGetter((function(t){var n=t*l,r=(t+1)*l-1;if(r=Math.min(r,e-1),void 0===h.chunks[t]&&(h.chunks[t]=c(n,r)),void 0===h.chunks[t])throw new Error("doXHR failed!");return h.chunks[t]})),!o&&e||(l=e=1,e=this.getter(0).length,l=e,S("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=e,this._chunkSize=l,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var c={isDevice:!1,url:n},h=Xt.createFile(t,e,c,r,o);c.contents?h.contents=c.contents:c.url&&(h.contents=null,h.url=c.url),Object.defineProperties(h,{usedBytes:{get:function(){return this.contents.length}}});var d={};return Object.keys(h.stream_ops).forEach((function(t){var e=h.stream_ops[t];d[t]=function(){return Xt.forceLoadFile(h),e.apply(null,arguments)}})),d.read=function(t,e,n,r,o){Xt.forceLoadFile(h);var l=t.node.contents;if(o>=l.length)return 0;var c=Math.min(l.length-o,r);if(l.slice)for(var i=0;i<c;i++)e[n+i]=l[o+i];else for(i=0;i<c;i++)e[n+i]=l.get(o+i);return c},h.stream_ops=d,h},createPreloadedFile:function(t,e,n,r,o,l,h,d,m,f){Browser.init();var v=e?Ft.resolve(Gt.join2(t,e)):t;function x(n){function x(n){f&&f(),d||Xt.createDataFile(t,e,n,r,o,m),l&&l(),wt()}var _=!1;c.preloadPlugins.forEach((function(t){_||t.canHandle(v)&&(t.handle(n,v,x,(function(){h&&h(),wt()})),_=!0)})),_||x(n)}St(),"string"==typeof n?Browser.asyncLoad(n,(function(t){x(t)}),h):x(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(t,e,n){e=e||function(){},n=n||function(){};var r=Xt.indexedDB();try{var o=r.open(Xt.DB_NAME(),Xt.DB_VERSION)}catch(t){return n(t)}o.onupgradeneeded=function(){S("creating db"),o.result.createObjectStore(Xt.DB_STORE_NAME)},o.onsuccess=function(){var r=o.result.transaction([Xt.DB_STORE_NAME],"readwrite"),l=r.objectStore(Xt.DB_STORE_NAME),c=0,h=0,d=t.length;function m(){0==h?e():n()}t.forEach((function(path){var t=l.put(Xt.analyzePath(path).object.contents,path);t.onsuccess=function(){++c+h==d&&m()},t.onerror=function(){h++,c+h==d&&m()}})),r.onerror=n},o.onerror=n},loadFilesFromDB:function(t,e,n){e=e||function(){},n=n||function(){};var r=Xt.indexedDB();try{var o=r.open(Xt.DB_NAME(),Xt.DB_VERSION)}catch(t){return n(t)}o.onupgradeneeded=n,o.onsuccess=function(){var r=o.result;try{var l=r.transaction([Xt.DB_STORE_NAME],"readonly")}catch(t){return void n(t)}var c=l.objectStore(Xt.DB_STORE_NAME),h=0,d=0,m=t.length;function f(){0==d?e():n()}t.forEach((function(path){var t=c.get(path);t.onsuccess=function(){Xt.analyzePath(path).exists&&Xt.unlink(path),Xt.createDataFile(Gt.dirname(path),Gt.basename(path),t.result,!0,!0,!0),++h+d==m&&f()},t.onerror=function(){d++,h+d==m&&f()}})),l.onerror=n},o.onerror=n}},Wt={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(t,path,e){if("/"===path[0])return path;var n;if(-100===t)n=Xt.cwd();else{var r=Xt.getStream(t);if(!r)throw new Xt.ErrnoError(8);n=r.path}if(0==path.length){if(!e)throw new Xt.ErrnoError(44);return n}return Gt.join2(n,path)},doStat:function(t,path,e){try{var n=t(path)}catch(t){if(t&&t.node&&Gt.normalize(path)!==Gt.normalize(Xt.getPath(t.node)))return-54;throw t}return K[e>>2]=n.dev,K[e+4>>2]=0,K[e+8>>2]=n.ino,K[e+12>>2]=n.mode,K[e+16>>2]=n.nlink,K[e+20>>2]=n.uid,K[e+24>>2]=n.gid,K[e+28>>2]=n.rdev,K[e+32>>2]=0,Tt=[n.size>>>0,(At=n.size,+Math.abs(At)>=1?At>0?(0|Math.min(+Math.floor(At/4294967296),4294967295))>>>0:~~+Math.ceil((At-+(~~At>>>0))/4294967296)>>>0:0)],K[e+40>>2]=Tt[0],K[e+44>>2]=Tt[1],K[e+48>>2]=4096,K[e+52>>2]=n.blocks,K[e+56>>2]=n.atime.getTime()/1e3|0,K[e+60>>2]=0,K[e+64>>2]=n.mtime.getTime()/1e3|0,K[e+68>>2]=0,K[e+72>>2]=n.ctime.getTime()/1e3|0,K[e+76>>2]=0,Tt=[n.ino>>>0,(At=n.ino,+Math.abs(At)>=1?At>0?(0|Math.min(+Math.floor(At/4294967296),4294967295))>>>0:~~+Math.ceil((At-+(~~At>>>0))/4294967296)>>>0:0)],K[e+80>>2]=Tt[0],K[e+84>>2]=Tt[1],0},doMsync:function(t,e,n,r,o){var l=Y.slice(t,t+n);Xt.msync(e,l,o,n,r)},doMkdir:function(path,t){return"/"===(path=Gt.normalize(path))[path.length-1]&&(path=path.substr(0,path.length-1)),Xt.mkdir(path,t,0),0},doMknod:function(path,t,e){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Xt.mknod(path,t,e),0},doReadlink:function(path,t,e){if(e<=0)return-28;var n=Xt.readlink(path),r=Math.min(e,ot(n)),o=j[t+r];return at(n,t,e+1),j[t+r]=o,r},doAccess:function(path,t){if(-8&t)return-28;var e;if(!(e=Xt.lookupPath(path,{follow:!0}).node))return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&Xt.nodePermissions(e,n)?-2:0},doDup:function(path,t,e){var n=Xt.getStream(e);return n&&Xt.close(n),Xt.open(path,t,0,e,e).fd},doReadv:function(t,e,n,r){for(var o=0,i=0;i<n;i++){var l=K[e+8*i>>2],c=K[e+(8*i+4)>>2],h=Xt.read(t,j,l,c,r);if(h<0)return-1;if(o+=h,h<c)break}return o},doWritev:function(t,e,n,r){for(var o=0,i=0;i<n;i++){var l=K[e+8*i>>2],c=K[e+(8*i+4)>>2],h=Xt.write(t,j,l,c,r);if(h<0)return-1;o+=h}return o},varargs:void 0,get:function(){return Wt.varargs+=4,K[Wt.varargs-4>>2]},getStr:function(t){return nt(t)},getStreamFromFD:function(t){var e=Xt.getStream(t);if(!e)throw new Xt.ErrnoError(8);return e},get64:function(t,e){return t}};function jt(t,e,n,r,o,l){var c;l<<=12;var h=!1;if(0!=(16&r)&&t%65536!=0)return-28;if(0!=(32&r)){if(!(c=Ae(65536,e)))return-48;Te(c,0,e),h=!0}else{var d=Xt.getStream(o);if(!d)return-8;var m=Xt.mmap(d,t,e,l,n,r);c=m.ptr,h=m.allocated}return Wt.mappings[c]={malloc:c,len:e,allocated:h,fd:o,prot:n,flags:r,offset:l},c}function qt(t,e,n,r,o,l){try{return jt(t,e,n,r,o,l)}catch(t){return void 0!==Xt&&t instanceof Xt.ErrnoError||Mt(t),-t.errno}}function Yt(t,e,n){return 0}function $t(t,e){if(-1==(0|t)||0===e)return-28;var n=Wt.mappings[t];if(!n)return 0;if(e===n.len){var r=Xt.getStream(n.fd);r&&2&n.prot&&Wt.doMsync(t,r,e,n.flags,n.offset),Wt.mappings[t]=null,n.allocated&&Re(n.malloc)}return 0}function Kt(t,e){try{return $t(t,e)}catch(t){return void 0!==Xt&&t instanceof Xt.ErrnoError||Mt(t),-t.errno}}function Qt(){Mt()}function Zt(t,e){throw Me(t,e||1),"longjmp"}function Jt(t,e){return Zt(t,e)}function te(t,e,n){Y.copyWithin(t,e,e+n)}function ee(t){try{return G.grow(t-W.byteLength+65535>>>16),pt(G.buffer),1}catch(t){}}function ne(t){var e=Y.length,n=2147483648;if((t>>>=0)>n)return!1;for(var r=1;r<=4;r*=2){var o=e*(1+.2/r);if(o=Math.min(o,t+100663296),ee(Math.min(n,lt(Math.max(t,o),65536))))return!0}return!1}function ie(t){for(var e=Ut();Ut()-e<t;);}function re(t){ze(t)}function ae(t){try{var e=Wt.getStreamFromFD(t);return Xt.close(e),0}catch(t){return void 0!==Xt&&t instanceof Xt.ErrnoError||Mt(t),t.errno}}function oe(t,e,n,r,o){try{var l=Wt.getStreamFromFD(t),c=4294967296*n+(e>>>0),h=9007199254740992;return c<=-h||c>=h?-61:(Xt.llseek(l,c,r),Tt=[l.position>>>0,(At=l.position,+Math.abs(At)>=1?At>0?(0|Math.min(+Math.floor(At/4294967296),4294967295))>>>0:~~+Math.ceil((At-+(~~At>>>0))/4294967296)>>>0:0)],K[o>>2]=Tt[0],K[o+4>>2]=Tt[1],l.getdents&&0===c&&0===r&&(l.getdents=null),0)}catch(t){return void 0!==Xt&&t instanceof Xt.ErrnoError||Mt(t),t.errno}}function se(t,e,n,r){try{var o=Wt.getStreamFromFD(t),l=Wt.doWritev(o,e,n);return K[r>>2]=l,0}catch(t){return void 0!==Xt&&t instanceof Xt.ErrnoError||Mt(t),t.errno}}function le(){return k()}function pe(t){var e=Date.now();return K[t>>2]=e/1e3|0,K[t+4>>2]=e%1e3*1e3|0,0}function ce(){return 6}function ue(){return 28}function he(t,e,n){return w("pthread_sigmask() is not supported: this is a no-op."),0}function de(t){O(t)}function me(t){return K[t>>2]=-1>>>0,0}Ut=function(){return performance.now()};var fe=function(t,e,n,r){t||(t=this),this.parent=t,this.mount=t.mount,this.mounted=null,this.id=Xt.nextInode++,this.name=e,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},ge=365,ve=146;function xe(t,e,n){var r=n>0?n:ot(t)+1,o=new Array(r),l=it(t,o,0,o.length);return e&&(o.length=l),o}Object.defineProperties(fe.prototype,{read:{get:function(){return(this.mode&ge)===ge},set:function(t){t?this.mode|=ge:this.mode&=~ge}},write:{get:function(){return(this.mode&ve)===ve},set:function(t){t?this.mode|=ve:this.mode&=~ve}},isFolder:{get:function(){return Xt.isDir(this.mode)}},isDevice:{get:function(){return Xt.isChrdev(this.mode)}}}),Xt.FSNode=fe,Xt.staticInit();var _e={a:kt,v:qt,x:Yt,w:Kt,b:Qt,f:Jt,B:te,C:ne,r:ie,e:re,m:ae,q:oe,l:se,d:le,k:pe,h:Ce,i:De,z:ke,j:Ie,g:Ne,y:Ge,A:Oe,o:Le,p:Be,t:ce,s:ue,n:he,c:de,u:me};Lt(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.E).apply(null,arguments)},c._uc_version=function(){return(c._uc_version=c.asm.F).apply(null,arguments)},c._uc_errno=function(){return(c._uc_errno=c.asm.G).apply(null,arguments)},c._uc_strerror=function(){return(c._uc_strerror=c.asm.H).apply(null,arguments)},c._uc_arch_supported=function(){return(c._uc_arch_supported=c.asm.I).apply(null,arguments)},c._uc_open=function(){return(c._uc_open=c.asm.J).apply(null,arguments)},c._uc_close=function(){return(c._uc_close=c.asm.K).apply(null,arguments)},c._uc_reg_read_batch=function(){return(c._uc_reg_read_batch=c.asm.L).apply(null,arguments)},c._uc_reg_write_batch=function(){return(c._uc_reg_write_batch=c.asm.M).apply(null,arguments)},c._uc_reg_read=function(){return(c._uc_reg_read=c.asm.N).apply(null,arguments)},c._uc_reg_write=function(){return(c._uc_reg_write=c.asm.O).apply(null,arguments)},c._uc_mem_read=function(){return(c._uc_mem_read=c.asm.P).apply(null,arguments)},c._uc_mem_write=function(){return(c._uc_mem_write=c.asm.Q).apply(null,arguments)},c._uc_emu_start=function(){return(c._uc_emu_start=c.asm.R).apply(null,arguments)},c._uc_hook_del=function(){return(c._uc_hook_del=c.asm.S).apply(null,arguments)},c._uc_hook_add=function(){return(c._uc_hook_add=c.asm.T).apply(null,arguments)},c._uc_emu_stop=function(){return(c._uc_emu_stop=c.asm.U).apply(null,arguments)},c._uc_mem_map=function(){return(c._uc_mem_map=c.asm.V).apply(null,arguments)},c._uc_mem_map_ptr=function(){return(c._uc_mem_map_ptr=c.asm.W).apply(null,arguments)},c._uc_mem_protect=function(){return(c._uc_mem_protect=c.asm.X).apply(null,arguments)},c._uc_mem_unmap=function(){return(c._uc_mem_unmap=c.asm.Y).apply(null,arguments)},c._uc_mem_regions=function(){return(c._uc_mem_regions=c.asm.Z).apply(null,arguments)},c._uc_query=function(){return(c._uc_query=c.asm._).apply(null,arguments)},c._uc_context_alloc=function(){return(c._uc_context_alloc=c.asm.$).apply(null,arguments)},c._uc_free=function(){return(c._uc_free=c.asm.aa).apply(null,arguments)},c._uc_context_save=function(){return(c._uc_context_save=c.asm.ba).apply(null,arguments)},c._uc_context_restore=function(){return(c._uc_context_restore=c.asm.ca).apply(null,arguments)};var ye,be=c.stackSave=function(){return(be=c.stackSave=c.asm.da).apply(null,arguments)},Se=c.stackRestore=function(){return(Se=c.stackRestore=c.asm.ea).apply(null,arguments)},we=c.stackAlloc=function(){return(we=c.stackAlloc=c.asm.fa).apply(null,arguments)},Me=c._setThrew=function(){return(Me=c._setThrew=c.asm.ga).apply(null,arguments)},Ee=c._malloc=function(){return(Ee=c._malloc=c.asm.ha).apply(null,arguments)},Re=c._free=function(){return(Re=c._free=c.asm.ia).apply(null,arguments)},Ae=c._memalign=function(){return(Ae=c._memalign=c.asm.ja).apply(null,arguments)},Te=c._memset=function(){return(Te=c._memset=c.asm.ka).apply(null,arguments)},Pe=c.dynCall_vij=function(){return(Pe=c.dynCall_vij=c.asm.ma).apply(null,arguments)};function Ce(t,e){var n=be();try{return J.get(t)(e)}catch(t){if(Se(n),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function Ie(t,e,n,r,o,l,c){var h=be();try{return J.get(t)(e,n,r,o,l,c)}catch(t){if(Se(h),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function Le(t,e,n,r,o){var l=be();try{J.get(t)(e,n,r,o)}catch(t){if(Se(l),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function Ne(t,e){var n=be();try{J.get(t)(e)}catch(t){if(Se(n),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function De(t,e,n){var r=be();try{return J.get(t)(e,n)}catch(t){if(Se(r),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function Oe(t,e,n,r){var o=be();try{J.get(t)(e,n,r)}catch(t){if(Se(o),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function ke(t,e,n,r,o,l){var c=be();try{return J.get(t)(e,n,r,o,l)}catch(t){if(Se(c),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function Ge(t,e,n){var r=be();try{J.get(t)(e,n)}catch(t){if(Se(r),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function Be(t,e,n,r){var o=be();try{Pe(t,e,n,r)}catch(t){if(Se(o),t!==t+0&&"longjmp"!==t)throw t;Me(1,0)}}function Fe(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Ve(t){function e(){ye||(ye=!0,c.calledRun=!0,z||(ft(),r(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),gt()))}yt>0||(mt(),yt>0||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e()))}function ze(t,e){e&&Ot()&&0===t||(Ot()||(c.onExit&&c.onExit(t),z=!0),v(t,new Fe(t)))}if(c.ccall=X,c.setValue=F,c.getValue=V,c.writeArrayToMemory=st,c.addFunction=L,c.removeFunction=I,bt=function t(){ye||Ve(),ye||(bt=t)},c.run=Ve,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return Ve(),n.ready});function h(t,e,n,r,o,l,c){try{var h=t[l](c),d=h.value}catch(t){return void n(t)}h.done?e(d):Promise.resolve(d).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var l=t.apply(e,n);function c(t){h(l,r,o,c,d,"next",t)}function d(t){h(l,r,o,c,d,"throw",t)}c(void 0)}))}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=n(757),y=n.n(_);function S(t){if(Array.isArray(t))return t}function w(t,i){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,r,o=[],l=!0,c=!1;try{for(e=e.call(t);!(l=(n=e.next()).done)&&(o.push(n.value),!i||o.length!==i);l=!0);}catch(t){c=!0,r=t}finally{try{l||null==e.return||e.return()}finally{if(c)throw r}}return o}}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function E(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t,i){return S(t)||w(t,i)||E(t,i)||R()}var T=function(e){var mask=(1<<(e-1)%16+1)-1,n=(e+15)/16;return function(r){if(this.width=e,this.chunks=new Uint16Array(n),this.mask=mask,null==r)this.chunks.fill(0);else{if("number"==typeof r){Number.isSafeInteger(r)||console.warn("Libelf.js: number "+r+" is beyond 53 bits integer precision, use other initialization formats for better precision"),(r>Math.pow(2,this.width)-1||r<-Math.pow(2,this.width-1))&&console.warn("Libelf.js: number "+r+" overflows "+this.width+" bits width, use larger width to keep higher bits");for(var i=0;i<this.chunks.length;i++)this.chunks[i]=r&(i===this.chunks.length-1?this.mask:65535),r<0&&(r-=65535),r/=65536}if("string"==typeof r)for(r.toLowerCase().startsWith("0x")&&(r=r.slice(2)),i=0;i<this.chunks.length;i++)this.chunks[i]=0|parseInt(r.slice(-4),16),r.slice(0,-4);if("object"===t(r)&&Array.isArray(r))for(i=0;i<this.chunks.length;i++)this.chunks[i]=i%2==0?r[i/2|0]>>>0&65535:r[i/2|0]>>>16&65535;if("object"===t(r)&&!Array.isArray(r))for(i=0;i<this.chunks.length;i++)this.chunks[i]=r.chunks[i]}this.clone=function(){},this.neg=function(){return this.not().add(1)},this.not=function(){for(var t=new this.constructor(this),i=0;i<this.chunks.length;i++)t.chunks[i]=~this.chunks[i];return t},this.add=function(t){for(var e=new this.constructor(this),n=(t=new this.constructor(t),0),i=0;i<this.chunks.length;i++){var r=e.chunks[i],o=t.chunks[i];e.chunks[i]=r+o+n,n=r+o+n>65535?1:0}return e},this.sub=function(t){return new this.constructor(this),t=new this.constructor(t),this.add(t.neg())},this.mul=function(t){var e=new this.constructor(this);return t=new this.constructor(t),e},this.div=function(t){var e=new this.constructor(this);return t=new this.constructor(t),e},this.shl=function(t){return new this.constructor(this)},this.shr=function(t){return new this.constructor(this)},this.ror=function(t){return new this.constructor(this)},this.rol=function(t){return new this.constructor(this)},this.hex=function(){for(var t="0x",i=this.chunks.length-1;i>=0;i--){var e=this.chunks[i].toString(16);t+=e="0".repeat(4-e.length)+e}return t},this.num=function(){for(var t=0,i=this.chunks.length-1;i>=0;i--)t=65536*t+this.chunks[i];return Number.isSafeInteger(t)||console.warn("Libelf.js: number "+t+" is beyond 53 bits integer precision, use other conversion formats for better precision"),t},this.valueOf=this.num}},P=T(8),C=T(16),I=T(32),L=T(64),N=void 0;function D(){return O.apply(this,arguments)}function O(){return O=d(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:N=t.sent;case 3:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}var k=1,G=2,B=3,F={version:function(){major_ptr=N._malloc(4),minor_ptr=N._malloc(4);var t=N.ccall("uc_version","number",["pointer","pointer"],[major_ptr,minor_ptr]);return major=N.getValue(major_ptr,"i32"),minor=N.getValue(minor_ptr,"i32"),N._free(major_ptr),N._free(minor_ptr),t},arch_supported:function(t){return N.ccall("uc_arch_supported","number",["number"],[t])},strerror:function(code){return N.ccall("uc_strerror","string",["number"],[code])},Unicorn:function(t,e){this.arch=t,this.mode=e,this.handle_ptr=N._malloc(4),this.reg_write=function(t,e){var n=e.length,r=N._malloc(n);N.writeArrayToMemory(e,r);var o=N.getValue(this.handle_ptr,"*"),l=N.ccall("uc_reg_write","number",["pointer","number","pointer"],[o,t,r]);if(N._free(r),l!=F.ERR_OK)throw"Unicorn.js: Function uc_reg_write failed with code "+l+":\n"+F.strerror(l)},this.reg_read=function(t,e){for(var n=N._malloc(e),i=0;i<e;i++)N.setValue(n+i,0,"i8");var r=N.getValue(this.handle_ptr,"*"),o=N.ccall("uc_reg_read","number",["pointer","number","pointer"],[r,t,n]),l=new Uint8Array(e);for(i=0;i<e;i++)l[i]=N.getValue(n+i,"i8");if(N._free(n),o!=F.ERR_OK)throw"Unicorn.js: Function uc_reg_read failed with code "+o+":\n"+F.strerror(o);return l},this.mem_write=function(address,t){var e=t.length,n=N._malloc(e);N.writeArrayToMemory(t,n);var r=A(this.__address(address),2),o=r[0],l=r[1],c=N.getValue(this.handle_ptr,"*"),h=N.ccall("uc_mem_write","number",["pointer","number","number","pointer","number"],[c,o,l,n,e]);if(N._free(n),h!=F.ERR_OK)throw"Unicorn.js: Function uc_mem_write failed with code "+h+":\n"+F.strerror(h)},this.mem_read=function(address,t){for(var e=N._malloc(t),i=0;i<t;i++)N.setValue(e+i,0,"i8");var n=A(this.__address(address),2),r=n[0],o=n[1],l=N.getValue(this.handle_ptr,"*"),c=N.ccall("uc_mem_read","number",["pointer","number","number","pointer","number"],[l,r,o,e,t]),h=new Uint8Array(t);for(i=0;i<t;i++)h[i]=N.getValue(e+i,"i8");if(N._free(e),c!=F.ERR_OK)throw"Unicorn.js: Function uc_mem_read failed with code "+c+":\n"+F.strerror(c);return h},this.mem_map=function(address,t,e){var n=A(this.__address(address),2),r=n[0],o=n[1],l=N.getValue(this.handle_ptr,"*"),c=N.ccall("uc_mem_map","number",["pointer","number","number","number","number"],[l,r,o,t,e]);if(c!=F.ERR_OK)throw"Unicorn.js: Function uc_mem_map failed with code "+c+":\n"+F.strerror(c)},this.mem_protect=function(address,t,e){var n=A(this.__address(address),2),r=n[0],o=n[1],l=N.getValue(this.handle_ptr,"*"),c=N.ccall("uc_mem_protect","number",["pointer","number","number","number","number"],[l,r,o,t,e]);if(c!=F.ERR_OK)throw"Unicorn.js: Function uc_mem_protect failed with code "+c+":\n"+F.strerror(c)},this.mem_regions=function(){console.error("Unicorn.js: Method mem_regions unimplemented")},this.mem_unmap=function(address,t){var e=A(this.__address(address),2),n=e[0],r=e[1],o=N.getValue(this.handle_ptr,"*"),l=N.ccall("uc_mem_unmap","number",["pointer","number","number","number"],[o,n,r,t]);if(l!=F.ERR_OK)throw"Unicorn.js: Function uc_mem_unmap failed with code "+l+":\n"+F.strerror(l)},this.hook_add=function(t,e,n,r,o,l){var c=N.getValue(this.handle_ptr,"*");switch(void 0===n&&(n={}),void 0===r&&void 0===o&&(r=1,o=0),t){case F.HOOK_INSN:var h=function(t,n){return function(r,o){e(t,n)}}(this,n),d=N.addFunction(h,"vii");break;case F.HOOK_INTR:h=function(t,n){return function(r,o,l){e(t,o,n)}}(this,n),d=N.addFunction(h,"viii");break;case F.HOOK_CODE:case F.HOOK_BLOCK:h=function(t,n){return function(r,o,l,c,h){e(t,o,l,c,n)}}(this,n),d=N.addFunction(h,"viiii");break;default:(t&F.HOOK_MEM_READ||t&F.HOOK_MEM_WRITE||t&F.HOOK_MEM_FETCH||t&F.HOOK_MEM_READ_AFTER)&&(h=function(t,n){return function(r,o,l,c,h,d,m,f){e(t,o,l,c,h,d,m,n)}}(this,n),d=N.addFunction(h,"viiiiiiii")),(t&F.HOOK_MEM_READ_UNMAPPED||t&F.HOOK_MEM_WRITE_UNMAPPED||t&F.HOOK_MEM_FETCH_UNMAPPED||t&F.HOOK_MEM_READ_PROT||t&F.HOOK_MEM_WRITE_PROT||t&F.HOOK_MEM_FETCH_PROT)&&(h=function(t,n){return function(r,o,l,c,h,d,m,f){return e(t,o,l,c,h,d,m,n)}}(this,n),d=N.addFunction(h,"iiiiiiiii"))}if(void 0===h)throw"Unicorn.js: Unimplemented hook type";var m=N._malloc(4),f=N.ccall("uc_hook_add","number",["pointer","pointer","number","pointer","pointer","number","number","number","number","number"],[c,m,t,d,0,r,0,o,0,l]);if(f!=F.ERR_OK)throw N.removeFunction(d),N._free(m),"Unicorn.js: Function uc_mem_unmap failed with code "+f+":\n"+F.strerror(f);var v={handle:N.getValue(m,"*"),callback:d};return N._free(m),v},this.hook_del=function(t){var e=N.getValue(this.handle_ptr,"*"),n=N.ccall("uc_hook_del","number",["pointer","pointer"],[e,t.handle]);if(n!=F.ERR_OK)throw"Unicorn.js: Function uc_mem_unmap failed with code "+n+":\n"+F.strerror(n);N.removeFunction(t.callback)},this.emu_start=function(t,e,n,r){var o=N.getValue(this.handle_ptr,"*"),l=N.ccall("uc_emu_start","number",["pointer","number","number","number","number","number","number","number"],[o,t,0,e,0,n,0,r]);if(l!=F.ERR_OK)throw"Unicorn.js: Function uc_emu_start failed with code "+l+":\n"+F.strerror(l)},this.emu_stop=function(t,e,n,r){var o=N.getValue(this.handle_ptr,"*"),l=N.ccall("uc_emu_stop","number",["pointer"],[o]);if(l!=F.ERR_OK)throw"Unicorn.js: Function uc_emu_stop failed with code "+l+":\n"+F.strerror(l)},this.context_alloc=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_free=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_save=function(){console.error("Unicorn.js: Contexts not implemented")},this.context_restore=function(){console.error("Unicorn.js: Contexts not implemented")},this.errno=function(){var t=N.getValue(this.handle_ptr,"*");return N.ccall("uc_errno","number",["pointer"],[t])},this.close=function(){var t=N.getValue(this.handle_ptr,"*"),e=N.ccall("uc_close","number",["pointer"],[t]);if(e!=F.ERR_OK)throw"Unicorn.js: Function uc_close failed with code "+e+":\n"+F.strerror(e)},this.__integer=function(t,e){switch("number"==typeof t&&(t=[t]),this.get_integer_type()){case k:return t[0];case G:return t.map((function(t){return t.toString(16).toUpperCase()})).map((function(t){return"0".repeat(e/4-t.length)+t})).reverse().join("");case B:switch(e){case 8:return new P(t);case 16:return new C(t);case 32:return new I(t);case 64:return new L(t);default:throw"Unexpected width"}default:throw"Unimplemented integer type"}},this.__address=function(address){var t=new L(address);return[t.chunks[0]+(t.chunks[1]<<16),t.chunks[2]+(t.chunks[3]<<16)]},this._sizeof=function(t){switch(t){case"i8":return 1;case"i16":return 2;case"i32":case"float":return 4;case"i64":case"double":return 8;default:return 0}},this.reg_write_type=function(t,e,n){for(var r=this._sizeof(e),o=N._malloc(r),l=new(T(8*r))(n),i=0;i<r/2;i++)N.setValue(o+2*i,l.chunks[i],"i16");var c=N.getValue(this.handle_ptr,"*"),h=N.ccall("uc_reg_write","number",["pointer","number","pointer"],[c,t,o]);if(N._free(o),h!=F.ERR_OK)throw"Unicorn.js: Function uc_reg_write failed with code "+h+":\n"+F.strerror(h)},this.reg_write_i8=function(t,e){this.reg_write_type(t,"i8",e)},this.reg_write_i16=function(t,e){this.reg_write_type(t,"i16",e)},this.reg_write_i32=function(t,e){this.reg_write_type(t,"i32",e)},this.reg_write_i64=function(t,e){this.reg_write_type(t,"i64",e)},this.reg_write_float=function(t,e){this.reg_write_type(t,"float",e)},this.reg_write_double=function(t,e){this.reg_write_type(t,"double",e)},this.reg_read_type=function(t,e){var n=this._sizeof(e),r=N._malloc(n);N.setValue(r,0,e);var o=N.getValue(this.handle_ptr,"*"),l=N.ccall("uc_reg_read","number",["pointer","number","pointer"],[o,t,r]),c=N.getValue(r,e);if("i64"===e&&(c=[c,N.getValue(r+4,"i32")]),e.includes("i")&&(c=this.__integer(c,8*n)),N._free(r),l!=F.ERR_OK)throw"Unicorn.js: Function uc_reg_read failed with code "+l+":\n"+F.strerror(l);return c},this.reg_read_i8=function(t){return this.reg_read_type(t,"i8")},this.reg_read_i16=function(t){return this.reg_read_type(t,"i16")},this.reg_read_i32=function(t){return this.reg_read_type(t,"i32")},this.reg_read_i64=function(t){return this.reg_read_type(t,"i64")},this.reg_read_float=function(t){return this.reg_read_type(t,"float")},this.reg_read_double=function(t){return this.reg_read_type(t,"double")},this.query_type=function(t,e){var n=this._sizeof(e),r=N._malloc(n);N.setValue(value_ptr,0,e);var o=N.getValue(this.handle_ptr,"*"),l=N.ccall("uc_query","number",["pointer","number","pointer"],[o,t,r]),c=N.getValue(r,e);if("i64"===type&&(c=[c,N.getValue(r+4,"i32")]),type.includes("i")&&(c=this.__integer(c,8*n)),N._free(r),l!=F.ERR_OK)throw"Unicorn.js: Function uc_query failed with code "+l+":\n"+F.strerror(l);return c},this.query_i8=function(t){return this.query_type(t,"i8")},this.query_i16=function(t){return this.query_type(t,"i16")},this.query_i32=function(t){return this.query_type(t,"i32")},this.query_i64=function(t){return this.query_type(t,"i64")},this.query_float=function(t){return this.query_type(t,"float")},this.query_double=function(t){return this.query_type(t,"double")},this.get_integer_type=function(){return null==this.integer_type?k:this.integer_type},this.set_integer_type=function(t){this.integer_type=t};var n=N.ccall("uc_open","number",["number","number","pointer"],[this.arch,this.mode,this.handle_ptr]);if(n!=F.ERR_OK)throw N.setValue(this.handle_ptr,0,"*"),"Unicorn.js: Function uc_open failed with code "+n+":\n"+F.strerror(n)}};n(915),F.ARM64_REG_INVALID=0,F.ARM64_REG_X29=1,F.ARM64_REG_X30=2,F.ARM64_REG_NZCV=3,F.ARM64_REG_SP=4,F.ARM64_REG_WSP=5,F.ARM64_REG_WZR=6,F.ARM64_REG_XZR=7,F.ARM64_REG_B0=8,F.ARM64_REG_B1=9,F.ARM64_REG_B2=10,F.ARM64_REG_B3=11,F.ARM64_REG_B4=12,F.ARM64_REG_B5=13,F.ARM64_REG_B6=14,F.ARM64_REG_B7=15,F.ARM64_REG_B8=16,F.ARM64_REG_B9=17,F.ARM64_REG_B10=18,F.ARM64_REG_B11=19,F.ARM64_REG_B12=20,F.ARM64_REG_B13=21,F.ARM64_REG_B14=22,F.ARM64_REG_B15=23,F.ARM64_REG_B16=24,F.ARM64_REG_B17=25,F.ARM64_REG_B18=26,F.ARM64_REG_B19=27,F.ARM64_REG_B20=28,F.ARM64_REG_B21=29,F.ARM64_REG_B22=30,F.ARM64_REG_B23=31,F.ARM64_REG_B24=32,F.ARM64_REG_B25=33,F.ARM64_REG_B26=34,F.ARM64_REG_B27=35,F.ARM64_REG_B28=36,F.ARM64_REG_B29=37,F.ARM64_REG_B30=38,F.ARM64_REG_B31=39,F.ARM64_REG_D0=40,F.ARM64_REG_D1=41,F.ARM64_REG_D2=42,F.ARM64_REG_D3=43,F.ARM64_REG_D4=44,F.ARM64_REG_D5=45,F.ARM64_REG_D6=46,F.ARM64_REG_D7=47,F.ARM64_REG_D8=48,F.ARM64_REG_D9=49,F.ARM64_REG_D10=50,F.ARM64_REG_D11=51,F.ARM64_REG_D12=52,F.ARM64_REG_D13=53,F.ARM64_REG_D14=54,F.ARM64_REG_D15=55,F.ARM64_REG_D16=56,F.ARM64_REG_D17=57,F.ARM64_REG_D18=58,F.ARM64_REG_D19=59,F.ARM64_REG_D20=60,F.ARM64_REG_D21=61,F.ARM64_REG_D22=62,F.ARM64_REG_D23=63,F.ARM64_REG_D24=64,F.ARM64_REG_D25=65,F.ARM64_REG_D26=66,F.ARM64_REG_D27=67,F.ARM64_REG_D28=68,F.ARM64_REG_D29=69,F.ARM64_REG_D30=70,F.ARM64_REG_D31=71,F.ARM64_REG_H0=72,F.ARM64_REG_H1=73,F.ARM64_REG_H2=74,F.ARM64_REG_H3=75,F.ARM64_REG_H4=76,F.ARM64_REG_H5=77,F.ARM64_REG_H6=78,F.ARM64_REG_H7=79,F.ARM64_REG_H8=80,F.ARM64_REG_H9=81,F.ARM64_REG_H10=82,F.ARM64_REG_H11=83,F.ARM64_REG_H12=84,F.ARM64_REG_H13=85,F.ARM64_REG_H14=86,F.ARM64_REG_H15=87,F.ARM64_REG_H16=88,F.ARM64_REG_H17=89,F.ARM64_REG_H18=90,F.ARM64_REG_H19=91,F.ARM64_REG_H20=92,F.ARM64_REG_H21=93,F.ARM64_REG_H22=94,F.ARM64_REG_H23=95,F.ARM64_REG_H24=96,F.ARM64_REG_H25=97,F.ARM64_REG_H26=98,F.ARM64_REG_H27=99,F.ARM64_REG_H28=100,F.ARM64_REG_H29=101,F.ARM64_REG_H30=102,F.ARM64_REG_H31=103,F.ARM64_REG_Q0=104,F.ARM64_REG_Q1=105,F.ARM64_REG_Q2=106,F.ARM64_REG_Q3=107,F.ARM64_REG_Q4=108,F.ARM64_REG_Q5=109,F.ARM64_REG_Q6=110,F.ARM64_REG_Q7=111,F.ARM64_REG_Q8=112,F.ARM64_REG_Q9=113,F.ARM64_REG_Q10=114,F.ARM64_REG_Q11=115,F.ARM64_REG_Q12=116,F.ARM64_REG_Q13=117,F.ARM64_REG_Q14=118,F.ARM64_REG_Q15=119,F.ARM64_REG_Q16=120,F.ARM64_REG_Q17=121,F.ARM64_REG_Q18=122,F.ARM64_REG_Q19=123,F.ARM64_REG_Q20=124,F.ARM64_REG_Q21=125,F.ARM64_REG_Q22=126,F.ARM64_REG_Q23=127,F.ARM64_REG_Q24=128,F.ARM64_REG_Q25=129,F.ARM64_REG_Q26=130,F.ARM64_REG_Q27=131,F.ARM64_REG_Q28=132,F.ARM64_REG_Q29=133,F.ARM64_REG_Q30=134,F.ARM64_REG_Q31=135,F.ARM64_REG_S0=136,F.ARM64_REG_S1=137,F.ARM64_REG_S2=138,F.ARM64_REG_S3=139,F.ARM64_REG_S4=140,F.ARM64_REG_S5=141,F.ARM64_REG_S6=142,F.ARM64_REG_S7=143,F.ARM64_REG_S8=144,F.ARM64_REG_S9=145,F.ARM64_REG_S10=146,F.ARM64_REG_S11=147,F.ARM64_REG_S12=148,F.ARM64_REG_S13=149,F.ARM64_REG_S14=150,F.ARM64_REG_S15=151,F.ARM64_REG_S16=152,F.ARM64_REG_S17=153,F.ARM64_REG_S18=154,F.ARM64_REG_S19=155,F.ARM64_REG_S20=156,F.ARM64_REG_S21=157,F.ARM64_REG_S22=158,F.ARM64_REG_S23=159,F.ARM64_REG_S24=160,F.ARM64_REG_S25=161,F.ARM64_REG_S26=162,F.ARM64_REG_S27=163,F.ARM64_REG_S28=164,F.ARM64_REG_S29=165,F.ARM64_REG_S30=166,F.ARM64_REG_S31=167,F.ARM64_REG_W0=168,F.ARM64_REG_W1=169,F.ARM64_REG_W2=170,F.ARM64_REG_W3=171,F.ARM64_REG_W4=172,F.ARM64_REG_W5=173,F.ARM64_REG_W6=174,F.ARM64_REG_W7=175,F.ARM64_REG_W8=176,F.ARM64_REG_W9=177,F.ARM64_REG_W10=178,F.ARM64_REG_W11=179,F.ARM64_REG_W12=180,F.ARM64_REG_W13=181,F.ARM64_REG_W14=182,F.ARM64_REG_W15=183,F.ARM64_REG_W16=184,F.ARM64_REG_W17=185,F.ARM64_REG_W18=186,F.ARM64_REG_W19=187,F.ARM64_REG_W20=188,F.ARM64_REG_W21=189,F.ARM64_REG_W22=190,F.ARM64_REG_W23=191,F.ARM64_REG_W24=192,F.ARM64_REG_W25=193,F.ARM64_REG_W26=194,F.ARM64_REG_W27=195,F.ARM64_REG_W28=196,F.ARM64_REG_W29=197,F.ARM64_REG_W30=198,F.ARM64_REG_X0=199,F.ARM64_REG_X1=200,F.ARM64_REG_X2=201,F.ARM64_REG_X3=202,F.ARM64_REG_X4=203,F.ARM64_REG_X5=204,F.ARM64_REG_X6=205,F.ARM64_REG_X7=206,F.ARM64_REG_X8=207,F.ARM64_REG_X9=208,F.ARM64_REG_X10=209,F.ARM64_REG_X11=210,F.ARM64_REG_X12=211,F.ARM64_REG_X13=212,F.ARM64_REG_X14=213,F.ARM64_REG_X15=214,F.ARM64_REG_X16=215,F.ARM64_REG_X17=216,F.ARM64_REG_X18=217,F.ARM64_REG_X19=218,F.ARM64_REG_X20=219,F.ARM64_REG_X21=220,F.ARM64_REG_X22=221,F.ARM64_REG_X23=222,F.ARM64_REG_X24=223,F.ARM64_REG_X25=224,F.ARM64_REG_X26=225,F.ARM64_REG_X27=226,F.ARM64_REG_X28=227,F.ARM64_REG_V0=228,F.ARM64_REG_V1=229,F.ARM64_REG_V2=230,F.ARM64_REG_V3=231,F.ARM64_REG_V4=232,F.ARM64_REG_V5=233,F.ARM64_REG_V6=234,F.ARM64_REG_V7=235,F.ARM64_REG_V8=236,F.ARM64_REG_V9=237,F.ARM64_REG_V10=238,F.ARM64_REG_V11=239,F.ARM64_REG_V12=240,F.ARM64_REG_V13=241,F.ARM64_REG_V14=242,F.ARM64_REG_V15=243,F.ARM64_REG_V16=244,F.ARM64_REG_V17=245,F.ARM64_REG_V18=246,F.ARM64_REG_V19=247,F.ARM64_REG_V20=248,F.ARM64_REG_V21=249,F.ARM64_REG_V22=250,F.ARM64_REG_V23=251,F.ARM64_REG_V24=252,F.ARM64_REG_V25=253,F.ARM64_REG_V26=254,F.ARM64_REG_V27=255,F.ARM64_REG_V28=256,F.ARM64_REG_V29=257,F.ARM64_REG_V30=258,F.ARM64_REG_V31=259,F.ARM64_REG_PC=260,F.ARM64_REG_CPACR_EL1=261,F.ARM64_REG_TPIDR_EL0=262,F.ARM64_REG_TPIDRRO_EL0=263,F.ARM64_REG_TPIDR_EL1=264,F.ARM64_REG_PSTATE=265,F.ARM64_REG_ELR_EL0=266,F.ARM64_REG_ELR_EL1=267,F.ARM64_REG_ELR_EL2=268,F.ARM64_REG_ELR_EL3=269,F.ARM64_REG_SP_EL0=270,F.ARM64_REG_SP_EL1=271,F.ARM64_REG_SP_EL2=272,F.ARM64_REG_SP_EL3=273,F.ARM64_REG_TTBR0_EL1=274,F.ARM64_REG_TTBR1_EL1=275,F.ARM64_REG_ESR_EL0=276,F.ARM64_REG_ESR_EL1=277,F.ARM64_REG_ESR_EL2=278,F.ARM64_REG_ESR_EL3=279,F.ARM64_REG_FAR_EL0=280,F.ARM64_REG_FAR_EL1=281,F.ARM64_REG_FAR_EL2=282,F.ARM64_REG_FAR_EL3=283,F.ARM64_REG_PAR_EL1=284,F.ARM64_REG_MAIR_EL1=285,F.ARM64_REG_VBAR_EL0=286,F.ARM64_REG_VBAR_EL1=287,F.ARM64_REG_VBAR_EL2=288,F.ARM64_REG_VBAR_EL3=289,F.ARM64_REG_ENDING=290,F.ARM64_REG_IP0=215,F.ARM64_REG_IP1=216,F.ARM64_REG_FP=1,F.ARM64_REG_LR=2,F.ARM_REG_INVALID=0,F.ARM_REG_APSR=1,F.ARM_REG_APSR_NZCV=2,F.ARM_REG_CPSR=3,F.ARM_REG_FPEXC=4,F.ARM_REG_FPINST=5,F.ARM_REG_FPSCR=6,F.ARM_REG_FPSCR_NZCV=7,F.ARM_REG_FPSID=8,F.ARM_REG_ITSTATE=9,F.ARM_REG_LR=10,F.ARM_REG_PC=11,F.ARM_REG_SP=12,F.ARM_REG_SPSR=13,F.ARM_REG_D0=14,F.ARM_REG_D1=15,F.ARM_REG_D2=16,F.ARM_REG_D3=17,F.ARM_REG_D4=18,F.ARM_REG_D5=19,F.ARM_REG_D6=20,F.ARM_REG_D7=21,F.ARM_REG_D8=22,F.ARM_REG_D9=23,F.ARM_REG_D10=24,F.ARM_REG_D11=25,F.ARM_REG_D12=26,F.ARM_REG_D13=27,F.ARM_REG_D14=28,F.ARM_REG_D15=29,F.ARM_REG_D16=30,F.ARM_REG_D17=31,F.ARM_REG_D18=32,F.ARM_REG_D19=33,F.ARM_REG_D20=34,F.ARM_REG_D21=35,F.ARM_REG_D22=36,F.ARM_REG_D23=37,F.ARM_REG_D24=38,F.ARM_REG_D25=39,F.ARM_REG_D26=40,F.ARM_REG_D27=41,F.ARM_REG_D28=42,F.ARM_REG_D29=43,F.ARM_REG_D30=44,F.ARM_REG_D31=45,F.ARM_REG_FPINST2=46,F.ARM_REG_MVFR0=47,F.ARM_REG_MVFR1=48,F.ARM_REG_MVFR2=49,F.ARM_REG_Q0=50,F.ARM_REG_Q1=51,F.ARM_REG_Q2=52,F.ARM_REG_Q3=53,F.ARM_REG_Q4=54,F.ARM_REG_Q5=55,F.ARM_REG_Q6=56,F.ARM_REG_Q7=57,F.ARM_REG_Q8=58,F.ARM_REG_Q9=59,F.ARM_REG_Q10=60,F.ARM_REG_Q11=61,F.ARM_REG_Q12=62,F.ARM_REG_Q13=63,F.ARM_REG_Q14=64,F.ARM_REG_Q15=65,F.ARM_REG_R0=66,F.ARM_REG_R1=67,F.ARM_REG_R2=68,F.ARM_REG_R3=69,F.ARM_REG_R4=70,F.ARM_REG_R5=71,F.ARM_REG_R6=72,F.ARM_REG_R7=73,F.ARM_REG_R8=74,F.ARM_REG_R9=75,F.ARM_REG_R10=76,F.ARM_REG_R11=77,F.ARM_REG_R12=78,F.ARM_REG_S0=79,F.ARM_REG_S1=80,F.ARM_REG_S2=81,F.ARM_REG_S3=82,F.ARM_REG_S4=83,F.ARM_REG_S5=84,F.ARM_REG_S6=85,F.ARM_REG_S7=86,F.ARM_REG_S8=87,F.ARM_REG_S9=88,F.ARM_REG_S10=89,F.ARM_REG_S11=90,F.ARM_REG_S12=91,F.ARM_REG_S13=92,F.ARM_REG_S14=93,F.ARM_REG_S15=94,F.ARM_REG_S16=95,F.ARM_REG_S17=96,F.ARM_REG_S18=97,F.ARM_REG_S19=98,F.ARM_REG_S20=99,F.ARM_REG_S21=100,F.ARM_REG_S22=101,F.ARM_REG_S23=102,F.ARM_REG_S24=103,F.ARM_REG_S25=104,F.ARM_REG_S26=105,F.ARM_REG_S27=106,F.ARM_REG_S28=107,F.ARM_REG_S29=108,F.ARM_REG_S30=109,F.ARM_REG_S31=110,F.ARM_REG_C1_C0_2=111,F.ARM_REG_C13_C0_2=112,F.ARM_REG_C13_C0_3=113,F.ARM_REG_IPSR=114,F.ARM_REG_MSP=115,F.ARM_REG_PSP=116,F.ARM_REG_CONTROL=117,F.ARM_REG_ENDING=118,F.ARM_REG_R13=12,F.ARM_REG_R14=10,F.ARM_REG_R15=11,F.ARM_REG_SB=75,F.ARM_REG_SL=76,F.ARM_REG_FP=77,F.ARM_REG_IP=78,F.M68K_REG_INVALID=0,F.M68K_REG_A0=1,F.M68K_REG_A1=2,F.M68K_REG_A2=3,F.M68K_REG_A3=4,F.M68K_REG_A4=5,F.M68K_REG_A5=6,F.M68K_REG_A6=7,F.M68K_REG_A7=8,F.M68K_REG_D0=9,F.M68K_REG_D1=10,F.M68K_REG_D2=11,F.M68K_REG_D3=12,F.M68K_REG_D4=13,F.M68K_REG_D5=14,F.M68K_REG_D6=15,F.M68K_REG_D7=16,F.M68K_REG_SR=17,F.M68K_REG_PC=18,F.M68K_REG_ENDING=19,F.MIPS_REG_INVALID=0,F.MIPS_REG_PC=1,F.MIPS_REG_0=2,F.MIPS_REG_1=3,F.MIPS_REG_2=4,F.MIPS_REG_3=5,F.MIPS_REG_4=6,F.MIPS_REG_5=7,F.MIPS_REG_6=8,F.MIPS_REG_7=9,F.MIPS_REG_8=10,F.MIPS_REG_9=11,F.MIPS_REG_10=12,F.MIPS_REG_11=13,F.MIPS_REG_12=14,F.MIPS_REG_13=15,F.MIPS_REG_14=16,F.MIPS_REG_15=17,F.MIPS_REG_16=18,F.MIPS_REG_17=19,F.MIPS_REG_18=20,F.MIPS_REG_19=21,F.MIPS_REG_20=22,F.MIPS_REG_21=23,F.MIPS_REG_22=24,F.MIPS_REG_23=25,F.MIPS_REG_24=26,F.MIPS_REG_25=27,F.MIPS_REG_26=28,F.MIPS_REG_27=29,F.MIPS_REG_28=30,F.MIPS_REG_29=31,F.MIPS_REG_30=32,F.MIPS_REG_31=33,F.MIPS_REG_DSPCCOND=34,F.MIPS_REG_DSPCARRY=35,F.MIPS_REG_DSPEFI=36,F.MIPS_REG_DSPOUTFLAG=37,F.MIPS_REG_DSPOUTFLAG16_19=38,F.MIPS_REG_DSPOUTFLAG20=39,F.MIPS_REG_DSPOUTFLAG21=40,F.MIPS_REG_DSPOUTFLAG22=41,F.MIPS_REG_DSPOUTFLAG23=42,F.MIPS_REG_DSPPOS=43,F.MIPS_REG_DSPSCOUNT=44,F.MIPS_REG_AC0=45,F.MIPS_REG_AC1=46,F.MIPS_REG_AC2=47,F.MIPS_REG_AC3=48,F.MIPS_REG_CC0=49,F.MIPS_REG_CC1=50,F.MIPS_REG_CC2=51,F.MIPS_REG_CC3=52,F.MIPS_REG_CC4=53,F.MIPS_REG_CC5=54,F.MIPS_REG_CC6=55,F.MIPS_REG_CC7=56,F.MIPS_REG_F0=57,F.MIPS_REG_F1=58,F.MIPS_REG_F2=59,F.MIPS_REG_F3=60,F.MIPS_REG_F4=61,F.MIPS_REG_F5=62,F.MIPS_REG_F6=63,F.MIPS_REG_F7=64,F.MIPS_REG_F8=65,F.MIPS_REG_F9=66,F.MIPS_REG_F10=67,F.MIPS_REG_F11=68,F.MIPS_REG_F12=69,F.MIPS_REG_F13=70,F.MIPS_REG_F14=71,F.MIPS_REG_F15=72,F.MIPS_REG_F16=73,F.MIPS_REG_F17=74,F.MIPS_REG_F18=75,F.MIPS_REG_F19=76,F.MIPS_REG_F20=77,F.MIPS_REG_F21=78,F.MIPS_REG_F22=79,F.MIPS_REG_F23=80,F.MIPS_REG_F24=81,F.MIPS_REG_F25=82,F.MIPS_REG_F26=83,F.MIPS_REG_F27=84,F.MIPS_REG_F28=85,F.MIPS_REG_F29=86,F.MIPS_REG_F30=87,F.MIPS_REG_F31=88,F.MIPS_REG_FCC0=89,F.MIPS_REG_FCC1=90,F.MIPS_REG_FCC2=91,F.MIPS_REG_FCC3=92,F.MIPS_REG_FCC4=93,F.MIPS_REG_FCC5=94,F.MIPS_REG_FCC6=95,F.MIPS_REG_FCC7=96,F.MIPS_REG_W0=97,F.MIPS_REG_W1=98,F.MIPS_REG_W2=99,F.MIPS_REG_W3=100,F.MIPS_REG_W4=101,F.MIPS_REG_W5=102,F.MIPS_REG_W6=103,F.MIPS_REG_W7=104,F.MIPS_REG_W8=105,F.MIPS_REG_W9=106,F.MIPS_REG_W10=107,F.MIPS_REG_W11=108,F.MIPS_REG_W12=109,F.MIPS_REG_W13=110,F.MIPS_REG_W14=111,F.MIPS_REG_W15=112,F.MIPS_REG_W16=113,F.MIPS_REG_W17=114,F.MIPS_REG_W18=115,F.MIPS_REG_W19=116,F.MIPS_REG_W20=117,F.MIPS_REG_W21=118,F.MIPS_REG_W22=119,F.MIPS_REG_W23=120,F.MIPS_REG_W24=121,F.MIPS_REG_W25=122,F.MIPS_REG_W26=123,F.MIPS_REG_W27=124,F.MIPS_REG_W28=125,F.MIPS_REG_W29=126,F.MIPS_REG_W30=127,F.MIPS_REG_W31=128,F.MIPS_REG_HI=129,F.MIPS_REG_LO=130,F.MIPS_REG_P0=131,F.MIPS_REG_P1=132,F.MIPS_REG_P2=133,F.MIPS_REG_MPL0=134,F.MIPS_REG_MPL1=135,F.MIPS_REG_MPL2=136,F.MIPS_REG_CP0_CONFIG3=137,F.MIPS_REG_CP0_USERLOCAL=138,F.MIPS_REG_ENDING=139,F.MIPS_REG_ZERO=2,F.MIPS_REG_AT=3,F.MIPS_REG_V0=4,F.MIPS_REG_V1=5,F.MIPS_REG_A0=6,F.MIPS_REG_A1=7,F.MIPS_REG_A2=8,F.MIPS_REG_A3=9,F.MIPS_REG_T0=10,F.MIPS_REG_T1=11,F.MIPS_REG_T2=12,F.MIPS_REG_T3=13,F.MIPS_REG_T4=14,F.MIPS_REG_T5=15,F.MIPS_REG_T6=16,F.MIPS_REG_T7=17,F.MIPS_REG_S0=18,F.MIPS_REG_S1=19,F.MIPS_REG_S2=20,F.MIPS_REG_S3=21,F.MIPS_REG_S4=22,F.MIPS_REG_S5=23,F.MIPS_REG_S6=24,F.MIPS_REG_S7=25,F.MIPS_REG_T8=26,F.MIPS_REG_T9=27,F.MIPS_REG_K0=28,F.MIPS_REG_K1=29,F.MIPS_REG_GP=30,F.MIPS_REG_SP=31,F.MIPS_REG_FP=32,F.MIPS_REG_S8=32,F.MIPS_REG_RA=33,F.MIPS_REG_HI0=45,F.MIPS_REG_HI1=46,F.MIPS_REG_HI2=47,F.MIPS_REG_HI3=48,F.MIPS_REG_LO0=45,F.MIPS_REG_LO1=46,F.MIPS_REG_LO2=47,F.MIPS_REG_LO3=48,F.SPARC_REG_INVALID=0,F.SPARC_REG_F0=1,F.SPARC_REG_F1=2,F.SPARC_REG_F2=3,F.SPARC_REG_F3=4,F.SPARC_REG_F4=5,F.SPARC_REG_F5=6,F.SPARC_REG_F6=7,F.SPARC_REG_F7=8,F.SPARC_REG_F8=9,F.SPARC_REG_F9=10,F.SPARC_REG_F10=11,F.SPARC_REG_F11=12,F.SPARC_REG_F12=13,F.SPARC_REG_F13=14,F.SPARC_REG_F14=15,F.SPARC_REG_F15=16,F.SPARC_REG_F16=17,F.SPARC_REG_F17=18,F.SPARC_REG_F18=19,F.SPARC_REG_F19=20,F.SPARC_REG_F20=21,F.SPARC_REG_F21=22,F.SPARC_REG_F22=23,F.SPARC_REG_F23=24,F.SPARC_REG_F24=25,F.SPARC_REG_F25=26,F.SPARC_REG_F26=27,F.SPARC_REG_F27=28,F.SPARC_REG_F28=29,F.SPARC_REG_F29=30,F.SPARC_REG_F30=31,F.SPARC_REG_F31=32,F.SPARC_REG_F32=33,F.SPARC_REG_F34=34,F.SPARC_REG_F36=35,F.SPARC_REG_F38=36,F.SPARC_REG_F40=37,F.SPARC_REG_F42=38,F.SPARC_REG_F44=39,F.SPARC_REG_F46=40,F.SPARC_REG_F48=41,F.SPARC_REG_F50=42,F.SPARC_REG_F52=43,F.SPARC_REG_F54=44,F.SPARC_REG_F56=45,F.SPARC_REG_F58=46,F.SPARC_REG_F60=47,F.SPARC_REG_F62=48,F.SPARC_REG_FCC0=49,F.SPARC_REG_FCC1=50,F.SPARC_REG_FCC2=51,F.SPARC_REG_FCC3=52,F.SPARC_REG_G0=53,F.SPARC_REG_G1=54,F.SPARC_REG_G2=55,F.SPARC_REG_G3=56,F.SPARC_REG_G4=57,F.SPARC_REG_G5=58,F.SPARC_REG_G6=59,F.SPARC_REG_G7=60,F.SPARC_REG_I0=61,F.SPARC_REG_I1=62,F.SPARC_REG_I2=63,F.SPARC_REG_I3=64,F.SPARC_REG_I4=65,F.SPARC_REG_I5=66,F.SPARC_REG_FP=67,F.SPARC_REG_I7=68,F.SPARC_REG_ICC=69,F.SPARC_REG_L0=70,F.SPARC_REG_L1=71,F.SPARC_REG_L2=72,F.SPARC_REG_L3=73,F.SPARC_REG_L4=74,F.SPARC_REG_L5=75,F.SPARC_REG_L6=76,F.SPARC_REG_L7=77,F.SPARC_REG_O0=78,F.SPARC_REG_O1=79,F.SPARC_REG_O2=80,F.SPARC_REG_O3=81,F.SPARC_REG_O4=82,F.SPARC_REG_O5=83,F.SPARC_REG_SP=84,F.SPARC_REG_O7=85,F.SPARC_REG_Y=86,F.SPARC_REG_XCC=87,F.SPARC_REG_PC=88,F.SPARC_REG_ENDING=89,F.SPARC_REG_O6=84,F.SPARC_REG_I6=67,F.X86_REG_INVALID=0,F.X86_REG_AH=1,F.X86_REG_AL=2,F.X86_REG_AX=3,F.X86_REG_BH=4,F.X86_REG_BL=5,F.X86_REG_BP=6,F.X86_REG_BPL=7,F.X86_REG_BX=8,F.X86_REG_CH=9,F.X86_REG_CL=10,F.X86_REG_CS=11,F.X86_REG_CX=12,F.X86_REG_DH=13,F.X86_REG_DI=14,F.X86_REG_DIL=15,F.X86_REG_DL=16,F.X86_REG_DS=17,F.X86_REG_DX=18,F.X86_REG_EAX=19,F.X86_REG_EBP=20,F.X86_REG_EBX=21,F.X86_REG_ECX=22,F.X86_REG_EDI=23,F.X86_REG_EDX=24,F.X86_REG_EFLAGS=25,F.X86_REG_EIP=26,F.X86_REG_EIZ=27,F.X86_REG_ES=28,F.X86_REG_ESI=29,F.X86_REG_ESP=30,F.X86_REG_FPSW=31,F.X86_REG_FS=32,F.X86_REG_GS=33,F.X86_REG_IP=34,F.X86_REG_RAX=35,F.X86_REG_RBP=36,F.X86_REG_RBX=37,F.X86_REG_RCX=38,F.X86_REG_RDI=39,F.X86_REG_RDX=40,F.X86_REG_RIP=41,F.X86_REG_RIZ=42,F.X86_REG_RSI=43,F.X86_REG_RSP=44,F.X86_REG_SI=45,F.X86_REG_SIL=46,F.X86_REG_SP=47,F.X86_REG_SPL=48,F.X86_REG_SS=49,F.X86_REG_CR0=50,F.X86_REG_CR1=51,F.X86_REG_CR2=52,F.X86_REG_CR3=53,F.X86_REG_CR4=54,F.X86_REG_CR5=55,F.X86_REG_CR6=56,F.X86_REG_CR7=57,F.X86_REG_CR8=58,F.X86_REG_CR9=59,F.X86_REG_CR10=60,F.X86_REG_CR11=61,F.X86_REG_CR12=62,F.X86_REG_CR13=63,F.X86_REG_CR14=64,F.X86_REG_CR15=65,F.X86_REG_DR0=66,F.X86_REG_DR1=67,F.X86_REG_DR2=68,F.X86_REG_DR3=69,F.X86_REG_DR4=70,F.X86_REG_DR5=71,F.X86_REG_DR6=72,F.X86_REG_DR7=73,F.X86_REG_DR8=74,F.X86_REG_DR9=75,F.X86_REG_DR10=76,F.X86_REG_DR11=77,F.X86_REG_DR12=78,F.X86_REG_DR13=79,F.X86_REG_DR14=80,F.X86_REG_DR15=81,F.X86_REG_FP0=82,F.X86_REG_FP1=83,F.X86_REG_FP2=84;F.X86_REG_FP3=85,F.X86_REG_FP4=86,F.X86_REG_FP5=87,F.X86_REG_FP6=88,F.X86_REG_FP7=89,F.X86_REG_K0=90,F.X86_REG_K1=91,F.X86_REG_K2=92,F.X86_REG_K3=93,F.X86_REG_K4=94,F.X86_REG_K5=95,F.X86_REG_K6=96,F.X86_REG_K7=97,F.X86_REG_MM0=98,F.X86_REG_MM1=99,F.X86_REG_MM2=100,F.X86_REG_MM3=101,F.X86_REG_MM4=102,F.X86_REG_MM5=103,F.X86_REG_MM6=104,F.X86_REG_MM7=105,F.X86_REG_R8=106,F.X86_REG_R9=107,F.X86_REG_R10=108,F.X86_REG_R11=109,F.X86_REG_R12=110,F.X86_REG_R13=111,F.X86_REG_R14=112,F.X86_REG_R15=113,F.X86_REG_ST0=114,F.X86_REG_ST1=115,F.X86_REG_ST2=116,F.X86_REG_ST3=117,F.X86_REG_ST4=118,F.X86_REG_ST5=119,F.X86_REG_ST6=120,F.X86_REG_ST7=121,F.X86_REG_XMM0=122,F.X86_REG_XMM1=123,F.X86_REG_XMM2=124,F.X86_REG_XMM3=125,F.X86_REG_XMM4=126,F.X86_REG_XMM5=127,F.X86_REG_XMM6=128,F.X86_REG_XMM7=129,F.X86_REG_XMM8=130,F.X86_REG_XMM9=131,F.X86_REG_XMM10=132,F.X86_REG_XMM11=133,F.X86_REG_XMM12=134,F.X86_REG_XMM13=135,F.X86_REG_XMM14=136,F.X86_REG_XMM15=137,F.X86_REG_XMM16=138,F.X86_REG_XMM17=139,F.X86_REG_XMM18=140,F.X86_REG_XMM19=141,F.X86_REG_XMM20=142,F.X86_REG_XMM21=143,F.X86_REG_XMM22=144,F.X86_REG_XMM23=145,F.X86_REG_XMM24=146,F.X86_REG_XMM25=147,F.X86_REG_XMM26=148,F.X86_REG_XMM27=149,F.X86_REG_XMM28=150,F.X86_REG_XMM29=151,F.X86_REG_XMM30=152,F.X86_REG_XMM31=153,F.X86_REG_YMM0=154,F.X86_REG_YMM1=155,F.X86_REG_YMM2=156,F.X86_REG_YMM3=157,F.X86_REG_YMM4=158,F.X86_REG_YMM5=159,F.X86_REG_YMM6=160,F.X86_REG_YMM7=161,F.X86_REG_YMM8=162,F.X86_REG_YMM9=163,F.X86_REG_YMM10=164,F.X86_REG_YMM11=165,F.X86_REG_YMM12=166,F.X86_REG_YMM13=167,F.X86_REG_YMM14=168,F.X86_REG_YMM15=169,F.X86_REG_YMM16=170,F.X86_REG_YMM17=171,F.X86_REG_YMM18=172,F.X86_REG_YMM19=173,F.X86_REG_YMM20=174,F.X86_REG_YMM21=175,F.X86_REG_YMM22=176,F.X86_REG_YMM23=177,F.X86_REG_YMM24=178,F.X86_REG_YMM25=179,F.X86_REG_YMM26=180,F.X86_REG_YMM27=181,F.X86_REG_YMM28=182,F.X86_REG_YMM29=183,F.X86_REG_YMM30=184,F.X86_REG_YMM31=185,F.X86_REG_ZMM0=186,F.X86_REG_ZMM1=187,F.X86_REG_ZMM2=188,F.X86_REG_ZMM3=189,F.X86_REG_ZMM4=190,F.X86_REG_ZMM5=191,F.X86_REG_ZMM6=192,F.X86_REG_ZMM7=193,F.X86_REG_ZMM8=194,F.X86_REG_ZMM9=195,F.X86_REG_ZMM10=196,F.X86_REG_ZMM11=197,F.X86_REG_ZMM12=198,F.X86_REG_ZMM13=199,F.X86_REG_ZMM14=200,F.X86_REG_ZMM15=201,F.X86_REG_ZMM16=202,F.X86_REG_ZMM17=203,F.X86_REG_ZMM18=204,F.X86_REG_ZMM19=205,F.X86_REG_ZMM20=206,F.X86_REG_ZMM21=207,F.X86_REG_ZMM22=208,F.X86_REG_ZMM23=209,F.X86_REG_ZMM24=210,F.X86_REG_ZMM25=211,F.X86_REG_ZMM26=212,F.X86_REG_ZMM27=213,F.X86_REG_ZMM28=214,F.X86_REG_ZMM29=215,F.X86_REG_ZMM30=216,F.X86_REG_ZMM31=217,F.X86_REG_R8B=218,F.X86_REG_R9B=219,F.X86_REG_R10B=220,F.X86_REG_R11B=221,F.X86_REG_R12B=222,F.X86_REG_R13B=223,F.X86_REG_R14B=224,F.X86_REG_R15B=225,F.X86_REG_R8D=226,F.X86_REG_R9D=227,F.X86_REG_R10D=228,F.X86_REG_R11D=229,F.X86_REG_R12D=230,F.X86_REG_R13D=231,F.X86_REG_R14D=232,F.X86_REG_R15D=233,F.X86_REG_R8W=234,F.X86_REG_R9W=235,F.X86_REG_R10W=236,F.X86_REG_R11W=237,F.X86_REG_R12W=238,F.X86_REG_R13W=239,F.X86_REG_R14W=240,F.X86_REG_R15W=241,F.X86_REG_IDTR=242,F.X86_REG_GDTR=243,F.X86_REG_LDTR=244,F.X86_REG_TR=245,F.X86_REG_FPCW=246,F.X86_REG_FPTAG=247,F.X86_REG_MSR=248,F.X86_REG_MXCSR=249,F.X86_REG_FS_BASE=250,F.X86_REG_GS_BASE=251,F.X86_REG_ENDING=252,F.X86_INS_INVALID=0,F.X86_INS_AAA=1,F.X86_INS_AAD=2,F.X86_INS_AAM=3,F.X86_INS_AAS=4,F.X86_INS_FABS=5,F.X86_INS_ADC=6,F.X86_INS_ADCX=7,F.X86_INS_ADD=8,F.X86_INS_ADDPD=9,F.X86_INS_ADDPS=10,F.X86_INS_ADDSD=11,F.X86_INS_ADDSS=12,F.X86_INS_ADDSUBPD=13,F.X86_INS_ADDSUBPS=14,F.X86_INS_FADD=15,F.X86_INS_FIADD=16,F.X86_INS_FADDP=17,F.X86_INS_ADOX=18,F.X86_INS_AESDECLAST=19,F.X86_INS_AESDEC=20,F.X86_INS_AESENCLAST=21,F.X86_INS_AESENC=22,F.X86_INS_AESIMC=23,F.X86_INS_AESKEYGENASSIST=24,F.X86_INS_AND=25,F.X86_INS_ANDN=26,F.X86_INS_ANDNPD=27,F.X86_INS_ANDNPS=28,F.X86_INS_ANDPD=29,F.X86_INS_ANDPS=30,F.X86_INS_ARPL=31,F.X86_INS_BEXTR=32,F.X86_INS_BLCFILL=33,F.X86_INS_BLCI=34,F.X86_INS_BLCIC=35,F.X86_INS_BLCMSK=36,F.X86_INS_BLCS=37,F.X86_INS_BLENDPD=38,F.X86_INS_BLENDPS=39,F.X86_INS_BLENDVPD=40,F.X86_INS_BLENDVPS=41,F.X86_INS_BLSFILL=42,F.X86_INS_BLSI=43,F.X86_INS_BLSIC=44,F.X86_INS_BLSMSK=45,F.X86_INS_BLSR=46,F.X86_INS_BOUND=47,F.X86_INS_BSF=48,F.X86_INS_BSR=49,F.X86_INS_BSWAP=50,F.X86_INS_BT=51,F.X86_INS_BTC=52,F.X86_INS_BTR=53,F.X86_INS_BTS=54,F.X86_INS_BZHI=55,F.X86_INS_CALL=56,F.X86_INS_CBW=57,F.X86_INS_CDQ=58,F.X86_INS_CDQE=59,F.X86_INS_FCHS=60,F.X86_INS_CLAC=61,F.X86_INS_CLC=62,F.X86_INS_CLD=63,F.X86_INS_CLFLUSH=64,F.X86_INS_CLFLUSHOPT=65,F.X86_INS_CLGI=66,F.X86_INS_CLI=67,F.X86_INS_CLTS=68,F.X86_INS_CLWB=69,F.X86_INS_CMC=70,F.X86_INS_CMOVA=71,F.X86_INS_CMOVAE=72,F.X86_INS_CMOVB=73,F.X86_INS_CMOVBE=74,F.X86_INS_FCMOVBE=75,F.X86_INS_FCMOVB=76,F.X86_INS_CMOVE=77,F.X86_INS_FCMOVE=78,F.X86_INS_CMOVG=79,F.X86_INS_CMOVGE=80,F.X86_INS_CMOVL=81,F.X86_INS_CMOVLE=82,F.X86_INS_FCMOVNBE=83,F.X86_INS_FCMOVNB=84,F.X86_INS_CMOVNE=85,F.X86_INS_FCMOVNE=86,F.X86_INS_CMOVNO=87,F.X86_INS_CMOVNP=88,F.X86_INS_FCMOVNU=89,F.X86_INS_CMOVNS=90,F.X86_INS_CMOVO=91,F.X86_INS_CMOVP=92,F.X86_INS_FCMOVU=93,F.X86_INS_CMOVS=94,F.X86_INS_CMP=95,F.X86_INS_CMPPD=96,F.X86_INS_CMPPS=97,F.X86_INS_CMPSB=98,F.X86_INS_CMPSD=99,F.X86_INS_CMPSQ=100,F.X86_INS_CMPSS=101,F.X86_INS_CMPSW=102,F.X86_INS_CMPXCHG16B=103,F.X86_INS_CMPXCHG=104,F.X86_INS_CMPXCHG8B=105,F.X86_INS_COMISD=106,F.X86_INS_COMISS=107,F.X86_INS_FCOMP=108,F.X86_INS_FCOMPI=109,F.X86_INS_FCOMI=110,F.X86_INS_FCOM=111,F.X86_INS_FCOS=112,F.X86_INS_CPUID=113,F.X86_INS_CQO=114,F.X86_INS_CRC32=115,F.X86_INS_CVTDQ2PD=116,F.X86_INS_CVTDQ2PS=117,F.X86_INS_CVTPD2DQ=118,F.X86_INS_CVTPD2PS=119,F.X86_INS_CVTPS2DQ=120,F.X86_INS_CVTPS2PD=121,F.X86_INS_CVTSD2SI=122,F.X86_INS_CVTSD2SS=123,F.X86_INS_CVTSI2SD=124,F.X86_INS_CVTSI2SS=125,F.X86_INS_CVTSS2SD=126,F.X86_INS_CVTSS2SI=127,F.X86_INS_CVTTPD2DQ=128,F.X86_INS_CVTTPS2DQ=129,F.X86_INS_CVTTSD2SI=130,F.X86_INS_CVTTSS2SI=131,F.X86_INS_CWD=132,F.X86_INS_CWDE=133,F.X86_INS_DAA=134,F.X86_INS_DAS=135,F.X86_INS_DATA16=136,F.X86_INS_DEC=137,F.X86_INS_DIV=138,F.X86_INS_DIVPD=139,F.X86_INS_DIVPS=140,F.X86_INS_FDIVR=141,F.X86_INS_FIDIVR=142,F.X86_INS_FDIVRP=143,F.X86_INS_DIVSD=144,F.X86_INS_DIVSS=145,F.X86_INS_FDIV=146,F.X86_INS_FIDIV=147,F.X86_INS_FDIVP=148,F.X86_INS_DPPD=149,F.X86_INS_DPPS=150,F.X86_INS_RET=151,F.X86_INS_ENCLS=152,F.X86_INS_ENCLU=153,F.X86_INS_ENTER=154,F.X86_INS_EXTRACTPS=155,F.X86_INS_EXTRQ=156,F.X86_INS_F2XM1=157,F.X86_INS_LCALL=158,F.X86_INS_LJMP=159,F.X86_INS_FBLD=160,F.X86_INS_FBSTP=161,F.X86_INS_FCOMPP=162,F.X86_INS_FDECSTP=163,F.X86_INS_FEMMS=164,F.X86_INS_FFREE=165,F.X86_INS_FICOM=166,F.X86_INS_FICOMP=167,F.X86_INS_FINCSTP=168,F.X86_INS_FLDCW=169,F.X86_INS_FLDENV=170,F.X86_INS_FLDL2E=171,F.X86_INS_FLDL2T=172,F.X86_INS_FLDLG2=173,F.X86_INS_FLDLN2=174,F.X86_INS_FLDPI=175,F.X86_INS_FNCLEX=176,F.X86_INS_FNINIT=177,F.X86_INS_FNOP=178,F.X86_INS_FNSTCW=179,F.X86_INS_FNSTSW=180,F.X86_INS_FPATAN=181,F.X86_INS_FPREM=182,F.X86_INS_FPREM1=183,F.X86_INS_FPTAN=184,F.X86_INS_FFREEP=185,F.X86_INS_FRNDINT=186,F.X86_INS_FRSTOR=187,F.X86_INS_FNSAVE=188,F.X86_INS_FSCALE=189,F.X86_INS_FSETPM=190,F.X86_INS_FSINCOS=191,F.X86_INS_FNSTENV=192,F.X86_INS_FXAM=193,F.X86_INS_FXRSTOR=194,F.X86_INS_FXRSTOR64=195,F.X86_INS_FXSAVE=196,F.X86_INS_FXSAVE64=197,F.X86_INS_FXTRACT=198,F.X86_INS_FYL2X=199,F.X86_INS_FYL2XP1=200,F.X86_INS_MOVAPD=201,F.X86_INS_MOVAPS=202,F.X86_INS_ORPD=203,F.X86_INS_ORPS=204,F.X86_INS_VMOVAPD=205,F.X86_INS_VMOVAPS=206,F.X86_INS_XORPD=207,F.X86_INS_XORPS=208,F.X86_INS_GETSEC=209,F.X86_INS_HADDPD=210,F.X86_INS_HADDPS=211,F.X86_INS_HLT=212,F.X86_INS_HSUBPD=213,F.X86_INS_HSUBPS=214,F.X86_INS_IDIV=215,F.X86_INS_FILD=216,F.X86_INS_IMUL=217,F.X86_INS_IN=218,F.X86_INS_INC=219,F.X86_INS_INSB=220,F.X86_INS_INSERTPS=221,F.X86_INS_INSERTQ=222,F.X86_INS_INSD=223,F.X86_INS_INSW=224,F.X86_INS_INT=225,F.X86_INS_INT1=226,F.X86_INS_INT3=227,F.X86_INS_INTO=228,F.X86_INS_INVD=229,F.X86_INS_INVEPT=230,F.X86_INS_INVLPG=231,F.X86_INS_INVLPGA=232,F.X86_INS_INVPCID=233,F.X86_INS_INVVPID=234,F.X86_INS_IRET=235,F.X86_INS_IRETD=236,F.X86_INS_IRETQ=237,F.X86_INS_FISTTP=238,F.X86_INS_FIST=239,F.X86_INS_FISTP=240,F.X86_INS_UCOMISD=241,F.X86_INS_UCOMISS=242,F.X86_INS_VCOMISD=243,F.X86_INS_VCOMISS=244,F.X86_INS_VCVTSD2SS=245,F.X86_INS_VCVTSI2SD=246,F.X86_INS_VCVTSI2SS=247,F.X86_INS_VCVTSS2SD=248,F.X86_INS_VCVTTSD2SI=249,F.X86_INS_VCVTTSD2USI=250,F.X86_INS_VCVTTSS2SI=251,F.X86_INS_VCVTTSS2USI=252,F.X86_INS_VCVTUSI2SD=253,F.X86_INS_VCVTUSI2SS=254,F.X86_INS_VUCOMISD=255,F.X86_INS_VUCOMISS=256,F.X86_INS_JAE=257,F.X86_INS_JA=258,F.X86_INS_JBE=259,F.X86_INS_JB=260,F.X86_INS_JCXZ=261,F.X86_INS_JECXZ=262,F.X86_INS_JE=263,F.X86_INS_JGE=264,F.X86_INS_JG=265,F.X86_INS_JLE=266,F.X86_INS_JL=267,F.X86_INS_JMP=268,F.X86_INS_JNE=269,F.X86_INS_JNO=270,F.X86_INS_JNP=271,F.X86_INS_JNS=272,F.X86_INS_JO=273,F.X86_INS_JP=274,F.X86_INS_JRCXZ=275,F.X86_INS_JS=276,F.X86_INS_KANDB=277,F.X86_INS_KANDD=278,F.X86_INS_KANDNB=279,F.X86_INS_KANDND=280,F.X86_INS_KANDNQ=281,F.X86_INS_KANDNW=282,F.X86_INS_KANDQ=283,F.X86_INS_KANDW=284,F.X86_INS_KMOVB=285,F.X86_INS_KMOVD=286,F.X86_INS_KMOVQ=287,F.X86_INS_KMOVW=288,F.X86_INS_KNOTB=289,F.X86_INS_KNOTD=290,F.X86_INS_KNOTQ=291,F.X86_INS_KNOTW=292,F.X86_INS_KORB=293,F.X86_INS_KORD=294,F.X86_INS_KORQ=295,F.X86_INS_KORTESTB=296,F.X86_INS_KORTESTD=297,F.X86_INS_KORTESTQ=298,F.X86_INS_KORTESTW=299,F.X86_INS_KORW=300,F.X86_INS_KSHIFTLB=301,F.X86_INS_KSHIFTLD=302,F.X86_INS_KSHIFTLQ=303,F.X86_INS_KSHIFTLW=304,F.X86_INS_KSHIFTRB=305,F.X86_INS_KSHIFTRD=306,F.X86_INS_KSHIFTRQ=307,F.X86_INS_KSHIFTRW=308,F.X86_INS_KUNPCKBW=309,F.X86_INS_KXNORB=310,F.X86_INS_KXNORD=311,F.X86_INS_KXNORQ=312,F.X86_INS_KXNORW=313,F.X86_INS_KXORB=314,F.X86_INS_KXORD=315,F.X86_INS_KXORQ=316,F.X86_INS_KXORW=317,F.X86_INS_LAHF=318,F.X86_INS_LAR=319,F.X86_INS_LDDQU=320,F.X86_INS_LDMXCSR=321,F.X86_INS_LDS=322,F.X86_INS_FLDZ=323,F.X86_INS_FLD1=324,F.X86_INS_FLD=325,F.X86_INS_LEA=326,F.X86_INS_LEAVE=327,F.X86_INS_LES=328,F.X86_INS_LFENCE=329,F.X86_INS_LFS=330,F.X86_INS_LGDT=331,F.X86_INS_LGS=332,F.X86_INS_LIDT=333,F.X86_INS_LLDT=334,F.X86_INS_LMSW=335,F.X86_INS_OR=336,F.X86_INS_SUB=337,F.X86_INS_XOR=338,F.X86_INS_LODSB=339,F.X86_INS_LODSD=340,F.X86_INS_LODSQ=341,F.X86_INS_LODSW=342,F.X86_INS_LOOP=343,F.X86_INS_LOOPE=344,F.X86_INS_LOOPNE=345,F.X86_INS_RETF=346,F.X86_INS_RETFQ=347,F.X86_INS_LSL=348,F.X86_INS_LSS=349,F.X86_INS_LTR=350,F.X86_INS_XADD=351,F.X86_INS_LZCNT=352,F.X86_INS_MASKMOVDQU=353,F.X86_INS_MAXPD=354,F.X86_INS_MAXPS=355,F.X86_INS_MAXSD=356,F.X86_INS_MAXSS=357,F.X86_INS_MFENCE=358,F.X86_INS_MINPD=359,F.X86_INS_MINPS=360,F.X86_INS_MINSD=361,F.X86_INS_MINSS=362,F.X86_INS_CVTPD2PI=363,F.X86_INS_CVTPI2PD=364,F.X86_INS_CVTPI2PS=365,F.X86_INS_CVTPS2PI=366,F.X86_INS_CVTTPD2PI=367,F.X86_INS_CVTTPS2PI=368,F.X86_INS_EMMS=369,F.X86_INS_MASKMOVQ=370,F.X86_INS_MOVD=371,F.X86_INS_MOVDQ2Q=372,F.X86_INS_MOVNTQ=373,F.X86_INS_MOVQ2DQ=374,F.X86_INS_MOVQ=375,F.X86_INS_PABSB=376,F.X86_INS_PABSD=377,F.X86_INS_PABSW=378,F.X86_INS_PACKSSDW=379,F.X86_INS_PACKSSWB=380,F.X86_INS_PACKUSWB=381,F.X86_INS_PADDB=382,F.X86_INS_PADDD=383,F.X86_INS_PADDQ=384,F.X86_INS_PADDSB=385,F.X86_INS_PADDSW=386,F.X86_INS_PADDUSB=387,F.X86_INS_PADDUSW=388,F.X86_INS_PADDW=389,F.X86_INS_PALIGNR=390,F.X86_INS_PANDN=391,F.X86_INS_PAND=392,F.X86_INS_PAVGB=393,F.X86_INS_PAVGW=394,F.X86_INS_PCMPEQB=395,F.X86_INS_PCMPEQD=396,F.X86_INS_PCMPEQW=397,F.X86_INS_PCMPGTB=398,F.X86_INS_PCMPGTD=399,F.X86_INS_PCMPGTW=400,F.X86_INS_PEXTRW=401,F.X86_INS_PHADDSW=402,F.X86_INS_PHADDW=403,F.X86_INS_PHADDD=404,F.X86_INS_PHSUBD=405,F.X86_INS_PHSUBSW=406,F.X86_INS_PHSUBW=407,F.X86_INS_PINSRW=408,F.X86_INS_PMADDUBSW=409,F.X86_INS_PMADDWD=410,F.X86_INS_PMAXSW=411,F.X86_INS_PMAXUB=412,F.X86_INS_PMINSW=413,F.X86_INS_PMINUB=414,F.X86_INS_PMOVMSKB=415,F.X86_INS_PMULHRSW=416,F.X86_INS_PMULHUW=417,F.X86_INS_PMULHW=418,F.X86_INS_PMULLW=419,F.X86_INS_PMULUDQ=420,F.X86_INS_POR=421,F.X86_INS_PSADBW=422,F.X86_INS_PSHUFB=423,F.X86_INS_PSHUFW=424,F.X86_INS_PSIGNB=425,F.X86_INS_PSIGND=426,F.X86_INS_PSIGNW=427,F.X86_INS_PSLLD=428,F.X86_INS_PSLLQ=429,F.X86_INS_PSLLW=430,F.X86_INS_PSRAD=431,F.X86_INS_PSRAW=432,F.X86_INS_PSRLD=433,F.X86_INS_PSRLQ=434,F.X86_INS_PSRLW=435,F.X86_INS_PSUBB=436,F.X86_INS_PSUBD=437,F.X86_INS_PSUBQ=438,F.X86_INS_PSUBSB=439,F.X86_INS_PSUBSW=440,F.X86_INS_PSUBUSB=441,F.X86_INS_PSUBUSW=442,F.X86_INS_PSUBW=443,F.X86_INS_PUNPCKHBW=444,F.X86_INS_PUNPCKHDQ=445,F.X86_INS_PUNPCKHWD=446,F.X86_INS_PUNPCKLBW=447,F.X86_INS_PUNPCKLDQ=448,F.X86_INS_PUNPCKLWD=449,F.X86_INS_PXOR=450,F.X86_INS_MONITOR=451,F.X86_INS_MONTMUL=452,F.X86_INS_MOV=453,F.X86_INS_MOVABS=454,F.X86_INS_MOVBE=455,F.X86_INS_MOVDDUP=456,F.X86_INS_MOVDQA=457,F.X86_INS_MOVDQU=458,F.X86_INS_MOVHLPS=459,F.X86_INS_MOVHPD=460,F.X86_INS_MOVHPS=461,F.X86_INS_MOVLHPS=462,F.X86_INS_MOVLPD=463,F.X86_INS_MOVLPS=464,F.X86_INS_MOVMSKPD=465,F.X86_INS_MOVMSKPS=466,F.X86_INS_MOVNTDQA=467,F.X86_INS_MOVNTDQ=468,F.X86_INS_MOVNTI=469,F.X86_INS_MOVNTPD=470,F.X86_INS_MOVNTPS=471,F.X86_INS_MOVNTSD=472,F.X86_INS_MOVNTSS=473,F.X86_INS_MOVSB=474,F.X86_INS_MOVSD=475,F.X86_INS_MOVSHDUP=476,F.X86_INS_MOVSLDUP=477,F.X86_INS_MOVSQ=478,F.X86_INS_MOVSS=479,F.X86_INS_MOVSW=480,F.X86_INS_MOVSX=481,F.X86_INS_MOVSXD=482,F.X86_INS_MOVUPD=483,F.X86_INS_MOVUPS=484,F.X86_INS_MOVZX=485,F.X86_INS_MPSADBW=486,F.X86_INS_MUL=487,F.X86_INS_MULPD=488,F.X86_INS_MULPS=489,F.X86_INS_MULSD=490,F.X86_INS_MULSS=491,F.X86_INS_MULX=492,F.X86_INS_FMUL=493,F.X86_INS_FIMUL=494,F.X86_INS_FMULP=495,F.X86_INS_MWAIT=496,F.X86_INS_NEG=497,F.X86_INS_NOP=498,F.X86_INS_NOT=499,F.X86_INS_OUT=500,F.X86_INS_OUTSB=501,F.X86_INS_OUTSD=502,F.X86_INS_OUTSW=503,F.X86_INS_PACKUSDW=504,F.X86_INS_PAUSE=505,F.X86_INS_PAVGUSB=506,F.X86_INS_PBLENDVB=507,F.X86_INS_PBLENDW=508,F.X86_INS_PCLMULQDQ=509,F.X86_INS_PCMPEQQ=510,F.X86_INS_PCMPESTRI=511,F.X86_INS_PCMPESTRM=512,F.X86_INS_PCMPGTQ=513,F.X86_INS_PCMPISTRI=514,F.X86_INS_PCMPISTRM=515,F.X86_INS_PCOMMIT=516,F.X86_INS_PDEP=517,F.X86_INS_PEXT=518,F.X86_INS_PEXTRB=519,F.X86_INS_PEXTRD=520,F.X86_INS_PEXTRQ=521,F.X86_INS_PF2ID=522,F.X86_INS_PF2IW=523,F.X86_INS_PFACC=524,F.X86_INS_PFADD=525,F.X86_INS_PFCMPEQ=526,F.X86_INS_PFCMPGE=527,F.X86_INS_PFCMPGT=528,F.X86_INS_PFMAX=529,F.X86_INS_PFMIN=530,F.X86_INS_PFMUL=531,F.X86_INS_PFNACC=532,F.X86_INS_PFPNACC=533,F.X86_INS_PFRCPIT1=534,F.X86_INS_PFRCPIT2=535,F.X86_INS_PFRCP=536,F.X86_INS_PFRSQIT1=537,F.X86_INS_PFRSQRT=538,F.X86_INS_PFSUBR=539,F.X86_INS_PFSUB=540,F.X86_INS_PHMINPOSUW=541,F.X86_INS_PI2FD=542,F.X86_INS_PI2FW=543,F.X86_INS_PINSRB=544,F.X86_INS_PINSRD=545,F.X86_INS_PINSRQ=546,F.X86_INS_PMAXSB=547,F.X86_INS_PMAXSD=548,F.X86_INS_PMAXUD=549,F.X86_INS_PMAXUW=550,F.X86_INS_PMINSB=551,F.X86_INS_PMINSD=552,F.X86_INS_PMINUD=553,F.X86_INS_PMINUW=554,F.X86_INS_PMOVSXBD=555,F.X86_INS_PMOVSXBQ=556,F.X86_INS_PMOVSXBW=557,F.X86_INS_PMOVSXDQ=558,F.X86_INS_PMOVSXWD=559,F.X86_INS_PMOVSXWQ=560,F.X86_INS_PMOVZXBD=561,F.X86_INS_PMOVZXBQ=562,F.X86_INS_PMOVZXBW=563,F.X86_INS_PMOVZXDQ=564,F.X86_INS_PMOVZXWD=565,F.X86_INS_PMOVZXWQ=566,F.X86_INS_PMULDQ=567,F.X86_INS_PMULHRW=568,F.X86_INS_PMULLD=569,F.X86_INS_POP=570,F.X86_INS_POPAW=571,F.X86_INS_POPAL=572,F.X86_INS_POPCNT=573,F.X86_INS_POPF=574,F.X86_INS_POPFD=575,F.X86_INS_POPFQ=576,F.X86_INS_PREFETCH=577,F.X86_INS_PREFETCHNTA=578,F.X86_INS_PREFETCHT0=579,F.X86_INS_PREFETCHT1=580,F.X86_INS_PREFETCHT2=581,F.X86_INS_PREFETCHW=582,F.X86_INS_PSHUFD=583,F.X86_INS_PSHUFHW=584,F.X86_INS_PSHUFLW=585,F.X86_INS_PSLLDQ=586,F.X86_INS_PSRLDQ=587,F.X86_INS_PSWAPD=588,F.X86_INS_PTEST=589,F.X86_INS_PUNPCKHQDQ=590,F.X86_INS_PUNPCKLQDQ=591,F.X86_INS_PUSH=592,F.X86_INS_PUSHAW=593,F.X86_INS_PUSHAL=594,F.X86_INS_PUSHF=595,F.X86_INS_PUSHFD=596,F.X86_INS_PUSHFQ=597,F.X86_INS_RCL=598,F.X86_INS_RCPPS=599,F.X86_INS_RCPSS=600,F.X86_INS_RCR=601,F.X86_INS_RDFSBASE=602,F.X86_INS_RDGSBASE=603,F.X86_INS_RDMSR=604,F.X86_INS_RDPMC=605,F.X86_INS_RDRAND=606,F.X86_INS_RDSEED=607,F.X86_INS_RDTSC=608,F.X86_INS_RDTSCP=609,F.X86_INS_ROL=610,F.X86_INS_ROR=611,F.X86_INS_RORX=612,F.X86_INS_ROUNDPD=613,F.X86_INS_ROUNDPS=614,F.X86_INS_ROUNDSD=615,F.X86_INS_ROUNDSS=616,F.X86_INS_RSM=617,F.X86_INS_RSQRTPS=618,F.X86_INS_RSQRTSS=619,F.X86_INS_SAHF=620,F.X86_INS_SAL=621,F.X86_INS_SALC=622,F.X86_INS_SAR=623,F.X86_INS_SARX=624,F.X86_INS_SBB=625,F.X86_INS_SCASB=626,F.X86_INS_SCASD=627,F.X86_INS_SCASQ=628,F.X86_INS_SCASW=629,F.X86_INS_SETAE=630,F.X86_INS_SETA=631;F.X86_INS_SETBE=632,F.X86_INS_SETB=633,F.X86_INS_SETE=634,F.X86_INS_SETGE=635,F.X86_INS_SETG=636,F.X86_INS_SETLE=637,F.X86_INS_SETL=638,F.X86_INS_SETNE=639,F.X86_INS_SETNO=640,F.X86_INS_SETNP=641,F.X86_INS_SETNS=642,F.X86_INS_SETO=643,F.X86_INS_SETP=644,F.X86_INS_SETS=645,F.X86_INS_SFENCE=646,F.X86_INS_SGDT=647,F.X86_INS_SHA1MSG1=648,F.X86_INS_SHA1MSG2=649,F.X86_INS_SHA1NEXTE=650,F.X86_INS_SHA1RNDS4=651,F.X86_INS_SHA256MSG1=652,F.X86_INS_SHA256MSG2=653,F.X86_INS_SHA256RNDS2=654,F.X86_INS_SHL=655,F.X86_INS_SHLD=656,F.X86_INS_SHLX=657,F.X86_INS_SHR=658,F.X86_INS_SHRD=659,F.X86_INS_SHRX=660,F.X86_INS_SHUFPD=661,F.X86_INS_SHUFPS=662,F.X86_INS_SIDT=663,F.X86_INS_FSIN=664,F.X86_INS_SKINIT=665,F.X86_INS_SLDT=666,F.X86_INS_SMSW=667,F.X86_INS_SQRTPD=668,F.X86_INS_SQRTPS=669,F.X86_INS_SQRTSD=670,F.X86_INS_SQRTSS=671,F.X86_INS_FSQRT=672,F.X86_INS_STAC=673,F.X86_INS_STC=674,F.X86_INS_STD=675,F.X86_INS_STGI=676,F.X86_INS_STI=677,F.X86_INS_STMXCSR=678,F.X86_INS_STOSB=679,F.X86_INS_STOSD=680,F.X86_INS_STOSQ=681,F.X86_INS_STOSW=682,F.X86_INS_STR=683,F.X86_INS_FST=684,F.X86_INS_FSTP=685,F.X86_INS_FSTPNCE=686,F.X86_INS_FXCH=687,F.X86_INS_SUBPD=688,F.X86_INS_SUBPS=689,F.X86_INS_FSUBR=690,F.X86_INS_FISUBR=691,F.X86_INS_FSUBRP=692,F.X86_INS_SUBSD=693,F.X86_INS_SUBSS=694,F.X86_INS_FSUB=695,F.X86_INS_FISUB=696,F.X86_INS_FSUBP=697,F.X86_INS_SWAPGS=698,F.X86_INS_SYSCALL=699,F.X86_INS_SYSENTER=700,F.X86_INS_SYSEXIT=701,F.X86_INS_SYSRET=702,F.X86_INS_T1MSKC=703,F.X86_INS_TEST=704,F.X86_INS_UD2=705,F.X86_INS_FTST=706,F.X86_INS_TZCNT=707,F.X86_INS_TZMSK=708,F.X86_INS_FUCOMPI=709,F.X86_INS_FUCOMI=710,F.X86_INS_FUCOMPP=711,F.X86_INS_FUCOMP=712,F.X86_INS_FUCOM=713,F.X86_INS_UD2B=714,F.X86_INS_UNPCKHPD=715,F.X86_INS_UNPCKHPS=716,F.X86_INS_UNPCKLPD=717,F.X86_INS_UNPCKLPS=718,F.X86_INS_VADDPD=719,F.X86_INS_VADDPS=720,F.X86_INS_VADDSD=721,F.X86_INS_VADDSS=722,F.X86_INS_VADDSUBPD=723,F.X86_INS_VADDSUBPS=724,F.X86_INS_VAESDECLAST=725,F.X86_INS_VAESDEC=726,F.X86_INS_VAESENCLAST=727,F.X86_INS_VAESENC=728,F.X86_INS_VAESIMC=729,F.X86_INS_VAESKEYGENASSIST=730,F.X86_INS_VALIGND=731,F.X86_INS_VALIGNQ=732,F.X86_INS_VANDNPD=733,F.X86_INS_VANDNPS=734,F.X86_INS_VANDPD=735,F.X86_INS_VANDPS=736,F.X86_INS_VBLENDMPD=737,F.X86_INS_VBLENDMPS=738,F.X86_INS_VBLENDPD=739,F.X86_INS_VBLENDPS=740,F.X86_INS_VBLENDVPD=741,F.X86_INS_VBLENDVPS=742,F.X86_INS_VBROADCASTF128=743,F.X86_INS_VBROADCASTI32X4=744,F.X86_INS_VBROADCASTI64X4=745,F.X86_INS_VBROADCASTSD=746,F.X86_INS_VBROADCASTSS=747,F.X86_INS_VCMPPD=748,F.X86_INS_VCMPPS=749,F.X86_INS_VCMPSD=750,F.X86_INS_VCMPSS=751,F.X86_INS_VCOMPRESSPD=752,F.X86_INS_VCOMPRESSPS=753,F.X86_INS_VCVTDQ2PD=754,F.X86_INS_VCVTDQ2PS=755,F.X86_INS_VCVTPD2DQX=756,F.X86_INS_VCVTPD2DQ=757,F.X86_INS_VCVTPD2PSX=758,F.X86_INS_VCVTPD2PS=759,F.X86_INS_VCVTPD2UDQ=760,F.X86_INS_VCVTPH2PS=761,F.X86_INS_VCVTPS2DQ=762,F.X86_INS_VCVTPS2PD=763,F.X86_INS_VCVTPS2PH=764,F.X86_INS_VCVTPS2UDQ=765,F.X86_INS_VCVTSD2SI=766,F.X86_INS_VCVTSD2USI=767,F.X86_INS_VCVTSS2SI=768,F.X86_INS_VCVTSS2USI=769,F.X86_INS_VCVTTPD2DQX=770,F.X86_INS_VCVTTPD2DQ=771,F.X86_INS_VCVTTPD2UDQ=772,F.X86_INS_VCVTTPS2DQ=773,F.X86_INS_VCVTTPS2UDQ=774,F.X86_INS_VCVTUDQ2PD=775,F.X86_INS_VCVTUDQ2PS=776,F.X86_INS_VDIVPD=777,F.X86_INS_VDIVPS=778,F.X86_INS_VDIVSD=779,F.X86_INS_VDIVSS=780,F.X86_INS_VDPPD=781,F.X86_INS_VDPPS=782,F.X86_INS_VERR=783,F.X86_INS_VERW=784,F.X86_INS_VEXP2PD=785,F.X86_INS_VEXP2PS=786,F.X86_INS_VEXPANDPD=787,F.X86_INS_VEXPANDPS=788,F.X86_INS_VEXTRACTF128=789,F.X86_INS_VEXTRACTF32X4=790,F.X86_INS_VEXTRACTF64X4=791,F.X86_INS_VEXTRACTI128=792,F.X86_INS_VEXTRACTI32X4=793,F.X86_INS_VEXTRACTI64X4=794,F.X86_INS_VEXTRACTPS=795,F.X86_INS_VFMADD132PD=796,F.X86_INS_VFMADD132PS=797,F.X86_INS_VFMADDPD=798,F.X86_INS_VFMADD213PD=799,F.X86_INS_VFMADD231PD=800,F.X86_INS_VFMADDPS=801,F.X86_INS_VFMADD213PS=802,F.X86_INS_VFMADD231PS=803,F.X86_INS_VFMADDSD=804,F.X86_INS_VFMADD213SD=805,F.X86_INS_VFMADD132SD=806,F.X86_INS_VFMADD231SD=807,F.X86_INS_VFMADDSS=808,F.X86_INS_VFMADD213SS=809,F.X86_INS_VFMADD132SS=810,F.X86_INS_VFMADD231SS=811,F.X86_INS_VFMADDSUB132PD=812,F.X86_INS_VFMADDSUB132PS=813,F.X86_INS_VFMADDSUBPD=814,F.X86_INS_VFMADDSUB213PD=815,F.X86_INS_VFMADDSUB231PD=816,F.X86_INS_VFMADDSUBPS=817,F.X86_INS_VFMADDSUB213PS=818,F.X86_INS_VFMADDSUB231PS=819,F.X86_INS_VFMSUB132PD=820,F.X86_INS_VFMSUB132PS=821,F.X86_INS_VFMSUBADD132PD=822,F.X86_INS_VFMSUBADD132PS=823,F.X86_INS_VFMSUBADDPD=824,F.X86_INS_VFMSUBADD213PD=825,F.X86_INS_VFMSUBADD231PD=826,F.X86_INS_VFMSUBADDPS=827,F.X86_INS_VFMSUBADD213PS=828,F.X86_INS_VFMSUBADD231PS=829,F.X86_INS_VFMSUBPD=830,F.X86_INS_VFMSUB213PD=831,F.X86_INS_VFMSUB231PD=832,F.X86_INS_VFMSUBPS=833,F.X86_INS_VFMSUB213PS=834,F.X86_INS_VFMSUB231PS=835,F.X86_INS_VFMSUBSD=836,F.X86_INS_VFMSUB213SD=837,F.X86_INS_VFMSUB132SD=838,F.X86_INS_VFMSUB231SD=839,F.X86_INS_VFMSUBSS=840,F.X86_INS_VFMSUB213SS=841,F.X86_INS_VFMSUB132SS=842,F.X86_INS_VFMSUB231SS=843,F.X86_INS_VFNMADD132PD=844,F.X86_INS_VFNMADD132PS=845,F.X86_INS_VFNMADDPD=846,F.X86_INS_VFNMADD213PD=847,F.X86_INS_VFNMADD231PD=848,F.X86_INS_VFNMADDPS=849,F.X86_INS_VFNMADD213PS=850,F.X86_INS_VFNMADD231PS=851,F.X86_INS_VFNMADDSD=852,F.X86_INS_VFNMADD213SD=853,F.X86_INS_VFNMADD132SD=854,F.X86_INS_VFNMADD231SD=855,F.X86_INS_VFNMADDSS=856,F.X86_INS_VFNMADD213SS=857,F.X86_INS_VFNMADD132SS=858,F.X86_INS_VFNMADD231SS=859,F.X86_INS_VFNMSUB132PD=860,F.X86_INS_VFNMSUB132PS=861,F.X86_INS_VFNMSUBPD=862,F.X86_INS_VFNMSUB213PD=863,F.X86_INS_VFNMSUB231PD=864,F.X86_INS_VFNMSUBPS=865,F.X86_INS_VFNMSUB213PS=866,F.X86_INS_VFNMSUB231PS=867,F.X86_INS_VFNMSUBSD=868,F.X86_INS_VFNMSUB213SD=869,F.X86_INS_VFNMSUB132SD=870,F.X86_INS_VFNMSUB231SD=871,F.X86_INS_VFNMSUBSS=872,F.X86_INS_VFNMSUB213SS=873,F.X86_INS_VFNMSUB132SS=874,F.X86_INS_VFNMSUB231SS=875,F.X86_INS_VFRCZPD=876,F.X86_INS_VFRCZPS=877,F.X86_INS_VFRCZSD=878,F.X86_INS_VFRCZSS=879,F.X86_INS_VORPD=880,F.X86_INS_VORPS=881,F.X86_INS_VXORPD=882,F.X86_INS_VXORPS=883,F.X86_INS_VGATHERDPD=884,F.X86_INS_VGATHERDPS=885,F.X86_INS_VGATHERPF0DPD=886,F.X86_INS_VGATHERPF0DPS=887,F.X86_INS_VGATHERPF0QPD=888,F.X86_INS_VGATHERPF0QPS=889,F.X86_INS_VGATHERPF1DPD=890,F.X86_INS_VGATHERPF1DPS=891,F.X86_INS_VGATHERPF1QPD=892,F.X86_INS_VGATHERPF1QPS=893,F.X86_INS_VGATHERQPD=894,F.X86_INS_VGATHERQPS=895,F.X86_INS_VHADDPD=896,F.X86_INS_VHADDPS=897,F.X86_INS_VHSUBPD=898,F.X86_INS_VHSUBPS=899,F.X86_INS_VINSERTF128=900,F.X86_INS_VINSERTF32X4=901,F.X86_INS_VINSERTF32X8=902,F.X86_INS_VINSERTF64X2=903,F.X86_INS_VINSERTF64X4=904,F.X86_INS_VINSERTI128=905,F.X86_INS_VINSERTI32X4=906,F.X86_INS_VINSERTI32X8=907,F.X86_INS_VINSERTI64X2=908,F.X86_INS_VINSERTI64X4=909,F.X86_INS_VINSERTPS=910,F.X86_INS_VLDDQU=911,F.X86_INS_VLDMXCSR=912,F.X86_INS_VMASKMOVDQU=913,F.X86_INS_VMASKMOVPD=914,F.X86_INS_VMASKMOVPS=915,F.X86_INS_VMAXPD=916,F.X86_INS_VMAXPS=917,F.X86_INS_VMAXSD=918,F.X86_INS_VMAXSS=919,F.X86_INS_VMCALL=920,F.X86_INS_VMCLEAR=921,F.X86_INS_VMFUNC=922,F.X86_INS_VMINPD=923,F.X86_INS_VMINPS=924,F.X86_INS_VMINSD=925,F.X86_INS_VMINSS=926,F.X86_INS_VMLAUNCH=927,F.X86_INS_VMLOAD=928,F.X86_INS_VMMCALL=929,F.X86_INS_VMOVQ=930,F.X86_INS_VMOVDDUP=931,F.X86_INS_VMOVD=932,F.X86_INS_VMOVDQA32=933,F.X86_INS_VMOVDQA64=934,F.X86_INS_VMOVDQA=935,F.X86_INS_VMOVDQU16=936,F.X86_INS_VMOVDQU32=937,F.X86_INS_VMOVDQU64=938,F.X86_INS_VMOVDQU8=939,F.X86_INS_VMOVDQU=940,F.X86_INS_VMOVHLPS=941,F.X86_INS_VMOVHPD=942,F.X86_INS_VMOVHPS=943,F.X86_INS_VMOVLHPS=944,F.X86_INS_VMOVLPD=945,F.X86_INS_VMOVLPS=946,F.X86_INS_VMOVMSKPD=947,F.X86_INS_VMOVMSKPS=948,F.X86_INS_VMOVNTDQA=949,F.X86_INS_VMOVNTDQ=950,F.X86_INS_VMOVNTPD=951,F.X86_INS_VMOVNTPS=952,F.X86_INS_VMOVSD=953,F.X86_INS_VMOVSHDUP=954,F.X86_INS_VMOVSLDUP=955,F.X86_INS_VMOVSS=956,F.X86_INS_VMOVUPD=957,F.X86_INS_VMOVUPS=958,F.X86_INS_VMPSADBW=959,F.X86_INS_VMPTRLD=960,F.X86_INS_VMPTRST=961,F.X86_INS_VMREAD=962,F.X86_INS_VMRESUME=963,F.X86_INS_VMRUN=964,F.X86_INS_VMSAVE=965,F.X86_INS_VMULPD=966,F.X86_INS_VMULPS=967,F.X86_INS_VMULSD=968,F.X86_INS_VMULSS=969,F.X86_INS_VMWRITE=970,F.X86_INS_VMXOFF=971,F.X86_INS_VMXON=972,F.X86_INS_VPABSB=973,F.X86_INS_VPABSD=974,F.X86_INS_VPABSQ=975,F.X86_INS_VPABSW=976,F.X86_INS_VPACKSSDW=977,F.X86_INS_VPACKSSWB=978,F.X86_INS_VPACKUSDW=979,F.X86_INS_VPACKUSWB=980,F.X86_INS_VPADDB=981,F.X86_INS_VPADDD=982,F.X86_INS_VPADDQ=983,F.X86_INS_VPADDSB=984,F.X86_INS_VPADDSW=985,F.X86_INS_VPADDUSB=986,F.X86_INS_VPADDUSW=987,F.X86_INS_VPADDW=988,F.X86_INS_VPALIGNR=989,F.X86_INS_VPANDD=990,F.X86_INS_VPANDND=991,F.X86_INS_VPANDNQ=992,F.X86_INS_VPANDN=993,F.X86_INS_VPANDQ=994,F.X86_INS_VPAND=995,F.X86_INS_VPAVGB=996,F.X86_INS_VPAVGW=997,F.X86_INS_VPBLENDD=998,F.X86_INS_VPBLENDMB=999,F.X86_INS_VPBLENDMD=1e3,F.X86_INS_VPBLENDMQ=1001,F.X86_INS_VPBLENDMW=1002,F.X86_INS_VPBLENDVB=1003,F.X86_INS_VPBLENDW=1004,F.X86_INS_VPBROADCASTB=1005,F.X86_INS_VPBROADCASTD=1006,F.X86_INS_VPBROADCASTMB2Q=1007,F.X86_INS_VPBROADCASTMW2D=1008,F.X86_INS_VPBROADCASTQ=1009,F.X86_INS_VPBROADCASTW=1010,F.X86_INS_VPCLMULQDQ=1011,F.X86_INS_VPCMOV=1012,F.X86_INS_VPCMPB=1013,F.X86_INS_VPCMPD=1014,F.X86_INS_VPCMPEQB=1015,F.X86_INS_VPCMPEQD=1016,F.X86_INS_VPCMPEQQ=1017,F.X86_INS_VPCMPEQW=1018,F.X86_INS_VPCMPESTRI=1019,F.X86_INS_VPCMPESTRM=1020,F.X86_INS_VPCMPGTB=1021,F.X86_INS_VPCMPGTD=1022,F.X86_INS_VPCMPGTQ=1023,F.X86_INS_VPCMPGTW=1024,F.X86_INS_VPCMPISTRI=1025,F.X86_INS_VPCMPISTRM=1026,F.X86_INS_VPCMPQ=1027,F.X86_INS_VPCMPUB=1028,F.X86_INS_VPCMPUD=1029,F.X86_INS_VPCMPUQ=1030,F.X86_INS_VPCMPUW=1031,F.X86_INS_VPCMPW=1032,F.X86_INS_VPCOMB=1033,F.X86_INS_VPCOMD=1034,F.X86_INS_VPCOMPRESSD=1035,F.X86_INS_VPCOMPRESSQ=1036,F.X86_INS_VPCOMQ=1037,F.X86_INS_VPCOMUB=1038,F.X86_INS_VPCOMUD=1039,F.X86_INS_VPCOMUQ=1040,F.X86_INS_VPCOMUW=1041,F.X86_INS_VPCOMW=1042,F.X86_INS_VPCONFLICTD=1043,F.X86_INS_VPCONFLICTQ=1044,F.X86_INS_VPERM2F128=1045,F.X86_INS_VPERM2I128=1046,F.X86_INS_VPERMD=1047,F.X86_INS_VPERMI2D=1048,F.X86_INS_VPERMI2PD=1049,F.X86_INS_VPERMI2PS=1050,F.X86_INS_VPERMI2Q=1051,F.X86_INS_VPERMIL2PD=1052,F.X86_INS_VPERMIL2PS=1053,F.X86_INS_VPERMILPD=1054,F.X86_INS_VPERMILPS=1055,F.X86_INS_VPERMPD=1056,F.X86_INS_VPERMPS=1057,F.X86_INS_VPERMQ=1058,F.X86_INS_VPERMT2D=1059,F.X86_INS_VPERMT2PD=1060,F.X86_INS_VPERMT2PS=1061,F.X86_INS_VPERMT2Q=1062,F.X86_INS_VPEXPANDD=1063,F.X86_INS_VPEXPANDQ=1064,F.X86_INS_VPEXTRB=1065,F.X86_INS_VPEXTRD=1066,F.X86_INS_VPEXTRQ=1067,F.X86_INS_VPEXTRW=1068,F.X86_INS_VPGATHERDD=1069,F.X86_INS_VPGATHERDQ=1070,F.X86_INS_VPGATHERQD=1071,F.X86_INS_VPGATHERQQ=1072,F.X86_INS_VPHADDBD=1073,F.X86_INS_VPHADDBQ=1074,F.X86_INS_VPHADDBW=1075,F.X86_INS_VPHADDDQ=1076,F.X86_INS_VPHADDD=1077,F.X86_INS_VPHADDSW=1078,F.X86_INS_VPHADDUBD=1079,F.X86_INS_VPHADDUBQ=1080,F.X86_INS_VPHADDUBW=1081,F.X86_INS_VPHADDUDQ=1082,F.X86_INS_VPHADDUWD=1083,F.X86_INS_VPHADDUWQ=1084,F.X86_INS_VPHADDWD=1085,F.X86_INS_VPHADDWQ=1086,F.X86_INS_VPHADDW=1087,F.X86_INS_VPHMINPOSUW=1088,F.X86_INS_VPHSUBBW=1089,F.X86_INS_VPHSUBDQ=1090,F.X86_INS_VPHSUBD=1091,F.X86_INS_VPHSUBSW=1092,F.X86_INS_VPHSUBWD=1093,F.X86_INS_VPHSUBW=1094,F.X86_INS_VPINSRB=1095,F.X86_INS_VPINSRD=1096,F.X86_INS_VPINSRQ=1097,F.X86_INS_VPINSRW=1098,F.X86_INS_VPLZCNTD=1099,F.X86_INS_VPLZCNTQ=1100,F.X86_INS_VPMACSDD=1101,F.X86_INS_VPMACSDQH=1102,F.X86_INS_VPMACSDQL=1103,F.X86_INS_VPMACSSDD=1104,F.X86_INS_VPMACSSDQH=1105,F.X86_INS_VPMACSSDQL=1106,F.X86_INS_VPMACSSWD=1107,F.X86_INS_VPMACSSWW=1108,F.X86_INS_VPMACSWD=1109,F.X86_INS_VPMACSWW=1110,F.X86_INS_VPMADCSSWD=1111,F.X86_INS_VPMADCSWD=1112,F.X86_INS_VPMADDUBSW=1113,F.X86_INS_VPMADDWD=1114,F.X86_INS_VPMASKMOVD=1115,F.X86_INS_VPMASKMOVQ=1116,F.X86_INS_VPMAXSB=1117,F.X86_INS_VPMAXSD=1118,F.X86_INS_VPMAXSQ=1119,F.X86_INS_VPMAXSW=1120,F.X86_INS_VPMAXUB=1121,F.X86_INS_VPMAXUD=1122,F.X86_INS_VPMAXUQ=1123,F.X86_INS_VPMAXUW=1124,F.X86_INS_VPMINSB=1125,F.X86_INS_VPMINSD=1126,F.X86_INS_VPMINSQ=1127,F.X86_INS_VPMINSW=1128,F.X86_INS_VPMINUB=1129,F.X86_INS_VPMINUD=1130,F.X86_INS_VPMINUQ=1131,F.X86_INS_VPMINUW=1132,F.X86_INS_VPMOVDB=1133,F.X86_INS_VPMOVDW=1134,F.X86_INS_VPMOVM2B=1135,F.X86_INS_VPMOVM2D=1136,F.X86_INS_VPMOVM2Q=1137,F.X86_INS_VPMOVM2W=1138,F.X86_INS_VPMOVMSKB=1139,F.X86_INS_VPMOVQB=1140,F.X86_INS_VPMOVQD=1141,F.X86_INS_VPMOVQW=1142,F.X86_INS_VPMOVSDB=1143,F.X86_INS_VPMOVSDW=1144,F.X86_INS_VPMOVSQB=1145,F.X86_INS_VPMOVSQD=1146,F.X86_INS_VPMOVSQW=1147,F.X86_INS_VPMOVSXBD=1148,F.X86_INS_VPMOVSXBQ=1149,F.X86_INS_VPMOVSXBW=1150,F.X86_INS_VPMOVSXDQ=1151,F.X86_INS_VPMOVSXWD=1152,F.X86_INS_VPMOVSXWQ=1153,F.X86_INS_VPMOVUSDB=1154,F.X86_INS_VPMOVUSDW=1155,F.X86_INS_VPMOVUSQB=1156,F.X86_INS_VPMOVUSQD=1157,F.X86_INS_VPMOVUSQW=1158,F.X86_INS_VPMOVZXBD=1159,F.X86_INS_VPMOVZXBQ=1160,F.X86_INS_VPMOVZXBW=1161,F.X86_INS_VPMOVZXDQ=1162,F.X86_INS_VPMOVZXWD=1163,F.X86_INS_VPMOVZXWQ=1164,F.X86_INS_VPMULDQ=1165,F.X86_INS_VPMULHRSW=1166,F.X86_INS_VPMULHUW=1167,F.X86_INS_VPMULHW=1168,F.X86_INS_VPMULLD=1169,F.X86_INS_VPMULLQ=1170,F.X86_INS_VPMULLW=1171,F.X86_INS_VPMULUDQ=1172,F.X86_INS_VPORD=1173,F.X86_INS_VPORQ=1174,F.X86_INS_VPOR=1175,F.X86_INS_VPPERM=1176,F.X86_INS_VPROTB=1177,F.X86_INS_VPROTD=1178,F.X86_INS_VPROTQ=1179,F.X86_INS_VPROTW=1180,F.X86_INS_VPSADBW=1181,F.X86_INS_VPSCATTERDD=1182,F.X86_INS_VPSCATTERDQ=1183,F.X86_INS_VPSCATTERQD=1184,F.X86_INS_VPSCATTERQQ=1185,F.X86_INS_VPSHAB=1186,F.X86_INS_VPSHAD=1187,F.X86_INS_VPSHAQ=1188,F.X86_INS_VPSHAW=1189,F.X86_INS_VPSHLB=1190,F.X86_INS_VPSHLD=1191,F.X86_INS_VPSHLQ=1192,F.X86_INS_VPSHLW=1193,F.X86_INS_VPSHUFB=1194,F.X86_INS_VPSHUFD=1195,F.X86_INS_VPSHUFHW=1196,F.X86_INS_VPSHUFLW=1197,F.X86_INS_VPSIGNB=1198,F.X86_INS_VPSIGND=1199,F.X86_INS_VPSIGNW=1200,F.X86_INS_VPSLLDQ=1201,F.X86_INS_VPSLLD=1202,F.X86_INS_VPSLLQ=1203,F.X86_INS_VPSLLVD=1204,F.X86_INS_VPSLLVQ=1205,F.X86_INS_VPSLLW=1206,F.X86_INS_VPSRAD=1207,F.X86_INS_VPSRAQ=1208,F.X86_INS_VPSRAVD=1209,F.X86_INS_VPSRAVQ=1210,F.X86_INS_VPSRAW=1211,F.X86_INS_VPSRLDQ=1212,F.X86_INS_VPSRLD=1213,F.X86_INS_VPSRLQ=1214,F.X86_INS_VPSRLVD=1215,F.X86_INS_VPSRLVQ=1216,F.X86_INS_VPSRLW=1217,F.X86_INS_VPSUBB=1218,F.X86_INS_VPSUBD=1219,F.X86_INS_VPSUBQ=1220,F.X86_INS_VPSUBSB=1221,F.X86_INS_VPSUBSW=1222,F.X86_INS_VPSUBUSB=1223,F.X86_INS_VPSUBUSW=1224,F.X86_INS_VPSUBW=1225,F.X86_INS_VPTESTMD=1226,F.X86_INS_VPTESTMQ=1227,F.X86_INS_VPTESTNMD=1228,F.X86_INS_VPTESTNMQ=1229,F.X86_INS_VPTEST=1230,F.X86_INS_VPUNPCKHBW=1231,F.X86_INS_VPUNPCKHDQ=1232,F.X86_INS_VPUNPCKHQDQ=1233,F.X86_INS_VPUNPCKHWD=1234,F.X86_INS_VPUNPCKLBW=1235,F.X86_INS_VPUNPCKLDQ=1236,F.X86_INS_VPUNPCKLQDQ=1237,F.X86_INS_VPUNPCKLWD=1238,F.X86_INS_VPXORD=1239,F.X86_INS_VPXORQ=1240,F.X86_INS_VPXOR=1241,F.X86_INS_VRCP14PD=1242,F.X86_INS_VRCP14PS=1243,F.X86_INS_VRCP14SD=1244,F.X86_INS_VRCP14SS=1245,F.X86_INS_VRCP28PD=1246,F.X86_INS_VRCP28PS=1247,F.X86_INS_VRCP28SD=1248,F.X86_INS_VRCP28SS=1249,F.X86_INS_VRCPPS=1250,F.X86_INS_VRCPSS=1251,F.X86_INS_VRNDSCALEPD=1252,F.X86_INS_VRNDSCALEPS=1253,F.X86_INS_VRNDSCALESD=1254,F.X86_INS_VRNDSCALESS=1255,F.X86_INS_VROUNDPD=1256,F.X86_INS_VROUNDPS=1257,F.X86_INS_VROUNDSD=1258,F.X86_INS_VROUNDSS=1259,F.X86_INS_VRSQRT14PD=1260,F.X86_INS_VRSQRT14PS=1261,F.X86_INS_VRSQRT14SD=1262,F.X86_INS_VRSQRT14SS=1263,F.X86_INS_VRSQRT28PD=1264,F.X86_INS_VRSQRT28PS=1265,F.X86_INS_VRSQRT28SD=1266,F.X86_INS_VRSQRT28SS=1267,F.X86_INS_VRSQRTPS=1268,F.X86_INS_VRSQRTSS=1269,F.X86_INS_VSCATTERDPD=1270,F.X86_INS_VSCATTERDPS=1271,F.X86_INS_VSCATTERPF0DPD=1272,F.X86_INS_VSCATTERPF0DPS=1273,F.X86_INS_VSCATTERPF0QPD=1274,F.X86_INS_VSCATTERPF0QPS=1275,F.X86_INS_VSCATTERPF1DPD=1276,F.X86_INS_VSCATTERPF1DPS=1277,F.X86_INS_VSCATTERPF1QPD=1278,F.X86_INS_VSCATTERPF1QPS=1279,F.X86_INS_VSCATTERQPD=1280,F.X86_INS_VSCATTERQPS=1281,F.X86_INS_VSHUFPD=1282,F.X86_INS_VSHUFPS=1283,F.X86_INS_VSQRTPD=1284,F.X86_INS_VSQRTPS=1285,F.X86_INS_VSQRTSD=1286,F.X86_INS_VSQRTSS=1287,F.X86_INS_VSTMXCSR=1288,F.X86_INS_VSUBPD=1289,F.X86_INS_VSUBPS=1290,F.X86_INS_VSUBSD=1291,F.X86_INS_VSUBSS=1292,F.X86_INS_VTESTPD=1293,F.X86_INS_VTESTPS=1294,F.X86_INS_VUNPCKHPD=1295,F.X86_INS_VUNPCKHPS=1296,F.X86_INS_VUNPCKLPD=1297,F.X86_INS_VUNPCKLPS=1298,F.X86_INS_VZEROALL=1299,F.X86_INS_VZEROUPPER=1300,F.X86_INS_WAIT=1301,F.X86_INS_WBINVD=1302,F.X86_INS_WRFSBASE=1303,F.X86_INS_WRGSBASE=1304,F.X86_INS_WRMSR=1305,F.X86_INS_XABORT=1306,F.X86_INS_XACQUIRE=1307,F.X86_INS_XBEGIN=1308,F.X86_INS_XCHG=1309,F.X86_INS_XCRYPTCBC=1310,F.X86_INS_XCRYPTCFB=1311,F.X86_INS_XCRYPTCTR=1312,F.X86_INS_XCRYPTECB=1313,F.X86_INS_XCRYPTOFB=1314,F.X86_INS_XEND=1315,F.X86_INS_XGETBV=1316,F.X86_INS_XLATB=1317,F.X86_INS_XRELEASE=1318,F.X86_INS_XRSTOR=1319,F.X86_INS_XRSTOR64=1320,F.X86_INS_XRSTORS=1321,F.X86_INS_XRSTORS64=1322,F.X86_INS_XSAVE=1323,F.X86_INS_XSAVE64=1324,F.X86_INS_XSAVEC=1325,F.X86_INS_XSAVEC64=1326,F.X86_INS_XSAVEOPT=1327,F.X86_INS_XSAVEOPT64=1328,F.X86_INS_XSAVES=1329,F.X86_INS_XSAVES64=1330,F.X86_INS_XSETBV=1331,F.X86_INS_XSHA1=1332,F.X86_INS_XSHA256=1333,F.X86_INS_XSTORE=1334,F.X86_INS_XTEST=1335,F.X86_INS_FDISI8087_NOP=1336,F.X86_INS_FENI8087_NOP=1337,F.X86_INS_ENDING=1338,F.API_MAJOR=1,F.API_MINOR=0,F.VERSION_MAJOR=1,F.VERSION_MINOR=0,F.VERSION_EXTRA=3,F.SECOND_SCALE=1e6,F.MILISECOND_SCALE=1e3,F.ARCH_ARM=1,F.ARCH_ARM64=2,F.ARCH_MIPS=3,F.ARCH_X86=4,F.ARCH_PPC=5,F.ARCH_SPARC=6,F.ARCH_M68K=7,F.ARCH_MAX=8,F.MODE_LITTLE_ENDIAN=0,F.MODE_BIG_ENDIAN=1073741824,F.MODE_ARM=0,F.MODE_THUMB=16,F.MODE_MCLASS=32,F.MODE_V8=64,F.MODE_ARM926=128,F.MODE_ARM946=256,F.MODE_ARM1176=512,F.MODE_ARMBE8=1024,F.MODE_MICRO=16,F.MODE_MIPS3=32,F.MODE_MIPS32R6=64,F.MODE_MIPS32=4,F.MODE_MIPS64=8,F.MODE_16=2,F.MODE_32=4,F.MODE_64=8,F.MODE_PPC32=4,F.MODE_PPC64=8,F.MODE_QPX=16,F.MODE_SPARC32=4,F.MODE_SPARC64=8,F.MODE_V9=16,F.ERR_OK=0,F.ERR_NOMEM=1,F.ERR_ARCH=2,F.ERR_HANDLE=3,F.ERR_MODE=4,F.ERR_VERSION=5,F.ERR_READ_UNMAPPED=6,F.ERR_WRITE_UNMAPPED=7,F.ERR_FETCH_UNMAPPED=8,F.ERR_HOOK=9,F.ERR_INSN_INVALID=10,F.ERR_MAP=11,F.ERR_WRITE_PROT=12,F.ERR_READ_PROT=13,F.ERR_FETCH_PROT=14,F.ERR_ARG=15,F.ERR_READ_UNALIGNED=16,F.ERR_WRITE_UNALIGNED=17,F.ERR_FETCH_UNALIGNED=18,F.ERR_HOOK_EXIST=19,F.ERR_RESOURCE=20,F.ERR_EXCEPTION=21,F.MEM_READ=16,F.MEM_WRITE=17,F.MEM_FETCH=18,F.MEM_READ_UNMAPPED=19,F.MEM_WRITE_UNMAPPED=20,F.MEM_FETCH_UNMAPPED=21,F.MEM_WRITE_PROT=22,F.MEM_READ_PROT=23,F.MEM_FETCH_PROT=24,F.MEM_READ_AFTER=25,F.HOOK_INTR=1,F.HOOK_INSN=2,F.HOOK_CODE=4,F.HOOK_BLOCK=8,F.HOOK_MEM_READ_UNMAPPED=16,F.HOOK_MEM_WRITE_UNMAPPED=32,F.HOOK_MEM_FETCH_UNMAPPED=64,F.HOOK_MEM_READ_PROT=128,F.HOOK_MEM_WRITE_PROT=256,F.HOOK_MEM_FETCH_PROT=512,F.HOOK_MEM_READ=1024,F.HOOK_MEM_WRITE=2048,F.HOOK_MEM_FETCH=4096,F.HOOK_MEM_READ_AFTER=8192,F.HOOK_INSN_INVALID=16384,F.HOOK_MEM_UNMAPPED=112,F.HOOK_MEM_PROT=896,F.HOOK_MEM_READ_INVALID=144,F.HOOK_MEM_WRITE_INVALID=288,F.HOOK_MEM_FETCH_INVALID=576,F.HOOK_MEM_INVALID=1008,F.HOOK_MEM_VALID=7168;F.QUERY_MODE=1,F.QUERY_PAGE_SIZE=2,F.QUERY_ARCH=3,F.QUERY_TIMEOUT=4,F.PROT_NONE=0,F.PROT_READ=1,F.PROT_WRITE=2,F.PROT_EXEC=4,F.PROT_ALL=7,F.ARM64_REG_INVALID=0,F.ARM64_REG_X29=1,F.ARM64_REG_X30=2,F.ARM64_REG_NZCV=3,F.ARM64_REG_SP=4,F.ARM64_REG_WSP=5,F.ARM64_REG_WZR=6,F.ARM64_REG_XZR=7,F.ARM64_REG_B0=8,F.ARM64_REG_B1=9,F.ARM64_REG_B2=10,F.ARM64_REG_B3=11,F.ARM64_REG_B4=12,F.ARM64_REG_B5=13,F.ARM64_REG_B6=14,F.ARM64_REG_B7=15,F.ARM64_REG_B8=16,F.ARM64_REG_B9=17,F.ARM64_REG_B10=18,F.ARM64_REG_B11=19,F.ARM64_REG_B12=20,F.ARM64_REG_B13=21,F.ARM64_REG_B14=22,F.ARM64_REG_B15=23,F.ARM64_REG_B16=24,F.ARM64_REG_B17=25,F.ARM64_REG_B18=26,F.ARM64_REG_B19=27,F.ARM64_REG_B20=28,F.ARM64_REG_B21=29,F.ARM64_REG_B22=30,F.ARM64_REG_B23=31,F.ARM64_REG_B24=32,F.ARM64_REG_B25=33,F.ARM64_REG_B26=34,F.ARM64_REG_B27=35,F.ARM64_REG_B28=36,F.ARM64_REG_B29=37,F.ARM64_REG_B30=38,F.ARM64_REG_B31=39,F.ARM64_REG_D0=40,F.ARM64_REG_D1=41,F.ARM64_REG_D2=42,F.ARM64_REG_D3=43,F.ARM64_REG_D4=44,F.ARM64_REG_D5=45,F.ARM64_REG_D6=46,F.ARM64_REG_D7=47,F.ARM64_REG_D8=48,F.ARM64_REG_D9=49,F.ARM64_REG_D10=50,F.ARM64_REG_D11=51,F.ARM64_REG_D12=52,F.ARM64_REG_D13=53,F.ARM64_REG_D14=54,F.ARM64_REG_D15=55,F.ARM64_REG_D16=56,F.ARM64_REG_D17=57,F.ARM64_REG_D18=58,F.ARM64_REG_D19=59,F.ARM64_REG_D20=60,F.ARM64_REG_D21=61,F.ARM64_REG_D22=62,F.ARM64_REG_D23=63,F.ARM64_REG_D24=64,F.ARM64_REG_D25=65,F.ARM64_REG_D26=66,F.ARM64_REG_D27=67,F.ARM64_REG_D28=68,F.ARM64_REG_D29=69,F.ARM64_REG_D30=70,F.ARM64_REG_D31=71,F.ARM64_REG_H0=72,F.ARM64_REG_H1=73,F.ARM64_REG_H2=74,F.ARM64_REG_H3=75,F.ARM64_REG_H4=76,F.ARM64_REG_H5=77,F.ARM64_REG_H6=78,F.ARM64_REG_H7=79,F.ARM64_REG_H8=80,F.ARM64_REG_H9=81,F.ARM64_REG_H10=82,F.ARM64_REG_H11=83,F.ARM64_REG_H12=84,F.ARM64_REG_H13=85,F.ARM64_REG_H14=86,F.ARM64_REG_H15=87,F.ARM64_REG_H16=88,F.ARM64_REG_H17=89,F.ARM64_REG_H18=90,F.ARM64_REG_H19=91,F.ARM64_REG_H20=92,F.ARM64_REG_H21=93,F.ARM64_REG_H22=94,F.ARM64_REG_H23=95,F.ARM64_REG_H24=96,F.ARM64_REG_H25=97,F.ARM64_REG_H26=98,F.ARM64_REG_H27=99,F.ARM64_REG_H28=100,F.ARM64_REG_H29=101,F.ARM64_REG_H30=102,F.ARM64_REG_H31=103,F.ARM64_REG_Q0=104,F.ARM64_REG_Q1=105,F.ARM64_REG_Q2=106,F.ARM64_REG_Q3=107,F.ARM64_REG_Q4=108,F.ARM64_REG_Q5=109,F.ARM64_REG_Q6=110,F.ARM64_REG_Q7=111,F.ARM64_REG_Q8=112,F.ARM64_REG_Q9=113,F.ARM64_REG_Q10=114,F.ARM64_REG_Q11=115,F.ARM64_REG_Q12=116,F.ARM64_REG_Q13=117,F.ARM64_REG_Q14=118,F.ARM64_REG_Q15=119,F.ARM64_REG_Q16=120,F.ARM64_REG_Q17=121,F.ARM64_REG_Q18=122,F.ARM64_REG_Q19=123,F.ARM64_REG_Q20=124,F.ARM64_REG_Q21=125,F.ARM64_REG_Q22=126,F.ARM64_REG_Q23=127,F.ARM64_REG_Q24=128,F.ARM64_REG_Q25=129,F.ARM64_REG_Q26=130,F.ARM64_REG_Q27=131,F.ARM64_REG_Q28=132,F.ARM64_REG_Q29=133,F.ARM64_REG_Q30=134,F.ARM64_REG_Q31=135,F.ARM64_REG_S0=136,F.ARM64_REG_S1=137,F.ARM64_REG_S2=138,F.ARM64_REG_S3=139,F.ARM64_REG_S4=140,F.ARM64_REG_S5=141,F.ARM64_REG_S6=142,F.ARM64_REG_S7=143,F.ARM64_REG_S8=144,F.ARM64_REG_S9=145,F.ARM64_REG_S10=146,F.ARM64_REG_S11=147,F.ARM64_REG_S12=148,F.ARM64_REG_S13=149,F.ARM64_REG_S14=150,F.ARM64_REG_S15=151,F.ARM64_REG_S16=152,F.ARM64_REG_S17=153,F.ARM64_REG_S18=154,F.ARM64_REG_S19=155,F.ARM64_REG_S20=156,F.ARM64_REG_S21=157,F.ARM64_REG_S22=158,F.ARM64_REG_S23=159,F.ARM64_REG_S24=160,F.ARM64_REG_S25=161,F.ARM64_REG_S26=162,F.ARM64_REG_S27=163,F.ARM64_REG_S28=164,F.ARM64_REG_S29=165,F.ARM64_REG_S30=166,F.ARM64_REG_S31=167,F.ARM64_REG_W0=168,F.ARM64_REG_W1=169,F.ARM64_REG_W2=170,F.ARM64_REG_W3=171,F.ARM64_REG_W4=172,F.ARM64_REG_W5=173,F.ARM64_REG_W6=174,F.ARM64_REG_W7=175,F.ARM64_REG_W8=176,F.ARM64_REG_W9=177,F.ARM64_REG_W10=178,F.ARM64_REG_W11=179,F.ARM64_REG_W12=180,F.ARM64_REG_W13=181,F.ARM64_REG_W14=182,F.ARM64_REG_W15=183,F.ARM64_REG_W16=184,F.ARM64_REG_W17=185,F.ARM64_REG_W18=186,F.ARM64_REG_W19=187,F.ARM64_REG_W20=188,F.ARM64_REG_W21=189,F.ARM64_REG_W22=190,F.ARM64_REG_W23=191,F.ARM64_REG_W24=192,F.ARM64_REG_W25=193,F.ARM64_REG_W26=194,F.ARM64_REG_W27=195,F.ARM64_REG_W28=196,F.ARM64_REG_W29=197,F.ARM64_REG_W30=198,F.ARM64_REG_X0=199,F.ARM64_REG_X1=200,F.ARM64_REG_X2=201,F.ARM64_REG_X3=202,F.ARM64_REG_X4=203,F.ARM64_REG_X5=204,F.ARM64_REG_X6=205,F.ARM64_REG_X7=206,F.ARM64_REG_X8=207,F.ARM64_REG_X9=208,F.ARM64_REG_X10=209,F.ARM64_REG_X11=210,F.ARM64_REG_X12=211,F.ARM64_REG_X13=212,F.ARM64_REG_X14=213,F.ARM64_REG_X15=214,F.ARM64_REG_X16=215,F.ARM64_REG_X17=216,F.ARM64_REG_X18=217,F.ARM64_REG_X19=218,F.ARM64_REG_X20=219,F.ARM64_REG_X21=220,F.ARM64_REG_X22=221,F.ARM64_REG_X23=222,F.ARM64_REG_X24=223,F.ARM64_REG_X25=224,F.ARM64_REG_X26=225,F.ARM64_REG_X27=226,F.ARM64_REG_X28=227,F.ARM64_REG_V0=228,F.ARM64_REG_V1=229,F.ARM64_REG_V2=230,F.ARM64_REG_V3=231,F.ARM64_REG_V4=232,F.ARM64_REG_V5=233,F.ARM64_REG_V6=234,F.ARM64_REG_V7=235,F.ARM64_REG_V8=236,F.ARM64_REG_V9=237,F.ARM64_REG_V10=238,F.ARM64_REG_V11=239,F.ARM64_REG_V12=240,F.ARM64_REG_V13=241,F.ARM64_REG_V14=242,F.ARM64_REG_V15=243,F.ARM64_REG_V16=244,F.ARM64_REG_V17=245,F.ARM64_REG_V18=246,F.ARM64_REG_V19=247,F.ARM64_REG_V20=248,F.ARM64_REG_V21=249,F.ARM64_REG_V22=250,F.ARM64_REG_V23=251,F.ARM64_REG_V24=252,F.ARM64_REG_V25=253,F.ARM64_REG_V26=254,F.ARM64_REG_V27=255,F.ARM64_REG_V28=256,F.ARM64_REG_V29=257,F.ARM64_REG_V30=258,F.ARM64_REG_V31=259,F.ARM64_REG_PC=260,F.ARM64_REG_CPACR_EL1=261,F.ARM64_REG_TPIDR_EL0=262,F.ARM64_REG_TPIDRRO_EL0=263,F.ARM64_REG_TPIDR_EL1=264,F.ARM64_REG_PSTATE=265,F.ARM64_REG_ELR_EL0=266,F.ARM64_REG_ELR_EL1=267,F.ARM64_REG_ELR_EL2=268,F.ARM64_REG_ELR_EL3=269,F.ARM64_REG_SP_EL0=270,F.ARM64_REG_SP_EL1=271,F.ARM64_REG_SP_EL2=272,F.ARM64_REG_SP_EL3=273,F.ARM64_REG_TTBR0_EL1=274,F.ARM64_REG_TTBR1_EL1=275,F.ARM64_REG_ESR_EL0=276,F.ARM64_REG_ESR_EL1=277,F.ARM64_REG_ESR_EL2=278,F.ARM64_REG_ESR_EL3=279,F.ARM64_REG_FAR_EL0=280,F.ARM64_REG_FAR_EL1=281,F.ARM64_REG_FAR_EL2=282,F.ARM64_REG_FAR_EL3=283,F.ARM64_REG_PAR_EL1=284,F.ARM64_REG_MAIR_EL1=285,F.ARM64_REG_VBAR_EL0=286,F.ARM64_REG_VBAR_EL1=287,F.ARM64_REG_VBAR_EL2=288,F.ARM64_REG_VBAR_EL3=289,F.ARM64_REG_ENDING=290,F.ARM64_REG_IP0=215,F.ARM64_REG_IP1=216,F.ARM64_REG_FP=1,F.ARM64_REG_LR=2;var V=4194304,z=32768,U=32781,H=32788,X=2097152,W=3670016,j=4128768,Y="https://linkungao.github.io/copper3d_examples/kiwrious-config/prog.bin";function $(t){Y=t}var K=function(){function t(){m(this,t),x(this,"machine",void 0)}return v(t,[{key:"loadBinary",value:function(){var t=d(y().mark((function t(){var e,n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(Y);case 2:return e=t.sent,t.next=5,e.arrayBuffer();case 5:return n=t.sent,t.abrupt("return",new Uint8Array(n));case 7:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setupEmulator",value:function(){var t=d(y().mark((function t(){var e,n,r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:return e=new F.Unicorn(F.ARCH_ARM,F.MODE_THUMB),t.next=5,this.loadBinary();case 5:return n=t.sent,e.mem_map(0,V,F.PROT_ALL),e.mem_write(z,n),r=e.reg_read_i32(F.ARM_REG_C1_C0_2),r|=15<<20,e.reg_write_i32(F.ARM_REG_C1_C0_2,r),e.reg_write_i32(F.ARM_REG_D16,4294906129),e.reg_write_i32(F.ARM_REG_FPEXC,1073741824),t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"analyzeResult",value:function(t){var e=new DataView(t.buffer,0),n=e.getUint32(0,!0);return{status:4===n?"Not Touched":48===n?"Ready":0===n?"Calculating":"Unknown",heartrate:e.getUint32(4,!0),trustlevel:e.getUint32(8,!0),snr:e.getUint32(12,!0)}}},{key:"detectHeartRate",value:function(){var t=d(y().mark((function t(e){var n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.machine){t.next=4;break}return t.next=3,this.setupEmulator();case 3:this.machine=t.sent;case 4:return this.machine.mem_write(W,e),this.machine.reg_write_i32(F.ARM_REG_SP,X),this.machine.reg_write_i32(F.ARM_REG_LR,U),this.machine.emu_start(U,H,0,33554431),n=this.machine.mem_read(j,16),t.abrupt("return",this.analyzeResult(n));case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()})(),r})()))},"./node_modules/jsfft/dist/complex_array.js":(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float32Array;r(this,t),e instanceof t?(this.ArrayType=e.ArrayType,this.real=new this.ArrayType(e.real),this.imag=new this.ArrayType(e.imag)):(this.ArrayType=n,this.real=new this.ArrayType(e),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length}return n(t,[{key:"toString",value:function(){var t=[];return this.forEach((function(e,i){t.push("("+e.real.toFixed(2)+", "+e.imag.toFixed(2)+")")})),"["+t.join(", ")+"]"}},{key:"forEach",value:function(t){for(var e=this.length,n=Object.seal(Object.defineProperties({},{real:{writable:!0},imag:{writable:!0}})),i=0;i<e;i++)n.real=this.real[i],n.imag=this.imag[i],t(n,i,e)}},{key:"map",value:function(t){var e=this;return this.forEach((function(n,i,r){t(n,i,r),e.real[i]=n.real,e.imag[i]=n.imag})),this}},{key:"conjugate",value:function(){return new t(this).map((function(t){t.imag*=-1}))}},{key:"magnitude",value:function(){var t=new this.ArrayType(this.length);return this.forEach((function(e,i){t[i]=Math.sqrt(e.real*e.real+e.imag*e.imag)})),t}}]),t}();e.default=o},"./node_modules/jsfft/dist/fft.js":(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ComplexArray=void 0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.FFT=v,e.InvFFT=x,e.frequencyMap=_;var o=l(n("./node_modules/jsfft/dist/complex_array.js"));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=Math.PI,f=Math.SQRT1_2;function v(input){return S(input).FFT()}function x(input){return S(input).InvFFT()}function _(input,t){return S(input).frequencyMap(t)}var y=e.ComplexArray=function(t){function e(){return c(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),r(e,[{key:"FFT",value:function(){return w(this,!1)}},{key:"InvFFT",value:function(){return w(this,!0)}},{key:"frequencyMap",value:function(t){return this.FFT().map(t).InvFFT()}}]),e}(o.default);function S(input){return input instanceof y&&input||new y(input)}function w(input,t){var e=input.length;return e&e-1?M(input,t):E(input,t)}function M(input,t){var e=input.length;if(1===e)return input;for(var output=new y(e,input.ArrayType),p=T(e),n=e/p,r=1/Math.sqrt(p),o=new y(n,input.ArrayType),l=0;l<p;l++){for(var i=0;i<n;i++)o.real[i]=input.real[i*p+l],o.imag[i]=input.imag[i*p+l];n>1&&(o=w(o,t));for(var c=Math.cos(2*m*l/e),h=(t?-1:1)*Math.sin(2*m*l/e),d=1,f=0,v=0;v<e;v++){var x=o.real[v%n],_=o.imag[v%n];output.real[v]+=d*x-f*_,output.imag[v]+=d*_+f*x;var S=[d*c-f*h,f=d*h+f*c];d=S[0],f=S[1]}}for(var M=0;M<e;M++)input.real[M]=r*output.real[M],input.imag[M]=r*output.imag[M];return input}function E(input,t){for(var e=input.length,output=A(input),n=output.real,r=output.imag,o=1;o<e;){for(var l=Math.cos(m/o),c=(t?-1:1)*Math.sin(m/o),i=0;i<e/(2*o);i++)for(var h=1,d=0,v=0;v<o;v++){var x=2*i*o+v,_=x+o,y=n[x],S=r[x],w=h*n[_]-d*r[_],M=d*n[_]+h*r[_];n[x]=f*(y+w),r[x]=f*(S+M),n[_]=f*(y-w),r[_]=f*(S-M);var E=[h*l-d*c,h*c+d*l];h=E[0],d=E[1]}o<<=1}return output}function R(t,e){for(var n=0;e>1;)n<<=1,n+=1&t,t>>=1,e>>=1;return n}function A(t){for(var e=t.length,n=new Set,i=0;i<e;i++){var r=R(i,e);if(!n.has(i)){var o=[t.real[r],t.real[i]];t.real[i]=o[0],t.real[r]=o[1];var l=[t.imag[r],t.imag[i]];t.imag[i]=l[0],t.imag[r]=l[1],n.add(r)}}return t}function T(t){for(var e=Math.sqrt(t),n=3;n<=e;){if(t%n==0)return n;n+=2}return t}},"./ts/kiwrious/service/serial/HeartRateProcessor.ts":(t,e,n)=>{n.r(e),n.d(e,{HEART_RATE_RESULT_STATUS:()=>x,HeartRateProcessor:()=>S});var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},o=n("./node_modules/jsfft/dist/fft.js"),l=3e5,c=9e5,h=200,d=2048,m=100,f=[[[1,0,-1],[1,-1.9794,.9847]],[[1,0,-1],[1,-1.9948,.9953]],[[1,0,-1],[1,-1.9537,.9583]],[[1,0,-1],[1,-1.9849,.9855]],[[1,0,-1],[1,-1.973,.9737]],[[1,0,-1],[1,-1.9392,.9426]],[[1,0,-1],[1,-1.9571,.9583]],[[1,0,-1],[1,-1.941,.9432]]],v=[.0256,.0256,.0254,.0254,.0252,.0252,.0251,.0251,1],x={TOO_LOW:"TOO_LOW",TOO_HIGH:"TOO_HIGH",PROCESSING:"PROCESSING",READY:"READY"},_=function(){function t(t){this._size=t,this._array=[],this._sum=0}return t.prototype._log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,r(["|FixedArray|"],t,!1))},Object.defineProperty(t.prototype,"isAverageReady",{get:function(){return this._array.length>=this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"average",{get:function(){return t.calcAverage(this._sum,this._array.length)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){return this._array},enumerable:!1,configurable:!0}),t.prototype._cleanup=function(){for(;this._array.length>this._size;){var t=this._array.shift();t&&(this._sum-=t)}},t.prototype._add=function(t){this._array.push(t),this._sum+=t},t.prototype.add=function(t){this._add(t),this._cleanup()},t.prototype.addItems=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];this._add(i)}this._cleanup()},t.calcSum=function(t){return t.reduce((function(t,e){return t+e}),0)},t.calcAverage=function(t,e){return e?t/e:0},t.createSteppedArray=function(t,e,n){for(var r=[],o=(e-t)/(n-1),i=0;i<n;i++)r.push(t+o*i);return r},t}(),y=function(){function t(b,a,t,e){this.b=b,this.a=a,this.g1=t,this.g2=e,this.w=[1,1,1]}return t.prototype._log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,r(["|Biquad|"],t,!1))},t.prototype.updateFilter=function(t){var e=t*this.g1;return this.w[2]=this.w[1],this.w[1]=this.w[0],this.w[0]=e-this.a[1]*this.w[1]-this.a[2]*this.w[2],(this.b[0]*this.w[0]+this.b[1]*this.w[1]+this.b[2]*this.w[2])*this.g2},t}(),S=function(){function t(){this._log("ctor"),this._initFilters();var t=Math.floor(h/2);this._resultArray=new _(m),this._inputArray=new _(d);var e=d,n=Math.floor(e/2);this._xf=_.createSteppedArray(0,t,n)}return t.prototype._log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,r(["|HeartRateProcessor|"],t,!1))},t.prototype._initFilters=function(){this._filters=f.map((function(s,i){return new y(s[0],s[1],v[i],1)}))},t.prototype.getStatusForInput=function(input){return input<l?x.TOO_LOW:input>c?x.TOO_HIGH:x.PROCESSING},t.prototype.processSingleInput=function(input){var t=this.getStatusForInput(input);if(t!==x.PROCESSING)return{status:t};this._inputArray.add(input);var output=this.process();return output?{status:x.READY,value:output}:{status:x.PROCESSING}},t.prototype.processMultiInput=function(t){for(var e=0,n=t;e<n.length;e++){var input=n[e],r=this.getStatusForInput(input);if(r!==x.PROCESSING)return{status:r}}this._inputArray.addItems(t);var output=this.process();return output?{status:x.READY,value:output}:{status:x.PROCESSING}},t.prototype.process=function(){if(!this._inputArray.isAverageReady)return null;var t=this._process(this._inputArray);return t?(this._resultArray.add(t),this._resultArray.isAverageReady?this._resultArray.average:null):null},t.prototype._process=function(t){var e=this;if(!t.isAverageReady)throw new Error("average is not ready. arr len: ".concat(t.array.length));for(var n=t.array.map((function(n){var r=n-t.average;return e._updateAllFilters(r)})),r=new o.ComplexArray(n.length).map((function(t,i,e){t.real=n[i]})),l=r.FFT().magnitude(),c=0,h=0,d=0;d<l.length/2;d++){var element=l[d];element>c&&(c=element,h=d)}return 60*this._xf[h]},t.prototype._updateAllFilters=function(input){for(var output,t=input,e=0,n=this._filters;e<n.length;e++)t=output=n[e].updateFilter(t);return output},t}()},"./ts/kiwrious/service/serial/SerialDecoder.ts":(t,e,n)=>{n.r(e),n.d(e,{SerialDecoder:()=>o});var r=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},o=function(){function t(){}return t.prototype._log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,r(["|SerialDecoder|"],t,!1))},t.prototype._err=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,r(["|SerialDecoder|"],t,!1))},t}()},"./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts":(t,e,n)=>{n.r(e),n.d(e,{SerialHeartRateDecoder:()=>x});var r=n("./ts/kiwrious/service/serial/HeartRateProcessor.ts"),o=n("./ts/kiwrious/service/serial/SerialDecoder.ts"),l=n("./ts/kiwrious/service/serial/SerialRawValue.ts"),c=n("./ts/kiwrious/service/serial/SerialUtil.ts"),h=n("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js"),d=function(){var t=function(e,b){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(t[p]=b[p])},t(e,b)};return function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function n(){this.constructor=e}t(e,b),e.prototype=null===b?Object.create(b):(n.prototype=b.prototype,new n)}}(),m=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function c(t){try{d(r.next(t))}catch(t){l(t)}}function h(t){try{d(r.throw(t))}catch(t){l(t)}}function d(t){t.done?n(t.value):o(t.value).then(c,h)}d((r=r.apply(t,e||[])).next())}))},f=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(t){return function(e){return c([t,e])}}function c(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},v=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},x=function(t){function e(){var e=t.call(this)||this;return e._processor=new r.HeartRateProcessor,e._detector=new h.HeartRateDetector,e}return d(e,t),e.prototype._log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,v(["|SerialHeartRateDecoder|"],t,!1))},e.prototype.decode=function(t){return m(this,void 0,void 0,(function(){var e,n,r,o;return f(this,(function(h){switch(h.label){case 0:return e=t.map((function(i){return i.rawValue.subarray(6,22)})),n=c.SerialUtil.concatMultiArrays(e),[4,this._detector.detectHeartRate(n)];case 1:return r=h.sent(),this._log("heartrate-result",r),o={label:l.SENSOR_VALUE.HEART_RATE,value:r,type:"object"},[2,{sensorType:t[0].sensorType,decodedValues:[o]}]}}))}))},e}(o.SerialDecoder)},"./ts/kiwrious/service/serial/SerialHexValue.ts":(t,e,n)=>{n.r(e),n.d(e,{SerialHexValue:()=>r,SerialNumberValue:()=>o});var r=function(){function t(t){this.rawHexValue=t}return t.prototype.toFloat=function(){var t=Number(this.rawHexValue),e=(t>>23&255)-127;return(2147483648&t?-1:1)*(1+(8388607&t)/8388607)*Math.pow(2,e)},t.prototype.toInt=function(){return Number(parseInt(this.rawHexValue).toFixed())},t.prototype.divideByHundred=function(){return Number((parseInt(this.rawHexValue)/100).toFixed())},t}(),o=function(){function t(t){this._raw=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._raw},enumerable:!1,configurable:!0}),t.prototype.toInt=function(){return Number(this._raw.toFixed())},t.prototype.divideByHundred=function(){return Number((this._raw/100).toFixed())},t}()},"./ts/kiwrious/service/serial/SerialRawValue.ts":(t,e,n)=>{n.r(e),n.d(e,{SENSOR_TYPE:()=>o,SENSOR_VALUE:()=>l,SerialRawValue:()=>c});var r=n("./ts/kiwrious/service/serial/SerialHexValue.ts"),o={UNKNOWN:"UNKNOWN",UV:"UV",HUMIDITY:"HUMIDITY",VOC:"VOC",CONDUCTIVITY:"CONDUCTIVITY",HEART_RATE:"HEART_RATE",TEMPERATURE:"TEMPERATURE",TEMPERATURE2:"TEMPERATURE2"},l={UNKNOWN:"UNKNOWN",UV_INDEX:"Uv",LUX:"Lux",HUMIDITY:"Hum",TEMPERATURE:"Temp",VOC:"Voc",CONDUCTIVITY:"Con",HEART_RATE:"HeartRate",INFRARED_TEMPERATURE:"InfraredTemp",AMBIENT_TEMPERATURE:"AmbientTemp"},c=function(){function t(t){if(this.rawValue=t,this.dataView=new DataView(t.buffer),!this.isValidLength)throw new Error("invalid array length. expected [] but got [".concat(t.length,"]"))}return Object.defineProperty(t.prototype,"isValidLength",{get:function(){return 26===this.rawValue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sensorTypeRaw",{get:function(){return this.rawValue[2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"header2Bytes",{get:function(){return this.getTwoBytesByIndex(0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sequence2Bytes",{get:function(){return this.getTwoBytesByIndex(22)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"footer2Bytes",{get:function(){return this.getTwoBytesByIndex(24)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sensorType",{get:function(){if(10===this.sensorTypeRaw)return o.HEART_RATE;throw new Error("invalid sensor type ".concat(this.sensorTypeRaw))},enumerable:!1,configurable:!0}),t.prototype.getTwoBytesSignedByIndex=function(t){return this.dataView.getInt16(t,!0)},t.prototype.getTwoBytesUnsignedByIndex=function(t){return this.dataView.getUint16(t,!0)},t.prototype.getTwoBytesByIndex=function(t){return this.dataView.getUint16(t,!0)},t.prototype.getFourBytesByIndex=function(t){return this.dataView.getUint32(t,!0)},t.prototype.getFourBytesFloatByIndex=function(t){return this.dataView.getFloat32(t,!0)},t.prototype.sliceBytes=function(t,e){if(t+e>this.rawValue.length)throw new Error("invalid index [".concat(t,"] for array length [").concat(this.rawValue.length,"]"));return this.rawValue.slice(t,t+e)},t.prototype.getByteByIndex=function(t){if(t>=this.rawValue.length)throw new Error("invalid index [".concat(t,"] for array length [").concat(this.rawValue.length,"]"));return this.rawValue[t]},t.prototype.getHexDigitByIndex=function(t){if(t>=this.rawValue.length)throw new Error("invalid index [".concat(t,"] for array length [").concat(this.rawValue.length,"]"));return this.rawValue[t].toString(16).padStart(2,"0")},t.prototype.getHexString2=function(t,e){var n=this.getHexDigitByIndex(t),o=this.getHexDigitByIndex(e),l="0x".concat(n).concat(o);return new r.SerialHexValue(l)},t.prototype.getHexString4=function(t,e,n,o){var l=this.getHexDigitByIndex(t),c=this.getHexDigitByIndex(e),h=this.getHexDigitByIndex(n),d=this.getHexDigitByIndex(o),m="0x".concat(l).concat(c).concat(h).concat(d);return new r.SerialHexValue(m)},t}()},"./ts/kiwrious/service/serial/SerialReader.ts":(t,e,n)=>{n.r(e),n.d(e,{SerialReader:()=>m});var r=n("./ts/kiwrious/service/serial/SerialRawValue.ts"),o=n("./ts/kiwrious/service/serial/SerialUtil.ts"),l=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function c(t){try{d(r.next(t))}catch(t){l(t)}}function h(t){try{d(r.throw(t))}catch(t){l(t)}}function d(t){t.done?n(t.value):o(t.value).then(c,h)}d((r=r.apply(t,e||[])).next())}))},c=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(t){return function(e){return c([t,e])}}function c(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},h=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},d=26,m=function(){function t(t){this._reader=t,this._array=new Uint8Array}return t.prototype._log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,h(["|SerialReader|"],t,!1))},t.prototype._err=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,h(["|SerialReader|"],t,!1))},t.prototype._read=function(){return l(this,void 0,void 0,(function(){var t,e,n;return c(this,(function(l){switch(l.label){case 0:if(this._array.length>=d)return t=this._array.subarray(0,d),this._array=this._array.subarray(d),[2,new r.SerialRawValue(t)];if(!this._reader)throw this._err("readLoop - no reader. returning"),new Error("no reader");return[4,this._reader.read()];case 1:if(e=l.sent(),n=e.value,e.done)throw new Error("reader done");return n.length===d?(this._array=new Uint8Array,[2,new r.SerialRawValue(n.subarray(0))]):(this._array=o.SerialUtil.concatArray(this._array,n),[4,this.readOnce()]);case 2:return[2,l.sent()]}}))}))},t.prototype.readMultiple=function(t){return void 0===t&&(t=10),l(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:e=[],r.label=1;case 1:return e.length<t?[4,this._read()]:[3,3];case 2:return n=r.sent(),e.push(n),[3,1];case 3:return[2,e]}}))}))},t.prototype.readOnce=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this._read()];case 1:return[2,t.sent()]}}))}))},t}()},"./ts/kiwrious/service/serial/SerialService.ts":(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n("./ts/kiwrious/service/serial/SerialReader.ts"),o=n("./ts/kiwrious/service/serial/SerialHeartRateDecoder.ts"),l=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function c(t){try{d(r.next(t))}catch(t){l(t)}}function h(t){try{d(r.throw(t))}catch(t){l(t)}}function d(t){t.done?n(t.value):o(t.value).then(c,h)}d((r=r.apply(t,e||[])).next())}))},c=function(t,body){var e,n,r,g,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return g={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function l(t){return function(e){return c([t,e])}}function c(l){if(e)throw new TypeError("Generator is already executing.");for(;o;)try{if(e=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=body.call(t,o)}catch(t){l=[6,t],n=0}finally{e=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},h=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))},d=function(){function t(){this._isConnected=!1,this._isReading=!1,this._log("ctor")}return t.prototype._log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,h(["|SerialService|"],t,!1))},t.prototype._err=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.error.apply(console,h(["|SerialService|"],t,!1))},Object.defineProperty(t.prototype,"isReading",{get:function(){return this._isReading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canResumeReading",{get:function(){return!!this._port},enumerable:!1,configurable:!0}),t.prototype.triggerStopReading=function(){this._isReading=!1},t.prototype.closeReader=function(){this._log("closing reader.."),this._reader?(this.triggerStopReading(),this._log("cancelling.."),this._reader.cancel(),this._log("releasing lock.."),this._reader.releaseLock(),this._reader=null,this._log("reader closed")):this._log("no reader found. exiting..")},t.prototype.closePortAsync=function(){return l(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:if(this._log("closing port.."),!this._port)return this._log("no port found. exiting.."),[2];this._isConnected=!1,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._port.close()];case 2:return e.sent(),this._log("port closed"),[3,4];case 3:return t=e.sent(),this._err("failed to close port",t),[3,4];case 4:return this.onSerialConnection&&this.onSerialConnection(this._isConnected),[2]}}))}))},t.prototype.resumeReading=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this._log("resume reading.."),this._port?[3,2]:(this._log("port not found, restarting.."),[4,this.connectAndReadAsync()]);case 1:return t.sent(),[2];case 2:return[4,this.startStage2ConnectPortAsync(this._port)];case 3:return[2,t.sent()]}}))}))},t.prototype.disconnectAsync=function(){return l(this,void 0,void 0,(function(){var t=this;return c(this,(function(e){return this._log("disconnecting.."),this.triggerStopReading(),setTimeout((function(){return l(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.stopStage2ClosePortAsync()];case 1:return t.sent(),[2]}}))}))}),0),[2]}))}))},t.prototype.connectAndReadAsync=function(){return l(this,void 0,void 0,(function(){var t;return c(this,(function(e){switch(e.label){case 0:return this._log("connect and read.."),[4,this.startStage1RequestPortAsync()];case 1:return(t=e.sent())?[4,this.startStage2ConnectPortAsync(t)]:(this._err("unable to request port"),[2]);case 2:return[2,e.sent()]}}))}))},t.prototype.startStage1RequestPortAsync=function(){return l(this,void 0,void 0,(function(){var t,e,n=this;return c(this,(function(r){switch(r.label){case 0:return(t=navigator.serial)?(t.onconnect=function(){n._log("serial connect")},t.ondisconnect=function(){return l(n,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this._log("serial disconnect"),[4,this.disconnectAsync()];case 1:return t.sent(),this._port=null,[2]}}))}))},this._log("requesting port.."),[4,t.requestPort({filters:[{usbVendorId:1240,vendorId:1240},{usbVendorId:3368,usbProductId:516}]}).catch((function(t){n._err("failed to serial.requestPort",t)}))]):(alert("This feature only works on Chrome with 'Experimental Web Platform features' enabled"),[2,null]);case 1:return(e=r.sent())?[2,e]:(this._err("unable to find port value"),[2,null])}}))}))},t.prototype.startStage2ConnectPortAsync=function(t){return l(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return this._log("startStage2ReadingAsync"),[4,this.connectPortAsync(t)];case 1:return(e=n.sent())?(this._isConnected=!0,this._port=e.port,this._reader=e.reader,this.onSerialConnection&&this.onSerialConnection(this._isConnected),this.startReading(),[2]):(this._err("failed to connect"),[2])}}))}))},t.prototype.stopStage2ClosePortAsync=function(){return l(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return this._log("stopStage2ClosePortAsync"),this.closeReader(),[4,this.closePortAsync()];case 1:return t.sent(),[2]}}))}))},t.prototype.connectPortAsync=function(t){return l(this,void 0,void 0,(function(){var e,n,r=this;return c(this,(function(o){switch(o.label){case 0:return e=t.getInfo(),this._log("port info",e),t.readable?(this._err("port is already readable"),[2,null]):(this._log("openning port.."),[4,t.open({baudrate:230400,baudRate:230400}).catch((function(t){r._err("failed to port.open",t)}))]);case 1:return o.sent(),t.readable?(n=t.readable.getReader()).locked?(this._err("reader is locked"),[2,null]):[2,{port:t,reader:n}]:(this._err("port is not readable.."),[2,null])}}))}))},t.prototype.startReading=function(){return l(this,void 0,void 0,(function(){var t,e,n,l,h;return c(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,7]),this._log("starting reader.."),t=new r.SerialReader(this._reader),this._log("creating decoder.."),e=new o.SerialHeartRateDecoder,this._log("starting loop.."),this._isReading=!0,c.label=1;case 1:return this._isReading?[4,t.readMultiple(10)]:[3,4];case 2:return n=c.sent(),[4,e.decode(n)];case 3:return(l=c.sent())&&this.onSerialData&&this.onSerialData(l),[3,1];case 4:return this._log("loop complete.."),[3,7];case 5:return h=c.sent(),this._err("error reading loop startReading",h),[3,7];case 6:return this.stopStage2ClosePortAsync(),this._log("startReading complete"),[7];case 7:return[2]}}))}))},t}();const m=new d},"./ts/kiwrious/service/serial/SerialUtil.ts":(t,e,n)=>{n.r(e),n.d(e,{SerialUtil:()=>r});var r=function(){function t(){}return t.concatArray=function(a,b){var t=new Uint8Array(a.length+b.length);return t.set(a,0),t.set(b,a.length),t},t.concatMultiArrays=function(t){var e=t.reduce((function(a,t){return a+t.length}),0),n=new Uint8Array(e);return t.reduce((function(a,t){return n.set(t,a),a+t.length}),0),n},t}()}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var l=e[r]={exports:{}};return t[r](l,l.exports,n),l.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{n.r(r),n.d(r,{serialService:()=>t.default,setWasm:()=>e.setWasm,setBinUrl:()=>e.setBinUrl});var t=n("./ts/kiwrious/service/serial/SerialService.ts"),e=n("./node_modules/copper3d_plugin_heartjs_config/dist/copper3d_plugin_heartjs_config.js")})(),r})()}))})),av=Jg(rv);av?(ev=av.serialService,nv=av.setBinUrl,iv=av.setWasm):(ev=void 0,nv=void 0,iv=void 0);var ov={serialService:ev,setBinUrl:nv,setWasm:iv};function sv(t,e,n,l,c,h){var d=this;ov.setBinUrl(n),ov.setWasm(l),t.onclick=function(){return r(d,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t.disabled=!0,[4,ov.serialService.connectAndReadAsync()];case 1:return e.sent(),t.disabled=!1,[2]}}))}))},e.onclick=function(){return r(d,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return e.disabled=!0,[4,ov.serialService.disconnectAsync()];case 1:return t.sent(),e.disabled=!1,[2]}}))}))},ov.serialService.onSerialConnection=function(t){c(t)},ov.serialService.onSerialData=function(t){var e=t.decodedValues[0].value;h(e,e.status,e.heartrate)}}console.log("%cMedtech Heart Plugin %cBeta:v1.8.8","padding: 3px;color:white; background:#023047","padding: 3px;color:white; background:#219EBC"),t.CameraViewPoint=Yh,t.addBoxHelper=Dg,t.addLabelToScene=Ug,t.configKiwriousHeart=sv,t.convert3DPostoScreenPos=Xg,t.convertScreenPosto3DPos=Hg,t.copperMScene=Qg,t.copperMSceneRenderer=Zg,t.copperRenderer=Vg,t.copperRendererOnDemond=Kg,t.copperScene=Fg,t.copperSceneOnDemond=$g,t.fullScreenListenner=Zh,t.kiwrious=ov,t.setHDRFilePath=rd,Object.defineProperty(t,"__esModule",{value:!0})}(e)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var content=n(322);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("fa7ff0ca",content,!0,{sourceMap:!1})},,,,,,,function(t,e,n){"use strict";var r=n(48);e.a=r.a},,function(t,e,n){var content=n(359);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("744bab4a",content,!0,{sourceMap:!1})},,function(t,e,n){"use strict";var r=n(2),o=n(0);var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"change";return o.a.extend({name:"proxyable",model:{prop:t,event:e},props:Object(r.a)({},t,{required:!1}),data:function(){return{internalLazyValue:this[t]}},computed:{internalValue:{get:function(){return this.internalLazyValue},set:function(t){t!==this.internalLazyValue&&(this.internalLazyValue=t,this.$emit(e,t))}}},watch:Object(r.a)({},t,(function(t){this.internalLazyValue=t}))})}();e.a=l},function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return v})),n.d(e,"a",(function(){return x}));n(35);var r=n(87);function o(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=Array()).concat.apply(t,[e].concat(r))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",n=arguments.length>2?arguments[2]:void 0;return{name:t,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:n},origin:{type:String,default:e}},render:function(e,n){var l="transition".concat(n.props.group?"-group":""),data={props:{name:t,mode:n.props.mode},on:{beforeEnter:function(t){t.style.transformOrigin=n.props.origin,t.style.webkitTransformOrigin=n.props.origin}}};return n.props.leaveAbsolute&&(data.on.leave=o(data.on.leave,(function(t){var e=t.offsetTop,n=t.offsetLeft,r=t.offsetWidth,o=t.offsetHeight;t._transitionInitialStyles={position:t.style.position,top:t.style.top,left:t.style.left,width:t.style.width,height:t.style.height},t.style.position="absolute",t.style.top=e+"px",t.style.left=n+"px",t.style.width=r+"px",t.style.height=o+"px"})),data.on.afterLeave=o(data.on.afterLeave,(function(t){if(t&&t._transitionInitialStyles){var e=t._transitionInitialStyles,n=e.position,r=e.top,o=e.left,l=e.width,c=e.height;delete t._transitionInitialStyles,t.style.position=n||"",t.style.top=r||"",t.style.left=o||"",t.style.width=l||"",t.style.height=c||""}}))),n.props.hideOnLeave&&(data.on.leave=o(data.on.leave,(function(t){t.style.setProperty("display","none","important")}))),e(l,Object(r.a)(n.data,data),n.children)}}}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return{name:t,functional:!0,props:{mode:{type:String,default:n}},render:function(n,o){return n("transition",Object(r.a)(o.data,{props:{name:t},on:e}),o.children)}}}var h=n(2),d=n(1),m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e?"width":"height",r="offset".concat(Object(d.t)(n));return{beforeEnter:function(t){t._parent=t.parentNode,t._initialStyle=Object(h.a)({transition:t.style.transition,overflow:t.style.overflow},n,t.style[n])},enter:function(e){var o=e._initialStyle;e.style.setProperty("transition","none","important"),e.style.overflow="hidden";var l="".concat(e[r],"px");e.style[n]="0",e.offsetHeight,e.style.transition=o.transition,t&&e._parent&&e._parent.classList.add(t),requestAnimationFrame((function(){e.style[n]=l}))},afterEnter:l,enterCancelled:l,leave:function(t){t._initialStyle=Object(h.a)({transition:"",overflow:t.style.overflow},n,t.style[n]),t.style.overflow="hidden",t.style[n]="".concat(t[r],"px"),t.offsetHeight,requestAnimationFrame((function(){return t.style[n]="0"}))},afterLeave:o,leaveCancelled:o};function o(e){t&&e._parent&&e._parent.classList.remove(t),l(e)}function l(t){var e=t._initialStyle[n];t.style.overflow=t._initialStyle.overflow,null!=e&&(t.style[n]=e),delete t._initialStyle}},f=(l("carousel-transition"),l("carousel-reverse-transition"),l("tab-transition"),l("tab-reverse-transition"),l("menu-transition"),l("fab-transition","center center","out-in"),l("dialog-transition"),l("dialog-bottom-transition"),l("dialog-top-transition"),l("fade-transition")),v=(l("scale-transition"),l("scroll-x-transition"),l("scroll-x-reverse-transition"),l("scroll-y-transition"),l("scroll-y-reverse-transition"),l("slide-x-transition")),x=(l("slide-x-reverse-transition"),l("slide-y-transition"),l("slide-y-reverse-transition"),c("expand-transition",m()));c("expand-x-transition",m("",!0))},function(t,e,n){"use strict";e.a=function(t,e){return e=e||{},new Promise((function(n,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(t){return i[t.toLowerCase()]},has:function(t){return t.toLowerCase()in i}}}};for(var l in s.open(e.method||"get",t,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){o.push(e=e.toLowerCase()),u.push([e,n]),i[e]=i[e]?i[e]+","+n:n})),n(a())},s.onerror=r,s.withCredentials="include"==e.credentials,e.headers)s.setRequestHeader(l,e.headers[l]);s.send(e.body||null)}))}},,function(t,e,n){"use strict";var r=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===o}(t)}(t)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function l(t,e){return!1!==e.clone&&e.isMergeableObject(t)?f((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function c(t,source,e){return t.concat(source).map((function(element){return l(element,e)}))}function h(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(symbol){return t.propertyIsEnumerable(symbol)})):[]}(t))}function d(object,t){try{return t in object}catch(t){return!1}}function m(t,source,e){var n={};return e.isMergeableObject(t)&&h(t).forEach((function(r){n[r]=l(t[r],e)})),h(source).forEach((function(r){(function(t,e){return d(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,r)||(d(t,r)&&e.isMergeableObject(source[r])?n[r]=function(t,e){if(!e.customMerge)return f;var n=e.customMerge(t);return"function"==typeof n?n:f}(r,e)(t[r],source[r],e):n[r]=l(source[r],e))})),n}function f(t,source,e){(e=e||{}).arrayMerge=e.arrayMerge||c,e.isMergeableObject=e.isMergeableObject||r,e.cloneUnlessOtherwiseSpecified=l;var n=Array.isArray(source);return n===Array.isArray(t)?n?e.arrayMerge(t,source,e):m(t,source,e):l(source,e)}f.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return f(t,n,e)}),{})};var v=f;t.exports=v},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(49),o=n(1),l=Object(o.h)("v-toolbar__title"),c=Object(o.h)("v-toolbar__items");r.a},function(t,e,n){"use strict";n.r(e),n.d(e,"ACESFilmicToneMapping",(function(){return ut})),n.d(e,"AddEquation",(function(){return L})),n.d(e,"AddOperation",(function(){return ot})),n.d(e,"AdditiveAnimationBlendMode",(function(){return Be})),n.d(e,"AdditiveBlending",(function(){return T})),n.d(e,"AlphaFormat",(function(){return Xt})),n.d(e,"AlwaysDepth",(function(){return K})),n.d(e,"AlwaysStencilFunc",(function(){return dn})),n.d(e,"AmbientLight",(function(){return ah})),n.d(e,"AmbientLightProbe",(function(){return Sh})),n.d(e,"AnimationClip",(function(){return Pu})),n.d(e,"AnimationLoader",(function(){return Gu})),n.d(e,"AnimationMixer",(function(){return nd})),n.d(e,"AnimationObjectGroup",(function(){return Jh})),n.d(e,"AnimationUtils",(function(){return gu})),n.d(e,"ArcCurve",(function(){return Fp})),n.d(e,"ArrayCamera",(function(){return vl})),n.d(e,"ArrowHelper",(function(){return jd})),n.d(e,"Audio",(function(){return Dh})),n.d(e,"AudioAnalyser",(function(){return Vh})),n.d(e,"AudioContext",(function(){return _h})),n.d(e,"AudioListener",(function(){return Nh})),n.d(e,"AudioLoader",(function(){return yh})),n.d(e,"AxesHelper",(function(){return qd})),n.d(e,"AxisHelper",(function(){return Pm})),n.d(e,"BackSide",(function(){return S})),n.d(e,"BasicDepthPacking",(function(){return Xe})),n.d(e,"BasicShadowMap",(function(){return f})),n.d(e,"BinaryTextureLoader",(function(){return Dm})),n.d(e,"Bone",(function(){return ip})),n.d(e,"BooleanKeyframeTrack",(function(){return Su})),n.d(e,"BoundingBoxHelper",(function(){return Cm})),n.d(e,"Box2",(function(){return hd})),n.d(e,"Box3",(function(){return yi})),n.d(e,"Box3Helper",(function(){return zd})),n.d(e,"BoxBufferGeometry",(function(){return wa})),n.d(e,"BoxGeometry",(function(){return wa})),n.d(e,"BoxHelper",(function(){return Vd})),n.d(e,"BufferAttribute",(function(){return Fr})),n.d(e,"BufferGeometry",(function(){return ia})),n.d(e,"BufferGeometryLoader",(function(){return hh})),n.d(e,"ByteType",(function(){return Dt})),n.d(e,"Cache",(function(){return Iu})),n.d(e,"Camera",(function(){return Ta})),n.d(e,"CameraHelper",(function(){return Gd})),n.d(e,"CanvasRenderer",(function(){return km})),n.d(e,"CanvasTexture",(function(){return kp})),n.d(e,"CapsuleBufferGeometry",(function(){return oc})),n.d(e,"CapsuleGeometry",(function(){return oc})),n.d(e,"CatmullRomCurve3",(function(){return Wp})),n.d(e,"CineonToneMapping",(function(){return ct})),n.d(e,"CircleBufferGeometry",(function(){return sc})),n.d(e,"CircleGeometry",(function(){return sc})),n.d(e,"ClampToEdgeWrapping",(function(){return bt})),n.d(e,"Clock",(function(){return Ah})),n.d(e,"Color",(function(){return ei})),n.d(e,"ColorKeyframeTrack",(function(){return wu})),n.d(e,"ColorManagement",(function(){return Yn})),n.d(e,"CompressedTexture",(function(){return Op})),n.d(e,"CompressedTextureLoader",(function(){return Bu})),n.d(e,"ConeBufferGeometry",(function(){return pc})),n.d(e,"ConeGeometry",(function(){return pc})),n.d(e,"CubeCamera",(function(){return Ia})),n.d(e,"CubeReflectionMapping",(function(){return ft})),n.d(e,"CubeRefractionMapping",(function(){return gt})),n.d(e,"CubeTexture",(function(){return La})),n.d(e,"CubeTextureLoader",(function(){return Vu})),n.d(e,"CubeUVReflectionMapping",(function(){return _t})),n.d(e,"CubicBezierCurve",(function(){return $p})),n.d(e,"CubicBezierCurve3",(function(){return Kp})),n.d(e,"CubicInterpolant",(function(){return xu})),n.d(e,"CullFaceBack",(function(){return h})),n.d(e,"CullFaceFront",(function(){return d})),n.d(e,"CullFaceFrontBack",(function(){return m})),n.d(e,"CullFaceNone",(function(){return c})),n.d(e,"Curve",(function(){return Gp})),n.d(e,"CurvePath",(function(){return ic})),n.d(e,"CustomBlending",(function(){return I})),n.d(e,"CustomToneMapping",(function(){return ht})),n.d(e,"CylinderBufferGeometry",(function(){return lc})),n.d(e,"CylinderGeometry",(function(){return lc})),n.d(e,"Cylindrical",(function(){return cd})),n.d(e,"Data3DTexture",(function(){return di})),n.d(e,"DataArrayTexture",(function(){return ui})),n.d(e,"DataTexture",(function(){return ap})),n.d(e,"DataTexture2DArray",(function(){return jm})),n.d(e,"DataTexture3D",(function(){return qm})),n.d(e,"DataTextureLoader",(function(){return zu})),n.d(e,"DataUtils",(function(){return $d})),n.d(e,"DecrementStencilOp",(function(){return en})),n.d(e,"DecrementWrapStencilOp",(function(){return rn})),n.d(e,"DefaultLoadingManager",(function(){return Nu})),n.d(e,"DepthFormat",(function(){return $t})),n.d(e,"DepthStencilFormat",(function(){return Kt})),n.d(e,"DepthTexture",(function(){return bl})),n.d(e,"DirectionalLight",(function(){return rh})),n.d(e,"DirectionalLightHelper",(function(){return Dd})),n.d(e,"DiscreteInterpolant",(function(){return yu})),n.d(e,"DodecahedronBufferGeometry",(function(){return uc})),n.d(e,"DodecahedronGeometry",(function(){return uc})),n.d(e,"DoubleSide",(function(){return w})),n.d(e,"DstAlphaFactor",(function(){return H})),n.d(e,"DstColorFactor",(function(){return W})),n.d(e,"DynamicBufferAttribute",(function(){return _m})),n.d(e,"DynamicCopyUsage",(function(){return bn})),n.d(e,"DynamicDrawUsage",(function(){return fn})),n.d(e,"DynamicReadUsage",(function(){return xn})),n.d(e,"EdgesGeometry",(function(){return gc})),n.d(e,"EdgesHelper",(function(){return Im})),n.d(e,"EllipseCurve",(function(){return Bp})),n.d(e,"EqualDepth",(function(){return J})),n.d(e,"EqualStencilFunc",(function(){return ln})),n.d(e,"EquirectangularReflectionMapping",(function(){return vt})),n.d(e,"EquirectangularRefractionMapping",(function(){return xt})),n.d(e,"Euler",(function(){return ar})),n.d(e,"EventDispatcher",(function(){return Rn})),n.d(e,"ExtrudeBufferGeometry",(function(){return Wc})),n.d(e,"ExtrudeGeometry",(function(){return Wc})),n.d(e,"FaceColors",(function(){return lm})),n.d(e,"FileLoader",(function(){return ku})),n.d(e,"FlatShading",(function(){return M})),n.d(e,"Float16BufferAttribute",(function(){return qr})),n.d(e,"Float32Attribute",(function(){return Am})),n.d(e,"Float32BufferAttribute",(function(){return Yr})),n.d(e,"Float64Attribute",(function(){return Tm})),n.d(e,"Float64BufferAttribute",(function(){return $r})),n.d(e,"FloatType",(function(){return Ft})),n.d(e,"Fog",(function(){return Al})),n.d(e,"FogExp2",(function(){return Rl})),n.d(e,"Font",(function(){return Hm})),n.d(e,"FontLoader",(function(){return Um})),n.d(e,"FramebufferTexture",(function(){return Dp})),n.d(e,"FrontSide",(function(){return y})),n.d(e,"Frustum",(function(){return Va})),n.d(e,"GLBufferAttribute",(function(){return ad})),n.d(e,"GLSL1",(function(){return wn})),n.d(e,"GLSL3",(function(){return Mn})),n.d(e,"GreaterDepth",(function(){return et})),n.d(e,"GreaterEqualDepth",(function(){return tt})),n.d(e,"GreaterEqualStencilFunc",(function(){return hn})),n.d(e,"GreaterStencilFunc",(function(){return cn})),n.d(e,"GridHelper",(function(){return Pd})),n.d(e,"Group",(function(){return xl})),n.d(e,"HalfFloatType",(function(){return Vt})),n.d(e,"HemisphereLight",(function(){return Xu})),n.d(e,"HemisphereLightHelper",(function(){return Td})),n.d(e,"HemisphereLightProbe",(function(){return bh})),n.d(e,"IcosahedronBufferGeometry",(function(){return qc})),n.d(e,"IcosahedronGeometry",(function(){return qc})),n.d(e,"ImageBitmapLoader",(function(){return vh})),n.d(e,"ImageLoader",(function(){return Fu})),n.d(e,"ImageUtils",(function(){return ii})),n.d(e,"ImmediateRenderObject",(function(){return Xm})),n.d(e,"IncrementStencilOp",(function(){return tn})),n.d(e,"IncrementWrapStencilOp",(function(){return nn})),n.d(e,"InstancedBufferAttribute",(function(){return pp})),n.d(e,"InstancedBufferGeometry",(function(){return uh})),n.d(e,"InstancedInterleavedBuffer",(function(){return rd})),n.d(e,"InstancedMesh",(function(){return mp})),n.d(e,"Int16Attribute",(function(){return wm})),n.d(e,"Int16BufferAttribute",(function(){return Hr})),n.d(e,"Int32Attribute",(function(){return Em})),n.d(e,"Int32BufferAttribute",(function(){return Wr})),n.d(e,"Int8Attribute",(function(){return ym})),n.d(e,"Int8BufferAttribute",(function(){return Vr})),n.d(e,"IntType",(function(){return Gt})),n.d(e,"InterleavedBuffer",(function(){return Pl})),n.d(e,"InterleavedBufferAttribute",(function(){return Il})),n.d(e,"Interpolant",(function(){return vu})),n.d(e,"InterpolateDiscrete",(function(){return Ie})),n.d(e,"InterpolateLinear",(function(){return Le})),n.d(e,"InterpolateSmooth",(function(){return Ne})),n.d(e,"InvertStencilOp",(function(){return an})),n.d(e,"JSONLoader",(function(){return Gm})),n.d(e,"KeepStencilOp",(function(){return Ze})),n.d(e,"KeyframeTrack",(function(){return bu})),n.d(e,"LOD",(function(){return Kl})),n.d(e,"LatheBufferGeometry",(function(){return ac})),n.d(e,"LatheGeometry",(function(){return ac})),n.d(e,"Layers",(function(){return or})),n.d(e,"LensFlare",(function(){return Fm})),n.d(e,"LessDepth",(function(){return Q})),n.d(e,"LessEqualDepth",(function(){return Z})),n.d(e,"LessEqualStencilFunc",(function(){return pn})),n.d(e,"LessStencilFunc",(function(){return sn})),n.d(e,"Light",(function(){return Hu})),n.d(e,"LightProbe",(function(){return lh})),n.d(e,"Line",(function(){return bp})),n.d(e,"Line3",(function(){return gd})),n.d(e,"LineBasicMaterial",(function(){return fp})),n.d(e,"LineCurve",(function(){return Qp})),n.d(e,"LineCurve3",(function(){return Zp})),n.d(e,"LineDashedMaterial",(function(){return mu})),n.d(e,"LineLoop",(function(){return Ep})),n.d(e,"LinePieces",(function(){return om})),n.d(e,"LineSegments",(function(){return Mp})),n.d(e,"LineStrip",(function(){return am})),n.d(e,"LinearEncoding",(function(){return Ue})),n.d(e,"LinearFilter",(function(){return Tt})),n.d(e,"LinearInterpolant",(function(){return _u})),n.d(e,"LinearMipMapLinearFilter",(function(){return Lt})),n.d(e,"LinearMipMapNearestFilter",(function(){return Ct})),n.d(e,"LinearMipmapLinearFilter",(function(){return It})),n.d(e,"LinearMipmapNearestFilter",(function(){return Pt})),n.d(e,"LinearSRGBColorSpace",(function(){return Ke})),n.d(e,"LinearToneMapping",(function(){return lt})),n.d(e,"Loader",(function(){return Du})),n.d(e,"LoaderUtils",(function(){return ch})),n.d(e,"LoadingManager",(function(){return Lu})),n.d(e,"LoopOnce",(function(){return Te})),n.d(e,"LoopPingPong",(function(){return Ce})),n.d(e,"LoopRepeat",(function(){return Pe})),n.d(e,"LuminanceAlphaFormat",(function(){return Yt})),n.d(e,"LuminanceFormat",(function(){return qt})),n.d(e,"MOUSE",(function(){return o})),n.d(e,"Material",(function(){return Or})),n.d(e,"MaterialLoader",(function(){return ph})),n.d(e,"Math",(function(){return Bn})),n.d(e,"MathUtils",(function(){return Bn})),n.d(e,"Matrix3",(function(){return Vn})),n.d(e,"Matrix4",(function(){return Yi})),n.d(e,"MaxEquation",(function(){return k})),n.d(e,"Mesh",(function(){return ba})),n.d(e,"MeshBasicMaterial",(function(){return kr})),n.d(e,"MeshDepthMaterial",(function(){return pl})),n.d(e,"MeshDistanceMaterial",(function(){return cl})),n.d(e,"MeshFaceMaterial",(function(){return cm})),n.d(e,"MeshLambertMaterial",(function(){return hu})),n.d(e,"MeshMatcapMaterial",(function(){return du})),n.d(e,"MeshNormalMaterial",(function(){return uu})),n.d(e,"MeshPhongMaterial",(function(){return pu})),n.d(e,"MeshPhysicalMaterial",(function(){return lu})),n.d(e,"MeshStandardMaterial",(function(){return su})),n.d(e,"MeshToonMaterial",(function(){return cu})),n.d(e,"MinEquation",(function(){return O})),n.d(e,"MirroredRepeatWrapping",(function(){return St})),n.d(e,"MixOperation",(function(){return at})),n.d(e,"MultiMaterial",(function(){return um})),n.d(e,"MultiplyBlending",(function(){return C})),n.d(e,"MultiplyOperation",(function(){return it})),n.d(e,"NearestFilter",(function(){return wt})),n.d(e,"NearestMipMapLinearFilter",(function(){return At})),n.d(e,"NearestMipMapNearestFilter",(function(){return Et})),n.d(e,"NearestMipmapLinearFilter",(function(){return Rt})),n.d(e,"NearestMipmapNearestFilter",(function(){return Mt})),n.d(e,"NeverDepth",(function(){return $})),n.d(e,"NeverStencilFunc",(function(){return on})),n.d(e,"NoBlending",(function(){return R})),n.d(e,"NoColorSpace",(function(){return Ye})),n.d(e,"NoColors",(function(){return sm})),n.d(e,"NoToneMapping",(function(){return st})),n.d(e,"NormalAnimationBlendMode",(function(){return Ge})),n.d(e,"NormalBlending",(function(){return A})),n.d(e,"NotEqualDepth",(function(){return nt})),n.d(e,"NotEqualStencilFunc",(function(){return un})),n.d(e,"NumberKeyframeTrack",(function(){return Mu})),n.d(e,"Object3D",(function(){return Sr})),n.d(e,"ObjectLoader",(function(){return dh})),n.d(e,"ObjectSpaceNormalMap",(function(){return qe})),n.d(e,"OctahedronBufferGeometry",(function(){return Yc})),n.d(e,"OctahedronGeometry",(function(){return Yc})),n.d(e,"OneFactor",(function(){return B})),n.d(e,"OneMinusDstAlphaFactor",(function(){return X})),n.d(e,"OneMinusDstColorFactor",(function(){return j})),n.d(e,"OneMinusSrcAlphaFactor",(function(){return U})),n.d(e,"OneMinusSrcColorFactor",(function(){return V})),n.d(e,"OrthographicCamera",(function(){return Ja})),n.d(e,"PCFShadowMap",(function(){return v})),n.d(e,"PCFSoftShadowMap",(function(){return x})),n.d(e,"PMREMGenerator",(function(){return lo})),n.d(e,"ParametricGeometry",(function(){return Vm})),n.d(e,"Particle",(function(){return dm})),n.d(e,"ParticleBasicMaterial",(function(){return gm})),n.d(e,"ParticleSystem",(function(){return mm})),n.d(e,"ParticleSystemMaterial",(function(){return vm})),n.d(e,"Path",(function(){return rc})),n.d(e,"PerspectiveCamera",(function(){return Pa})),n.d(e,"Plane",(function(){return Ga})),n.d(e,"PlaneBufferGeometry",(function(){return Ha})),n.d(e,"PlaneGeometry",(function(){return Ha})),n.d(e,"PlaneHelper",(function(){return Ud})),n.d(e,"PointCloud",(function(){return hm})),n.d(e,"PointCloudMaterial",(function(){return fm})),n.d(e,"PointLight",(function(){return nh})),n.d(e,"PointLightHelper",(function(){return Md})),n.d(e,"Points",(function(){return Ip})),n.d(e,"PointsMaterial",(function(){return Rp})),n.d(e,"PolarGridHelper",(function(){return Cd})),n.d(e,"PolyhedronBufferGeometry",(function(){return cc})),n.d(e,"PolyhedronGeometry",(function(){return cc})),n.d(e,"PositionalAudio",(function(){return Fh})),n.d(e,"PropertyBinding",(function(){return Zh})),n.d(e,"PropertyMixer",(function(){return zh})),n.d(e,"QuadraticBezierCurve",(function(){return Jp})),n.d(e,"QuadraticBezierCurve3",(function(){return tc})),n.d(e,"Quaternion",(function(){return gi})),n.d(e,"QuaternionKeyframeTrack",(function(){return Ru})),n.d(e,"QuaternionLinearInterpolant",(function(){return Eu})),n.d(e,"REVISION",(function(){return r})),n.d(e,"RGBADepthPacking",(function(){return We})),n.d(e,"RGBAFormat",(function(){return jt})),n.d(e,"RGBAIntegerFormat",(function(){return ee})),n.d(e,"RGBA_ASTC_10x10_Format",(function(){return Me})),n.d(e,"RGBA_ASTC_10x5_Format",(function(){return be})),n.d(e,"RGBA_ASTC_10x6_Format",(function(){return Se})),n.d(e,"RGBA_ASTC_10x8_Format",(function(){return we})),n.d(e,"RGBA_ASTC_12x10_Format",(function(){return Ee})),n.d(e,"RGBA_ASTC_12x12_Format",(function(){return Re})),n.d(e,"RGBA_ASTC_4x4_Format",(function(){return de})),n.d(e,"RGBA_ASTC_5x4_Format",(function(){return me})),n.d(e,"RGBA_ASTC_5x5_Format",(function(){return fe})),n.d(e,"RGBA_ASTC_6x5_Format",(function(){return ge})),n.d(e,"RGBA_ASTC_6x6_Format",(function(){return ve})),n.d(e,"RGBA_ASTC_8x5_Format",(function(){return xe})),n.d(e,"RGBA_ASTC_8x6_Format",(function(){return _e})),n.d(e,"RGBA_ASTC_8x8_Format",(function(){return ye})),n.d(e,"RGBA_BPTC_Format",(function(){return Ae})),n.d(e,"RGBA_ETC2_EAC_Format",(function(){return he})),n.d(e,"RGBA_PVRTC_2BPPV1_Format",(function(){return pe})),n.d(e,"RGBA_PVRTC_4BPPV1_Format",(function(){return le})),n.d(e,"RGBA_S3TC_DXT1_Format",(function(){return ie})),n.d(e,"RGBA_S3TC_DXT3_Format",(function(){return re})),n.d(e,"RGBA_S3TC_DXT5_Format",(function(){return ae})),n.d(e,"RGBFormat",(function(){return Wt})),n.d(e,"RGB_ETC1_Format",(function(){return ce})),n.d(e,"RGB_ETC2_Format",(function(){return ue})),n.d(e,"RGB_PVRTC_2BPPV1_Format",(function(){return se})),n.d(e,"RGB_PVRTC_4BPPV1_Format",(function(){return oe})),n.d(e,"RGB_S3TC_DXT1_Format",(function(){return ne})),n.d(e,"RGFormat",(function(){return Jt})),n.d(e,"RGIntegerFormat",(function(){return te})),n.d(e,"RawShaderMaterial",(function(){return ou})),n.d(e,"Ray",(function(){return qi})),n.d(e,"Raycaster",(function(){return od})),n.d(e,"RectAreaLight",(function(){return oh})),n.d(e,"RedFormat",(function(){return Qt})),n.d(e,"RedIntegerFormat",(function(){return Zt})),n.d(e,"ReinhardToneMapping",(function(){return pt})),n.d(e,"RepeatWrapping",(function(){return yt})),n.d(e,"ReplaceStencilOp",(function(){return Je})),n.d(e,"ReverseSubtractEquation",(function(){return D})),n.d(e,"RingBufferGeometry",(function(){return $c})),n.d(e,"RingGeometry",(function(){return $c})),n.d(e,"SRGBColorSpace",(function(){return $e})),n.d(e,"Scene",(function(){return Tl})),n.d(e,"SceneUtils",(function(){return Bm})),n.d(e,"ShaderChunk",(function(){return Xa})),n.d(e,"ShaderLib",(function(){return ja})),n.d(e,"ShaderMaterial",(function(){return Aa})),n.d(e,"ShadowMaterial",(function(){return au})),n.d(e,"Shape",(function(){return vc})),n.d(e,"ShapeBufferGeometry",(function(){return Kc})),n.d(e,"ShapeGeometry",(function(){return Kc})),n.d(e,"ShapePath",(function(){return Yd})),n.d(e,"ShapeUtils",(function(){return Uc})),n.d(e,"ShortType",(function(){return Ot})),n.d(e,"Skeleton",(function(){return lp})),n.d(e,"SkeletonHelper",(function(){return Sd})),n.d(e,"SkinnedMesh",(function(){return np})),n.d(e,"SmoothShading",(function(){return E})),n.d(e,"Source",(function(){return ri})),n.d(e,"Sphere",(function(){return Fi})),n.d(e,"SphereBufferGeometry",(function(){return Qc})),n.d(e,"SphereGeometry",(function(){return Qc})),n.d(e,"Spherical",(function(){return pd})),n.d(e,"SphericalHarmonics3",(function(){return sh})),n.d(e,"SplineCurve",(function(){return ec})),n.d(e,"SpotLight",(function(){return Ku})),n.d(e,"SpotLightHelper",(function(){return xd})),n.d(e,"Sprite",(function(){return jl})),n.d(e,"SpriteMaterial",(function(){return Ll})),n.d(e,"SrcAlphaFactor",(function(){return z})),n.d(e,"SrcAlphaSaturateFactor",(function(){return Y})),n.d(e,"SrcColorFactor",(function(){return F})),n.d(e,"StaticCopyUsage",(function(){return yn})),n.d(e,"StaticDrawUsage",(function(){return mn})),n.d(e,"StaticReadUsage",(function(){return vn})),n.d(e,"StereoCamera",(function(){return Rh})),n.d(e,"StreamCopyUsage",(function(){return Sn})),n.d(e,"StreamDrawUsage",(function(){return gn})),n.d(e,"StreamReadUsage",(function(){return _n})),n.d(e,"StringKeyframeTrack",(function(){return Au})),n.d(e,"SubtractEquation",(function(){return N})),n.d(e,"SubtractiveBlending",(function(){return P})),n.d(e,"TOUCH",(function(){return l})),n.d(e,"TangentSpaceNormalMap",(function(){return je})),n.d(e,"TetrahedronBufferGeometry",(function(){return Zc})),n.d(e,"TetrahedronGeometry",(function(){return Zc})),n.d(e,"TextGeometry",(function(){return zm})),n.d(e,"Texture",(function(){return si})),n.d(e,"TextureLoader",(function(){return Uu})),n.d(e,"TorusBufferGeometry",(function(){return Jc})),n.d(e,"TorusGeometry",(function(){return Jc})),n.d(e,"TorusKnotBufferGeometry",(function(){return tu})),n.d(e,"TorusKnotGeometry",(function(){return tu})),n.d(e,"Triangle",(function(){return Nr})),n.d(e,"TriangleFanDrawMode",(function(){return ze})),n.d(e,"TriangleStripDrawMode",(function(){return Ve})),n.d(e,"TrianglesDrawMode",(function(){return Fe})),n.d(e,"TubeBufferGeometry",(function(){return eu})),n.d(e,"TubeGeometry",(function(){return eu})),n.d(e,"UVMapping",(function(){return mt})),n.d(e,"Uint16Attribute",(function(){return Mm})),n.d(e,"Uint16BufferAttribute",(function(){return Xr})),n.d(e,"Uint32Attribute",(function(){return Rm})),n.d(e,"Uint32BufferAttribute",(function(){return jr})),n.d(e,"Uint8Attribute",(function(){return bm})),n.d(e,"Uint8BufferAttribute",(function(){return zr})),n.d(e,"Uint8ClampedAttribute",(function(){return Sm})),n.d(e,"Uint8ClampedBufferAttribute",(function(){return Ur})),n.d(e,"Uniform",(function(){return id})),n.d(e,"UniformsLib",(function(){return Wa})),n.d(e,"UniformsUtils",(function(){return Ra})),n.d(e,"UnsignedByteType",(function(){return Nt})),n.d(e,"UnsignedInt248Type",(function(){return Ht})),n.d(e,"UnsignedIntType",(function(){return Bt})),n.d(e,"UnsignedShort4444Type",(function(){return zt})),n.d(e,"UnsignedShort5551Type",(function(){return Ut})),n.d(e,"UnsignedShortType",(function(){return kt})),n.d(e,"VSMShadowMap",(function(){return _})),n.d(e,"Vector2",(function(){return Fn})),n.d(e,"Vector3",(function(){return vi})),n.d(e,"Vector4",(function(){return pi})),n.d(e,"VectorKeyframeTrack",(function(){return Tu})),n.d(e,"Vertex",(function(){return xm})),n.d(e,"VertexColors",(function(){return pm})),n.d(e,"VideoTexture",(function(){return Np})),n.d(e,"WebGL1Renderer",(function(){return El})),n.d(e,"WebGL3DRenderTarget",(function(){return mi})),n.d(e,"WebGLArrayRenderTarget",(function(){return hi})),n.d(e,"WebGLCubeRenderTarget",(function(){return Na})),n.d(e,"WebGLMultipleRenderTargets",(function(){return fi})),n.d(e,"WebGLMultisampleRenderTarget",(function(){return Wm})),n.d(e,"WebGLRenderTarget",(function(){return ci})),n.d(e,"WebGLRenderTargetCube",(function(){return Om})),n.d(e,"WebGLRenderer",(function(){return Ml})),n.d(e,"WebGLUtils",(function(){return gl})),n.d(e,"WireframeGeometry",(function(){return nu})),n.d(e,"WireframeHelper",(function(){return Lm})),n.d(e,"WrapAroundEnding",(function(){return ke})),n.d(e,"XHRLoader",(function(){return Nm})),n.d(e,"ZeroCurvatureEnding",(function(){return De})),n.d(e,"ZeroFactor",(function(){return G})),n.d(e,"ZeroSlopeEnding",(function(){return Oe})),n.d(e,"ZeroStencilOp",(function(){return Qe})),n.d(e,"_SRGBAFormat",(function(){return En})),n.d(e,"sRGBEncoding",(function(){return He}));const r="140",o={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},l={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},c=0,h=1,d=2,m=3,f=0,v=1,x=2,_=3,y=0,S=1,w=2,M=1,E=2,R=0,A=1,T=2,P=3,C=4,I=5,L=100,N=101,D=102,O=103,k=104,G=200,B=201,F=202,V=203,z=204,U=205,H=206,X=207,W=208,j=209,Y=210,$=0,K=1,Q=2,Z=3,J=4,tt=5,et=6,nt=7,it=0,at=1,ot=2,st=0,lt=1,pt=2,ct=3,ut=4,ht=5,mt=300,ft=301,gt=302,vt=303,xt=304,_t=306,yt=1e3,bt=1001,St=1002,wt=1003,Mt=1004,Et=1004,Rt=1005,At=1005,Tt=1006,Pt=1007,Ct=1007,It=1008,Lt=1008,Nt=1009,Dt=1010,Ot=1011,kt=1012,Gt=1013,Bt=1014,Ft=1015,Vt=1016,zt=1017,Ut=1018,Ht=1020,Xt=1021,Wt=1022,jt=1023,qt=1024,Yt=1025,$t=1026,Kt=1027,Qt=1028,Zt=1029,Jt=1030,te=1031,ee=1033,ne=33776,ie=33777,re=33778,ae=33779,oe=35840,se=35841,le=35842,pe=35843,ce=36196,ue=37492,he=37496,de=37808,me=37809,fe=37810,ge=37811,ve=37812,xe=37813,_e=37814,ye=37815,be=37816,Se=37817,we=37818,Me=37819,Ee=37820,Re=37821,Ae=36492,Te=2200,Pe=2201,Ce=2202,Ie=2300,Le=2301,Ne=2302,De=2400,Oe=2401,ke=2402,Ge=2500,Be=2501,Fe=0,Ve=1,ze=2,Ue=3e3,He=3001,Xe=3200,We=3201,je=0,qe=1,Ye="",$e="srgb",Ke="srgb-linear",Qe=0,Ze=7680,Je=7681,tn=7682,en=7683,nn=34055,rn=34056,an=5386,on=512,sn=513,ln=514,pn=515,cn=516,un=517,hn=518,dn=519,mn=35044,fn=35048,gn=35040,vn=35045,xn=35049,_n=35041,yn=35046,bn=35050,Sn=35042,wn="100",Mn="300 es",En=1035;class Rn{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const n=this._listeners[t];if(void 0!==n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const n=e.slice(0);for(let i=0,e=n.length;i<e;i++)n[i].call(this,t);t.target=null}}}const An=[];for(let i=0;i<256;i++)An[i]=(i<16?"0":"")+i.toString(16);let Tn=1234567;const Pn=Math.PI/180,Cn=180/Math.PI;function In(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(An[255&t]+An[t>>8&255]+An[t>>16&255]+An[t>>24&255]+"-"+An[255&e]+An[e>>8&255]+"-"+An[e>>16&15|64]+An[e>>24&255]+"-"+An[63&n|128]+An[n>>8&255]+"-"+An[n>>16&255]+An[n>>24&255]+An[255&r]+An[r>>8&255]+An[r>>16&255]+An[r>>24&255]).toLowerCase()}function Ln(t,e,n){return Math.max(e,Math.min(n,t))}function Nn(t,e){return(t%e+e)%e}function Dn(t,e,n){return(1-n)*t+n*e}function On(t){return 0==(t&t-1)&&0!==t}function kn(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Gn(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}var Bn=Object.freeze({__proto__:null,DEG2RAD:Pn,RAD2DEG:Cn,generateUUID:In,clamp:Ln,euclideanModulo:Nn,mapLinear:function(t,e,n,r,o){return r+(t-e)*(o-r)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:Dn,damp:function(t,e,n,dt){return Dn(t,e,1-Math.exp(-n*dt))},pingpong:function(t,e=1){return e-Math.abs(Nn(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(s){void 0!==s&&(Tn=s);let t=Tn+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(t){return t*Pn},radToDeg:function(t){return t*Cn},isPowerOfTwo:On,ceilPowerOfTwo:kn,floorPowerOfTwo:Gn,setQuaternionFromProperEuler:function(q,a,b,t,e){const n=Math.cos,r=Math.sin,o=n(b/2),l=r(b/2),c=n((a+t)/2),h=r((a+t)/2),d=n((a-t)/2),m=r((a-t)/2),f=n((t-a)/2),v=r((t-a)/2);switch(e){case"XYX":q.set(o*h,l*d,l*m,o*c);break;case"YZY":q.set(l*m,o*h,l*d,o*c);break;case"ZXZ":q.set(l*d,l*m,o*h,o*c);break;case"XZX":q.set(o*h,l*v,l*f,o*c);break;case"YXY":q.set(l*f,o*h,l*v,o*c);break;case"ZYZ":q.set(l*v,l*f,o*h,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}},normalize:function(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}},denormalize:function(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}});class Fn{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(s){return this.x+=s,this.y+=s,this}addVectors(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(s){return this.x-=s,this.y-=s,this}subVectors(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*s+t.x,this.y=r*s+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Fn.prototype.isVector2=!0;class Vn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,o,l,c,h,d){const m=this.elements;return m[0]=t,m[1]=r,m[2]=c,m[3]=e,m[4]=o,m[5]=h,m[6]=n,m[7]=l,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(a,b){const t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[3],l=t[6],c=t[1],h=t[4],d=t[7],m=t[2],f=t[5],v=t[8],x=e[0],_=e[3],y=e[6],S=e[1],w=e[4],M=e[7],E=e[2],R=e[5],A=e[8];return n[0]=r*x+o*S+l*E,n[3]=r*_+o*w+l*R,n[6]=r*y+o*M+l*A,n[1]=c*x+h*S+d*E,n[4]=c*_+h*w+d*R,n[7]=c*y+h*M+d*A,n[2]=m*x+f*S+v*E,n[5]=m*_+f*w+v*R,n[8]=m*y+f*M+v*A,this}multiplyScalar(s){const t=this.elements;return t[0]*=s,t[3]*=s,t[6]*=s,t[1]*=s,t[4]*=s,t[7]*=s,t[2]*=s,t[5]*=s,t[8]*=s,this}determinant(){const t=this.elements,a=t[0],b=t[1],e=t[2],n=t[3],r=t[4],o=t[5],g=t[6],l=t[7],i=t[8];return a*r*i-a*o*l-b*n*i+b*o*g+e*n*l-e*r*g}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],l=t[4],c=t[5],h=t[6],d=t[7],m=t[8],f=m*l-c*d,v=c*h-m*o,x=d*o-l*h,_=e*f+n*v+r*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0);const y=1/_;return t[0]=f*y,t[1]=(r*d-m*n)*y,t[2]=(c*n-r*l)*y,t[3]=v*y,t[4]=(m*e-r*h)*y,t[5]=(r*o-c*e)*y,t[6]=x*y,t[7]=(n*h-d*e)*y,t[8]=(l*e-n*o)*y,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,r,o,l,c){const h=Math.cos(o),s=Math.sin(o);return this.set(n*h,n*s,-n*(h*l+s*c)+l+t,-r*s,r*h,-r*(-s*l+h*c)+c+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),s=Math.sin(t),n=this.elements,r=n[0],o=n[3],l=n[6],c=n[1],h=n[4],d=n[7];return n[0]=e*r+s*c,n[3]=e*o+s*h,n[6]=e*l+s*d,n[1]=-s*r+e*c,n[4]=-s*o+e*h,n[7]=-s*l+e*d,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function zn(t){for(let i=t.length-1;i>=0;--i)if(t[i]>65535)return!0;return!1}Vn.prototype.isMatrix3=!0;const Un={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Hn(t,e){return new Un[t](e)}function Xn(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Wn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function jn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}const qn={[$e]:{[Ke]:Wn},[Ke]:{[$e]:jn}},Yn={legacyMode:!0,get workingColorSpace(){return Ke},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(qn[e]&&void 0!==qn[e][n]){const r=qn[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},$n={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kn={r:0,g:0,b:0},Qn={h:0,s:0,l:0},Zn={h:0,s:0,l:0};function Jn(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+6*(q-p)*(2/3-t):p}function ti(source,t){return t.r=source.r,t.g=source.g,t.b=source.b,t}class ei{constructor(t,g,b){return void 0===g&&void 0===b?this.set(t):this.setRGB(t,g,b)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=$e){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Yn.toWorkingColorSpace(this,e),this}setRGB(t,g,b,e=Ke){return this.r=t,this.g=g,this.b=b,Yn.toWorkingColorSpace(this,e),this}setHSL(t,s,e,n=Ke){if(t=Nn(t,1),s=Ln(s,0,1),e=Ln(e,0,1),0===s)this.r=this.g=this.b=e;else{const p=e<=.5?e*(1+s):e+s-e*s,q=2*e-p;this.r=Jn(q,p,t+1/3),this.g=Jn(q,p,t),this.b=Jn(q,p,t-1/3)}return Yn.toWorkingColorSpace(this,n),this}setStyle(style,t=$e){function e(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+style+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(style)){let r;const o=n[1],l=n[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,Yn.toWorkingColorSpace(this,t),e(r[4]),this;if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,Yn.toWorkingColorSpace(this,t),e(r[4]),this;break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const n=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,o=parseInt(r[3],10)/100;return e(r[4]),this.setHSL(n,s,o,t)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(style)){const e=n[1],r=e.length;if(3===r)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,Yn.toWorkingColorSpace(this,t),this;if(6===r)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,Yn.toWorkingColorSpace(this,t),this}return style&&style.length>0?this.setColorName(style,t):this}setColorName(style,t=$e){const e=$n[style.toLowerCase()];return void 0!==e?this.setHex(e,t):console.warn("THREE.Color: Unknown color "+style),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Wn(t.r),this.g=Wn(t.g),this.b=Wn(t.b),this}copyLinearToSRGB(t){return this.r=jn(t.r),this.g=jn(t.g),this.b=jn(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=$e){return Yn.fromWorkingColorSpace(ti(this,Kn),t),Ln(255*Kn.r,0,255)<<16^Ln(255*Kn.g,0,255)<<8^Ln(255*Kn.b,0,255)<<0}getHexString(t=$e){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ke){Yn.fromWorkingColorSpace(ti(this,Kn),e);const n=Kn.r,g=Kn.g,b=Kn.b,r=Math.max(n,g,b),o=Math.min(n,g,b);let l,c;const h=(o+r)/2;if(o===r)l=0,c=0;else{const t=r-o;switch(c=h<=.5?t/(r+o):t/(2-r-o),r){case n:l=(g-b)/t+(g<b?6:0);break;case g:l=(b-n)/t+2;break;case b:l=(n-g)/t+4}l/=6}return t.h=l,t.s=c,t.l=h,t}getRGB(t,e=Ke){return Yn.fromWorkingColorSpace(ti(this,Kn),e),t.r=Kn.r,t.g=Kn.g,t.b=Kn.b,t}getStyle(t=$e){return Yn.fromWorkingColorSpace(ti(this,Kn),t),t!==$e?`color(${t} ${Kn.r} ${Kn.g} ${Kn.b})`:`rgb(${255*Kn.r|0},${255*Kn.g|0},${255*Kn.b|0})`}offsetHSL(t,s,e){return this.getHSL(Qn),Qn.h+=t,Qn.s+=s,Qn.l+=e,this.setHSL(Qn.h,Qn.s,Qn.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(s){return this.r+=s,this.g+=s,this.b+=s,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(s){return this.r*=s,this.g*=s,this.b*=s,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(Qn),t.getHSL(Zn);const n=Dn(Qn.h,Zn.h,e),s=Dn(Qn.s,Zn.s,e),r=Dn(Qn.l,Zn.l,e);return this.setHSL(n,s,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let ni;ei.NAMES=$n,ei.prototype.isColor=!0,ei.prototype.r=1,ei.prototype.g=1,ei.prototype.b=1;class ii{static getDataURL(image){if(/^data:/i.test(image.src))return image.src;if("undefined"==typeof HTMLCanvasElement)return image.src;let canvas;if(image instanceof HTMLCanvasElement)canvas=image;else{void 0===ni&&(ni=Xn("canvas")),ni.width=image.width,ni.height=image.height;const t=ni.getContext("2d");image instanceof ImageData?t.putImageData(image,0,0):t.drawImage(image,0,0,image.width,image.height),canvas=ni}return canvas.width>2048||canvas.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",image),canvas.toDataURL("image/jpeg",.6)):canvas.toDataURL("image/png")}static sRGBToLinear(image){if("undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap){const canvas=Xn("canvas");canvas.width=image.width,canvas.height=image.height;const t=canvas.getContext("2d");t.drawImage(image,0,0,image.width,image.height);const e=t.getImageData(0,0,image.width,image.height),data=e.data;for(let i=0;i<data.length;i++)data[i]=255*Wn(data[i]/255);return t.putImageData(e,0,0),canvas}if(image.data){const data=image.data.slice(0);for(let i=0;i<data.length;i++)data instanceof Uint8Array||data instanceof Uint8ClampedArray?data[i]=Math.floor(255*Wn(data[i]/255)):data[i]=Wn(data[i]);return{data:data,width:image.width,height:image.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),image}}class ri{constructor(data=null){this.uuid=In(),this.data=data,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(meta){const t=void 0===meta||"string"==typeof meta;if(!t&&void 0!==meta.images[this.uuid])return meta.images[this.uuid];const output={uuid:this.uuid,url:""},data=this.data;if(null!==data){let t;if(Array.isArray(data)){t=[];for(let i=0,e=data.length;i<e;i++)data[i].isDataTexture?t.push(ai(data[i].image)):t.push(ai(data[i]))}else t=ai(data);output.url=t}return t||(meta.images[this.uuid]=output),output}}function ai(image){return"undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap?ii.getDataURL(image):image.data?{data:Array.prototype.slice.call(image.data),width:image.width,height:image.height,type:image.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}ri.prototype.isSource=!0;let oi=0;class si extends Rn{constructor(image=si.DEFAULT_IMAGE,t=si.DEFAULT_MAPPING,e=bt,n=bt,r=Tt,o=It,l=jt,c=Nt,h=1,d=Ue){super(),Object.defineProperty(this,"id",{value:oi++}),this.uuid=In(),this.name="",this.source=new ri(image),this.mipmaps=[],this.mapping=t,this.wrapS=e,this.wrapT=n,this.magFilter=r,this.minFilter=o,this.anisotropy=h,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Fn(0,0),this.repeat=new Fn(1,1),this.center=new Fn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Vn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=d,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(source){return this.name=source.name,this.source=source.source,this.mipmaps=source.mipmaps.slice(0),this.mapping=source.mapping,this.wrapS=source.wrapS,this.wrapT=source.wrapT,this.magFilter=source.magFilter,this.minFilter=source.minFilter,this.anisotropy=source.anisotropy,this.format=source.format,this.internalFormat=source.internalFormat,this.type=source.type,this.offset.copy(source.offset),this.repeat.copy(source.repeat),this.center.copy(source.center),this.rotation=source.rotation,this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrix.copy(source.matrix),this.generateMipmaps=source.generateMipmaps,this.premultiplyAlpha=source.premultiplyAlpha,this.flipY=source.flipY,this.unpackAlignment=source.unpackAlignment,this.encoding=source.encoding,this.userData=JSON.parse(JSON.stringify(source.userData)),this.needsUpdate=!0,this}toJSON(meta){const t=void 0===meta||"string"==typeof meta;if(!t&&void 0!==meta.textures[this.uuid])return meta.textures[this.uuid];const output={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(meta).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(output.userData=this.userData),t||(meta.textures[this.uuid]=output),output}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==mt)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case yt:t.x=t.x-Math.floor(t.x);break;case bt:t.x=t.x<0?0:1;break;case St:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case yt:t.y=t.y-Math.floor(t.y);break;case bt:t.y=t.y<0?0:1;break;case St:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}si.DEFAULT_IMAGE=null,si.DEFAULT_MAPPING=mt,si.prototype.isTexture=!0;class pi{constructor(t=0,e=0,n=0,r=1){this.x=t,this.y=e,this.z=n,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this.w+=s,this}addVectors(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this.w=a.w+b.w,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this.w+=t.w*s,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this.w-=s,this}subVectors(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this.w=a.w-b.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*n+l[8]*r+l[12]*o,this.y=l[1]*e+l[5]*n+l[9]*r+l[13]*o,this.z=l[2]*e+l[6]*n+l[10]*r+l[14]*o,this.w=l[3]*e+l[7]*n+l[11]*r+l[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(q){this.w=2*Math.acos(q.w);const s=Math.sqrt(1-q.w*q.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=q.x/s,this.y=q.y/s,this.z=q.z/s),this}setAxisAngleFromRotationMatrix(t){let e,n,r,o;const l=.01,c=.1,h=t.elements,d=h[0],m=h[4],f=h[8],v=h[1],x=h[5],_=h[9],y=h[2],S=h[6],w=h[10];if(Math.abs(m-v)<l&&Math.abs(f-y)<l&&Math.abs(_-S)<l){if(Math.abs(m+v)<c&&Math.abs(f+y)<c&&Math.abs(_+S)<c&&Math.abs(d+x+w-3)<c)return this.set(1,0,0,0),this;e=Math.PI;const t=(d+1)/2,h=(x+1)/2,M=(w+1)/2,E=(m+v)/4,R=(f+y)/4,A=(_+S)/4;return t>h&&t>M?t<l?(n=0,r=.707106781,o=.707106781):(n=Math.sqrt(t),r=E/n,o=R/n):h>M?h<l?(n=.707106781,r=0,o=.707106781):(r=Math.sqrt(h),n=E/r,o=A/r):M<l?(n=.707106781,r=.707106781,o=0):(o=Math.sqrt(M),n=R/o,r=A/o),this.set(n,r,o,e),this}let s=Math.sqrt((S-_)*(S-_)+(f-y)*(f-y)+(v-m)*(v-m));return Math.abs(s)<.001&&(s=1),this.x=(S-_)/s,this.y=(f-y)/s,this.z=(v-m)/s,this.w=Math.acos((d+x+w-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}pi.prototype.isVector4=!0;class ci extends Rn{constructor(t,e,n={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new pi(0,0,t,e),this.scissorTest=!1,this.viewport=new pi(0,0,t,e);const image={width:t,height:e,depth:1};this.texture=new si(image,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Tt,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(t,e,n=1){this.width===t&&this.height===e&&this.depth===n||(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(source){this.width=source.width,this.height=source.height,this.depth=source.depth,this.viewport.copy(source.viewport),this.texture=source.texture.clone(),this.texture.isRenderTargetTexture=!0;const image=Object.assign({},source.texture.image);return this.texture.source=new ri(image),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,null!==source.depthTexture&&(this.depthTexture=source.depthTexture.clone()),this.samples=source.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}ci.prototype.isWebGLRenderTarget=!0;class ui extends si{constructor(data=null,t=1,e=1,n=1){super(null),this.image={data:data,width:t,height:e,depth:n},this.magFilter=wt,this.minFilter=wt,this.wrapR=bt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}ui.prototype.isDataArrayTexture=!0;class hi extends ci{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new ui(null,t,e,n),this.texture.isRenderTargetTexture=!0}}hi.prototype.isWebGLArrayRenderTarget=!0;class di extends si{constructor(data=null,t=1,e=1,n=1){super(null),this.image={data:data,width:t,height:e,depth:n},this.magFilter=wt,this.minFilter=wt,this.wrapR=bt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}di.prototype.isData3DTexture=!0;class mi extends ci{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new di(null,t,e,n),this.texture.isRenderTargetTexture=!0}}mi.prototype.isWebGL3DRenderTarget=!0;class fi extends ci{constructor(t,e,n,r={}){super(t,e,r);const o=this.texture;this.texture=[];for(let i=0;i<n;i++)this.texture[i]=o.clone(),this.texture[i].isRenderTargetTexture=!0}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=t,this.texture[i].image.height=e,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(source){this.dispose(),this.width=source.width,this.height=source.height,this.depth=source.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=source.depthBuffer,this.stencilBuffer=source.stencilBuffer,null!==source.depthTexture&&(this.depthTexture=source.depthTexture.clone()),this.texture.length=0;for(let i=0,t=source.texture.length;i<t;i++)this.texture[i]=source.texture[i].clone(),this.texture[i].isRenderTargetTexture=!0;return this}}fi.prototype.isWebGLMultipleRenderTargets=!0;class gi{constructor(t=0,e=0,n=0,r=1){this._x=t,this._y=e,this._z=n,this._w=r}static slerp(t,e,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,r)}static slerpFlat(t,e,n,r,o,l,c){let h=n[r+0],d=n[r+1],m=n[r+2],f=n[r+3];const v=o[l+0],x=o[l+1],_=o[l+2],y=o[l+3];if(0===c)return t[e+0]=h,t[e+1]=d,t[e+2]=m,void(t[e+3]=f);if(1===c)return t[e+0]=v,t[e+1]=x,t[e+2]=_,void(t[e+3]=y);if(f!==y||h!==v||d!==x||m!==_){let s=1-c;const t=h*v+d*x+m*_+f*y,e=t>=0?1:-1,n=1-t*t;if(n>Number.EPSILON){const r=Math.sqrt(n),o=Math.atan2(r,t*e);s=Math.sin(s*o)/r,c=Math.sin(c*o)/r}const r=c*e;if(h=h*s+v*r,d=d*s+x*r,m=m*s+_*r,f=f*s+y*r,s===1-c){const t=1/Math.sqrt(h*h+d*d+m*m+f*f);h*=t,d*=t,m*=t,f*=t}}t[e]=h,t[e+1]=d,t[e+2]=m,t[e+3]=f}static multiplyQuaternionsFlat(t,e,n,r,o,l){const c=n[r],h=n[r+1],d=n[r+2],m=n[r+3],f=o[l],v=o[l+1],x=o[l+2],_=o[l+3];return t[e]=c*_+m*f+h*x-d*v,t[e+1]=h*_+m*v+d*f-c*x,t[e+2]=d*_+m*x+c*v-h*f,t[e+3]=m*_-c*f-h*v-d*x,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,r=t._y,o=t._z,l=t._order,c=Math.cos,h=Math.sin,d=c(n/2),m=c(r/2),f=c(o/2),v=h(n/2),x=h(r/2),_=h(o/2);switch(l){case"XYZ":this._x=v*m*f+d*x*_,this._y=d*x*f-v*m*_,this._z=d*m*_+v*x*f,this._w=d*m*f-v*x*_;break;case"YXZ":this._x=v*m*f+d*x*_,this._y=d*x*f-v*m*_,this._z=d*m*_-v*x*f,this._w=d*m*f+v*x*_;break;case"ZXY":this._x=v*m*f-d*x*_,this._y=d*x*f+v*m*_,this._z=d*m*_+v*x*f,this._w=d*m*f-v*x*_;break;case"ZYX":this._x=v*m*f-d*x*_,this._y=d*x*f+v*m*_,this._z=d*m*_-v*x*f,this._w=d*m*f+v*x*_;break;case"YZX":this._x=v*m*f+d*x*_,this._y=d*x*f+v*m*_,this._z=d*m*_-v*x*f,this._w=d*m*f-v*x*_;break;case"XZY":this._x=v*m*f-d*x*_,this._y=d*x*f-v*m*_,this._z=d*m*_+v*x*f,this._w=d*m*f+v*x*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,s=Math.sin(n);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],r=e[4],o=e[8],l=e[1],c=e[5],h=e[9],d=e[2],m=e[6],f=e[10],v=n+c+f;if(v>0){const s=.5/Math.sqrt(v+1);this._w=.25/s,this._x=(m-h)*s,this._y=(o-d)*s,this._z=(l-r)*s}else if(n>c&&n>f){const s=2*Math.sqrt(1+n-c-f);this._w=(m-h)/s,this._x=.25*s,this._y=(r+l)/s,this._z=(o+d)/s}else if(c>f){const s=2*Math.sqrt(1+c-n-f);this._w=(o-d)/s,this._x=(r+l)/s,this._y=.25*s,this._z=(h+m)/s}else{const s=2*Math.sqrt(1+f-n-c);this._w=(l-r)/s,this._x=(o+d)/s,this._y=(h+m)/s,this._z=.25*s}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(q){return 2*Math.acos(Math.abs(Ln(this.dot(q),-1,1)))}rotateTowards(q,t){const e=this.angleTo(q);if(0===e)return this;const n=Math.min(1,t/e);return this.slerp(q,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(q,p){return void 0!==p?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(q,p)):this.multiplyQuaternions(this,q)}premultiply(q){return this.multiplyQuaternions(q,this)}multiplyQuaternions(a,b){const t=a._x,e=a._y,n=a._z,r=a._w,o=b._x,l=b._y,c=b._z,h=b._w;return this._x=t*h+r*o+e*c-n*l,this._y=e*h+r*l+n*o-t*c,this._z=n*h+r*c+t*l-e*o,this._w=r*h-t*o-e*l-n*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,r=this._y,o=this._z,l=this._w;let c=l*t._w+n*t._x+r*t._y+o*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=l,this._x=n,this._y=r,this._z=o,this;const h=1-c*c;if(h<=Number.EPSILON){const s=1-e;return this._w=s*l+e*this._w,this._x=s*n+e*this._x,this._y=s*r+e*this._y,this._z=s*o+e*this._z,this.normalize(),this._onChangeCallback(),this}const d=Math.sqrt(h),m=Math.atan2(d,c),f=Math.sin((1-e)*m)/d,v=Math.sin(e*m)/d;return this._w=l*f+this._w*v,this._x=n*f+this._x*v,this._y=r*f+this._y*v,this._z=o*f+this._z*v,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(e*Math.cos(r),n*Math.sin(o),n*Math.cos(o),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}gi.prototype.isQuaternion=!0;class vi{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(s){return this.x+=s,this.y+=s,this.z+=s,this}addVectors(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this}addScaledVector(t,s){return this.x+=t.x*s,this.y+=t.y*s,this.z+=t.z*s,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(s){return this.x-=s,this.y-=s,this.z-=s,this}subVectors(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_i.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(_i.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*n+o[6]*r,this.y=o[1]*e+o[4]*n+o[7]*r,this.z=o[2]*e+o[5]*n+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,r=this.z,o=t.elements,l=1/(o[3]*e+o[7]*n+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*n+o[8]*r+o[12])*l,this.y=(o[1]*e+o[5]*n+o[9]*r+o[13])*l,this.z=(o[2]*e+o[6]*n+o[10]*r+o[14])*l,this}applyQuaternion(q){const t=this.x,e=this.y,n=this.z,r=q.x,o=q.y,l=q.z,c=q.w,h=c*t+o*n-l*e,d=c*e+l*t-r*n,m=c*n+r*e-o*t,f=-r*t-o*e-l*n;return this.x=h*c+f*-r+d*-l-m*-o,this.y=d*c+f*-o+m*-r-h*-l,this.z=m*c+f*-l+h*-o-d*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*r,this.y=o[1]*e+o[5]*n+o[9]*r,this.z=o[2]*e+o[6]*n+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(a,b){const t=a.x,e=a.y,n=a.z,r=b.x,o=b.y,l=b.z;return this.x=e*l-n*o,this.y=n*r-t*l,this.z=t*o-e*r,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return xi.copy(this).projectOnVector(t),this.sub(xi)}reflect(t){return this.sub(xi.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Ln(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(s){return this.setFromSphericalCoords(s.radius,s.phi,s.theta)}setFromSphericalCoords(t,e,n){const r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const u=2*(Math.random()-.5),t=Math.random()*Math.PI*2,e=Math.sqrt(1-u**2);return this.x=e*Math.cos(t),this.y=e*Math.sin(t),this.z=u,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}vi.prototype.isVector3=!0;const xi=new vi,_i=new gi;class yi{constructor(t=new vi(1/0,1/0,1/0),e=new vi(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0;for(let i=0,h=t.length;i<h;i+=3){const h=t[i],d=t[i+1],m=t[i+2];h<e&&(e=h),d<n&&(n=d),m<r&&(r=m),h>o&&(o=h),d>l&&(l=d),m>c&&(c=m)}return this.min.set(e,n,r),this.max.set(o,l,c),this}setFromBufferAttribute(t){let e=1/0,n=1/0,r=1/0,o=-1/0,l=-1/0,c=-1/0;for(let i=0,h=t.count;i<h;i++){const h=t.getX(i),d=t.getY(i),m=t.getZ(i);h<e&&(e=h),d<n&&(n=d),m<r&&(r=m),h>o&&(o=h),d>l&&(l=d),m>c&&(c=m)}return this.min.set(e,n,r),this.max.set(o,l,c),this}setFromPoints(t){this.makeEmpty();for(let i=0,e=t.length;i<e;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,e){const n=Si.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(object,t=!1){return this.makeEmpty(),this.expandByObject(object,t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(object,t=!1){object.updateWorldMatrix(!1,!1);const e=object.geometry;if(void 0!==e)if(t&&null!=e.attributes&&void 0!==e.attributes.position){const t=e.attributes.position;for(let i=0,e=t.count;i<e;i++)Si.fromBufferAttribute(t,i).applyMatrix4(object.matrixWorld),this.expandByPoint(Si)}else null===e.boundingBox&&e.computeBoundingBox(),wi.copy(e.boundingBox),wi.applyMatrix4(object.matrixWorld),this.union(wi);const n=object.children;for(let i=0,e=n.length;i<e;i++)this.expandByObject(n[i],t);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Si),Si.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Ci),Ii.subVectors(this.max,Ci),Mi.subVectors(t.a,Ci),Ei.subVectors(t.b,Ci),Ri.subVectors(t.c,Ci),Ai.subVectors(Ei,Mi),Ti.subVectors(Ri,Ei),Pi.subVectors(Mi,Ri);let e=[0,-Ai.z,Ai.y,0,-Ti.z,Ti.y,0,-Pi.z,Pi.y,Ai.z,0,-Ai.x,Ti.z,0,-Ti.x,Pi.z,0,-Pi.x,-Ai.y,Ai.x,0,-Ti.y,Ti.x,0,-Pi.y,Pi.x,0];return!!Di(e,Mi,Ei,Ri,Ii)&&(e=[1,0,0,0,1,0,0,0,1],!!Di(e,Mi,Ei,Ri,Ii)&&(Li.crossVectors(Ai,Ti),e=[Li.x,Li.y,Li.z],Di(e,Mi,Ei,Ri,Ii)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return Si.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(Si).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(bi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),bi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),bi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),bi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),bi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),bi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),bi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),bi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(bi)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}yi.prototype.isBox3=!0;const bi=[new vi,new vi,new vi,new vi,new vi,new vi,new vi,new vi],Si=new vi,wi=new yi,Mi=new vi,Ei=new vi,Ri=new vi,Ai=new vi,Ti=new vi,Pi=new vi,Ci=new vi,Ii=new vi,Li=new vi,Ni=new vi;function Di(t,e,n,r,o){for(let i=0,l=t.length-3;i<=l;i+=3){Ni.fromArray(t,i);const l=o.x*Math.abs(Ni.x)+o.y*Math.abs(Ni.y)+o.z*Math.abs(Ni.z),c=e.dot(Ni),h=n.dot(Ni),d=r.dot(Ni);if(Math.max(-Math.max(c,h,d),Math.min(c,h,d))>l)return!1}return!0}const Oi=new yi,ki=new vi,Gi=new vi,Bi=new vi;class Fi{constructor(t=new vi,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):Oi.setFromPoints(t).getCenter(n);let r=0;for(let i=0,e=t.length;i<e;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){Bi.subVectors(t,this.center);const e=Bi.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.add(Bi.multiplyScalar(n/t)),this.radius+=n}return this}union(t){return!0===this.center.equals(t.center)?Gi.set(0,0,1).multiplyScalar(t.radius):Gi.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(ki.copy(t.center).add(Gi)),this.expandByPoint(ki.copy(t.center).sub(Gi)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Vi=new vi,zi=new vi,Ui=new vi,Hi=new vi,Xi=new vi,Wi=new vi,ji=new vi;class qi{constructor(t=new vi,e=new vi(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Vi)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Vi.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Vi.copy(this.direction).multiplyScalar(e).add(this.origin),Vi.distanceToSquared(t))}distanceSqToSegment(t,e,n,r){zi.copy(t).add(e).multiplyScalar(.5),Ui.copy(e).sub(t).normalize(),Hi.copy(this.origin).sub(zi);const o=.5*t.distanceTo(e),l=-this.direction.dot(Ui),c=Hi.dot(this.direction),h=-Hi.dot(Ui),d=Hi.lengthSq(),m=Math.abs(1-l*l);let f,v,x,_;if(m>0)if(f=l*h-c,v=l*c-h,_=o*m,f>=0)if(v>=-_)if(v<=_){const t=1/m;f*=t,v*=t,x=f*(f+l*v+2*c)+v*(l*f+v+2*h)+d}else v=o,f=Math.max(0,-(l*v+c)),x=-f*f+v*(v+2*h)+d;else v=-o,f=Math.max(0,-(l*v+c)),x=-f*f+v*(v+2*h)+d;else v<=-_?(f=Math.max(0,-(-l*o+c)),v=f>0?-o:Math.min(Math.max(-o,-h),o),x=-f*f+v*(v+2*h)+d):v<=_?(f=0,v=Math.min(Math.max(-o,-h),o),x=v*(v+2*h)+d):(f=Math.max(0,-(l*o+c)),v=f>0?o:Math.min(Math.max(-o,-h),o),x=-f*f+v*(v+2*h)+d);else v=l>0?-o:o,f=Math.max(0,-(l*v+c)),x=-f*f+v*(v+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(f).add(this.origin),r&&r.copy(Ui).multiplyScalar(v).add(zi),x}intersectSphere(t,e){Vi.subVectors(t.center,this.origin);const n=Vi.dot(this.direction),r=Vi.dot(Vi)-n*n,o=t.radius*t.radius;if(r>o)return null;const l=Math.sqrt(o-r),c=n-l,h=n+l;return c<0&&h<0?null:c<0?this.at(h,e):this.at(c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,r,o,l,c,h;const d=1/this.direction.x,m=1/this.direction.y,f=1/this.direction.z,v=this.origin;return d>=0?(n=(t.min.x-v.x)*d,r=(t.max.x-v.x)*d):(n=(t.max.x-v.x)*d,r=(t.min.x-v.x)*d),m>=0?(o=(t.min.y-v.y)*m,l=(t.max.y-v.y)*m):(o=(t.max.y-v.y)*m,l=(t.min.y-v.y)*m),n>l||o>r?null:((o>n||n!=n)&&(n=o),(l<r||r!=r)&&(r=l),f>=0?(c=(t.min.z-v.z)*f,h=(t.max.z-v.z)*f):(c=(t.max.z-v.z)*f,h=(t.min.z-v.z)*f),n>h||c>r?null:((c>n||n!=n)&&(n=c),(h<r||r!=r)&&(r=h),r<0?null:this.at(n>=0?n:r,e)))}intersectsBox(t){return null!==this.intersectBox(t,Vi)}intersectTriangle(a,b,t,e,n){Xi.subVectors(b,a),Wi.subVectors(t,a),ji.crossVectors(Xi,Wi);let r,o=this.direction.dot(ji);if(o>0){if(e)return null;r=1}else{if(!(o<0))return null;r=-1,o=-o}Hi.subVectors(this.origin,a);const l=r*this.direction.dot(Wi.crossVectors(Hi,Wi));if(l<0)return null;const c=r*this.direction.dot(Xi.cross(Hi));if(c<0)return null;if(l+c>o)return null;const h=-r*Hi.dot(ji);return h<0?null:this.at(h/o,n)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Yi{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,r,o,l,c,h,d,m,f,v,x,_,y,S){const w=this.elements;return w[0]=t,w[4]=e,w[8]=n,w[12]=r,w[1]=o,w[5]=l,w[9]=c,w[13]=h,w[2]=d,w[6]=m,w[10]=f,w[14]=v,w[3]=x,w[7]=_,w[11]=y,w[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Yi).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,r=1/$i.setFromMatrixColumn(t,0).length(),o=1/$i.setFromMatrixColumn(t,1).length(),l=1/$i.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=0,e[8]=n[8]*l,e[9]=n[9]*l,e[10]=n[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,r=t.y,o=t.z,a=Math.cos(n),b=Math.sin(n),l=Math.cos(r),c=Math.sin(r),h=Math.cos(o),d=Math.sin(o);if("XYZ"===t.order){const t=a*h,n=a*d,r=b*h,o=b*d;e[0]=l*h,e[4]=-l*d,e[8]=c,e[1]=n+r*c,e[5]=t-o*c,e[9]=-b*l,e[2]=o-t*c,e[6]=r+n*c,e[10]=a*l}else if("YXZ"===t.order){const t=l*h,n=l*d,r=c*h,o=c*d;e[0]=t+o*b,e[4]=r*b-n,e[8]=a*c,e[1]=a*d,e[5]=a*h,e[9]=-b,e[2]=n*b-r,e[6]=o+t*b,e[10]=a*l}else if("ZXY"===t.order){const t=l*h,n=l*d,r=c*h,o=c*d;e[0]=t-o*b,e[4]=-a*d,e[8]=r+n*b,e[1]=n+r*b,e[5]=a*h,e[9]=o-t*b,e[2]=-a*c,e[6]=b,e[10]=a*l}else if("ZYX"===t.order){const t=a*h,n=a*d,r=b*h,o=b*d;e[0]=l*h,e[4]=r*c-n,e[8]=t*c+o,e[1]=l*d,e[5]=o*c+t,e[9]=n*c-r,e[2]=-c,e[6]=b*l,e[10]=a*l}else if("YZX"===t.order){const t=a*l,n=a*c,r=b*l,o=b*c;e[0]=l*h,e[4]=o-t*d,e[8]=r*d+n,e[1]=d,e[5]=a*h,e[9]=-b*h,e[2]=-c*h,e[6]=n*d+r,e[10]=t-o*d}else if("XZY"===t.order){const t=a*l,n=a*c,r=b*l,o=b*c;e[0]=l*h,e[4]=-d,e[8]=c*h,e[1]=t*d+o,e[5]=a*h,e[9]=n*d-r,e[2]=r*d-n,e[6]=b*h,e[10]=o*d+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(q){return this.compose(Qi,q,Zi)}lookAt(t,e,n){const r=this.elements;return nr.subVectors(t,e),0===nr.lengthSq()&&(nr.z=1),nr.normalize(),Ji.crossVectors(n,nr),0===Ji.lengthSq()&&(1===Math.abs(n.z)?nr.x+=1e-4:nr.z+=1e-4,nr.normalize(),Ji.crossVectors(n,nr)),Ji.normalize(),er.crossVectors(nr,Ji),r[0]=Ji.x,r[4]=er.x,r[8]=nr.x,r[1]=Ji.y,r[5]=er.y,r[9]=nr.y,r[2]=Ji.z,r[6]=er.z,r[10]=nr.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(a,b){const t=a.elements,e=b.elements,n=this.elements,r=t[0],o=t[4],l=t[8],c=t[12],h=t[1],d=t[5],m=t[9],f=t[13],v=t[2],x=t[6],_=t[10],y=t[14],S=t[3],w=t[7],M=t[11],E=t[15],R=e[0],A=e[4],T=e[8],P=e[12],C=e[1],I=e[5],L=e[9],N=e[13],D=e[2],O=e[6],k=e[10],G=e[14],B=e[3],F=e[7],V=e[11],z=e[15];return n[0]=r*R+o*C+l*D+c*B,n[4]=r*A+o*I+l*O+c*F,n[8]=r*T+o*L+l*k+c*V,n[12]=r*P+o*N+l*G+c*z,n[1]=h*R+d*C+m*D+f*B,n[5]=h*A+d*I+m*O+f*F,n[9]=h*T+d*L+m*k+f*V,n[13]=h*P+d*N+m*G+f*z,n[2]=v*R+x*C+_*D+y*B,n[6]=v*A+x*I+_*O+y*F,n[10]=v*T+x*L+_*k+y*V,n[14]=v*P+x*N+_*G+y*z,n[3]=S*R+w*C+M*D+E*B,n[7]=S*A+w*I+M*O+E*F,n[11]=S*T+w*L+M*k+E*V,n[15]=S*P+w*N+M*G+E*z,this}multiplyScalar(s){const t=this.elements;return t[0]*=s,t[4]*=s,t[8]*=s,t[12]*=s,t[1]*=s,t[5]*=s,t[9]*=s,t[13]*=s,t[2]*=s,t[6]*=s,t[10]*=s,t[14]*=s,t[3]*=s,t[7]*=s,t[11]*=s,t[15]*=s,this}determinant(){const t=this.elements,e=t[0],n=t[4],r=t[8],o=t[12],l=t[1],c=t[5],h=t[9],d=t[13],m=t[2],f=t[6],v=t[10],x=t[14];return t[3]*(+o*h*f-r*d*f-o*c*v+n*d*v+r*c*x-n*h*x)+t[7]*(+e*h*x-e*d*v+o*l*v-r*l*x+r*d*m-o*h*m)+t[11]*(+e*d*f-e*c*x-o*l*f+n*l*x+o*c*m-n*d*m)+t[15]*(-r*c*m-e*h*f+e*c*v+r*l*f-n*l*v+n*h*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],r=t[2],o=t[3],l=t[4],c=t[5],h=t[6],d=t[7],m=t[8],f=t[9],v=t[10],x=t[11],_=t[12],y=t[13],S=t[14],w=t[15],M=f*S*d-y*v*d+y*h*x-c*S*x-f*h*w+c*v*w,E=_*v*d-m*S*d-_*h*x+l*S*x+m*h*w-l*v*w,R=m*y*d-_*f*d+_*c*x-l*y*x-m*c*w+l*f*w,A=_*f*h-m*y*h-_*c*v+l*y*v+m*c*S-l*f*S,T=e*M+n*E+r*R+o*A;if(0===T)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/T;return t[0]=M*P,t[1]=(y*v*o-f*S*o-y*r*x+n*S*x+f*r*w-n*v*w)*P,t[2]=(c*S*o-y*h*o+y*r*d-n*S*d-c*r*w+n*h*w)*P,t[3]=(f*h*o-c*v*o-f*r*d+n*v*d+c*r*x-n*h*x)*P,t[4]=E*P,t[5]=(m*S*o-_*v*o+_*r*x-e*S*x-m*r*w+e*v*w)*P,t[6]=(_*h*o-l*S*o-_*r*d+e*S*d+l*r*w-e*h*w)*P,t[7]=(l*v*o-m*h*o+m*r*d-e*v*d-l*r*x+e*h*x)*P,t[8]=R*P,t[9]=(_*f*o-m*y*o-_*n*x+e*y*x+m*n*w-e*f*w)*P,t[10]=(l*y*o-_*c*o+_*n*d-e*y*d-l*n*w+e*c*w)*P,t[11]=(m*c*o-l*f*o-m*n*d+e*f*d+l*n*x-e*c*x)*P,t[12]=A*P,t[13]=(m*y*r-_*f*r+_*n*v-e*y*v-m*n*S+e*f*S)*P,t[14]=(_*c*r-l*y*r-_*n*h+e*y*h+l*n*S-e*c*S)*P,t[15]=(l*f*r-m*c*r+m*n*h-e*f*h-l*n*v+e*c*v)*P,this}scale(t){const e=this.elements,n=t.x,r=t.y,o=t.z;return e[0]*=n,e[4]*=r,e[8]*=o,e[1]*=n,e[5]*=r,e[9]*=o,e[2]*=n,e[6]*=r,e[10]*=o,e[3]*=n,e[7]*=r,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,e,-s,0,0,s,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,0,s,0,0,1,0,0,-s,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),s=Math.sin(t);return this.set(e,-s,0,0,s,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),s=Math.sin(e),r=1-n,o=t.x,l=t.y,c=t.z,h=r*o,d=r*l;return this.set(h*o+n,h*l-s*c,h*c+s*l,0,h*l+s*c,d*l+n,d*c-s*o,0,h*c-s*l,d*c+s*o,r*c*c+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,r,o,l){return this.set(1,n,o,0,t,1,l,0,e,r,1,0,0,0,0,1),this}compose(t,e,n){const r=this.elements,o=e._x,l=e._y,c=e._z,h=e._w,d=o+o,m=l+l,f=c+c,v=o*d,x=o*m,_=o*f,y=l*m,S=l*f,w=c*f,M=h*d,E=h*m,R=h*f,A=n.x,T=n.y,P=n.z;return r[0]=(1-(y+w))*A,r[1]=(x+R)*A,r[2]=(_-E)*A,r[3]=0,r[4]=(x-R)*T,r[5]=(1-(v+w))*T,r[6]=(S+M)*T,r[7]=0,r[8]=(_+E)*P,r[9]=(S-M)*P,r[10]=(1-(v+y))*P,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,n){const r=this.elements;let o=$i.set(r[0],r[1],r[2]).length();const l=$i.set(r[4],r[5],r[6]).length(),c=$i.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],Ki.copy(this);const h=1/o,d=1/l,m=1/c;return Ki.elements[0]*=h,Ki.elements[1]*=h,Ki.elements[2]*=h,Ki.elements[4]*=d,Ki.elements[5]*=d,Ki.elements[6]*=d,Ki.elements[8]*=m,Ki.elements[9]*=m,Ki.elements[10]*=m,e.setFromRotationMatrix(Ki),n.x=o,n.y=l,n.z=c,this}makePerspective(t,e,n,r,o,l){void 0===l&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const c=this.elements,h=2*o/(e-t),d=2*o/(n-r),a=(e+t)/(e-t),b=(n+r)/(n-r),m=-(l+o)/(l-o),f=-2*l*o/(l-o);return c[0]=h,c[4]=0,c[8]=a,c[12]=0,c[1]=0,c[5]=d,c[9]=b,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=f,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,e,n,r,o,l){const c=this.elements,h=1/(e-t),d=1/(n-r),p=1/(l-o),m=(e+t)*h,f=(n+r)*d,v=(l+o)*p;return c[0]=2*h,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-f,c[2]=0,c[6]=0,c[10]=-2*p,c[14]=-v,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}Yi.prototype.isMatrix4=!0;const $i=new vi,Ki=new Yi,Qi=new vi(0,0,0),Zi=new vi(1,1,1),Ji=new vi,er=new vi,nr=new vi,ir=new Yi,rr=new gi;class ar{constructor(t=0,e=0,n=0,r=ar.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=r}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,r=this._order){return this._x=t,this._y=e,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const r=t.elements,o=r[0],l=r[4],c=r[8],h=r[1],d=r[5],m=r[9],f=r[2],v=r[6],x=r[10];switch(e){case"XYZ":this._y=Math.asin(Ln(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,x),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ln(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,x),this._z=Math.atan2(h,d)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ln(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-f,x),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(h,o));break;case"ZYX":this._y=Math.asin(-Ln(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(v,x),this._z=Math.atan2(h,o)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(Ln(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(c,x));break;case"XZY":this._z=Math.asin(-Ln(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-m,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(q,t,e){return ir.makeRotationFromQuaternion(q),this.setFromRotationMatrix(ir,t,e)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return rr.setFromEuler(this),this.setFromQuaternion(rr,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ar.prototype.isEuler=!0,ar.DefaultOrder="XYZ",ar.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class or{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let sr=0;const lr=new vi,pr=new gi,cr=new Yi,ur=new vi,dr=new vi,mr=new vi,fr=new gi,gr=new vi(1,0,0),vr=new vi(0,1,0),xr=new vi(0,0,1),_r={type:"added"},yr={type:"removed"};class Sr extends Rn{constructor(){super(),Object.defineProperty(this,"id",{value:sr++}),this.uuid=In(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Sr.DefaultUp.clone();const t=new vi,e=new ar,n=new gi,r=new vi(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Yi},normalMatrix:{value:new Vn}}),this.matrix=new Yi,this.matrixWorld=new Yi,this.matrixAutoUpdate=Sr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new or,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(q){return this.quaternion.premultiply(q),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(q){this.quaternion.copy(q)}rotateOnAxis(t,e){return pr.setFromAxisAngle(t,e),this.quaternion.multiply(pr),this}rotateOnWorldAxis(t,e){return pr.setFromAxisAngle(t,e),this.quaternion.premultiply(pr),this}rotateX(t){return this.rotateOnAxis(gr,t)}rotateY(t){return this.rotateOnAxis(vr,t)}rotateZ(t){return this.rotateOnAxis(xr,t)}translateOnAxis(t,e){return lr.copy(t).applyQuaternion(this.quaternion),this.position.add(lr.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(gr,t)}translateY(t){return this.translateOnAxis(vr,t)}translateZ(t){return this.translateOnAxis(xr,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(cr.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?ur.copy(t):ur.set(t,e,n);const r=this.parent;this.updateWorldMatrix(!0,!1),dr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?cr.lookAt(dr,ur,this.up):cr.lookAt(ur,dr,this.up),this.quaternion.setFromRotationMatrix(cr),r&&(cr.extractRotation(r.matrixWorld),pr.setFromRotationMatrix(cr),this.quaternion.premultiply(pr.invert()))}add(object){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return object===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",object),this):(object&&object.isObject3D?(null!==object.parent&&object.parent.remove(object),object.parent=this,this.children.push(object),object.dispatchEvent(_r)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",object),this)}remove(object){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(object);return-1!==t&&(object.parent=null,this.children.splice(t,1),object.dispatchEvent(yr)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let i=0;i<this.children.length;i++){const object=this.children[i];object.parent=null,object.dispatchEvent(yr)}return this.children.length=0,this}attach(object){return this.updateWorldMatrix(!0,!1),cr.copy(this.matrixWorld).invert(),null!==object.parent&&(object.parent.updateWorldMatrix(!0,!1),cr.multiply(object.parent.matrixWorld)),object.applyMatrix4(cr),this.add(object),object.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const object=this.children[i].getObjectByProperty(t,e);if(void 0!==object)return object}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dr,t,mr),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(dr,fr,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let i=0,e=t.length;i<e;i++)t[i].updateWorldMatrix(!1,!0)}}toJSON(meta){const t=void 0===meta||"string"==typeof meta,output={};t&&(meta={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},output.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const object={};function e(t,element){return void 0===t[element.uuid]&&(t[element.uuid]=element.toJSON(meta)),element.uuid}if(object.uuid=this.uuid,object.type=this.type,""!==this.name&&(object.name=this.name),!0===this.castShadow&&(object.castShadow=!0),!0===this.receiveShadow&&(object.receiveShadow=!0),!1===this.visible&&(object.visible=!1),!1===this.frustumCulled&&(object.frustumCulled=!1),0!==this.renderOrder&&(object.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(object.userData=this.userData),object.layers=this.layers.mask,object.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(object.matrixAutoUpdate=!1),this.isInstancedMesh&&(object.type="InstancedMesh",object.count=this.count,object.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(object.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?object.background=this.background.toJSON():this.background.isTexture&&(object.background=this.background.toJSON(meta).uuid)),this.environment&&this.environment.isTexture&&(object.environment=this.environment.toJSON(meta).uuid);else if(this.isMesh||this.isLine||this.isPoints){object.geometry=e(meta.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let i=0,t=n.length;i<t;i++){const t=n[i];e(meta.shapes,t)}else e(meta.shapes,n)}}if(this.isSkinnedMesh&&(object.bindMode=this.bindMode,object.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(e(meta.skeletons,this.skeleton),object.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let i=0,n=this.material.length;i<n;i++)t.push(e(meta.materials,this.material[i]));object.material=t}else object.material=e(meta.materials,this.material);if(this.children.length>0){object.children=[];for(let i=0;i<this.children.length;i++)object.children.push(this.children[i].toJSON(meta).object)}if(this.animations.length>0){object.animations=[];for(let i=0;i<this.animations.length;i++){const t=this.animations[i];object.animations.push(e(meta.animations,t))}}if(t){const t=n(meta.geometries),e=n(meta.materials),r=n(meta.textures),o=n(meta.images),l=n(meta.shapes),c=n(meta.skeletons),h=n(meta.animations),d=n(meta.nodes);t.length>0&&(output.geometries=t),e.length>0&&(output.materials=e),r.length>0&&(output.textures=r),o.length>0&&(output.images=o),l.length>0&&(output.shapes=l),c.length>0&&(output.skeletons=c),h.length>0&&(output.animations=h),d.length>0&&(output.nodes=d)}return output.object=object,output;function n(t){const e=[];for(const n in t){const data=t[n];delete data.metadata,e.push(data)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(source,t=!0){if(this.name=source.name,this.up.copy(source.up),this.position.copy(source.position),this.rotation.order=source.rotation.order,this.quaternion.copy(source.quaternion),this.scale.copy(source.scale),this.matrix.copy(source.matrix),this.matrixWorld.copy(source.matrixWorld),this.matrixAutoUpdate=source.matrixAutoUpdate,this.matrixWorldNeedsUpdate=source.matrixWorldNeedsUpdate,this.layers.mask=source.layers.mask,this.visible=source.visible,this.castShadow=source.castShadow,this.receiveShadow=source.receiveShadow,this.frustumCulled=source.frustumCulled,this.renderOrder=source.renderOrder,this.userData=JSON.parse(JSON.stringify(source.userData)),!0===t)for(let i=0;i<source.children.length;i++){const t=source.children[i];this.add(t.clone())}return this}}Sr.DefaultUp=new vi(0,1,0),Sr.DefaultMatrixAutoUpdate=!0,Sr.prototype.isObject3D=!0;const wr=new vi,Mr=new vi,Er=new vi,Rr=new vi,Ar=new vi,Tr=new vi,Pr=new vi,Cr=new vi,Ir=new vi,Lr=new vi;class Nr{constructor(a=new vi,b=new vi,t=new vi){this.a=a,this.b=b,this.c=t}static getNormal(a,b,t,e){e.subVectors(t,b),wr.subVectors(a,b),e.cross(wr);const n=e.lengthSq();return n>0?e.multiplyScalar(1/Math.sqrt(n)):e.set(0,0,0)}static getBarycoord(t,a,b,e,n){wr.subVectors(e,a),Mr.subVectors(b,a),Er.subVectors(t,a);const r=wr.dot(wr),o=wr.dot(Mr),l=wr.dot(Er),c=Mr.dot(Mr),h=Mr.dot(Er),d=r*c-o*o;if(0===d)return n.set(-2,-1,-1);const m=1/d,u=(c*l-o*h)*m,f=(r*h-o*l)*m;return n.set(1-u-f,f,u)}static containsPoint(t,a,b,e){return this.getBarycoord(t,a,b,e,Rr),Rr.x>=0&&Rr.y>=0&&Rr.x+Rr.y<=1}static getUV(t,e,n,r,o,l,c,h){return this.getBarycoord(t,e,n,r,Rr),h.set(0,0),h.addScaledVector(o,Rr.x),h.addScaledVector(l,Rr.y),h.addScaledVector(c,Rr.z),h}static isFrontFacing(a,b,t,e){return wr.subVectors(t,b),Mr.subVectors(a,b),wr.cross(Mr).dot(e)<0}set(a,b,t){return this.a.copy(a),this.b.copy(b),this.c.copy(t),this}setFromPointsAndIndices(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,n,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return wr.subVectors(this.c,this.b),Mr.subVectors(this.a,this.b),.5*wr.cross(Mr).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Nr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Nr.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,r,o){return Nr.getUV(t,this.a,this.b,this.c,e,n,r,o)}containsPoint(t){return Nr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Nr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(p,t){const a=this.a,b=this.b,e=this.c;let n,r;Ar.subVectors(b,a),Tr.subVectors(e,a),Cr.subVectors(p,a);const o=Ar.dot(Cr),l=Tr.dot(Cr);if(o<=0&&l<=0)return t.copy(a);Ir.subVectors(p,b);const c=Ar.dot(Ir),h=Tr.dot(Ir);if(c>=0&&h<=c)return t.copy(b);const d=o*h-c*l;if(d<=0&&o>=0&&c<=0)return n=o/(o-c),t.copy(a).addScaledVector(Ar,n);Lr.subVectors(p,e);const m=Ar.dot(Lr),f=Tr.dot(Lr);if(f>=0&&m<=f)return t.copy(e);const v=m*l-o*f;if(v<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(a).addScaledVector(Tr,r);const x=c*f-m*h;if(x<=0&&h-c>=0&&m-f>=0)return Pr.subVectors(e,b),r=(h-c)/(h-c+(m-f)),t.copy(b).addScaledVector(Pr,r);const _=1/(x+v+d);return n=v*_,r=d*_,t.copy(a).addScaledVector(Ar,n).addScaledVector(Tr,r)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Dr=0;class Or extends Rn{constructor(){super(),Object.defineProperty(this,"id",{value:Dr++}),this.uuid=In(),this.name="",this.type="Material",this.blending=A,this.side=y,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=z,this.blendDst=U,this.blendEquation=L,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Z,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ze,this.stencilZFail=Ze,this.stencilZPass=Ze,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===M;continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(meta){const t=void 0===meta||"string"==typeof meta;t&&(meta={textures:{},images:{}});const data={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function e(t){const e=[];for(const n in t){const data=t[n];delete data.metadata,e.push(data)}return e}if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),this.color&&this.color.isColor&&(data.color=this.color.getHex()),void 0!==this.roughness&&(data.roughness=this.roughness),void 0!==this.metalness&&(data.metalness=this.metalness),void 0!==this.sheen&&(data.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(data.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(data.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(data.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(data.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(data.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(data.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(data.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(data.shininess=this.shininess),void 0!==this.clearcoat&&(data.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(data.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(data.clearcoatMap=this.clearcoatMap.toJSON(meta).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(data.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(meta).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(data.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(meta).uuid,data.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(data.map=this.map.toJSON(meta).uuid),this.matcap&&this.matcap.isTexture&&(data.matcap=this.matcap.toJSON(meta).uuid),this.alphaMap&&this.alphaMap.isTexture&&(data.alphaMap=this.alphaMap.toJSON(meta).uuid),this.lightMap&&this.lightMap.isTexture&&(data.lightMap=this.lightMap.toJSON(meta).uuid,data.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(data.aoMap=this.aoMap.toJSON(meta).uuid,data.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(data.bumpMap=this.bumpMap.toJSON(meta).uuid,data.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(data.normalMap=this.normalMap.toJSON(meta).uuid,data.normalMapType=this.normalMapType,data.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(data.displacementMap=this.displacementMap.toJSON(meta).uuid,data.displacementScale=this.displacementScale,data.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(data.roughnessMap=this.roughnessMap.toJSON(meta).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(data.metalnessMap=this.metalnessMap.toJSON(meta).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(data.emissiveMap=this.emissiveMap.toJSON(meta).uuid),this.specularMap&&this.specularMap.isTexture&&(data.specularMap=this.specularMap.toJSON(meta).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(data.specularIntensityMap=this.specularIntensityMap.toJSON(meta).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(data.specularColorMap=this.specularColorMap.toJSON(meta).uuid),this.envMap&&this.envMap.isTexture&&(data.envMap=this.envMap.toJSON(meta).uuid,void 0!==this.combine&&(data.combine=this.combine)),void 0!==this.envMapIntensity&&(data.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(data.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(data.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(data.gradientMap=this.gradientMap.toJSON(meta).uuid),void 0!==this.transmission&&(data.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(data.transmissionMap=this.transmissionMap.toJSON(meta).uuid),void 0!==this.thickness&&(data.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(data.thicknessMap=this.thicknessMap.toJSON(meta).uuid),void 0!==this.attenuationDistance&&(data.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(data.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(data.size=this.size),null!==this.shadowSide&&(data.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(data.sizeAttenuation=this.sizeAttenuation),this.blending!==A&&(data.blending=this.blending),this.side!==y&&(data.side=this.side),this.vertexColors&&(data.vertexColors=!0),this.opacity<1&&(data.opacity=this.opacity),!0===this.transparent&&(data.transparent=this.transparent),data.depthFunc=this.depthFunc,data.depthTest=this.depthTest,data.depthWrite=this.depthWrite,data.colorWrite=this.colorWrite,data.stencilWrite=this.stencilWrite,data.stencilWriteMask=this.stencilWriteMask,data.stencilFunc=this.stencilFunc,data.stencilRef=this.stencilRef,data.stencilFuncMask=this.stencilFuncMask,data.stencilFail=this.stencilFail,data.stencilZFail=this.stencilZFail,data.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(data.rotation=this.rotation),!0===this.polygonOffset&&(data.polygonOffset=!0),0!==this.polygonOffsetFactor&&(data.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(data.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(data.linewidth=this.linewidth),void 0!==this.dashSize&&(data.dashSize=this.dashSize),void 0!==this.gapSize&&(data.gapSize=this.gapSize),void 0!==this.scale&&(data.scale=this.scale),!0===this.dithering&&(data.dithering=!0),this.alphaTest>0&&(data.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(data.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(data.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(data.wireframe=this.wireframe),this.wireframeLinewidth>1&&(data.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(data.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(data.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(data.flatShading=this.flatShading),!1===this.visible&&(data.visible=!1),!1===this.toneMapped&&(data.toneMapped=!1),!1===this.fog&&(data.fog=!1),"{}"!==JSON.stringify(this.userData)&&(data.userData=this.userData),t){const t=e(meta.textures),n=e(meta.images);t.length>0&&(data.textures=t),n.length>0&&(data.images=n)}return data}clone(){return(new this.constructor).copy(this)}copy(source){this.name=source.name,this.blending=source.blending,this.side=source.side,this.vertexColors=source.vertexColors,this.opacity=source.opacity,this.transparent=source.transparent,this.blendSrc=source.blendSrc,this.blendDst=source.blendDst,this.blendEquation=source.blendEquation,this.blendSrcAlpha=source.blendSrcAlpha,this.blendDstAlpha=source.blendDstAlpha,this.blendEquationAlpha=source.blendEquationAlpha,this.depthFunc=source.depthFunc,this.depthTest=source.depthTest,this.depthWrite=source.depthWrite,this.stencilWriteMask=source.stencilWriteMask,this.stencilFunc=source.stencilFunc,this.stencilRef=source.stencilRef,this.stencilFuncMask=source.stencilFuncMask,this.stencilFail=source.stencilFail,this.stencilZFail=source.stencilZFail,this.stencilZPass=source.stencilZPass,this.stencilWrite=source.stencilWrite;const t=source.clippingPlanes;let e=null;if(null!==t){const n=t.length;e=new Array(n);for(let i=0;i!==n;++i)e[i]=t[i].clone()}return this.clippingPlanes=e,this.clipIntersection=source.clipIntersection,this.clipShadows=source.clipShadows,this.shadowSide=source.shadowSide,this.colorWrite=source.colorWrite,this.precision=source.precision,this.polygonOffset=source.polygonOffset,this.polygonOffsetFactor=source.polygonOffsetFactor,this.polygonOffsetUnits=source.polygonOffsetUnits,this.dithering=source.dithering,this.alphaTest=source.alphaTest,this.alphaToCoverage=source.alphaToCoverage,this.premultipliedAlpha=source.premultipliedAlpha,this.visible=source.visible,this.toneMapped=source.toneMapped,this.userData=JSON.parse(JSON.stringify(source.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}Or.prototype.isMaterial=!0,Or.fromType=function(){return null};class kr extends Or{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new ei(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.fog=source.fog,this}}kr.prototype.isMeshBasicMaterial=!0;const Gr=new vi,Br=new Fn;class Fr{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=mn,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(source){return this.name=source.name,this.array=new source.array.constructor(source.array),this.itemSize=source.itemSize,this.count=source.count,this.normalized=source.normalized,this.usage=source.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),r=new ei),e[n++]=r.r,e[n++]=r.g,e[n++]=r.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),r=new Fn),e[n++]=r.x,e[n++]=r.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),r=new vi),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let i=0,r=t.length;i<r;i++){let r=t[i];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),r=new pi),e[n++]=r.x,e[n++]=r.y,e[n++]=r.z,e[n++]=r.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let i=0,e=this.count;i<e;i++)Br.fromBufferAttribute(this,i),Br.applyMatrix3(t),this.setXY(i,Br.x,Br.y);else if(3===this.itemSize)for(let i=0,e=this.count;i<e;i++)Gr.fromBufferAttribute(this,i),Gr.applyMatrix3(t),this.setXYZ(i,Gr.x,Gr.y,Gr.z);return this}applyMatrix4(t){for(let i=0,e=this.count;i<e;i++)Gr.fromBufferAttribute(this,i),Gr.applyMatrix4(t),this.setXYZ(i,Gr.x,Gr.y,Gr.z);return this}applyNormalMatrix(t){for(let i=0,e=this.count;i<e;i++)Gr.fromBufferAttribute(this,i),Gr.applyNormalMatrix(t),this.setXYZ(i,Gr.x,Gr.y,Gr.z);return this}transformDirection(t){for(let i=0,e=this.count;i<e;i++)Gr.fromBufferAttribute(this,i),Gr.transformDirection(t),this.setXYZ(i,Gr.x,Gr.y,Gr.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this}setXYZW(t,e,n,r,o){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const data={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(data.name=this.name),this.usage!==mn&&(data.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(data.updateRange=this.updateRange),data}}Fr.prototype.isBufferAttribute=!0;class Vr extends Fr{constructor(t,e,n){super(new Int8Array(t),e,n)}}class zr extends Fr{constructor(t,e,n){super(new Uint8Array(t),e,n)}}class Ur extends Fr{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}}class Hr extends Fr{constructor(t,e,n){super(new Int16Array(t),e,n)}}class Xr extends Fr{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class Wr extends Fr{constructor(t,e,n){super(new Int32Array(t),e,n)}}class jr extends Fr{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class qr extends Fr{constructor(t,e,n){super(new Uint16Array(t),e,n)}}qr.prototype.isFloat16BufferAttribute=!0;class Yr extends Fr{constructor(t,e,n){super(new Float32Array(t),e,n)}}class $r extends Fr{constructor(t,e,n){super(new Float64Array(t),e,n)}}let Kr=0;const Qr=new Yi,Zr=new Sr,Jr=new vi,ta=new yi,ea=new yi,na=new vi;class ia extends Rn{constructor(){super(),Object.defineProperty(this,"id",{value:Kr++}),this.uuid=In(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(zn(t)?jr:Xr)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new Vn).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(q){return Qr.makeRotationFromQuaternion(q),this.applyMatrix4(Qr),this}rotateX(t){return Qr.makeRotationX(t),this.applyMatrix4(Qr),this}rotateY(t){return Qr.makeRotationY(t),this.applyMatrix4(Qr),this}rotateZ(t){return Qr.makeRotationZ(t),this.applyMatrix4(Qr),this}translate(t,e,n){return Qr.makeTranslation(t,e,n),this.applyMatrix4(Qr),this}scale(t,e,n){return Qr.makeScale(t,e,n),this.applyMatrix4(Qr),this}lookAt(t){return Zr.lookAt(t),Zr.updateMatrix(),this.applyMatrix4(Zr.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jr).negate(),this.translate(Jr.x,Jr.y,Jr.z),this}setFromPoints(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new Yr(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new yi);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new vi(-1/0,-1/0,-1/0),new vi(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,t=e.length;i<t;i++){const t=e[i];ta.setFromBufferAttribute(t),this.morphTargetsRelative?(na.addVectors(this.boundingBox.min,ta.min),this.boundingBox.expandByPoint(na),na.addVectors(this.boundingBox.max,ta.max),this.boundingBox.expandByPoint(na)):(this.boundingBox.expandByPoint(ta.min),this.boundingBox.expandByPoint(ta.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Fi);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new vi,1/0);if(t){const n=this.boundingSphere.center;if(ta.setFromBufferAttribute(t),e)for(let i=0,t=e.length;i<t;i++){const t=e[i];ea.setFromBufferAttribute(t),this.morphTargetsRelative?(na.addVectors(ta.min,ea.min),ta.expandByPoint(na),na.addVectors(ta.max,ea.max),ta.expandByPoint(na)):(ta.expandByPoint(ea.min),ta.expandByPoint(ea.max))}ta.getCenter(n);let r=0;for(let i=0,e=t.count;i<e;i++)na.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(na));if(e)for(let i=0,o=e.length;i<o;i++){const o=e[i],l=this.morphTargetsRelative;for(let e=0,c=o.count;e<c;e++)na.fromBufferAttribute(o,e),l&&(Jr.fromBufferAttribute(t,e),na.add(Jr)),r=Math.max(r,n.distanceToSquared(na))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,r=e.position.array,o=e.normal.array,l=e.uv.array,c=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Fr(new Float32Array(4*c),4));const h=this.getAttribute("tangent").array,d=[],m=[];for(let i=0;i<c;i++)d[i]=new vi,m[i]=new vi;const f=new vi,v=new vi,x=new vi,_=new Fn,y=new Fn,S=new Fn,w=new vi,M=new vi;function E(a,b,t){f.fromArray(r,3*a),v.fromArray(r,3*b),x.fromArray(r,3*t),_.fromArray(l,2*a),y.fromArray(l,2*b),S.fromArray(l,2*t),v.sub(f),x.sub(f),y.sub(_),S.sub(_);const e=1/(y.x*S.y-S.x*y.y);isFinite(e)&&(w.copy(v).multiplyScalar(S.y).addScaledVector(x,-y.y).multiplyScalar(e),M.copy(x).multiplyScalar(y.x).addScaledVector(v,-S.x).multiplyScalar(e),d[a].add(w),d[b].add(w),d[t].add(w),m[a].add(M),m[b].add(M),m[t].add(M))}let R=this.groups;0===R.length&&(R=[{start:0,count:n.length}]);for(let i=0,t=R.length;i<t;++i){const t=R[i],e=t.start;for(let r=e,o=e+t.count;r<o;r+=3)E(n[r+0],n[r+1],n[r+2])}const A=new vi,T=new vi,P=new vi,C=new vi;function I(t){P.fromArray(o,3*t),C.copy(P);const e=d[t];A.copy(e),A.sub(P.multiplyScalar(P.dot(e))).normalize(),T.crossVectors(C,e);const n=T.dot(m[t])<0?-1:1;h[4*t]=A.x,h[4*t+1]=A.y,h[4*t+2]=A.z,h[4*t+3]=n}for(let i=0,t=R.length;i<t;++i){const t=R[i],e=t.start;for(let r=e,o=e+t.count;r<o;r+=3)I(n[r+0]),I(n[r+1]),I(n[r+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Fr(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let i=0,t=n.count;i<t;i++)n.setXYZ(i,0,0,0);const r=new vi,o=new vi,l=new vi,c=new vi,h=new vi,d=new vi,m=new vi,f=new vi;if(t)for(let i=0,v=t.count;i<v;i+=3){const v=t.getX(i+0),x=t.getX(i+1),_=t.getX(i+2);r.fromBufferAttribute(e,v),o.fromBufferAttribute(e,x),l.fromBufferAttribute(e,_),m.subVectors(l,o),f.subVectors(r,o),m.cross(f),c.fromBufferAttribute(n,v),h.fromBufferAttribute(n,x),d.fromBufferAttribute(n,_),c.add(m),h.add(m),d.add(m),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(x,h.x,h.y,h.z),n.setXYZ(_,d.x,d.y,d.z)}else for(let i=0,t=e.count;i<t;i+=3)r.fromBufferAttribute(e,i+0),o.fromBufferAttribute(e,i+1),l.fromBufferAttribute(e,i+2),m.subVectors(l,o),f.subVectors(r,o),m.cross(f),n.setXYZ(i+0,m.x,m.y,m.z),n.setXYZ(i+1,m.x,m.y,m.z),n.setXYZ(i+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===t.attributes[r])continue;const o=n[r].array,l=t.attributes[r],c=l.array,h=l.itemSize*e,d=Math.min(c.length,o.length-h);for(let i=0,t=h;i<d;i++,t++)o[t]=c[i]}return this}normalizeNormals(){const t=this.attributes.normal;for(let i=0,e=t.count;i<e;i++)na.fromBufferAttribute(t,i),na.normalize(),t.setXYZ(i,na.x,na.y,na.z)}toNonIndexed(){function t(t,e){const n=t.array,r=t.itemSize,o=t.normalized,l=new n.constructor(e.length*r);let c=0,h=0;for(let i=0,o=e.length;i<o;i++){c=t.isInterleavedBufferAttribute?e[i]*t.data.stride+t.offset:e[i]*r;for(let t=0;t<r;t++)l[h++]=n[c++]}return new Fr(l,r,o)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new ia,n=this.index.array,r=this.attributes;for(const o in r){const l=t(r[o],n);e.setAttribute(o,l)}const o=this.morphAttributes;for(const r in o){const l=[],c=o[r];for(let i=0,e=c.length;i<e;i++){const e=t(c[i],n);l.push(e)}e.morphAttributes[r]=l}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let i=0,t=l.length;i<t;i++){const t=l[i];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const data={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(data.uuid=this.uuid,data.type=this.type,""!==this.name&&(data.name=this.name),Object.keys(this.userData).length>0&&(data.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const e in t)void 0!==t[e]&&(data[e]=t[e]);return data}data.data={attributes:{}};const t=this.index;null!==t&&(data.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const e=this.attributes;for(const t in e){const n=e[t];data.data.attributes[t]=n.toJSON(data.data)}const n={};let r=!1;for(const t in this.morphAttributes){const e=this.morphAttributes[t],o=[];for(let i=0,t=e.length;i<t;i++){const t=e[i];o.push(t.toJSON(data.data))}o.length>0&&(n[t]=o,r=!0)}r&&(data.data.morphAttributes=n,data.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(data.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return null!==l&&(data.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),data}clone(){return(new this.constructor).copy(this)}copy(source){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const data={};this.name=source.name;const t=source.index;null!==t&&this.setIndex(t.clone(data));const e=source.attributes;for(const t in e){const n=e[t];this.setAttribute(t,n.clone(data))}const n=source.morphAttributes;for(const t in n){const e=[],r=n[t];for(let i=0,t=r.length;i<t;i++)e.push(r[i].clone(data));this.morphAttributes[t]=e}this.morphTargetsRelative=source.morphTargetsRelative;const r=source.groups;for(let i=0,t=r.length;i<t;i++){const t=r[i];this.addGroup(t.start,t.count,t.materialIndex)}const o=source.boundingBox;null!==o&&(this.boundingBox=o.clone());const l=source.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=source.drawRange.start,this.drawRange.count=source.drawRange.count,this.userData=source.userData,void 0!==source.parameters&&(this.parameters=Object.assign({},source.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}ia.prototype.isBufferGeometry=!0;const ra=new Yi,aa=new qi,oa=new Fi,sa=new vi,la=new vi,pa=new vi,ca=new vi,ua=new vi,ha=new vi,da=new vi,ma=new vi,fa=new vi,ga=new Fn,va=new Fn,xa=new Fn,_a=new vi,ya=new vi;class ba extends Sr{constructor(t=new ia,e=new kr){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(source){return super.copy(source),void 0!==source.morphTargetInfluences&&(this.morphTargetInfluences=source.morphTargetInfluences.slice()),void 0!==source.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},source.morphTargetDictionary)),this.material=source.material,this.geometry=source.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const n=this.geometry,r=this.material,o=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),oa.copy(n.boundingSphere),oa.applyMatrix4(o),!1===t.ray.intersectsSphere(oa))return;if(ra.copy(o).invert(),aa.copy(t.ray).applyMatrix4(ra),null!==n.boundingBox&&!1===aa.intersectsBox(n.boundingBox))return;let l;if(n.isBufferGeometry){const o=n.index,c=n.attributes.position,h=n.morphAttributes.position,d=n.morphTargetsRelative,m=n.attributes.uv,f=n.attributes.uv2,v=n.groups,x=n.drawRange;if(null!==o)if(Array.isArray(r))for(let i=0,n=v.length;i<n;i++){const n=v[i],_=r[n.materialIndex];for(let r=Math.max(n.start,x.start),v=Math.min(o.count,Math.min(n.start+n.count,x.start+x.count));r<v;r+=3){const a=o.getX(r),b=o.getX(r+1),v=o.getX(r+2);l=Sa(this,_,t,aa,c,h,d,m,f,a,b,v),l&&(l.faceIndex=Math.floor(r/3),l.face.materialIndex=n.materialIndex,e.push(l))}}else{for(let i=Math.max(0,x.start),n=Math.min(o.count,x.start+x.count);i<n;i+=3){const a=o.getX(i),b=o.getX(i+1),n=o.getX(i+2);l=Sa(this,r,t,aa,c,h,d,m,f,a,b,n),l&&(l.faceIndex=Math.floor(i/3),e.push(l))}}else if(void 0!==c)if(Array.isArray(r))for(let i=0,n=v.length;i<n;i++){const n=v[i],o=r[n.materialIndex];for(let r=Math.max(n.start,x.start),v=Math.min(c.count,Math.min(n.start+n.count,x.start+x.count));r<v;r+=3){l=Sa(this,o,t,aa,c,h,d,m,f,r,r+1,r+2),l&&(l.faceIndex=Math.floor(r/3),l.face.materialIndex=n.materialIndex,e.push(l))}}else{for(let i=Math.max(0,x.start),n=Math.min(c.count,x.start+x.count);i<n;i+=3){l=Sa(this,r,t,aa,c,h,d,m,f,i,i+1,i+2),l&&(l.faceIndex=Math.floor(i/3),e.push(l))}}}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function Sa(object,t,e,n,r,o,l,c,h,a,b,d){sa.fromBufferAttribute(r,a),la.fromBufferAttribute(r,b),pa.fromBufferAttribute(r,d);const m=object.morphTargetInfluences;if(o&&m){da.set(0,0,0),ma.set(0,0,0),fa.set(0,0,0);for(let i=0,t=o.length;i<t;i++){const t=m[i],e=o[i];0!==t&&(ca.fromBufferAttribute(e,a),ua.fromBufferAttribute(e,b),ha.fromBufferAttribute(e,d),l?(da.addScaledVector(ca,t),ma.addScaledVector(ua,t),fa.addScaledVector(ha,t)):(da.addScaledVector(ca.sub(sa),t),ma.addScaledVector(ua.sub(la),t),fa.addScaledVector(ha.sub(pa),t)))}sa.add(da),la.add(ma),pa.add(fa)}object.isSkinnedMesh&&(object.boneTransform(a,sa),object.boneTransform(b,la),object.boneTransform(d,pa));const f=function(object,t,e,n,r,o,l,c){let h;if(h=t.side===S?n.intersectTriangle(l,o,r,!0,c):n.intersectTriangle(r,o,l,t.side!==w,c),null===h)return null;ya.copy(c),ya.applyMatrix4(object.matrixWorld);const d=e.ray.origin.distanceTo(ya);return d<e.near||d>e.far?null:{distance:d,point:ya.clone(),object:object}}(object,t,e,n,sa,la,pa,_a);if(f){c&&(ga.fromBufferAttribute(c,a),va.fromBufferAttribute(c,b),xa.fromBufferAttribute(c,d),f.uv=Nr.getUV(_a,sa,la,pa,ga,va,xa,new Fn)),h&&(ga.fromBufferAttribute(h,a),va.fromBufferAttribute(h,b),xa.fromBufferAttribute(h,d),f.uv2=Nr.getUV(_a,sa,la,pa,ga,va,xa,new Fn));const t={a:a,b:b,c:d,normal:new vi,materialIndex:0};Nr.getNormal(sa,la,pa,t.normal),f.face=t}return f}ba.prototype.isMesh=!0;class wa extends ia{constructor(t=1,e=1,n=1,r=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:o,depthSegments:l};const c=this;r=Math.floor(r),o=Math.floor(o),l=Math.floor(l);const h=[],d=[],m=[],f=[];let v=0,x=0;function _(u,t,e,n,r,o,l,_,y,S,w){const M=o/y,E=l/S,R=o/2,A=l/2,T=_/2,P=y+1,C=S+1;let I=0,L=0;const N=new vi;for(let o=0;o<C;o++){const l=o*E-A;for(let c=0;c<P;c++){const h=c*M-R;N[u]=h*n,N[t]=l*r,N[e]=T,d.push(N.x,N.y,N.z),N[u]=0,N[t]=0,N[e]=_>0?1:-1,m.push(N.x,N.y,N.z),f.push(c/y),f.push(1-o/S),I+=1}}for(let t=0;t<S;t++)for(let e=0;e<y;e++){const a=v+e+P*t,b=v+e+P*(t+1),n=v+(e+1)+P*(t+1),r=v+(e+1)+P*t;h.push(a,b,r),h.push(b,n,r),L+=6}c.addGroup(x,L,w),x+=L,v+=I}_("z","y","x",-1,-1,n,e,t,l,o,0),_("z","y","x",1,-1,n,e,-t,l,o,1),_("x","z","y",1,1,t,n,e,r,l,2),_("x","z","y",1,-1,t,n,-e,r,l,3),_("x","y","z",1,-1,t,e,n,r,o,4),_("x","y","z",-1,-1,t,e,-n,r,o,5),this.setIndex(h),this.setAttribute("position",new Yr(d,3)),this.setAttribute("normal",new Yr(m,3)),this.setAttribute("uv",new Yr(f,2))}static fromJSON(data){return new wa(data.width,data.height,data.depth,data.widthSegments,data.heightSegments,data.depthSegments)}}function Ma(t){const e={};for(const u in t){e[u]={};for(const p in t[u]){const n=t[u][p];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?e[u][p]=n.clone():Array.isArray(n)?e[u][p]=n.slice():e[u][p]=n}}return e}function Ea(t){const e={};for(let u=0;u<t.length;u++){const n=Ma(t[u]);for(const p in n)e[p]=n[p]}return e}const Ra={clone:Ma,merge:Ea};class Aa extends Or{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(source){return super.copy(source),this.fragmentShader=source.fragmentShader,this.vertexShader=source.vertexShader,this.uniforms=Ma(source.uniforms),this.defines=Object.assign({},source.defines),this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.fog=source.fog,this.lights=source.lights,this.clipping=source.clipping,this.extensions=Object.assign({},source.extensions),this.glslVersion=source.glslVersion,this}toJSON(meta){const data=super.toJSON(meta);data.glslVersion=this.glslVersion,data.uniforms={};for(const t in this.uniforms){const e=this.uniforms[t].value;e&&e.isTexture?data.uniforms[t]={type:"t",value:e.toJSON(meta).uuid}:e&&e.isColor?data.uniforms[t]={type:"c",value:e.getHex()}:e&&e.isVector2?data.uniforms[t]={type:"v2",value:e.toArray()}:e&&e.isVector3?data.uniforms[t]={type:"v3",value:e.toArray()}:e&&e.isVector4?data.uniforms[t]={type:"v4",value:e.toArray()}:e&&e.isMatrix3?data.uniforms[t]={type:"m3",value:e.toArray()}:e&&e.isMatrix4?data.uniforms[t]={type:"m4",value:e.toArray()}:data.uniforms[t]={value:e}}Object.keys(this.defines).length>0&&(data.defines=this.defines),data.vertexShader=this.vertexShader,data.fragmentShader=this.fragmentShader;const t={};for(const e in this.extensions)!0===this.extensions[e]&&(t[e]=!0);return Object.keys(t).length>0&&(data.extensions=t),data}}Aa.prototype.isShaderMaterial=!0;class Ta extends Sr{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Yi,this.projectionMatrix=new Yi,this.projectionMatrixInverse=new Yi}copy(source,t){return super.copy(source,t),this.matrixWorldInverse.copy(source.matrixWorldInverse),this.projectionMatrix.copy(source.projectionMatrix),this.projectionMatrixInverse.copy(source.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}Ta.prototype.isCamera=!0;class Pa extends Ta{constructor(t=50,e=1,n=.1,r=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(source,t){return super.copy(source,t),this.fov=source.fov,this.zoom=source.zoom,this.near=source.near,this.far=source.far,this.focus=source.focus,this.aspect=source.aspect,this.view=null===source.view?null:Object.assign({},source.view),this.filmGauge=source.filmGauge,this.filmOffset=source.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Cn*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*Pn*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*Cn*Math.atan(Math.tan(.5*Pn*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,r,o,l){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*Pn*this.fov)/this.zoom,n=2*e,r=this.aspect*n,o=-.5*r;const view=this.view;if(null!==this.view&&this.view.enabled){const t=view.fullWidth,l=view.fullHeight;o+=view.offsetX*r/t,e-=view.offsetY*n/l,r*=view.width/t,n*=view.height/l}const l=this.filmOffset;0!==l&&(o+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(meta){const data=super.toJSON(meta);return data.object.fov=this.fov,data.object.zoom=this.zoom,data.object.near=this.near,data.object.far=this.far,data.object.focus=this.focus,data.object.aspect=this.aspect,null!==this.view&&(data.object.view=Object.assign({},this.view)),data.object.filmGauge=this.filmGauge,data.object.filmOffset=this.filmOffset,data}}Pa.prototype.isPerspectiveCamera=!0;const Ca=90;class Ia extends Sr{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new Pa(Ca,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new vi(1,0,0)),this.add(r);const o=new Pa(Ca,1,t,e);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new vi(-1,0,0)),this.add(o);const l=new Pa(Ca,1,t,e);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(new vi(0,1,0)),this.add(l);const c=new Pa(Ca,1,t,e);c.layers=this.layers,c.up.set(0,0,-1),c.lookAt(new vi(0,-1,0)),this.add(c);const h=new Pa(Ca,1,t,e);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new vi(0,0,1)),this.add(h);const d=new Pa(Ca,1,t,e);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new vi(0,0,-1)),this.add(d)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,o,l,c,h,d]=this.children,m=t.getRenderTarget(),f=t.toneMapping,v=t.xr.enabled;t.toneMapping=st,t.xr.enabled=!1;const x=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,o),t.setRenderTarget(n,2),t.render(e,l),t.setRenderTarget(n,3),t.render(e,c),t.setRenderTarget(n,4),t.render(e,h),n.texture.generateMipmaps=x,t.setRenderTarget(n,5),t.render(e,d),t.setRenderTarget(m),t.toneMapping=f,t.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class La extends si{constructor(t,e,n,r,o,l,c,h,d,m){super(t=void 0!==t?t:[],e=void 0!==e?e:ft,n,r,o,l,c,h,d,m),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}La.prototype.isCubeTexture=!0;class Na extends ci{constructor(t,e={}){super(t,t,e);const image={width:t,height:t,depth:1},n=[image,image,image,image,image,image];this.texture=new La(n,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Tt}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new wa(5,5,5),o=new Aa({name:"CubemapFromEquirect",uniforms:Ma(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:S,blending:R});o.uniforms.tEquirect.value=e;const l=new ba(r,o),c=e.minFilter;e.minFilter===It&&(e.minFilter=Tt);return new Ia(1,10,this).update(t,l),e.minFilter=c,l.geometry.dispose(),l.material.dispose(),this}clear(t,e,n,r){const o=t.getRenderTarget();for(let i=0;i<6;i++)t.setRenderTarget(this,i),t.clear(e,n,r);t.setRenderTarget(o)}}Na.prototype.isWebGLCubeRenderTarget=!0;const Da=new vi,Oa=new vi,ka=new Vn;class Ga{constructor(t=new vi(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(a,b,t){const e=Da.subVectors(t,b).cross(Oa.subVectors(a,b)).normalize();return this.setFromNormalAndCoplanarPoint(e,a),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(line,t){const e=line.delta(Da),n=this.normal.dot(e);if(0===n)return 0===this.distanceToPoint(line.start)?t.copy(line.start):null;const r=-(line.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:t.copy(e).multiplyScalar(r).add(line.start)}intersectsLine(line){const t=this.distanceToPoint(line.start),e=this.distanceToPoint(line.end);return t<0&&e>0||e<0&&t>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||ka.getNormalMatrix(t),r=this.coplanarPoint(Da).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Ga.prototype.isPlane=!0;const Ba=new Fi,Fa=new vi;class Va{constructor(t=new Ga,e=new Ga,n=new Ga,r=new Ga,o=new Ga,l=new Ga){this.planes=[t,e,n,r,o,l]}set(t,e,n,r,o,l){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(n),c[3].copy(r),c[4].copy(o),c[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,r=n[0],o=n[1],l=n[2],c=n[3],h=n[4],d=n[5],m=n[6],f=n[7],v=n[8],x=n[9],_=n[10],y=n[11],S=n[12],w=n[13],M=n[14],E=n[15];return e[0].setComponents(c-r,f-h,y-v,E-S).normalize(),e[1].setComponents(c+r,f+h,y+v,E+S).normalize(),e[2].setComponents(c+o,f+d,y+x,E+w).normalize(),e[3].setComponents(c-o,f-d,y-x,E-w).normalize(),e[4].setComponents(c-l,f-m,y-_,E-M).normalize(),e[5].setComponents(c+l,f+m,y+_,E+M).normalize(),this}intersectsObject(object){const t=object.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Ba.copy(t.boundingSphere).applyMatrix4(object.matrixWorld),this.intersectsSphere(Ba)}intersectsSprite(t){return Ba.center.set(0,0,0),Ba.radius=.7071067811865476,Ba.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ba)}intersectsSphere(t){const e=this.planes,n=t.center,r=-t.radius;for(let i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const n=e[i];if(Fa.x=n.normal.x>0?t.max.x:t.min.x,Fa.y=n.normal.y>0?t.max.y:t.min.y,Fa.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(Fa)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function za(){let t=null,e=!1,n=null,r=null;function o(time,e){n(time,e),r=t.requestAnimationFrame(o)}return{start:function(){!0!==e&&null!==n&&(r=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Ua(t,e){const n=e.isWebGL2,r=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),r.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const data=r.get(e);data&&(t.deleteBuffer(data.buffer),r.delete(e))},update:function(e,o){if(e.isGLBufferAttribute){const t=r.get(e);return void((!t||t.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const data=r.get(e);void 0===data?r.set(e,function(e,r){const o=e.array,l=e.usage,c=t.createBuffer();let h;if(t.bindBuffer(r,c),t.bufferData(r,o,l),e.onUploadCallback(),o instanceof Float32Array)h=5126;else if(o instanceof Uint16Array)if(e.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");h=5131}else h=5123;else if(o instanceof Int16Array)h=5122;else if(o instanceof Uint32Array)h=5125;else if(o instanceof Int32Array)h=5124;else if(o instanceof Int8Array)h=5120;else if(o instanceof Uint8Array)h=5121;else{if(!(o instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+o);h=5121}return{buffer:c,type:h,bytesPerElement:o.BYTES_PER_ELEMENT,version:e.version}}(e,o)):data.version<e.version&&(!function(e,r,o){const l=r.array,c=r.updateRange;t.bindBuffer(o,e),-1===c.count?t.bufferSubData(o,0,l):(n?t.bufferSubData(o,c.offset*l.BYTES_PER_ELEMENT,l,c.offset,c.count):t.bufferSubData(o,c.offset*l.BYTES_PER_ELEMENT,l.subarray(c.offset,c.offset+c.count)),c.count=-1)}(data.buffer,e,o),data.version=e.version)}}}class Ha extends ia{constructor(t=1,e=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};const o=t/2,l=e/2,c=Math.floor(n),h=Math.floor(r),d=c+1,m=h+1,f=t/c,v=e/h,x=[],_=[],y=[],S=[];for(let t=0;t<m;t++){const e=t*v-l;for(let n=0;n<d;n++){const r=n*f-o;_.push(r,-e,0),y.push(0,0,1),S.push(n/c),S.push(1-t/h)}}for(let t=0;t<h;t++)for(let e=0;e<c;e++){const a=e+d*t,b=e+d*(t+1),n=e+1+d*(t+1),r=e+1+d*t;x.push(a,b,r),x.push(b,n,r)}this.setIndex(x),this.setAttribute("position",new Yr(_,3)),this.setAttribute("normal",new Yr(y,3)),this.setAttribute("uv",new Yr(S,2))}static fromJSON(data){return new Ha(data.width,data.height,data.widthSegments,data.heightSegments)}}const Xa={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Wa={common:{diffuse:{value:new ei(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Vn},uv2Transform:{value:new Vn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ei(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ei(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Vn}},sprite:{diffuse:{value:new ei(16777215)},opacity:{value:1},center:{value:new Fn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Vn}}},ja={basic:{uniforms:Ea([Wa.common,Wa.specularmap,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.fog]),vertexShader:Xa.meshbasic_vert,fragmentShader:Xa.meshbasic_frag},lambert:{uniforms:Ea([Wa.common,Wa.specularmap,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.fog,Wa.lights,{emissive:{value:new ei(0)}}]),vertexShader:Xa.meshlambert_vert,fragmentShader:Xa.meshlambert_frag},phong:{uniforms:Ea([Wa.common,Wa.specularmap,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.fog,Wa.lights,{emissive:{value:new ei(0)},specular:{value:new ei(1118481)},shininess:{value:30}}]),vertexShader:Xa.meshphong_vert,fragmentShader:Xa.meshphong_frag},standard:{uniforms:Ea([Wa.common,Wa.envmap,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.roughnessmap,Wa.metalnessmap,Wa.fog,Wa.lights,{emissive:{value:new ei(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Xa.meshphysical_vert,fragmentShader:Xa.meshphysical_frag},toon:{uniforms:Ea([Wa.common,Wa.aomap,Wa.lightmap,Wa.emissivemap,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.gradientmap,Wa.fog,Wa.lights,{emissive:{value:new ei(0)}}]),vertexShader:Xa.meshtoon_vert,fragmentShader:Xa.meshtoon_frag},matcap:{uniforms:Ea([Wa.common,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,Wa.fog,{matcap:{value:null}}]),vertexShader:Xa.meshmatcap_vert,fragmentShader:Xa.meshmatcap_frag},points:{uniforms:Ea([Wa.points,Wa.fog]),vertexShader:Xa.points_vert,fragmentShader:Xa.points_frag},dashed:{uniforms:Ea([Wa.common,Wa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Xa.linedashed_vert,fragmentShader:Xa.linedashed_frag},depth:{uniforms:Ea([Wa.common,Wa.displacementmap]),vertexShader:Xa.depth_vert,fragmentShader:Xa.depth_frag},normal:{uniforms:Ea([Wa.common,Wa.bumpmap,Wa.normalmap,Wa.displacementmap,{opacity:{value:1}}]),vertexShader:Xa.meshnormal_vert,fragmentShader:Xa.meshnormal_frag},sprite:{uniforms:Ea([Wa.sprite,Wa.fog]),vertexShader:Xa.sprite_vert,fragmentShader:Xa.sprite_frag},background:{uniforms:{uvTransform:{value:new Vn},t2D:{value:null}},vertexShader:Xa.background_vert,fragmentShader:Xa.background_frag},cube:{uniforms:Ea([Wa.envmap,{opacity:{value:1}}]),vertexShader:Xa.cube_vert,fragmentShader:Xa.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Xa.equirect_vert,fragmentShader:Xa.equirect_frag},distanceRGBA:{uniforms:Ea([Wa.common,Wa.displacementmap,{referencePosition:{value:new vi},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Xa.distanceRGBA_vert,fragmentShader:Xa.distanceRGBA_frag},shadow:{uniforms:Ea([Wa.lights,Wa.fog,{color:{value:new ei(0)},opacity:{value:1}}]),vertexShader:Xa.shadow_vert,fragmentShader:Xa.shadow_frag}};function qa(t,e,n,r,o,l){const c=new ei(0);let h,d,m=!0===o?0:1,f=null,v=0,x=null;function _(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,l)}return{getClearColor:function(){return c},setClearColor:function(t,e=1){c.set(t),m=e,_(c,m)},getClearAlpha:function(){return m},setClearAlpha:function(t){m=t,_(c,m)},render:function(n,o){let l=!1,w=!0===o.isScene?o.background:null;w&&w.isTexture&&(w=e.get(w));const M=t.xr,E=M.getSession&&M.getSession();E&&"additive"===E.environmentBlendMode&&(w=null),null===w?_(c,m):w&&w.isColor&&(_(w,1),l=!0),(t.autoClear||l)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),w&&(w.isCubeTexture||w.mapping===_t)?(void 0===d&&(d=new ba(new wa(1,1,1),new Aa({name:"BackgroundCubeMaterial",uniforms:Ma(ja.cube.uniforms),vertexShader:ja.cube.vertexShader,fragmentShader:ja.cube.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=w,d.material.uniforms.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,f===w&&v===w.version&&x===t.toneMapping||(d.material.needsUpdate=!0,f=w,v=w.version,x=t.toneMapping),d.layers.enableAll(),n.unshift(d,d.geometry,d.material,0,0,null)):w&&w.isTexture&&(void 0===h&&(h=new ba(new Ha(2,2),new Aa({name:"BackgroundMaterial",uniforms:Ma(ja.background.uniforms),vertexShader:ja.background.vertexShader,fragmentShader:ja.background.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(h)),h.material.uniforms.t2D.value=w,!0===w.matrixAutoUpdate&&w.updateMatrix(),h.material.uniforms.uvTransform.value.copy(w.matrix),f===w&&v===w.version&&x===t.toneMapping||(h.material.needsUpdate=!0,f=w,v=w.version,x=t.toneMapping),h.layers.enableAll(),n.unshift(h,h.geometry,h.material,0,0,null))}}}function Ya(t,e,n,r){const o=t.getParameter(34921),l=r.isWebGL2?null:e.get("OES_vertex_array_object"),c=r.isWebGL2||null!==l,h={},d=_(null);let m=d,f=!1;function v(e){return r.isWebGL2?t.bindVertexArray(e):l.bindVertexArrayOES(e)}function x(e){return r.isWebGL2?t.deleteVertexArray(e):l.deleteVertexArrayOES(e)}function _(t){const e=[],n=[],r=[];for(let i=0;i<o;i++)e[i]=0,n[i]=0,r[i]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:r,object:t,attributes:{},index:null}}function y(){const t=m.newAttributes;for(let i=0,e=t.length;i<e;i++)t[i]=0}function S(t){w(t,0)}function w(n,o){const l=m.newAttributes,c=m.enabledAttributes,h=m.attributeDivisors;if(l[n]=1,0===c[n]&&(t.enableVertexAttribArray(n),c[n]=1),h[n]!==o){(r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,o),h[n]=o}}function M(){const e=m.newAttributes,n=m.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function E(e,n,o,l,c,h){!0!==r.isWebGL2||5124!==o&&5125!==o?t.vertexAttribPointer(e,n,o,l,c,h):t.vertexAttribIPointer(e,n,o,c,h)}function R(){A(),f=!0,m!==d&&(m=d,v(m.object))}function A(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:function(object,o,d,x,R){let A=!1;if(c){const e=function(e,n,o){const c=!0===o.wireframe;let d=h[e.id];void 0===d&&(d={},h[e.id]=d);let m=d[n.id];void 0===m&&(m={},d[n.id]=m);let f=m[c];void 0===f&&(f=_(r.isWebGL2?t.createVertexArray():l.createVertexArrayOES()),m[c]=f);return f}(x,d,o);m!==e&&(m=e,v(m.object)),A=function(object,t,e,n){const r=m.attributes,o=t.attributes;let l=0;const c=e.getAttributes();for(const t in c){if(c[t].location>=0){const e=r[t];let n=o[t];if(void 0===n&&("instanceMatrix"===t&&object.instanceMatrix&&(n=object.instanceMatrix),"instanceColor"===t&&object.instanceColor&&(n=object.instanceColor)),void 0===e)return!0;if(e.attribute!==n)return!0;if(n&&e.data!==n.data)return!0;l++}}return m.attributesNum!==l||m.index!==n}(object,x,d,R),A&&function(object,t,e,n){const r={},o=t.attributes;let l=0;const c=e.getAttributes();for(const t in c){if(c[t].location>=0){let e=o[t];void 0===e&&("instanceMatrix"===t&&object.instanceMatrix&&(e=object.instanceMatrix),"instanceColor"===t&&object.instanceColor&&(e=object.instanceColor));const data={};data.attribute=e,e&&e.data&&(data.data=e.data),r[t]=data,l++}}m.attributes=r,m.attributesNum=l,m.index=n}(object,x,d,R)}else{const t=!0===o.wireframe;m.geometry===x.id&&m.program===d.id&&m.wireframe===t||(m.geometry=x.id,m.program=d.id,m.wireframe=t,A=!0)}null!==R&&n.update(R,34963),(A||f)&&(f=!1,function(object,o,l,c){if(!1===r.isWebGL2&&(object.isInstancedMesh||c.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;y();const h=c.attributes,d=l.getAttributes(),m=o.defaultAttributeValues;for(const e in d){const r=d[e];if(r.location>=0){let o=h[e];if(void 0===o&&("instanceMatrix"===e&&object.instanceMatrix&&(o=object.instanceMatrix),"instanceColor"===e&&object.instanceColor&&(o=object.instanceColor)),void 0!==o){const e=o.normalized,l=o.itemSize,h=n.get(o);if(void 0===h)continue;const d=h.buffer,m=h.type,f=h.bytesPerElement;if(o.isInterleavedBufferAttribute){const data=o.data,n=data.stride,h=o.offset;if(data.isInstancedInterleavedBuffer){for(let i=0;i<r.locationSize;i++)w(r.location+i,data.meshPerAttribute);!0!==object.isInstancedMesh&&void 0===c._maxInstanceCount&&(c._maxInstanceCount=data.meshPerAttribute*data.count)}else for(let i=0;i<r.locationSize;i++)S(r.location+i);t.bindBuffer(34962,d);for(let i=0;i<r.locationSize;i++)E(r.location+i,l/r.locationSize,m,e,n*f,(h+l/r.locationSize*i)*f)}else{if(o.isInstancedBufferAttribute){for(let i=0;i<r.locationSize;i++)w(r.location+i,o.meshPerAttribute);!0!==object.isInstancedMesh&&void 0===c._maxInstanceCount&&(c._maxInstanceCount=o.meshPerAttribute*o.count)}else for(let i=0;i<r.locationSize;i++)S(r.location+i);t.bindBuffer(34962,d);for(let i=0;i<r.locationSize;i++)E(r.location+i,l/r.locationSize,m,e,l*f,l/r.locationSize*i*f)}}else if(void 0!==m){const n=m[e];if(void 0!==n)switch(n.length){case 2:t.vertexAttrib2fv(r.location,n);break;case 3:t.vertexAttrib3fv(r.location,n);break;case 4:t.vertexAttrib4fv(r.location,n);break;default:t.vertexAttrib1fv(r.location,n)}}}}M()}(object,o,d,x),null!==R&&t.bindBuffer(34963,n.get(R).buffer))},reset:R,resetDefaultState:A,dispose:function(){R();for(const t in h){const e=h[t];for(const t in e){const n=e[t];for(const t in n)x(n[t].object),delete n[t];delete e[t]}delete h[t]}},releaseStatesOfGeometry:function(t){if(void 0===h[t.id])return;const e=h[t.id];for(const t in e){const n=e[t];for(const t in n)x(n[t].object),delete n[t];delete e[t]}delete h[t.id]},releaseStatesOfProgram:function(t){for(const e in h){const n=h[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)x(r[t].object),delete r[t];delete n[t.id]}},initAttributes:y,enableAttribute:S,disableUnusedAttributes:M}}function $a(t,e,n,r){const o=r.isWebGL2;let l;this.setMode=function(t){l=t},this.render=function(e,r){t.drawArrays(l,e,r),n.update(r,l,1)},this.renderInstances=function(r,c,h){if(0===h)return;let d,m;if(o)d=t,m="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",null===d)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");d[m](l,r,c,h),n.update(c,l,h)}}function Ka(t,e,n){let r;function o(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const l="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let c=void 0!==n.precision?n.precision:"highp";const h=o(c);h!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",h,"instead."),c=h);const d=l||e.has("WEBGL_draw_buffers"),m=!0===n.logarithmicDepthBuffer,f=t.getParameter(34930),v=t.getParameter(35660),x=t.getParameter(3379),_=t.getParameter(34076),y=t.getParameter(34921),S=t.getParameter(36347),w=t.getParameter(36348),M=t.getParameter(36349),E=v>0,R=l||e.has("OES_texture_float");return{isWebGL2:l,drawBuffers:d,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,precision:c,logarithmicDepthBuffer:m,maxTextures:f,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:_,maxAttributes:y,maxVertexUniforms:S,maxVaryings:w,maxFragmentUniforms:M,vertexTextures:E,floatFragmentTextures:R,floatVertexTextures:E&&R,maxSamples:l?t.getParameter(36183):0}}function Qa(t){const e=this;let n=null,r=0,o=!1,l=!1;const c=new Ga,h=new Vn,d={value:null,needsUpdate:!1};function m(){d.value!==n&&(d.value=n,d.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(t,n,r,o){const l=null!==t?t.length:0;let m=null;if(0!==l){if(m=d.value,!0!==o||null===m){const e=r+4*l,o=n.matrixWorldInverse;h.getNormalMatrix(o),(null===m||m.length<e)&&(m=new Float32Array(e));for(let i=0,e=r;i!==l;++i,e+=4)c.copy(t[i]).applyMatrix4(o,h),c.normal.toArray(m,e),m[e+3]=c.constant}d.value=m,d.needsUpdate=!0}return e.numPlanes=l,e.numIntersection=0,m}this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,l){const c=0!==t.length||e||0!==r||o;return o=e,n=f(t,l,0),r=t.length,c},this.beginShadows=function(){l=!0,f(null)},this.endShadows=function(){l=!1,m()},this.setState=function(e,c,h){const v=e.clippingPlanes,x=e.clipIntersection,_=e.clipShadows,y=t.get(e);if(!o||null===v||0===v.length||l&&!_)l?f(null):m();else{const t=l?0:r,e=4*t;let o=y.clippingState||null;d.value=o,o=f(v,c,e,h);for(let i=0;i!==e;++i)o[i]=n[i];y.clippingState=o,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=t}}}function Za(t){let e=new WeakMap;function n(t,e){return e===vt?t.mapping=ft:e===xt&&(t.mapping=gt),t}function r(t){const n=t.target;n.removeEventListener("dispose",r);const o=e.get(n);void 0!==o&&(e.delete(n),o.dispose())}return{get:function(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const l=o.mapping;if(l===vt||l===xt){if(e.has(o)){return n(e.get(o).texture,o.mapping)}{const image=o.image;if(image&&image.height>0){const l=new Na(image.height/2);return l.fromEquirectangularTexture(t,o),e.set(o,l),o.addEventListener("dispose",r),n(l.texture,o.mapping)}return null}}}return o},dispose:function(){e=new WeakMap}}}ja.physical={uniforms:Ea([ja.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Fn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ei(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Fn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ei(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ei(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Xa.meshphysical_vert,fragmentShader:Xa.meshphysical_frag};class Ja extends Ta{constructor(t=-1,e=1,n=1,r=-1,o=.1,l=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(source,t){return super.copy(source,t),this.left=source.left,this.right=source.right,this.top=source.top,this.bottom=source.bottom,this.near=source.near,this.far=source.far,this.zoom=source.zoom,this.view=null===source.view?null:Object.assign({},source.view),this}setViewOffset(t,e,n,r,o,l){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=n-t,l=n+t,c=r+e,h=r-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=t*this.view.offsetX,l=o+t*this.view.width,c-=e*this.view.offsetY,h=c-e*this.view.height}this.projectionMatrix.makeOrthographic(o,l,c,h,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(meta){const data=super.toJSON(meta);return data.object.zoom=this.zoom,data.object.left=this.left,data.object.right=this.right,data.object.top=this.top,data.object.bottom=this.bottom,data.object.near=this.near,data.object.far=this.far,null!==this.view&&(data.object.view=Object.assign({},this.view)),data}}Ja.prototype.isOrthographicCamera=!0;const to=[.125,.215,.35,.446,.526,.582],eo=20,no=new Ja,io=new ei;let ro=null;const ao=(1+Math.sqrt(5))/2,oo=1/ao,so=[new vi(1,1,1),new vi(-1,1,1),new vi(1,1,-1),new vi(-1,1,-1),new vi(0,ao,oo),new vi(0,ao,-oo),new vi(oo,0,ao),new vi(-oo,0,ao),new vi(ao,oo,0),new vi(-ao,oo,0)];class lo{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,r=100){ro=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(t,n,r,o),e>0&&this._blur(o,0,0,e),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=ho(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=uo(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let i=0;i<this._lodPlanes.length;i++)this._lodPlanes[i].dispose()}_cleanup(t){this._renderer.setRenderTarget(ro),t.scissorTest=!1,co(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===ft||t.mapping===gt?this._setSize(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),ro=this._renderer.getRenderTarget();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,n={magFilter:Tt,minFilter:Tt,generateMipmaps:!1,type:Vt,format:jt,encoding:Ue,depthBuffer:!1},r=po(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=po(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(t){const e=[],n=[],r=[];let o=t;const l=t-4+1+to.length;for(let i=0;i<l;i++){const l=Math.pow(2,o);n.push(l);let c=1/l;i>t-4?c=to[i-t+4-1]:0===i&&(c=0),r.push(c);const h=1/(l-2),d=-h,m=1+h,f=[d,d,m,d,m,m,d,d,m,m,d,m],v=6,x=6,_=3,y=2,S=1,w=new Float32Array(_*x*v),M=new Float32Array(y*x*v),E=new Float32Array(S*x*v);for(let t=0;t<v;t++){const e=t%3*2/3-1,n=t>2?0:-1,r=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];w.set(r,_*x*t),M.set(f,y*x*t);const o=[t,t,t,t,t,t];E.set(o,S*x*t)}const R=new ia;R.setAttribute("position",new Fr(w,_)),R.setAttribute("uv",new Fr(M,y)),R.setAttribute("faceIndex",new Fr(E,S)),e.push(R),o>4&&o--}return{lodPlanes:e,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(t,e,n){const r=new Float32Array(eo),o=new vi(0,1,0);return new Aa({name:"SphericalGaussianBlur",defines:{n:eo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:mo(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:R,depthTest:!1,depthWrite:!1})}(r,t,e)}return r}_compileMaterial(t){const e=new ba(this._lodPlanes[0],t);this._renderer.compile(e,no)}_sceneToCubeUV(t,e,n,r){const o=new Pa(90,1,e,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],h=this._renderer,d=h.autoClear,m=h.toneMapping;h.getClearColor(io),h.toneMapping=st,h.autoClear=!1;const f=new kr({name:"PMREM.Background",side:S,depthWrite:!1,depthTest:!1}),v=new ba(new wa,f);let x=!1;const _=t.background;_?_.isColor&&(f.color.copy(_),t.background=null,x=!0):(f.color.copy(io),x=!0);for(let i=0;i<6;i++){const col=i%3;0===col?(o.up.set(0,l[i],0),o.lookAt(c[i],0,0)):1===col?(o.up.set(0,0,l[i]),o.lookAt(0,c[i],0)):(o.up.set(0,l[i],0),o.lookAt(0,0,c[i]));const e=this._cubeSize;co(r,col*e,i>2?e:0,e,e),h.setRenderTarget(r),x&&h.render(v,o),h.render(t,o)}v.geometry.dispose(),v.material.dispose(),h.toneMapping=m,h.autoClear=d,t.background=_}_textureToCubeUV(t,e){const n=this._renderer,r=t.mapping===ft||t.mapping===gt;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=ho()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=uo());const o=r?this._cubemapMaterial:this._equirectMaterial,l=new ba(this._lodPlanes[0],o);o.uniforms.envMap.value=t;const c=this._cubeSize;co(e,0,0,3*c,2*c),n.setRenderTarget(e),n.render(l,no)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const e=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=so[(i-1)%so.length];this._blur(t,i-1,i,e,n)}e.autoClear=n}_blur(t,e,n,r,o){const l=this._pingPongRenderTarget;this._halfBlur(t,l,e,n,r,"latitudinal",o),this._halfBlur(l,t,n,n,r,"longitudinal",o)}_halfBlur(t,e,n,r,o,l,c){const h=this._renderer,d=this._blurMaterial;"latitudinal"!==l&&"longitudinal"!==l&&console.error("blur direction must be either latitudinal or longitudinal!");const m=new ba(this._lodPlanes[r],d),f=d.uniforms,v=this._sizeLods[n]-1,x=isFinite(o)?Math.PI/(2*v):2*Math.PI/39,_=o/x,y=isFinite(o)?1+Math.floor(3*_):eo;y>eo&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to 20`);const S=[];let w=0;for(let i=0;i<eo;++i){const t=i/_,e=Math.exp(-t*t/2);S.push(e),0===i?w+=e:i<y&&(w+=2*e)}for(let i=0;i<S.length;i++)S[i]=S[i]/w;f.envMap.value=t.texture,f.samples.value=y,f.weights.value=S,f.latitudinal.value="latitudinal"===l,c&&(f.poleAxis.value=c);const{_lodMax:M}=this;f.dTheta.value=x,f.mipInt.value=M-n;const E=this._sizeLods[r];co(e,3*E*(r>M-4?r-M+4:0),4*(this._cubeSize-E),3*E,2*E),h.setRenderTarget(e),h.render(m,no)}}function po(t,e,n){const r=new ci(t,e,n);return r.texture.mapping=_t,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function co(t,e,n,r,o){t.viewport.set(e,n,r,o),t.scissor.set(e,n,r,o)}function uo(){return new Aa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:mo(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:R,depthTest:!1,depthWrite:!1})}function ho(){return new Aa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:mo(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:R,depthTest:!1,depthWrite:!1})}function mo(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function fo(t){let e=new WeakMap,n=null;function r(t){const n=t.target;n.removeEventListener("dispose",r);const o=e.get(n);void 0!==o&&(e.delete(n),o.dispose())}return{get:function(o){if(o&&o.isTexture){const l=o.mapping,c=l===vt||l===xt,h=l===ft||l===gt;if(c||h){if(o.isRenderTargetTexture&&!0===o.needsPMREMUpdate){o.needsPMREMUpdate=!1;let r=e.get(o);return null===n&&(n=new lo(t)),r=c?n.fromEquirectangular(o,r):n.fromCubemap(o,r),e.set(o,r),r.texture}if(e.has(o))return e.get(o).texture;{const image=o.image;if(c&&image&&image.height>0||h&&image&&function(image){let t=0;const e=6;for(let i=0;i<e;i++)void 0!==image[i]&&t++;return t===e}(image)){null===n&&(n=new lo(t));const l=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,l),o.addEventListener("dispose",r),l.texture}return null}}}return o},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function go(t){const e={};function n(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(n)}return e[n]=r,r}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(t){const e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function vo(t,e,n,r){const o={},l=new WeakMap;function c(t){const h=t.target;null!==h.index&&e.remove(h.index);for(const t in h.attributes)e.remove(h.attributes[t]);h.removeEventListener("dispose",c),delete o[h.id];const d=l.get(h);d&&(e.remove(d),l.delete(h)),r.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,n.memory.geometries--}function h(t){const n=[],r=t.index,o=t.attributes.position;let c=0;if(null!==r){const t=r.array;c=r.version;for(let i=0,e=t.length;i<e;i+=3){const a=t[i+0],b=t[i+1],e=t[i+2];n.push(a,b,b,e,e,a)}}else{const t=o.array;c=o.version;for(let i=0,e=t.length/3-1;i<e;i+=3){const a=i+0,b=i+1,t=i+2;n.push(a,b,b,t,t,a)}}const h=new(zn(n)?jr:Xr)(n,1);h.version=c;const d=l.get(t);d&&e.remove(d),l.set(t,h)}return{get:function(object,t){return!0===o[t.id]||(t.addEventListener("dispose",c),o[t.id]=!0,n.memory.geometries++),t},update:function(t){const n=t.attributes;for(const t in n)e.update(n[t],34962);const r=t.morphAttributes;for(const t in r){const n=r[t];for(let i=0,t=n.length;i<t;i++)e.update(n[i],34962)}},getWireframeAttribute:function(t){const e=l.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&h(t)}else h(t);return l.get(t)}}}function xo(t,e,n,r){const o=r.isWebGL2;let l,c,h;this.setMode=function(t){l=t},this.setIndex=function(t){c=t.type,h=t.bytesPerElement},this.render=function(e,r){t.drawElements(l,r,c,e*h),n.update(r,l,1)},this.renderInstances=function(r,d,m){if(0===m)return;let f,v;if(o)f=t,v="drawElementsInstanced";else if(f=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",null===f)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[v](l,d,c,r*h,m),n.update(d,l,m)}}function _o(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,r){switch(e.calls++,n){case 4:e.triangles+=r*(t/3);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function yo(a,b){return a[0]-b[0]}function bo(a,b){return Math.abs(b[1])-Math.abs(a[1])}function So(t,e){let n=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),t.divideScalar(n)}function wo(t,e,n){const r={},o=new Float32Array(8),l=new WeakMap,c=new pi,h=[];for(let i=0;i<8;i++)h[i]=[i,0];return{update:function(object,d,m,f){const v=object.morphTargetInfluences;if(!0===e.isWebGL2){const x=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,_=void 0!==x?x.length:0;let y=l.get(d);if(void 0===y||y.count!==_){void 0!==y&&y.texture.dispose();const M=void 0!==d.morphAttributes.position,E=void 0!==d.morphAttributes.normal,R=void 0!==d.morphAttributes.color,A=d.morphAttributes.position||[],T=d.morphAttributes.normal||[],P=d.morphAttributes.color||[];let C=0;!0===M&&(C=1),!0===E&&(C=2),!0===R&&(C=3);let I=d.attributes.position.count*C,L=1;I>e.maxTextureSize&&(L=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const N=new Float32Array(I*L*4*_),D=new ui(N,I,L,_);D.type=Ft,D.needsUpdate=!0;const O=4*C;for(let i=0;i<_;i++){const G=A[i],B=T[i],F=P[i],V=I*L*4*i;for(let z=0;z<G.count;z++){const U=z*O;!0===M&&(c.fromBufferAttribute(G,z),!0===G.normalized&&So(c,G),N[V+U+0]=c.x,N[V+U+1]=c.y,N[V+U+2]=c.z,N[V+U+3]=0),!0===E&&(c.fromBufferAttribute(B,z),!0===B.normalized&&So(c,B),N[V+U+4]=c.x,N[V+U+5]=c.y,N[V+U+6]=c.z,N[V+U+7]=0),!0===R&&(c.fromBufferAttribute(F,z),!0===F.normalized&&So(c,F),N[V+U+8]=c.x,N[V+U+9]=c.y,N[V+U+10]=c.z,N[V+U+11]=4===F.itemSize?c.w:1)}}function k(){D.dispose(),l.delete(d),d.removeEventListener("dispose",k)}y={count:_,texture:D,size:new Fn(I,L)},l.set(d,y),d.addEventListener("dispose",k)}let S=0;for(let i=0;i<v.length;i++)S+=v[i];const w=d.morphTargetsRelative?1:1-S;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",v),f.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const H=void 0===v?0:v.length;let X=r[d.id];if(void 0===X||X.length!==H){X=[];for(let i=0;i<H;i++)X[i]=[i,0];r[d.id]=X}for(let i=0;i<H;i++){const K=X[i];K[0]=i,K[1]=v[i]}X.sort(bo);for(let i=0;i<8;i++)i<H&&X[i][1]?(h[i][0]=X[i][0],h[i][1]=X[i][1]):(h[i][0]=Number.MAX_SAFE_INTEGER,h[i][1]=0);h.sort(yo);const W=d.morphAttributes.position,j=d.morphAttributes.normal;let Y=0;for(let i=0;i<8;i++){const Q=h[i],Z=Q[0],J=Q[1];Z!==Number.MAX_SAFE_INTEGER&&J?(W&&d.getAttribute("morphTarget"+i)!==W[Z]&&d.setAttribute("morphTarget"+i,W[Z]),j&&d.getAttribute("morphNormal"+i)!==j[Z]&&d.setAttribute("morphNormal"+i,j[Z]),o[i]=J,Y+=J):(W&&!0===d.hasAttribute("morphTarget"+i)&&d.deleteAttribute("morphTarget"+i),j&&!0===d.hasAttribute("morphNormal"+i)&&d.deleteAttribute("morphNormal"+i),o[i]=0)}const $=d.morphTargetsRelative?1:1-Y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",$),f.getUniforms().setValue(t,"morphTargetInfluences",o)}}}}function Mo(t,e,n,r){let o=new WeakMap;function l(t){const e=t.target;e.removeEventListener("dispose",l),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(object){const t=r.render.frame,c=object.geometry,h=e.get(object,c);return o.get(h)!==t&&(e.update(h),o.set(h,t)),object.isInstancedMesh&&(!1===object.hasEventListener("dispose",l)&&object.addEventListener("dispose",l),n.update(object.instanceMatrix,34962),null!==object.instanceColor&&n.update(object.instanceColor,34962)),h},dispose:function(){o=new WeakMap}}}const Eo=new si,Ro=new ui,Ao=new di,To=new La,Po=[],Co=[],Io=new Float32Array(16),Lo=new Float32Array(9),No=new Float32Array(4);function Do(t,e,n){const r=t[0];if(r<=0||r>0)return t;const o=e*n;let l=Po[o];if(void 0===l&&(l=new Float32Array(o),Po[o]=l),0!==e){r.toArray(l,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(l,r)}return l}function Oo(a,b){if(a.length!==b.length)return!1;for(let i=0,t=a.length;i<t;i++)if(a[i]!==b[i])return!1;return!0}function ko(a,b){for(let i=0,t=b.length;i<t;i++)a[i]=b[i]}function Go(t,e){let n=Co[e];void 0===n&&(n=new Int32Array(e),Co[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function Bo(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Fo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Oo(n,e))return;t.uniform2fv(this.addr,e),ko(n,e)}}function Vo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Oo(n,e))return;t.uniform3fv(this.addr,e),ko(n,e)}}function zo(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Oo(n,e))return;t.uniform4fv(this.addr,e),ko(n,e)}}function Uo(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(Oo(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ko(n,e)}else{if(Oo(n,r))return;No.set(r),t.uniformMatrix2fv(this.addr,!1,No),ko(n,r)}}function Ho(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(Oo(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ko(n,e)}else{if(Oo(n,r))return;Lo.set(r),t.uniformMatrix3fv(this.addr,!1,Lo),ko(n,r)}}function Xo(t,e){const n=this.cache,r=e.elements;if(void 0===r){if(Oo(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ko(n,e)}else{if(Oo(n,r))return;Io.set(r),t.uniformMatrix4fv(this.addr,!1,Io),ko(n,r)}}function Wo(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function jo(t,e){const n=this.cache;Oo(n,e)||(t.uniform2iv(this.addr,e),ko(n,e))}function qo(t,e){const n=this.cache;Oo(n,e)||(t.uniform3iv(this.addr,e),ko(n,e))}function Yo(t,e){const n=this.cache;Oo(n,e)||(t.uniform4iv(this.addr,e),ko(n,e))}function $o(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ko(t,e){const n=this.cache;Oo(n,e)||(t.uniform2uiv(this.addr,e),ko(n,e))}function Qo(t,e){const n=this.cache;Oo(n,e)||(t.uniform3uiv(this.addr,e),ko(n,e))}function Zo(t,e){const n=this.cache;Oo(n,e)||(t.uniform4uiv(this.addr,e),ko(n,e))}function Jo(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture2D(e||Eo,o)}function ts(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture3D(e||Ao,o)}function es(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTextureCube(e||To,o)}function ns(t,e,n){const r=this.cache,o=n.allocateTextureUnit();r[0]!==o&&(t.uniform1i(this.addr,o),r[0]=o),n.setTexture2DArray(e||Ro,o)}function is(t,e){t.uniform1fv(this.addr,e)}function rs(t,e){const data=Do(e,this.size,2);t.uniform2fv(this.addr,data)}function as(t,e){const data=Do(e,this.size,3);t.uniform3fv(this.addr,data)}function os(t,e){const data=Do(e,this.size,4);t.uniform4fv(this.addr,data)}function ss(t,e){const data=Do(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,data)}function ls(t,e){const data=Do(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,data)}function ps(t,e){const data=Do(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,data)}function cs(t,e){t.uniform1iv(this.addr,e)}function us(t,e){t.uniform2iv(this.addr,e)}function hs(t,e){t.uniform3iv(this.addr,e)}function ds(t,e){t.uniform4iv(this.addr,e)}function ms(t,e){t.uniform1uiv(this.addr,e)}function fs(t,e){t.uniform2uiv(this.addr,e)}function gs(t,e){t.uniform3uiv(this.addr,e)}function vs(t,e){t.uniform4uiv(this.addr,e)}function xs(t,e,n){const r=e.length,o=Go(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTexture2D(e[i]||Eo,o[i])}function _s(t,e,n){const r=e.length,o=Go(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTexture3D(e[i]||Ao,o[i])}function ys(t,e,n){const r=e.length,o=Go(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTextureCube(e[i]||To,o[i])}function bs(t,e,n){const r=e.length,o=Go(n,r);t.uniform1iv(this.addr,o);for(let i=0;i!==r;++i)n.setTexture2DArray(e[i]||Ro,o[i])}function Ss(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Bo;case 35664:return Fo;case 35665:return Vo;case 35666:return zo;case 35674:return Uo;case 35675:return Ho;case 35676:return Xo;case 5124:case 35670:return Wo;case 35667:case 35671:return jo;case 35668:case 35672:return qo;case 35669:case 35673:return Yo;case 5125:return $o;case 36294:return Ko;case 36295:return Qo;case 36296:return Zo;case 35678:case 36198:case 36298:case 36306:case 35682:return Jo;case 35679:case 36299:case 36307:return ts;case 35680:case 36300:case 36308:case 36293:return es;case 36289:case 36303:case 36311:case 36292:return ns}}(e.type)}function ws(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return is;case 35664:return rs;case 35665:return as;case 35666:return os;case 35674:return ss;case 35675:return ls;case 35676:return ps;case 5124:case 35670:return cs;case 35667:case 35671:return us;case 35668:case 35672:return hs;case 35669:case 35673:return ds;case 5125:return ms;case 36294:return fs;case 36295:return gs;case 36296:return vs;case 35678:case 36198:case 36298:case 36306:case 35682:return xs;case 35679:case 36299:case 36307:return _s;case 35680:case 36300:case 36308:case 36293:return ys;case 36289:case 36303:case 36311:case 36292:return bs}}(e.type)}function Ms(t){this.id=t,this.seq=[],this.map={}}Ms.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const u=r[i];u.setValue(t,e[u.id],n)}};const Es=/(\w+)(\])?(\[|\.)?/g;function Rs(t,e){t.seq.push(e),t.map[e.id]=e}function As(t,e,n){const path=t.name,r=path.length;for(Es.lastIndex=0;;){const o=Es.exec(path),l=Es.lastIndex;let c=o[1];const h="]"===o[2],d=o[3];if(h&&(c|=0),void 0===d||"["===d&&l+2===r){Rs(n,void 0===d?new Ss(c,t,e):new ws(c,t,e));break}{let t=n.map[c];void 0===t&&(t=new Ms(c),Rs(n,t)),n=t}}}function Ts(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);As(n,t.getUniformLocation(e,n.name),this)}}function Ps(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}Ts.prototype.setValue=function(t,e,n,r){const u=this.map[e];void 0!==u&&u.setValue(t,n,r)},Ts.prototype.setOptional=function(t,object,e){const n=object[e];void 0!==n&&this.setValue(t,e,n)},Ts.upload=function(t,e,n,r){for(let i=0,o=e.length;i!==o;++i){const u=e[i],o=n[u.id];!1!==o.needsUpdate&&u.setValue(t,o.value,r)}},Ts.seqWithValue=function(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const u=t[i];u.id in e&&n.push(u)}return n};let Cs=0;function Is(t,e,n){const r=t.getShaderParameter(e,35713),o=t.getShaderInfoLog(e).trim();if(r&&""===o)return"";const l=/ERROR: 0:(\d+)/.exec(o);if(l){const r=parseInt(l[0]);return n.toUpperCase()+"\n\n"+o+"\n\n"+function(t,e){const n=t.split("\n"),r=[],o=Math.max(e-6,0),l=Math.min(e+6,n.length);for(let i=o;i<l;i++)r.push(i+1+": "+n[i]);return r.join("\n")}(t.getShaderSource(e),r)}return o}function Ls(t,e){const n=function(t){switch(t){case Ue:return["Linear","( value )"];case He:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ns(t,e){let n;switch(e){case lt:n="Linear";break;case pt:n="Reinhard";break;case ct:n="OptimizedCineon";break;case ut:n="ACESFilmic";break;case ht:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ds(t){return""!==t}function Os(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ks(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Gs=/^[ \t]*#include +<([\w\d./]+)>/gm;function Bs(t){return t.replace(Gs,Fs)}function Fs(t,e){const n=Xa[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return Bs(n)}const Vs=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,zs=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Us(t){return t.replace(zs,Xs).replace(Vs,Hs)}function Hs(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Xs(t,e,n,r)}function Xs(t,e,n,r){let o="";for(let i=parseInt(e);i<parseInt(n);i++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+i+" ]").replace(/UNROLLED_LOOP_INDEX/g,i);return o}function Ws(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function js(t,e,n,r){const o=t.getContext(),l=n.defines;let c=n.vertexShader,h=n.fragmentShader;const d=function(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===v?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===x?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===_&&(e="SHADOWMAP_TYPE_VSM"),e}(n),m=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ft:case gt:e="ENVMAP_TYPE_CUBE";break;case _t:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),f=function(t){let e="ENVMAP_MODE_REFLECTION";t.envMap&&t.envMapMode===gt&&(e="ENVMAP_MODE_REFRACTION");return e}(n),y=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case it:e="ENVMAP_BLENDING_MULTIPLY";break;case at:e="ENVMAP_BLENDING_MIX";break;case ot:e="ENVMAP_BLENDING_ADD"}return e}(n),S=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),w=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ds).join("\n")}(n),M=function(t){const e=[];for(const n in t){const r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(l),E=o.createProgram();let R,A,T=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(R=[M].filter(Ds).join("\n"),R.length>0&&(R+="\n"),A=[w,M].filter(Ds).join("\n"),A.length>0&&(A+="\n")):(R=[Ws(n),"#define SHADER_NAME "+n.shaderName,M,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ds).join("\n"),A=[w,Ws(n),"#define SHADER_NAME "+n.shaderName,M,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+m:"",n.envMap?"#define "+f:"",n.envMap?"#define "+y:"",S?"#define CUBEUV_TEXEL_WIDTH "+S.texelWidth:"",S?"#define CUBEUV_TEXEL_HEIGHT "+S.texelHeight:"",S?"#define CUBEUV_MAX_MIP "+S.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==st?"#define TONE_MAPPING":"",n.toneMapping!==st?Xa.tonemapping_pars_fragment:"",n.toneMapping!==st?Ns("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Xa.encodings_pars_fragment,Ls("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ds).join("\n")),c=Bs(c),c=Os(c,n),c=ks(c,n),h=Bs(h),h=Os(h,n),h=ks(h,n),c=Us(c),h=Us(h),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(T="#version 300 es\n",R=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+R,A=["#define varying in",n.glslVersion===Mn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Mn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+A);const P=T+A+h,C=Ps(o,35633,T+R+c),I=Ps(o,35632,P);if(o.attachShader(E,C),o.attachShader(E,I),void 0!==n.index0AttributeName?o.bindAttribLocation(E,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(E,0,"position"),o.linkProgram(E),t.debug.checkShaderErrors){const t=o.getProgramInfoLog(E).trim(),e=o.getShaderInfoLog(C).trim(),n=o.getShaderInfoLog(I).trim();let r=!0,l=!0;if(!1===o.getProgramParameter(E,35714)){r=!1;const e=Is(o,C,"vertex"),n=Is(o,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(E,35715)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}else""!==t?console.warn("THREE.WebGLProgram: Program Info Log:",t):""!==e&&""!==n||(l=!1);l&&(this.diagnostics={runnable:r,programLog:t,vertexShader:{log:e,prefix:R},fragmentShader:{log:n,prefix:A}})}let L,N;return o.deleteShader(C),o.deleteShader(I),this.getUniforms=function(){return void 0===L&&(L=new Ts(o,E)),L},this.getAttributes=function(){return void 0===N&&(N=function(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const r=t.getActiveAttrib(e,i),o=r.name;let l=1;35674===r.type&&(l=2),35675===r.type&&(l=3),35676===r.type&&(l=4),n[o]={type:r.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}(o,E)),N},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(E),this.program=void 0},this.name=n.shaderName,this.id=Cs++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=C,this.fragmentShader=I,this}let qs=0;class Ys{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,r=this._getShaderStage(e),o=this._getShaderStage(n),l=this._getShaderCacheForMaterial(t);return!1===l.has(r)&&(l.add(r),r.usedTimes++),!1===l.has(o)&&(l.add(o),o.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const t of e)t.usedTimes--,0===t.usedTimes&&this.shaderCache.delete(t.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(code){const t=this.shaderCache;if(!1===t.has(code)){const e=new $s(code);t.set(code,e)}return t.get(code)}}class $s{constructor(code){this.id=qs++,this.code=code,this.usedTimes=0}}function Ks(t,e,n,r,o,l,c){const h=new or,d=new Ys,m=[],f=o.isWebGL2,v=o.logarithmicDepthBuffer,x=o.vertexTextures;let _=o.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(l,h,m,M,object){const E=M.fog,R=object.geometry,T=l.isMeshStandardMaterial?M.environment:null,P=(l.isMeshStandardMaterial?n:e).get(l.envMap||T),C=P&&P.mapping===_t?P.image.height:null,I=y[l.type];null!==l.precision&&(_=o.getMaxPrecision(l.precision),_!==l.precision&&console.warn("THREE.WebGLProgram.getParameters:",l.precision,"not supported, using",_,"instead."));const L=R.morphAttributes.position||R.morphAttributes.normal||R.morphAttributes.color,N=void 0!==L?L.length:0;let D,O,k,G,B=0;if(void 0!==R.morphAttributes.position&&(B=1),void 0!==R.morphAttributes.normal&&(B=2),void 0!==R.morphAttributes.color&&(B=3),I){const t=ja[I];D=t.vertexShader,O=t.fragmentShader}else D=l.vertexShader,O=l.fragmentShader,d.update(l),k=d.getVertexShaderID(l),G=d.getFragmentShaderID(l);const F=t.getRenderTarget(),V=l.alphaTest>0,z=l.clearcoat>0;return{isWebGL2:f,shaderID:I,shaderName:l.type,vertexShader:D,fragmentShader:O,defines:l.defines,customVertexShaderID:k,customFragmentShaderID:G,isRawShaderMaterial:!0===l.isRawShaderMaterial,glslVersion:l.glslVersion,precision:_,instancing:!0===object.isInstancedMesh,instancingColor:!0===object.isInstancedMesh&&null!==object.instanceColor,supportsVertexTextures:x,outputEncoding:null===F?t.outputEncoding:!0===F.isXRRenderTarget?F.texture.encoding:Ue,map:!!l.map,matcap:!!l.matcap,envMap:!!P,envMapMode:P&&P.mapping,envMapCubeUVHeight:C,lightMap:!!l.lightMap,aoMap:!!l.aoMap,emissiveMap:!!l.emissiveMap,bumpMap:!!l.bumpMap,normalMap:!!l.normalMap,objectSpaceNormalMap:l.normalMapType===qe,tangentSpaceNormalMap:l.normalMapType===je,decodeVideoTexture:!!l.map&&!0===l.map.isVideoTexture&&l.map.encoding===He,clearcoat:z,clearcoatMap:z&&!!l.clearcoatMap,clearcoatRoughnessMap:z&&!!l.clearcoatRoughnessMap,clearcoatNormalMap:z&&!!l.clearcoatNormalMap,displacementMap:!!l.displacementMap,roughnessMap:!!l.roughnessMap,metalnessMap:!!l.metalnessMap,specularMap:!!l.specularMap,specularIntensityMap:!!l.specularIntensityMap,specularColorMap:!!l.specularColorMap,opaque:!1===l.transparent&&l.blending===A,alphaMap:!!l.alphaMap,alphaTest:V,gradientMap:!!l.gradientMap,sheen:l.sheen>0,sheenColorMap:!!l.sheenColorMap,sheenRoughnessMap:!!l.sheenRoughnessMap,transmission:l.transmission>0,transmissionMap:!!l.transmissionMap,thicknessMap:!!l.thicknessMap,combine:l.combine,vertexTangents:!!l.normalMap&&!!R.attributes.tangent,vertexColors:l.vertexColors,vertexAlphas:!0===l.vertexColors&&!!R.attributes.color&&4===R.attributes.color.itemSize,vertexUvs:!!(l.map||l.bumpMap||l.normalMap||l.specularMap||l.alphaMap||l.emissiveMap||l.roughnessMap||l.metalnessMap||l.clearcoatMap||l.clearcoatRoughnessMap||l.clearcoatNormalMap||l.displacementMap||l.transmissionMap||l.thicknessMap||l.specularIntensityMap||l.specularColorMap||l.sheenColorMap||l.sheenRoughnessMap),uvsVertexOnly:!(l.map||l.bumpMap||l.normalMap||l.specularMap||l.alphaMap||l.emissiveMap||l.roughnessMap||l.metalnessMap||l.clearcoatNormalMap||l.transmission>0||l.transmissionMap||l.thicknessMap||l.specularIntensityMap||l.specularColorMap||l.sheen>0||l.sheenColorMap||l.sheenRoughnessMap||!l.displacementMap),fog:!!E,useFog:!0===l.fog,fogExp2:E&&E.isFogExp2,flatShading:!!l.flatShading,sizeAttenuation:l.sizeAttenuation,logarithmicDepthBuffer:v,skinning:!0===object.isSkinnedMesh,morphTargets:void 0!==R.morphAttributes.position,morphNormals:void 0!==R.morphAttributes.normal,morphColors:void 0!==R.morphAttributes.color,morphTargetsCount:N,morphTextureStride:B,numDirLights:h.directional.length,numPointLights:h.point.length,numSpotLights:h.spot.length,numRectAreaLights:h.rectArea.length,numHemiLights:h.hemi.length,numDirLightShadows:h.directionalShadowMap.length,numPointLightShadows:h.pointShadowMap.length,numSpotLightShadows:h.spotShadowMap.length,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:l.dithering,shadowMapEnabled:t.shadowMap.enabled&&m.length>0,shadowMapType:t.shadowMap.type,toneMapping:l.toneMapped?t.toneMapping:st,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:l.premultipliedAlpha,doubleSided:l.side===w,flipSided:l.side===S,useDepthPacking:!!l.depthPacking,depthPacking:l.depthPacking||0,index0AttributeName:l.index0AttributeName,extensionDerivatives:l.extensions&&l.extensions.derivatives,extensionFragDepth:l.extensions&&l.extensions.fragDepth,extensionDrawBuffers:l.extensions&&l.extensions.drawBuffers,extensionShaderTextureLOD:l.extensions&&l.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:l.customProgramCacheKey()}},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputEncoding),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.combine),t.push(e.vertexUvs),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(n,e),function(t,e){h.disableAll(),e.isWebGL2&&h.enable(0);e.supportsVertexTextures&&h.enable(1);e.instancing&&h.enable(2);e.instancingColor&&h.enable(3);e.map&&h.enable(4);e.matcap&&h.enable(5);e.envMap&&h.enable(6);e.lightMap&&h.enable(7);e.aoMap&&h.enable(8);e.emissiveMap&&h.enable(9);e.bumpMap&&h.enable(10);e.normalMap&&h.enable(11);e.objectSpaceNormalMap&&h.enable(12);e.tangentSpaceNormalMap&&h.enable(13);e.clearcoat&&h.enable(14);e.clearcoatMap&&h.enable(15);e.clearcoatRoughnessMap&&h.enable(16);e.clearcoatNormalMap&&h.enable(17);e.displacementMap&&h.enable(18);e.specularMap&&h.enable(19);e.roughnessMap&&h.enable(20);e.metalnessMap&&h.enable(21);e.gradientMap&&h.enable(22);e.alphaMap&&h.enable(23);e.alphaTest&&h.enable(24);e.vertexColors&&h.enable(25);e.vertexAlphas&&h.enable(26);e.vertexUvs&&h.enable(27);e.vertexTangents&&h.enable(28);e.uvsVertexOnly&&h.enable(29);e.fog&&h.enable(30);t.push(h.mask),h.disableAll(),e.useFog&&h.enable(0);e.flatShading&&h.enable(1);e.logarithmicDepthBuffer&&h.enable(2);e.skinning&&h.enable(3);e.morphTargets&&h.enable(4);e.morphNormals&&h.enable(5);e.morphColors&&h.enable(6);e.premultipliedAlpha&&h.enable(7);e.shadowMapEnabled&&h.enable(8);e.physicallyCorrectLights&&h.enable(9);e.doubleSided&&h.enable(10);e.flipSided&&h.enable(11);e.useDepthPacking&&h.enable(12);e.dithering&&h.enable(13);e.specularIntensityMap&&h.enable(14);e.specularColorMap&&h.enable(15);e.transmission&&h.enable(16);e.transmissionMap&&h.enable(17);e.thicknessMap&&h.enable(18);e.sheen&&h.enable(19);e.sheenColorMap&&h.enable(20);e.sheenRoughnessMap&&h.enable(21);e.decodeVideoTexture&&h.enable(22);e.opaque&&h.enable(23);t.push(h.mask)}(n,e),n.push(t.outputEncoding)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=y[t.type];let n;if(e){const t=ja[e];n=Ra.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let r;for(let p=0,t=m.length;p<t;p++){const t=m[p];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new js(t,n,e,l),m.push(r)),r},releaseProgram:function(t){if(0==--t.usedTimes){const i=m.indexOf(t);m[i]=m[m.length-1],m.pop(),t.destroy()}},releaseShaderCache:function(t){d.remove(t)},programs:m,dispose:function(){d.dispose()}}}function Qs(){let t=new WeakMap;return{get:function(object){let map=t.get(object);return void 0===map&&(map={},t.set(object,map)),map},remove:function(object){t.delete(object)},update:function(object,e,n){t.get(object)[e]=n},dispose:function(){t=new WeakMap}}}function Zs(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function Js(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function tl(){const t=[];let e=0;const n=[],r=[],o=[];function l(object,n,r,o,l,c){let h=t[e];return void 0===h?(h={id:object.id,object:object,geometry:n,material:r,groupOrder:o,renderOrder:object.renderOrder,z:l,group:c},t[e]=h):(h.id=object.id,h.object=object,h.geometry=n,h.material=r,h.groupOrder=o,h.renderOrder=object.renderOrder,h.z=l,h.group=c),e++,h}return{opaque:n,transmissive:r,transparent:o,init:function(){e=0,n.length=0,r.length=0,o.length=0},push:function(object,t,e,c,h,d){const m=l(object,t,e,c,h,d);e.transmission>0?r.push(m):!0===e.transparent?o.push(m):n.push(m)},unshift:function(object,t,e,c,h,d){const m=l(object,t,e,c,h,d);e.transmission>0?r.unshift(m):!0===e.transparent?o.unshift(m):n.unshift(m)},finish:function(){for(let i=e,n=t.length;i<n;i++){const e=t[i];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){n.length>1&&n.sort(t||Zs),r.length>1&&r.sort(e||Js),o.length>1&&o.sort(e||Js)}}}function el(){let t=new WeakMap;return{get:function(e,n){let r;return!1===t.has(e)?(r=new tl,t.set(e,[r])):n>=t.get(e).length?(r=new tl,t.get(e).push(r)):r=t.get(e)[n],r},dispose:function(){t=new WeakMap}}}function nl(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new vi,color:new ei};break;case"SpotLight":n={position:new vi,direction:new vi,color:new ei,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new vi,color:new ei,distance:0,decay:0};break;case"HemisphereLight":n={direction:new vi,skyColor:new ei,groundColor:new ei};break;case"RectAreaLight":n={color:new ei,position:new vi,halfWidth:new vi,halfHeight:new vi}}return t[e.id]=n,n}}}let il=0;function rl(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function al(t,e){const n=new nl,r=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fn,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let i=0;i<9;i++)o.probe.push(new vi);const l=new vi,c=new Yi,h=new Yi;return{setup:function(l,c){let h=0,g=0,b=0;for(let i=0;i<9;i++)o.probe[i].set(0,0,0);let d=0,m=0,f=0,v=0,x=0,_=0,y=0,S=0;l.sort(rl);const w=!0!==c?Math.PI:1;for(let i=0,t=l.length;i<t;i++){const t=l[i],e=t.color,c=t.intensity,M=t.distance,E=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)h+=e.r*c*w,g+=e.g*c*w,b+=e.b*c*w;else if(t.isLightProbe)for(let e=0;e<9;e++)o.probe[e].addScaledVector(t.sh.coefficients[e],c);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*w),t.castShadow){const shadow=t.shadow,e=r.get(t);e.shadowBias=shadow.bias,e.shadowNormalBias=shadow.normalBias,e.shadowRadius=shadow.radius,e.shadowMapSize=shadow.mapSize,o.directionalShadow[d]=e,o.directionalShadowMap[d]=E,o.directionalShadowMatrix[d]=t.shadow.matrix,_++}o.directional[d]=e,d++}else if(t.isSpotLight){const l=n.get(t);if(l.position.setFromMatrixPosition(t.matrixWorld),l.color.copy(e).multiplyScalar(c*w),l.distance=M,l.coneCos=Math.cos(t.angle),l.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),l.decay=t.decay,t.castShadow){const shadow=t.shadow,e=r.get(t);e.shadowBias=shadow.bias,e.shadowNormalBias=shadow.normalBias,e.shadowRadius=shadow.radius,e.shadowMapSize=shadow.mapSize,o.spotShadow[f]=e,o.spotShadowMap[f]=E,o.spotShadowMatrix[f]=t.shadow.matrix,S++}o.spot[f]=l,f++}else if(t.isRectAreaLight){const r=n.get(t);r.color.copy(e).multiplyScalar(c),r.halfWidth.set(.5*t.width,0,0),r.halfHeight.set(0,.5*t.height,0),o.rectArea[v]=r,v++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*w),e.distance=t.distance,e.decay=t.decay,t.castShadow){const shadow=t.shadow,e=r.get(t);e.shadowBias=shadow.bias,e.shadowNormalBias=shadow.normalBias,e.shadowRadius=shadow.radius,e.shadowMapSize=shadow.mapSize,e.shadowCameraNear=shadow.camera.near,e.shadowCameraFar=shadow.camera.far,o.pointShadow[m]=e,o.pointShadowMap[m]=E,o.pointShadowMatrix[m]=t.shadow.matrix,y++}o.point[m]=e,m++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(c*w),e.groundColor.copy(t.groundColor).multiplyScalar(c*w),o.hemi[x]=e,x++}}v>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(o.rectAreaLTC1=Wa.LTC_FLOAT_1,o.rectAreaLTC2=Wa.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(o.rectAreaLTC1=Wa.LTC_HALF_1,o.rectAreaLTC2=Wa.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=h,o.ambient[1]=g,o.ambient[2]=b;const M=o.hash;M.directionalLength===d&&M.pointLength===m&&M.spotLength===f&&M.rectAreaLength===v&&M.hemiLength===x&&M.numDirectionalShadows===_&&M.numPointShadows===y&&M.numSpotShadows===S||(o.directional.length=d,o.spot.length=f,o.rectArea.length=v,o.point.length=m,o.hemi.length=x,o.directionalShadow.length=_,o.directionalShadowMap.length=_,o.pointShadow.length=y,o.pointShadowMap.length=y,o.spotShadow.length=S,o.spotShadowMap.length=S,o.directionalShadowMatrix.length=_,o.pointShadowMatrix.length=y,o.spotShadowMatrix.length=S,M.directionalLength=d,M.pointLength=m,M.spotLength=f,M.rectAreaLength=v,M.hemiLength=x,M.numDirectionalShadows=_,M.numPointShadows=y,M.numSpotShadows=S,o.version=il++)},setupView:function(t,e){let n=0,r=0,d=0,m=0,f=0;const v=e.matrixWorldInverse;for(let i=0,e=t.length;i<e;i++){const e=t[i];if(e.isDirectionalLight){const t=o.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),l.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(l),t.direction.transformDirection(v),n++}else if(e.isSpotLight){const t=o.spot[d];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(v),t.direction.setFromMatrixPosition(e.matrixWorld),l.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(l),t.direction.transformDirection(v),d++}else if(e.isRectAreaLight){const t=o.rectArea[m];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(v),h.identity(),c.copy(e.matrixWorld),c.premultiply(v),h.extractRotation(c),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(h),t.halfHeight.applyMatrix4(h),m++}else if(e.isPointLight){const t=o.point[r];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(v),r++}else if(e.isHemisphereLight){const t=o.hemi[f];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(v),f++}}},state:o}}function sl(t,e){const n=new al(t,e),r=[],o=[];return{init:function(){r.length=0,o.length=0},state:{lightsArray:r,shadowsArray:o,lights:n},setupLights:function(t){n.setup(r,t)},setupLightsView:function(t){n.setupView(r,t)},pushLight:function(t){r.push(t)},pushShadow:function(t){o.push(t)}}}function ll(t,e){let n=new WeakMap;return{get:function(r,o=0){let l;return!1===n.has(r)?(l=new sl(t,e),n.set(r,[l])):o>=n.get(r).length?(l=new sl(t,e),n.get(r).push(l)):l=n.get(r)[o],l},dispose:function(){n=new WeakMap}}}class pl extends Or{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=Xe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(source){return super.copy(source),this.depthPacking=source.depthPacking,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this}}pl.prototype.isMeshDepthMaterial=!0;class cl extends Or{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new vi,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(source){return super.copy(source),this.referencePosition.copy(source.referencePosition),this.nearDistance=source.nearDistance,this.farDistance=source.farDistance,this.map=source.map,this.alphaMap=source.alphaMap,this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this}}cl.prototype.isMeshDistanceMaterial=!0;function hl(t,e,n){let r=new Va;const o=new Fn,l=new Fn,c=new pi,h=new pl({depthPacking:We}),d=new cl,m={},f=n.maxTextureSize,x={0:S,1:y,2:w},M=new Aa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Fn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),E=M.clone();E.defines.HORIZONTAL_PASS=1;const A=new ia;A.setAttribute("position",new Fr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new ba(A,M),P=this;function C(shadow,n){const r=e.update(T);M.defines.VSM_SAMPLES!==shadow.blurSamples&&(M.defines.VSM_SAMPLES=shadow.blurSamples,E.defines.VSM_SAMPLES=shadow.blurSamples,M.needsUpdate=!0,E.needsUpdate=!0),M.uniforms.shadow_pass.value=shadow.map.texture,M.uniforms.resolution.value=shadow.mapSize,M.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.mapPass),t.clear(),t.renderBufferDirect(n,null,r,M,T,null),E.uniforms.shadow_pass.value=shadow.mapPass.texture,E.uniforms.resolution.value=shadow.mapSize,E.uniforms.radius.value=shadow.radius,t.setRenderTarget(shadow.map),t.clear(),t.renderBufferDirect(n,null,r,E,T,null)}function I(object,e,n,r,o,l){let c=null;const f=!0===n.isPointLight?object.customDistanceMaterial:object.customDepthMaterial;if(c=void 0!==f?f:!0===n.isPointLight?d:h,t.localClippingEnabled&&!0===e.clipShadows&&0!==e.clippingPlanes.length||e.displacementMap&&0!==e.displacementScale||e.alphaMap&&e.alphaTest>0){const t=c.uuid,n=e.uuid;let r=m[t];void 0===r&&(r={},m[t]=r);let o=r[n];void 0===o&&(o=c.clone(),r[n]=o),c=o}return c.visible=e.visible,c.wireframe=e.wireframe,c.side=l===_?null!==e.shadowSide?e.shadowSide:e.side:null!==e.shadowSide?e.shadowSide:x[e.side],c.alphaMap=e.alphaMap,c.alphaTest=e.alphaTest,c.clipShadows=e.clipShadows,c.clippingPlanes=e.clippingPlanes,c.clipIntersection=e.clipIntersection,c.displacementMap=e.displacementMap,c.displacementScale=e.displacementScale,c.displacementBias=e.displacementBias,c.wireframeLinewidth=e.wireframeLinewidth,c.linewidth=e.linewidth,!0===n.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(n.matrixWorld),c.nearDistance=r,c.farDistance=o),c}function L(object,n,o,l,c){if(!1===object.visible)return;if(object.layers.test(n.layers)&&(object.isMesh||object.isLine||object.isPoints)&&(object.castShadow||object.receiveShadow&&c===_)&&(!object.frustumCulled||r.intersectsObject(object))){object.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,object.matrixWorld);const n=e.update(object),r=object.material;if(Array.isArray(r)){const e=n.groups;for(let h=0,d=e.length;h<d;h++){const d=e[h],m=r[d.materialIndex];if(m&&m.visible){const e=I(object,m,l,o.near,o.far,c);t.renderBufferDirect(o,null,n,e,object,d)}}}else if(r.visible){const e=I(object,r,l,o.near,o.far,c);t.renderBufferDirect(o,null,n,e,object,null)}}const h=object.children;for(let i=0,t=h.length;i<t;i++)L(h[i],n,o,l,c)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=v,this.render=function(e,n,h){if(!1===P.enabled)return;if(!1===P.autoUpdate&&!1===P.needsUpdate)return;if(0===e.length)return;const d=t.getRenderTarget(),m=t.getActiveCubeFace(),v=t.getActiveMipmapLevel(),x=t.state;x.setBlending(R),x.buffers.color.setClear(1,1,1,1),x.buffers.depth.setTest(!0),x.setScissorTest(!1);for(let i=0,d=e.length;i<d;i++){const d=e[i],shadow=d.shadow;if(void 0===shadow){console.warn("THREE.WebGLShadowMap:",d,"has no shadow.");continue}if(!1===shadow.autoUpdate&&!1===shadow.needsUpdate)continue;o.copy(shadow.mapSize);const m=shadow.getFrameExtents();if(o.multiply(m),l.copy(shadow.mapSize),(o.x>f||o.y>f)&&(o.x>f&&(l.x=Math.floor(f/m.x),o.x=l.x*m.x,shadow.mapSize.x=l.x),o.y>f&&(l.y=Math.floor(f/m.y),o.y=l.y*m.y,shadow.mapSize.y=l.y)),null!==shadow.map||shadow.isPointLightShadow||this.type!==_||(shadow.map=new ci(o.x,o.y),shadow.map.texture.name=d.name+".shadowMap",shadow.mapPass=new ci(o.x,o.y),shadow.camera.updateProjectionMatrix()),null===shadow.map){const t={minFilter:wt,magFilter:wt,format:jt};shadow.map=new ci(o.x,o.y,t),shadow.map.texture.name=d.name+".shadowMap",shadow.camera.updateProjectionMatrix()}t.setRenderTarget(shadow.map),t.clear();const v=shadow.getViewportCount();for(let t=0;t<v;t++){const e=shadow.getViewport(t);c.set(l.x*e.x,l.y*e.y,l.x*e.z,l.y*e.w),x.viewport(c),shadow.updateMatrices(d,t),r=shadow.getFrustum(),L(n,h,shadow.camera,d,this.type)}shadow.isPointLightShadow||this.type!==_||C(shadow,h),shadow.needsUpdate=!1}P.needsUpdate=!1,t.setRenderTarget(d,m,v)}}function ml(t,e,n){const r=n.isWebGL2;const o=new function(){let e=!1;const n=new pi;let r=null;const o=new pi(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,g,b,a,r){!0===r&&(e*=a,g*=a,b*=a),n.set(e,g,b,a),!1===o.equals(n)&&(t.clearColor(e,g,b,a),o.copy(n))},reset:function(){e=!1,r=null,o.set(-1,0,0,0)}}},l=new function(){let e=!1,n=null,r=null,o=null;return{setTest:function(t){t?Pt(2929):Ct(2929)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case $:t.depthFunc(512);break;case K:t.depthFunc(519);break;case Q:t.depthFunc(513);break;case Z:t.depthFunc(515);break;case J:t.depthFunc(514);break;case tt:t.depthFunc(518);break;case et:t.depthFunc(516);break;case nt:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){o!==e&&(t.clearDepth(e),o=e)},reset:function(){e=!1,n=null,r=null,o=null}}},m=new function(){let e=!1,n=null,r=null,o=null,l=null,c=null,h=null,d=null,m=null;return{setTest:function(t){e||(t?Pt(2960):Ct(2960))},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,c){r===e&&o===n&&l===c||(t.stencilFunc(e,n,c),r=e,o=n,l=c)},setOp:function(e,n,r){c===e&&h===n&&d===r||(t.stencilOp(e,n,r),c=e,h=n,d=r)},setLocked:function(t){e=t},setClear:function(e){m!==e&&(t.clearStencil(e),m=e)},reset:function(){e=!1,n=null,r=null,o=null,l=null,c=null,h=null,d=null,m=null}}};let f={},v={},x=new WeakMap,_=[],y=null,M=!1,E=null,it=null,at=null,ot=null,st=null,lt=null,pt=null,ct=!1,ut=null,ht=null,mt=null,ft=null,gt=null;const vt=t.getParameter(35661);let xt=!1,_t=0;const yt=t.getParameter(7938);-1!==yt.indexOf("WebGL")?(_t=parseFloat(/^WebGL (\d)/.exec(yt)[1]),xt=_t>=1):-1!==yt.indexOf("OpenGL ES")&&(_t=parseFloat(/^OpenGL ES (\d)/.exec(yt)[1]),xt=_t>=2);let bt=null,St={};const wt=t.getParameter(3088),Mt=t.getParameter(2978),Et=(new pi).fromArray(wt),Rt=(new pi).fromArray(Mt);function At(e,n,r){const data=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let i=0;i<r;i++)t.texImage2D(n+i,0,6408,1,1,0,6408,5121,data);return o}const Tt={};function Pt(e){!0!==f[e]&&(t.enable(e),f[e]=!0)}function Ct(e){!1!==f[e]&&(t.disable(e),f[e]=!1)}Tt[3553]=At(3553,3553,1),Tt[34067]=At(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),m.setClear(0),Pt(2929),l.setFunc(Z),Dt(!1),Ot(h),Pt(2884),Nt(R);const It={[L]:32774,[N]:32778,[D]:32779};if(r)It[O]=32775,It[k]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(It[O]=t.MIN_EXT,It[k]=t.MAX_EXT)}const Lt={[G]:0,[B]:1,[F]:768,[z]:770,[Y]:776,[W]:774,[H]:772,[V]:769,[U]:771,[j]:775,[X]:773};function Nt(e,n,r,o,l,c,h,d){if(e!==R){if(!1===M&&(Pt(3042),M=!0),e===I)l=l||n,c=c||r,h=h||o,n===it&&l===st||(t.blendEquationSeparate(It[n],It[l]),it=n,st=l),r===at&&o===ot&&c===lt&&h===pt||(t.blendFuncSeparate(Lt[r],Lt[o],Lt[c],Lt[h]),at=r,ot=o,lt=c,pt=h),E=e,ct=null;else if(e!==E||d!==ct){if(it===L&&st===L||(t.blendEquation(32774),it=L,st=L),d)switch(e){case A:t.blendFuncSeparate(1,771,1,771);break;case T:t.blendFunc(1,1);break;case P:t.blendFuncSeparate(0,769,0,1);break;case C:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case A:t.blendFuncSeparate(770,771,1,771);break;case T:t.blendFunc(770,1);break;case P:t.blendFuncSeparate(0,769,0,1);break;case C:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}at=null,ot=null,lt=null,pt=null,E=e,ct=d}}else!0===M&&(Ct(3042),M=!1)}function Dt(e){ut!==e&&(e?t.frontFace(2304):t.frontFace(2305),ut=e)}function Ot(e){e!==c?(Pt(2884),e!==ht&&(e===h?t.cullFace(1029):e===d?t.cullFace(1028):t.cullFace(1032))):Ct(2884),ht=e}function kt(e,n,r){e?(Pt(32823),ft===n&&gt===r||(t.polygonOffset(n,r),ft=n,gt=r)):Ct(32823)}function Gt(e){void 0===e&&(e=33984+vt-1),bt!==e&&(t.activeTexture(e),bt=e)}return{buffers:{color:o,depth:l,stencil:m},enable:Pt,disable:Ct,bindFramebuffer:function(e,n){return v[e]!==n&&(t.bindFramebuffer(e,n),v[e]=n,r&&(36009===e&&(v[36160]=n),36160===e&&(v[36009]=n)),!0)},drawBuffers:function(r,o){let l=_,c=!1;if(r)if(l=x.get(o),void 0===l&&(l=[],x.set(o,l)),r.isWebGLMultipleRenderTargets){const t=r.texture;if(l.length!==t.length||36064!==l[0]){for(let i=0,e=t.length;i<e;i++)l[i]=36064+i;l.length=t.length,c=!0}}else 36064!==l[0]&&(l[0]=36064,c=!0);else 1029!==l[0]&&(l[0]=1029,c=!0);c&&(n.isWebGL2?t.drawBuffers(l):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(l))},useProgram:function(e){return y!==e&&(t.useProgram(e),y=e,!0)},setBlending:Nt,setMaterial:function(t,e){t.side===w?Ct(2884):Pt(2884);let n=t.side===S;e&&(n=!n),Dt(n),t.blending===A&&!1===t.transparent?Nt(R):Nt(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),l.setFunc(t.depthFunc),l.setTest(t.depthTest),l.setMask(t.depthWrite),o.setMask(t.colorWrite);const r=t.stencilWrite;m.setTest(r),r&&(m.setMask(t.stencilWriteMask),m.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),m.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),kt(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?Pt(32926):Ct(32926)},setFlipSided:Dt,setCullFace:Ot,setLineWidth:function(e){e!==mt&&(xt&&t.lineWidth(e),mt=e)},setPolygonOffset:kt,setScissorTest:function(t){t?Pt(3089):Ct(3089)},activeTexture:Gt,bindTexture:function(e,n){null===bt&&Gt();let r=St[bt];void 0===r&&(r={type:void 0,texture:void 0},St[bt]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||Tt[e]),r.type=e,r.texture=n)},unbindTexture:function(){const e=St[bt];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage2D:function(){try{t.texStorage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{t.texStorage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{t.texSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{t.texSubImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===Et.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),Et.copy(e))},viewport:function(e){!1===Rt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),Rt.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===r&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},bt=null,St={},v={},x=new WeakMap,_=[],y=null,M=!1,E=null,it=null,at=null,ot=null,st=null,lt=null,pt=null,ct=!1,ut=null,ht=null,mt=null,ft=null,gt=null,Et.set(0,0,t.canvas.width,t.canvas.height),Rt.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),m.reset()}}}function fl(t,e,n,r,o,l,c){const h=o.isWebGL2,d=o.maxTextures,m=o.maxCubemapSize,f=o.maxTextureSize,v=o.maxSamples,x=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,_=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let S;const w=new WeakMap;let M=!1;try{M="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function E(t,e){return M?new OffscreenCanvas(t,e):Xn("canvas")}function R(image,t,e,n){let r=1;if((image.width>n||image.height>n)&&(r=n/Math.max(image.width,image.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&image instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&image instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&image instanceof ImageBitmap){const n=t?Gn:Math.floor,o=n(r*image.width),l=n(r*image.height);void 0===S&&(S=E(o,l));const canvas=e?E(o,l):S;canvas.width=o,canvas.height=l;return canvas.getContext("2d").drawImage(image,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+image.width+"x"+image.height+") to ("+o+"x"+l+")."),canvas}return"data"in image&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+image.width+"x"+image.height+")."),image}return image}function A(image){return On(image.width)&&On(image.height)}function T(t,e){return t.generateMipmaps&&e&&t.minFilter!==wt&&t.minFilter!==Tt}function P(e){t.generateMipmap(e)}function C(n,r,o,l,c=!1){if(!1===h)return r;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let d=r;return 6403===r&&(5126===o&&(d=33326),5131===o&&(d=33325),5121===o&&(d=33321)),33319===r&&(5126===o&&(d=33328),5131===o&&(d=33327),5121===o&&(d=33323)),6408===r&&(5126===o&&(d=34836),5131===o&&(d=34842),5121===o&&(d=l===He&&!1===c?35907:32856),32819===o&&(d=32854),32820===o&&(d=32855)),33325!==d&&33326!==d&&33327!==d&&33328!==d&&34842!==d&&34836!==d||e.get("EXT_color_buffer_float"),d}function I(t,image,e){return!0===T(t,e)||t.isFramebufferTexture&&t.minFilter!==wt&&t.minFilter!==Tt?Math.log2(Math.max(image.width,image.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?image.mipmaps.length:1}function L(t){return t===wt||t===Mt||t===Rt?9728:9729}function N(t){const e=t.target;e.removeEventListener("dispose",N),function(t){const e=r.get(t);if(void 0===e.__webglInit)return;const source=t.source,n=w.get(source);if(n){const r=n[e.__cacheKey];r.usedTimes--,0===r.usedTimes&&O(t),0===Object.keys(n).length&&w.delete(source)}r.remove(t)}(e),e.isVideoTexture&&y.delete(e)}function D(e){const n=e.target;n.removeEventListener("dispose",D),function(e){const n=e.texture,o=r.get(e),l=r.get(n);void 0!==l.__webglTexture&&(t.deleteTexture(l.__webglTexture),c.memory.textures--);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLCubeRenderTarget)for(let i=0;i<6;i++)t.deleteFramebuffer(o.__webglFramebuffer[i]),o.__webglDepthbuffer&&t.deleteRenderbuffer(o.__webglDepthbuffer[i]);else t.deleteFramebuffer(o.__webglFramebuffer),o.__webglDepthbuffer&&t.deleteRenderbuffer(o.__webglDepthbuffer),o.__webglMultisampledFramebuffer&&t.deleteFramebuffer(o.__webglMultisampledFramebuffer),o.__webglColorRenderbuffer&&t.deleteRenderbuffer(o.__webglColorRenderbuffer),o.__webglDepthRenderbuffer&&t.deleteRenderbuffer(o.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(let i=0,e=n.length;i<e;i++){const e=r.get(n[i]);e.__webglTexture&&(t.deleteTexture(e.__webglTexture),c.memory.textures--),r.remove(n[i])}r.remove(n),r.remove(e)}(n)}function O(e){const n=r.get(e);t.deleteTexture(n.__webglTexture);const source=e.source;delete w.get(source)[n.__cacheKey],c.memory.textures--}let k=0;function G(t,slot){const e=r.get(t);if(t.isVideoTexture&&function(t){const e=c.render.frame;y.get(t)!==e&&(y.set(t,e),t.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&e.__version!==t.version){const image=t.image;if(null===image)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==image.complete)return void U(e,t,slot);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+slot),n.bindTexture(3553,e.__webglTexture)}const B={[yt]:10497,[bt]:33071,[St]:33648},F={[wt]:9728,[Mt]:9984,[Rt]:9986,[Tt]:9729,[Pt]:9985,[It]:9987};function V(n,l,c){if(c?(t.texParameteri(n,10242,B[l.wrapS]),t.texParameteri(n,10243,B[l.wrapT]),32879!==n&&35866!==n||t.texParameteri(n,32882,B[l.wrapR]),t.texParameteri(n,10240,F[l.magFilter]),t.texParameteri(n,10241,F[l.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),l.wrapS===bt&&l.wrapT===bt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,L(l.magFilter)),t.texParameteri(n,10241,L(l.minFilter)),l.minFilter!==wt&&l.minFilter!==Tt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const c=e.get("EXT_texture_filter_anisotropic");if(l.type===Ft&&!1===e.has("OES_texture_float_linear"))return;if(!1===h&&l.type===Vt&&!1===e.has("OES_texture_half_float_linear"))return;(l.anisotropy>1||r.get(l).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(l.anisotropy,o.getMaxAnisotropy())),r.get(l).__currentAnisotropy=l.anisotropy)}}function z(e,n){let r=!1;void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",N));const source=n.source;let o=w.get(source);void 0===o&&(o={},w.set(source,o));const l=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.encoding),e.join()}(n);if(l!==e.__cacheKey){void 0===o[l]&&(o[l]={texture:t.createTexture(),usedTimes:0},c.memory.textures++,r=!0),o[l].usedTimes++;const h=o[e.__cacheKey];void 0!==h&&(o[e.__cacheKey].usedTimes--,0===h.usedTimes&&O(n)),e.__cacheKey=l,e.__webglTexture=o[l].texture}return r}function U(e,r,slot){let o=3553;r.isDataArrayTexture&&(o=35866),r.isData3DTexture&&(o=32879);const c=z(e,r),source=r.source;if(n.activeTexture(33984+slot),n.bindTexture(o,e.__webglTexture),source.version!==source.__currentVersion||!0===c){t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);const d=function(t){return!h&&(t.wrapS!==bt||t.wrapT!==bt||t.minFilter!==wt&&t.minFilter!==Tt)}(r)&&!1===A(r.image);let image=R(r.image,d,!1,f);image=$(r,image);const m=A(image)||h,v=l.convert(r.format,r.encoding);let x,_=l.convert(r.type),y=C(r.internalFormat,v,_,r.encoding,r.isVideoTexture);V(o,r,m);const S=r.mipmaps,w=h&&!0!==r.isVideoTexture,M=void 0===e.__version||!0===c,E=I(r,image,m);if(r.isDepthTexture)y=6402,h?y=r.type===Ft?36012:r.type===Bt?33190:r.type===Ht?35056:33189:r.type===Ft&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===$t&&6402===y&&r.type!==kt&&r.type!==Bt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=kt,_=l.convert(r.type)),r.format===Kt&&6402===y&&(y=34041,r.type!==Ht&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Ht,_=l.convert(r.type))),M&&(w?n.texStorage2D(3553,1,y,image.width,image.height):n.texImage2D(3553,0,y,image.width,image.height,0,v,_,null));else if(r.isDataTexture)if(S.length>0&&m){w&&M&&n.texStorage2D(3553,E,y,S[0].width,S[0].height);for(let i=0,t=S.length;i<t;i++)x=S[i],w?n.texSubImage2D(3553,i,0,0,x.width,x.height,v,_,x.data):n.texImage2D(3553,i,y,x.width,x.height,0,v,_,x.data);r.generateMipmaps=!1}else w?(M&&n.texStorage2D(3553,E,y,image.width,image.height),n.texSubImage2D(3553,0,0,0,image.width,image.height,v,_,image.data)):n.texImage2D(3553,0,y,image.width,image.height,0,v,_,image.data);else if(r.isCompressedTexture){w&&M&&n.texStorage2D(3553,E,y,S[0].width,S[0].height);for(let i=0,t=S.length;i<t;i++)x=S[i],r.format!==jt?null!==v?w?n.compressedTexSubImage2D(3553,i,0,0,x.width,x.height,v,x.data):n.compressedTexImage2D(3553,i,y,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?n.texSubImage2D(3553,i,0,0,x.width,x.height,v,_,x.data):n.texImage2D(3553,i,y,x.width,x.height,0,v,_,x.data)}else if(r.isDataArrayTexture)w?(M&&n.texStorage3D(35866,E,y,image.width,image.height,image.depth),n.texSubImage3D(35866,0,0,0,0,image.width,image.height,image.depth,v,_,image.data)):n.texImage3D(35866,0,y,image.width,image.height,image.depth,0,v,_,image.data);else if(r.isData3DTexture)w?(M&&n.texStorage3D(32879,E,y,image.width,image.height,image.depth),n.texSubImage3D(32879,0,0,0,0,image.width,image.height,image.depth,v,_,image.data)):n.texImage3D(32879,0,y,image.width,image.height,image.depth,0,v,_,image.data);else if(r.isFramebufferTexture){if(M)if(w)n.texStorage2D(3553,E,y,image.width,image.height);else{let t=image.width,e=image.height;for(let i=0;i<E;i++)n.texImage2D(3553,i,y,t,e,0,v,_,null),t>>=1,e>>=1}}else if(S.length>0&&m){w&&M&&n.texStorage2D(3553,E,y,S[0].width,S[0].height);for(let i=0,t=S.length;i<t;i++)x=S[i],w?n.texSubImage2D(3553,i,0,0,v,_,x):n.texImage2D(3553,i,y,v,_,x);r.generateMipmaps=!1}else w?(M&&n.texStorage2D(3553,E,y,image.width,image.height),n.texSubImage2D(3553,0,0,0,v,_,image)):n.texImage2D(3553,0,y,v,_,image);T(r,m)&&P(o),source.__currentVersion=source.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}function H(e,o,c,h,d){const m=l.convert(c.format,c.encoding),f=l.convert(c.type),v=C(c.internalFormat,m,f,c.encoding);r.get(o).__hasExternalTextures||(32879===d||35866===d?n.texImage3D(d,0,v,o.width,o.height,o.depth,0,m,f,null):n.texImage2D(d,0,v,o.width,o.height,0,m,f,null)),n.bindFramebuffer(36160,e),Y(o)?x.framebufferTexture2DMultisampleEXT(36160,h,d,r.get(c).__webglTexture,0,j(o)):t.framebufferTexture2D(36160,h,d,r.get(c).__webglTexture,0),n.bindFramebuffer(36160,null)}function X(e,n,r){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let o=33189;if(r||Y(n)){const e=n.depthTexture;e&&e.isDepthTexture&&(e.type===Ft?o=36012:e.type===Bt&&(o=33190));const r=j(n);Y(n)?x.renderbufferStorageMultisampleEXT(36161,r,o,n.width,n.height):t.renderbufferStorageMultisample(36161,r,o,n.width,n.height)}else t.renderbufferStorage(36161,o,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){const o=j(n);r&&!1===Y(n)?t.renderbufferStorageMultisample(36161,o,35056,n.width,n.height):Y(n)?x.renderbufferStorageMultisampleEXT(36161,o,35056,n.width,n.height):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,o=l.convert(e.format,e.encoding),c=l.convert(e.type),h=C(e.internalFormat,o,c,e.encoding),d=j(n);r&&!1===Y(n)?t.renderbufferStorageMultisample(36161,d,h,n.width,n.height):Y(n)?x.renderbufferStorageMultisampleEXT(36161,d,h,n.width,n.height):t.renderbufferStorage(36161,h,n.width,n.height)}t.bindRenderbuffer(36161,null)}function W(e){const o=r.get(e),l=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture&&!o.__autoAllocateDepthBuffer){if(l)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,o){if(o&&o.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,e),!o.depthTexture||!o.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(o.depthTexture).__webglTexture&&o.depthTexture.image.width===o.width&&o.depthTexture.image.height===o.height||(o.depthTexture.image.width=o.width,o.depthTexture.image.height=o.height,o.depthTexture.needsUpdate=!0),G(o.depthTexture,0);const l=r.get(o.depthTexture).__webglTexture,c=j(o);if(o.depthTexture.format===$t)Y(o)?x.framebufferTexture2DMultisampleEXT(36160,36096,3553,l,0,c):t.framebufferTexture2D(36160,36096,3553,l,0);else{if(o.depthTexture.format!==Kt)throw new Error("Unknown depthTexture format");Y(o)?x.framebufferTexture2DMultisampleEXT(36160,33306,3553,l,0,c):t.framebufferTexture2D(36160,33306,3553,l,0)}}(o.__webglFramebuffer,e)}else if(l){o.__webglDepthbuffer=[];for(let i=0;i<6;i++)n.bindFramebuffer(36160,o.__webglFramebuffer[i]),o.__webglDepthbuffer[i]=t.createRenderbuffer(),X(o.__webglDepthbuffer[i],e,!1)}else n.bindFramebuffer(36160,o.__webglFramebuffer),o.__webglDepthbuffer=t.createRenderbuffer(),X(o.__webglDepthbuffer,e,!1);n.bindFramebuffer(36160,null)}function j(t){return Math.min(v,t.samples)}function Y(t){const n=r.get(t);return h&&t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function $(t,image){const n=t.encoding,r=t.format,o=t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||t.format===En||n!==Ue&&(n===He?!1===h?!0===e.has("EXT_sRGB")&&r===jt?(t.format=En,t.minFilter=Tt,t.generateMipmaps=!1):image=ii.sRGBToLinear(image):r===jt&&o===Nt||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",n)),image}this.allocateTextureUnit=function(){const t=k;return t>=d&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+d),k+=1,t},this.resetTextureUnits=function(){k=0},this.setTexture2D=G,this.setTexture2DArray=function(t,slot){const e=r.get(t);t.version>0&&e.__version!==t.version?U(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(35866,e.__webglTexture))},this.setTexture3D=function(t,slot){const e=r.get(t);t.version>0&&e.__version!==t.version?U(e,t,slot):(n.activeTexture(33984+slot),n.bindTexture(32879,e.__webglTexture))},this.setTextureCube=function(e,slot){const o=r.get(e);e.version>0&&o.__version!==e.version?function(e,r,slot){if(6!==r.image.length)return;const o=z(e,r),source=r.source;if(n.activeTexture(33984+slot),n.bindTexture(34067,e.__webglTexture),source.version!==source.__currentVersion||!0===o){t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment),t.pixelStorei(37443,0);const o=r.isCompressedTexture||r.image[0].isCompressedTexture,c=r.image[0]&&r.image[0].isDataTexture,d=[];for(let i=0;i<6;i++)d[i]=o||c?c?r.image[i].image:r.image[i]:R(r.image[i],!1,!0,m),d[i]=$(r,d[i]);const image=d[0],f=A(image)||h,v=l.convert(r.format,r.encoding),x=l.convert(r.type),_=C(r.internalFormat,v,x,r.encoding),y=h&&!0!==r.isVideoTexture,S=void 0===e.__version;let w,M=I(r,image,f);if(V(34067,r,f),o){y&&S&&n.texStorage2D(34067,M,_,image.width,image.height);for(let i=0;i<6;i++){w=d[i].mipmaps;for(let t=0;t<w.length;t++){const e=w[t];r.format!==jt?null!==v?y?n.compressedTexSubImage2D(34069+i,t,0,0,e.width,e.height,v,e.data):n.compressedTexImage2D(34069+i,t,_,e.width,e.height,0,e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(34069+i,t,0,0,e.width,e.height,v,x,e.data):n.texImage2D(34069+i,t,_,e.width,e.height,0,v,x,e.data)}}}else{w=r.mipmaps,y&&S&&(w.length>0&&M++,n.texStorage2D(34067,M,_,d[0].width,d[0].height));for(let i=0;i<6;i++)if(c){y?n.texSubImage2D(34069+i,0,0,0,d[i].width,d[i].height,v,x,d[i].data):n.texImage2D(34069+i,0,_,d[i].width,d[i].height,0,v,x,d[i].data);for(let t=0;t<w.length;t++){const e=w[t].image[i].image;y?n.texSubImage2D(34069+i,t+1,0,0,e.width,e.height,v,x,e.data):n.texImage2D(34069+i,t+1,_,e.width,e.height,0,v,x,e.data)}}else{y?n.texSubImage2D(34069+i,0,0,0,v,x,d[i]):n.texImage2D(34069+i,0,_,v,x,d[i]);for(let t=0;t<w.length;t++){const e=w[t];y?n.texSubImage2D(34069+i,t+1,0,0,v,x,e.image[i]):n.texImage2D(34069+i,t+1,_,v,x,e.image[i])}}}T(r,f)&&P(34067),source.__currentVersion=source.version,r.onUpdate&&r.onUpdate(r)}e.__version=r.version}(o,e,slot):(n.activeTexture(33984+slot),n.bindTexture(34067,o.__webglTexture))},this.rebindTextures=function(t,e,n){const o=r.get(t);void 0!==e&&H(o.__webglFramebuffer,t,t.texture,36064,3553),void 0!==n&&W(t)},this.setupRenderTarget=function(e){const d=e.texture,m=r.get(e),f=r.get(d);e.addEventListener("dispose",D),!0!==e.isWebGLMultipleRenderTargets&&(void 0===f.__webglTexture&&(f.__webglTexture=t.createTexture()),f.__version=d.version,c.memory.textures++);const v=!0===e.isWebGLCubeRenderTarget,x=!0===e.isWebGLMultipleRenderTargets,_=A(e)||h;if(v){m.__webglFramebuffer=[];for(let i=0;i<6;i++)m.__webglFramebuffer[i]=t.createFramebuffer()}else if(m.__webglFramebuffer=t.createFramebuffer(),x)if(o.drawBuffers){const n=e.texture;for(let i=0,e=n.length;i<e;i++){const e=r.get(n[i]);void 0===e.__webglTexture&&(e.__webglTexture=t.createTexture(),c.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(h&&e.samples>0&&!1===Y(e)){m.__webglMultisampledFramebuffer=t.createFramebuffer(),m.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,m.__webglColorRenderbuffer);const r=l.convert(d.format,d.encoding),o=l.convert(d.type),c=C(d.internalFormat,r,o,d.encoding),h=j(e);t.renderbufferStorageMultisample(36161,h,c,e.width,e.height),n.bindFramebuffer(36160,m.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,m.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(m.__webglDepthRenderbuffer=t.createRenderbuffer(),X(m.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(36160,null)}if(v){n.bindTexture(34067,f.__webglTexture),V(34067,d,_);for(let i=0;i<6;i++)H(m.__webglFramebuffer[i],e,d,36064,34069+i);T(d,_)&&P(34067),n.unbindTexture()}else if(x){const t=e.texture;for(let i=0,o=t.length;i<o;i++){const o=t[i],l=r.get(o);n.bindTexture(3553,l.__webglTexture),V(3553,o,_),H(m.__webglFramebuffer,e,o,36064+i,3553),T(o,_)&&P(3553)}n.unbindTexture()}else{let t=3553;(e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(h?t=e.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(t,f.__webglTexture),V(t,d,_),H(m.__webglFramebuffer,e,d,36064,t),T(d,_)&&P(t),n.unbindTexture()}e.depthBuffer&&W(e)},this.updateRenderTargetMipmap=function(t){const e=A(t)||h,o=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let i=0,l=o.length;i<l;i++){const l=o[i];if(T(l,e)){const e=t.isWebGLCubeRenderTarget?34067:3553,o=r.get(l).__webglTexture;n.bindTexture(e,o),P(e),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(h&&e.samples>0&&!1===Y(e)){const o=e.width,l=e.height;let mask=16384;const c=[36064],h=e.stencilBuffer?33306:36096;e.depthBuffer&&c.push(h);const d=r.get(e),m=void 0!==d.__ignoreDepthValues&&d.__ignoreDepthValues;!1===m&&(e.depthBuffer&&(mask|=256),e.stencilBuffer&&(mask|=1024)),n.bindFramebuffer(36008,d.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,d.__webglFramebuffer),!0===m&&(t.invalidateFramebuffer(36008,[h]),t.invalidateFramebuffer(36009,[h])),t.blitFramebuffer(0,0,o,l,0,0,o,l,mask,9728),_&&t.invalidateFramebuffer(36008,c),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,d.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=W,this.setupFrameBufferTexture=H,this.useMultisampledRTT=Y}function gl(t,e,n){const r=n.isWebGL2;return{convert:function(p,n=null){let o;if(p===Nt)return 5121;if(p===zt)return 32819;if(p===Ut)return 32820;if(p===Dt)return 5120;if(p===Ot)return 5122;if(p===kt)return 5123;if(p===Gt)return 5124;if(p===Bt)return 5125;if(p===Ft)return 5126;if(p===Vt)return r?5131:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(p===Xt)return 6406;if(p===jt)return 6408;if(p===qt)return 6409;if(p===Yt)return 6410;if(p===$t)return 6402;if(p===Kt)return 34041;if(p===Qt)return 6403;if(p===Wt)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(p===En)return o=e.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(p===Zt)return 36244;if(p===Jt)return 33319;if(p===te)return 33320;if(p===ee)return 36249;if(p===ne||p===ie||p===re||p===ae)if(n===He){if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(p===ne)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(p===ie)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(p===re)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(p===ae)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(p===ne)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(p===ie)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(p===re)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(p===ae)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(p===oe||p===se||p===le||p===pe){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(p===oe)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(p===se)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(p===le)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(p===pe)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(p===ce)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(p===ue||p===he){if(o=e.get("WEBGL_compressed_texture_etc"),null===o)return null;if(p===ue)return n===He?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(p===he)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(p===de||p===me||p===fe||p===ge||p===ve||p===xe||p===_e||p===ye||p===be||p===Se||p===we||p===Me||p===Ee||p===Re){if(o=e.get("WEBGL_compressed_texture_astc"),null===o)return null;if(p===de)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(p===me)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(p===fe)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(p===ge)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(p===ve)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(p===xe)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(p===_e)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(p===ye)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(p===be)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(p===Se)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(p===we)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(p===Me)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(p===Ee)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(p===Re)return n===He?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(p===Ae){if(o=e.get("EXT_texture_compression_bptc"),null===o)return null;if(p===Ae)return n===He?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}return p===Ht?r?34042:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==t[p]?t[p]:null}}}class vl extends Pa{constructor(t=[]){super(),this.cameras=t}}vl.prototype.isArrayCamera=!0;class xl extends Sr{constructor(){super(),this.type="Group"}}xl.prototype.isGroup=!0;const _l={type:"move"};class yl{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new xl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new xl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new vi,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new vi),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new xl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new vi,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new vi),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let r=null,o=null,l=null;const c=this._targetRay,h=this._grip,d=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==c&&(r=e.getPose(t.targetRaySpace,n),null!==r&&(c.matrix.fromArray(r.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),r.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(r.linearVelocity)):c.hasLinearVelocity=!1,r.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(r.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(_l))),d&&t.hand){l=!0;for(const r of t.hand.values()){const t=e.getJointPose(r,n);if(void 0===d.joints[r.jointName]){const t=new xl;t.matrixAutoUpdate=!1,t.visible=!1,d.joints[r.jointName]=t,d.add(t)}const o=d.joints[r.jointName];null!==t&&(o.matrix.fromArray(t.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=t.radius),o.visible=null!==t}const r=d.joints["index-finger-tip"],o=d.joints["thumb-tip"],c=r.position.distanceTo(o.position),h=.02,m=.005;d.inputState.pinching&&c>h+m?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!d.inputState.pinching&&c<=h-m&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==h&&t.gripSpace&&(o=e.getPose(t.gripSpace,n),null!==o&&(h.matrix.fromArray(o.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),o.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(o.linearVelocity)):h.hasLinearVelocity=!1,o.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(o.angularVelocity)):h.hasAngularVelocity=!1));return null!==c&&(c.visible=null!==r),null!==h&&(h.visible=null!==o),null!==d&&(d.visible=null!==l),this}}class bl extends si{constructor(t,e,n,r,o,l,c,h,d,m){if((m=void 0!==m?m:$t)!==$t&&m!==Kt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&m===$t&&(n=kt),void 0===n&&m===Kt&&(n=Ht),super(null,r,o,l,c,h,m,n,d),this.image={width:t,height:e},this.magFilter=void 0!==c?c:wt,this.minFilter=void 0!==h?h:wt,this.flipY=!1,this.generateMipmaps=!1}}bl.prototype.isDepthTexture=!0;class Sl extends Rn{constructor(t,e){super();const n=this;let r=null,o=1,l=null,c="local-floor",h=null,d=null,m=null,f=null,v=null,x=null;const _=e.getContextAttributes();let y=null,S=null;const w=[],M=new Map,E=new Pa;E.layers.enable(1),E.viewport=new pi;const R=new Pa;R.layers.enable(2),R.viewport=new pi;const A=[E,R],T=new vl;T.layers.enable(1),T.layers.enable(2);let P=null,C=null;function I(t){const e=M.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function L(){M.forEach((function(t,e){t.disconnect(e)})),M.clear(),P=null,C=null,t.setRenderTarget(y),v=null,f=null,m=null,r=null,S=null,B.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function N(t){const e=r.inputSources;for(let i=0;i<e.length;i++){const t="right"===e[i].handedness?1:0;M.set(e[i],w[t])}for(let i=0;i<t.removed.length;i++){const e=t.removed[i],n=M.get(e);n&&(n.dispatchEvent({type:"disconnected",data:e}),M.delete(e))}for(let i=0;i<t.added.length;i++){const e=t.added[i],n=M.get(e);n&&n.dispatchEvent({type:"connected",data:e})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=w[t];return void 0===e&&(e=new yl,w[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=w[t];return void 0===e&&(e=new yl,w[t]=e),e.getGripSpace()},this.getHand=function(t){let e=w[t];return void 0===e&&(e=new yl,w[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){o=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){c=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||l},this.setReferenceSpace=function(t){h=t},this.getBaseLayer=function(){return null!==f?f:v},this.getBinding=function(){return m},this.getFrame=function(){return x},this.getSession=function(){return r},this.setSession=async function(h){if(r=h,null!==r){if(y=t.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",L),r.addEventListener("inputsourceschange",N),!0!==_.xrCompatible&&await e.makeXRCompatible(),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||_.antialias,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};v=new XRWebGLLayer(r,e,n),r.updateRenderState({baseLayer:v}),S=new ci(v.framebufferWidth,v.framebufferHeight,{format:jt,type:Nt,encoding:t.outputEncoding})}else{let n=null,l=null,c=null;_.depth&&(c=_.stencil?35056:33190,n=_.stencil?Kt:$t,l=_.stencil?Ht:kt);const h={colorFormat:t.outputEncoding===He?35907:32856,depthFormat:c,scaleFactor:o};m=new XRWebGLBinding(r,e),f=m.createProjectionLayer(h),r.updateRenderState({layers:[f]}),S=new ci(f.textureWidth,f.textureHeight,{format:jt,type:Nt,depthTexture:new bl(f.textureWidth,f.textureHeight,l,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:_.stencil,encoding:t.outputEncoding,samples:_.antialias?4:0});t.properties.get(S).__ignoreDepthValues=f.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(1),l=await r.requestReferenceSpace(c),B.setContext(r),B.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}};const D=new vi,O=new vi;function k(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===r)return;T.near=R.near=E.near=t.near,T.far=R.far=E.far=t.far,P===T.near&&C===T.far||(r.updateRenderState({depthNear:T.near,depthFar:T.far}),P=T.near,C=T.far);const e=t.parent,n=T.cameras;k(T,e);for(let i=0;i<n.length;i++)k(n[i],e);T.matrixWorld.decompose(T.position,T.quaternion,T.scale),t.position.copy(T.position),t.quaternion.copy(T.quaternion),t.scale.copy(T.scale),t.matrix.copy(T.matrix),t.matrixWorld.copy(T.matrixWorld);const o=t.children;for(let i=0,t=o.length;i<t;i++)o[i].updateMatrixWorld(!0);2===n.length?function(t,e,n){D.setFromMatrixPosition(e.matrixWorld),O.setFromMatrixPosition(n.matrixWorld);const r=D.distanceTo(O),o=e.projectionMatrix.elements,l=n.projectionMatrix.elements,c=o[14]/(o[10]-1),h=o[14]/(o[10]+1),d=(o[9]+1)/o[5],m=(o[9]-1)/o[5],f=(o[8]-1)/o[0],v=(l[8]+1)/l[0],x=c*f,_=c*v,y=r/(-f+v),S=y*-f;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(S),t.translateZ(y),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const w=c+y,M=h+y,E=x-S,R=_+(r-S),A=d*h/M*w,T=m*h/M*w;t.projectionMatrix.makePerspective(E,R,A,T,w,M)}(T,E,R):T.projectionMatrix.copy(E.projectionMatrix)},this.getCamera=function(){return T},this.getFoveation=function(){return null!==f?f.fixedFoveation:null!==v?v.fixedFoveation:void 0},this.setFoveation=function(t){null!==f&&(f.fixedFoveation=t),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=t)};let G=null;const B=new za;B.setAnimationLoop((function(time,e){if(d=e.getViewerPose(h||l),x=e,null!==d){const e=d.views;null!==v&&(t.setRenderTargetFramebuffer(S,v.framebuffer),t.setRenderTarget(S));let n=!1;e.length!==T.cameras.length&&(T.cameras.length=0,n=!0);for(let i=0;i<e.length;i++){const view=e[i];let r=null;if(null!==v)r=v.getViewport(view);else{const e=m.getViewSubImage(f,view);r=e.viewport,0===i&&(t.setRenderTargetTextures(S,e.colorTexture,f.ignoreDepthValues?void 0:e.depthStencilTexture),t.setRenderTarget(S))}const o=A[i];o.matrix.fromArray(view.transform.matrix),o.projectionMatrix.fromArray(view.projectionMatrix),o.viewport.set(r.x,r.y,r.width,r.height),0===i&&T.matrix.copy(o.matrix),!0===n&&T.cameras.push(o)}}const n=r.inputSources;for(let i=0;i<w.length;i++){const t=n[i],r=M.get(t);void 0!==r&&r.update(t,e,h||l)}G&&G(time,e),x=null})),this.setAnimationLoop=function(t){G=t},this.dispose=function(){}}}function wl(t,e){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===S&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===S&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);const o=e.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;const e=!0!==t.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*e}let l,c;r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?l=r.map:r.specularMap?l=r.specularMap:r.displacementMap?l=r.displacementMap:r.normalMap?l=r.normalMap:r.bumpMap?l=r.bumpMap:r.roughnessMap?l=r.roughnessMap:r.metalnessMap?l=r.metalnessMap:r.alphaMap?l=r.alphaMap:r.emissiveMap?l=r.emissiveMap:r.clearcoatMap?l=r.clearcoatMap:r.clearcoatNormalMap?l=r.clearcoatNormalMap:r.clearcoatRoughnessMap?l=r.clearcoatRoughnessMap:r.specularIntensityMap?l=r.specularIntensityMap:r.specularColorMap?l=r.specularColorMap:r.transmissionMap?l=r.transmissionMap:r.thicknessMap?l=r.thicknessMap:r.sheenColorMap?l=r.sheenColorMap:r.sheenRoughnessMap&&(l=r.sheenRoughnessMap),void 0!==l&&(l.isWebGLRenderTarget&&(l=l.texture),!0===l.matrixAutoUpdate&&l.updateMatrix(),n.uvTransform.value.copy(l.matrix)),r.aoMap?c=r.aoMap:r.lightMap&&(c=r.lightMap),void 0!==c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),n.uv2Transform.value.copy(c.matrix))}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,r,o,l,c){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(t,r):r.isMeshToonMaterial?(n(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,r)):r.isMeshPhongMaterial?(n(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,r)):r.isMeshStandardMaterial?(n(t,r),function(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap);e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}(t,r),r.isMeshPhysicalMaterial&&function(t,e,n){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===S&&t.clearcoatNormalScale.value.negate()));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=n.texture,t.transmissionSamplerSize.value.set(n.width,n.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap);e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap)}(t,r,c)):r.isMeshMatcapMaterial?(n(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,r)):r.isMeshDepthMaterial?n(t,r):r.isMeshDistanceMaterial?(n(t,r),function(t,e){t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,r)):r.isMeshNormalMaterial?n(t,r):r.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?function(t,e,n,r){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*r,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);let o;e.map?o=e.map:e.alphaMap&&(o=e.alphaMap);void 0!==o&&(!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uvTransform.value.copy(o.matrix))}(t,r,o,l):r.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map);e.alphaMap&&(t.alphaMap.value=e.alphaMap);e.alphaTest>0&&(t.alphaTest.value=e.alphaTest);let n;e.map?n=e.map:e.alphaMap&&(n=e.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Ml(t={}){const e=void 0!==t.canvas?t.canvas:function(){const canvas=Xn("canvas");return canvas.style.display="block",canvas}(),n=void 0!==t.context?t.context:null,o=void 0===t.depth||t.depth,l=void 0===t.stencil||t.stencil,c=void 0!==t.antialias&&t.antialias,h=void 0===t.premultipliedAlpha||t.premultipliedAlpha,d=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,m=void 0!==t.powerPreference?t.powerPreference:"default",f=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let v;v=null!==n?n.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;let x=null,_=null;const M=[],E=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Ue,this.physicallyCorrectLights=!1,this.toneMapping=st,this.toneMappingExposure=1;const R=this;let A=!1,T=0,P=0,C=null,I=-1,L=null;const N=new pi,D=new pi;let O=null,k=e.width,G=e.height,B=1,F=null,V=null;const z=new pi(0,0,k,G),U=new pi(0,0,k,G);let H=!1;const X=new Va;let W=!1,j=!1,Y=null;const $=new Yi,K=new Fn,Q=new vi,Z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function J(){return null===C?B:1}let tt,et,nt,it,at,ot,lt,pt,ct,ut,ht,mt,ft,gt,vt,xt,_t,yt,bt,St,wt,Mt,Et,Rt=n;function At(t,n){for(let i=0;i<t.length;i++){const r=t[i],o=e.getContext(r,n);if(null!==o)return o}return null}try{const t={alpha:!0,depth:o,stencil:l,antialias:c,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:m,failIfMajorPerformanceCaveat:f};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${r}`),e.addEventListener("webglcontextlost",Ct,!1),e.addEventListener("webglcontextrestored",Lt,!1),null===Rt){const e=["webgl2","webgl","experimental-webgl"];if(!0===R.isWebGL1Renderer&&e.shift(),Rt=At(e,t),null===Rt)throw At(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Rt.getShaderPrecisionFormat&&(Rt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function Tt(){tt=new go(Rt),et=new Ka(Rt,tt,t),tt.init(et),Mt=new gl(Rt,tt,et),nt=new ml(Rt,tt,et),it=new _o(Rt),at=new Qs,ot=new fl(Rt,tt,nt,at,et,Mt,it),lt=new Za(R),pt=new fo(R),ct=new Ua(Rt,et),Et=new Ya(Rt,tt,ct,et),ut=new vo(Rt,ct,it,Et),ht=new Mo(Rt,ut,ct,it),bt=new wo(Rt,et,ot),xt=new Qa(at),mt=new Ks(R,lt,pt,tt,et,Et,xt),ft=new wl(R,at),gt=new el,vt=new ll(tt,et),yt=new qa(R,lt,nt,ht,v,h),_t=new hl(R,ht,et),St=new $a(Rt,tt,it,et),wt=new xo(Rt,tt,it,et),it.programs=mt.programs,R.capabilities=et,R.extensions=tt,R.properties=at,R.renderLists=gt,R.shadowMap=_t,R.state=nt,R.info=it}Tt();const Pt=new Sl(R,Rt);function Ct(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Lt(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const t=it.autoReset,e=_t.enabled,n=_t.autoUpdate,r=_t.needsUpdate,o=_t.type;Tt(),it.autoReset=t,_t.enabled=e,_t.autoUpdate=n,_t.needsUpdate=r,_t.type=o}function Dt(t){const e=t.target;e.removeEventListener("dispose",Dt),function(t){(function(t){const e=at.get(t).programs;void 0!==e&&(e.forEach((function(t){mt.releaseProgram(t)})),t.isShaderMaterial&&mt.releaseShaderCache(t))})(t),at.remove(t)}(e)}this.xr=Pt,this.getContext=function(){return Rt},this.getContextAttributes=function(){return Rt.getContextAttributes()},this.forceContextLoss=function(){const t=tt.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=tt.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(t){void 0!==t&&(B=t,this.setSize(k,G,!1))},this.getSize=function(t){return t.set(k,G)},this.setSize=function(t,n,r){Pt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(k=t,G=n,e.width=Math.floor(t*B),e.height=Math.floor(n*B),!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(k*B,G*B).floor()},this.setDrawingBufferSize=function(t,n,r){k=t,G=n,B=r,e.width=Math.floor(t*r),e.height=Math.floor(n*r),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(N)},this.getViewport=function(t){return t.copy(z)},this.setViewport=function(t,e,n,r){t.isVector4?z.set(t.x,t.y,t.z,t.w):z.set(t,e,n,r),nt.viewport(N.copy(z).multiplyScalar(B).floor())},this.getScissor=function(t){return t.copy(U)},this.setScissor=function(t,e,n,r){t.isVector4?U.set(t.x,t.y,t.z,t.w):U.set(t,e,n,r),nt.scissor(D.copy(U).multiplyScalar(B).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(t){nt.setScissorTest(H=t)},this.setOpaqueSort=function(t){F=t},this.setTransparentSort=function(t){V=t},this.getClearColor=function(t){return t.copy(yt.getClearColor())},this.setClearColor=function(){yt.setClearColor.apply(yt,arguments)},this.getClearAlpha=function(){return yt.getClearAlpha()},this.setClearAlpha=function(){yt.setClearAlpha.apply(yt,arguments)},this.clear=function(t=!0,e=!0,n=!0){let r=0;t&&(r|=16384),e&&(r|=256),n&&(r|=1024),Rt.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ct,!1),e.removeEventListener("webglcontextrestored",Lt,!1),gt.dispose(),vt.dispose(),at.dispose(),lt.dispose(),pt.dispose(),ht.dispose(),Et.dispose(),mt.dispose(),Pt.dispose(),Pt.removeEventListener("sessionstart",kt),Pt.removeEventListener("sessionend",Gt),Y&&(Y.dispose(),Y=null),Bt.stop()},this.renderBufferDirect=function(t,e,n,r,object,o){null===e&&(e=Z);const l=object.isMesh&&object.matrixWorld.determinant()<0,c=function(t,e,n,r,object){!0!==e.isScene&&(e=Z);ot.resetTextureUnits();const o=e.fog,l=r.isMeshStandardMaterial?e.environment:null,c=null===C?R.outputEncoding:!0===C.isXRRenderTarget?C.texture.encoding:Ue,h=(r.isMeshStandardMaterial?pt:lt).get(r.envMap||l),d=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,m=!!r.normalMap&&!!n.attributes.tangent,f=!!n.morphAttributes.position,v=!!n.morphAttributes.normal,x=!!n.morphAttributes.color,y=r.toneMapped?R.toneMapping:st,S=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,w=void 0!==S?S.length:0,M=at.get(r),E=_.state.lights;if(!0===W&&(!0===j||t!==L)){const e=t===L&&r.id===I;xt.setState(r,t,e)}let A=!1;r.version===M.__version?M.needsLights&&M.lightsStateVersion!==E.state.version||M.outputEncoding!==c||object.isInstancedMesh&&!1===M.instancing?A=!0:object.isInstancedMesh||!0!==M.instancing?object.isSkinnedMesh&&!1===M.skinning?A=!0:object.isSkinnedMesh||!0!==M.skinning?M.envMap!==h||!0===r.fog&&M.fog!==o?A=!0:void 0===M.numClippingPlanes||M.numClippingPlanes===xt.numPlanes&&M.numIntersection===xt.numIntersection?(M.vertexAlphas!==d||M.vertexTangents!==m||M.morphTargets!==f||M.morphNormals!==v||M.morphColors!==x||M.toneMapping!==y||!0===et.isWebGL2&&M.morphTargetsCount!==w)&&(A=!0):A=!0:A=!0:A=!0:(A=!0,M.__version=r.version);let T=M.currentProgram;!0===A&&(T=Wt(r,e,object));let P=!1,N=!1,D=!1;const O=T.getUniforms(),k=M.uniforms;nt.useProgram(T.program)&&(P=!0,N=!0,D=!0);r.id!==I&&(I=r.id,N=!0);if(P||L!==t){if(O.setValue(Rt,"projectionMatrix",t.projectionMatrix),et.logarithmicDepthBuffer&&O.setValue(Rt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),L!==t&&(L=t,N=!0,D=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const e=O.map.cameraPosition;void 0!==e&&e.setValue(Rt,Q.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&O.setValue(Rt,"isOrthographic",!0===t.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||object.isSkinnedMesh)&&O.setValue(Rt,"viewMatrix",t.matrixWorldInverse)}if(object.isSkinnedMesh){O.setOptional(Rt,object,"bindMatrix"),O.setOptional(Rt,object,"bindMatrixInverse");const t=object.skeleton;t&&(et.floatVertexTextures?(null===t.boneTexture&&t.computeBoneTexture(),O.setValue(Rt,"boneTexture",t.boneTexture,ot),O.setValue(Rt,"boneTextureSize",t.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const F=n.morphAttributes;(void 0!==F.position||void 0!==F.normal||void 0!==F.color&&!0===et.isWebGL2)&&bt.update(object,n,r,T);(N||M.receiveShadow!==object.receiveShadow)&&(M.receiveShadow=object.receiveShadow,O.setValue(Rt,"receiveShadow",object.receiveShadow));N&&(O.setValue(Rt,"toneMappingExposure",R.toneMappingExposure),M.needsLights&&(z=D,(V=k).ambientLightColor.needsUpdate=z,V.lightProbe.needsUpdate=z,V.directionalLights.needsUpdate=z,V.directionalLightShadows.needsUpdate=z,V.pointLights.needsUpdate=z,V.pointLightShadows.needsUpdate=z,V.spotLights.needsUpdate=z,V.spotLightShadows.needsUpdate=z,V.rectAreaLights.needsUpdate=z,V.hemisphereLights.needsUpdate=z),o&&!0===r.fog&&ft.refreshFogUniforms(k,o),ft.refreshMaterialUniforms(k,r,B,G,Y),Ts.upload(Rt,M.uniformsList,k,ot));var V,z;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Ts.upload(Rt,M.uniformsList,k,ot),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&O.setValue(Rt,"center",object.center);return O.setValue(Rt,"modelViewMatrix",object.modelViewMatrix),O.setValue(Rt,"normalMatrix",object.normalMatrix),O.setValue(Rt,"modelMatrix",object.matrixWorld),T}(t,e,n,r,object);nt.setMaterial(r,l);let h=n.index;const d=n.attributes.position;if(null===h){if(void 0===d||0===d.count)return}else if(0===h.count)return;let m,f=1;!0===r.wireframe&&(h=ut.getWireframeAttribute(n),f=2),Et.setup(object,r,c,n,h);let v=St;null!==h&&(m=ct.get(h),v=wt,v.setIndex(m));const x=null!==h?h.count:d.count,y=n.drawRange.start*f,S=n.drawRange.count*f,w=null!==o?o.start*f:0,M=null!==o?o.count*f:1/0,E=Math.max(y,w),A=Math.min(x,y+S,w+M)-1,T=Math.max(0,A-E+1);if(0!==T){if(object.isMesh)!0===r.wireframe?(nt.setLineWidth(r.wireframeLinewidth*J()),v.setMode(1)):v.setMode(4);else if(object.isLine){let t=r.linewidth;void 0===t&&(t=1),nt.setLineWidth(t*J()),object.isLineSegments?v.setMode(1):object.isLineLoop?v.setMode(2):v.setMode(3)}else object.isPoints?v.setMode(0):object.isSprite&&v.setMode(4);if(object.isInstancedMesh)v.renderInstances(E,T,object.count);else if(n.isInstancedBufferGeometry){const t=Math.min(n.instanceCount,n._maxInstanceCount);v.renderInstances(E,T,t)}else v.render(E,T)}},this.compile=function(t,e){_=vt.get(t),_.init(),E.push(_),t.traverseVisible((function(object){object.isLight&&object.layers.test(e.layers)&&(_.pushLight(object),object.castShadow&&_.pushShadow(object))})),_.setupLights(R.physicallyCorrectLights),t.traverse((function(object){const e=object.material;if(e)if(Array.isArray(e))for(let i=0;i<e.length;i++){Wt(e[i],t,object)}else Wt(e,t,object)})),E.pop(),_=null};let Ot=null;function kt(){Bt.stop()}function Gt(){Bt.start()}const Bt=new za;function zt(object,t,e,n){if(!1===object.visible)return;if(object.layers.test(t.layers))if(object.isGroup)e=object.renderOrder;else if(object.isLOD)!0===object.autoUpdate&&object.update(t);else if(object.isLight)_.pushLight(object),object.castShadow&&_.pushShadow(object);else if(object.isSprite){if(!object.frustumCulled||X.intersectsSprite(object)){n&&Q.setFromMatrixPosition(object.matrixWorld).applyMatrix4($);const t=ht.update(object),r=object.material;r.visible&&x.push(object,t,r,e,Q.z,null)}}else if((object.isMesh||object.isLine||object.isPoints)&&(object.isSkinnedMesh&&object.skeleton.frame!==it.render.frame&&(object.skeleton.update(),object.skeleton.frame=it.render.frame),!object.frustumCulled||X.intersectsObject(object))){n&&Q.setFromMatrixPosition(object.matrixWorld).applyMatrix4($);const t=ht.update(object),r=object.material;if(Array.isArray(r)){const n=t.groups;for(let i=0,o=n.length;i<o;i++){const o=n[i],l=r[o.materialIndex];l&&l.visible&&x.push(object,t,l,e,Q.z,o)}}else r.visible&&x.push(object,t,r,e,Q.z,null)}const r=object.children;for(let i=0,o=r.length;i<o;i++)zt(r[i],t,e,n)}function Ut(t,e,n,r){const o=t.opaque,l=t.transmissive,h=t.transparent;_.setupLightsView(n),l.length>0&&function(t,e,n){const r=et.isWebGL2;null===Y&&(Y=new ci(1,1,{generateMipmaps:!0,type:tt.has("EXT_color_buffer_half_float")?Vt:Nt,minFilter:It,samples:r&&!0===c?4:0}));R.getDrawingBufferSize(K),r?Y.setSize(K.x,K.y):Y.setSize(Gn(K.x),Gn(K.y));const o=R.getRenderTarget();R.setRenderTarget(Y),R.clear();const l=R.toneMapping;R.toneMapping=st,Ht(t,e,n),R.toneMapping=l,ot.updateMultisampleRenderTarget(Y),ot.updateRenderTargetMipmap(Y),R.setRenderTarget(o)}(o,e,n),r&&nt.viewport(N.copy(r)),o.length>0&&Ht(o,e,n),l.length>0&&Ht(l,e,n),h.length>0&&Ht(h,e,n),nt.buffers.depth.setTest(!0),nt.buffers.depth.setMask(!0),nt.buffers.color.setMask(!0),nt.setPolygonOffset(!1)}function Ht(t,e,n){const r=!0===e.isScene?e.overrideMaterial:null;for(let i=0,o=t.length;i<o;i++){const o=t[i],object=o.object,l=o.geometry,c=null===r?o.material:r,h=o.group;object.layers.test(n.layers)&&Xt(object,e,n,l,c,h)}}function Xt(object,t,e,n,r,o){object.onBeforeRender(R,t,e,n,r,o),object.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,object.matrixWorld),object.normalMatrix.getNormalMatrix(object.modelViewMatrix),r.onBeforeRender(R,t,e,n,object,o),!0===r.transparent&&r.side===w?(r.side=S,r.needsUpdate=!0,R.renderBufferDirect(e,t,n,r,object,o),r.side=y,r.needsUpdate=!0,R.renderBufferDirect(e,t,n,r,object,o),r.side=w):R.renderBufferDirect(e,t,n,r,object,o),object.onAfterRender(R,t,e,n,r,o)}function Wt(t,e,object){!0!==e.isScene&&(e=Z);const n=at.get(t),r=_.state.lights,o=_.state.shadowsArray,l=r.state.version,c=mt.getParameters(t,r.state,o,e,object),h=mt.getProgramCacheKey(c);let d=n.programs;n.environment=t.isMeshStandardMaterial?e.environment:null,n.fog=e.fog,n.envMap=(t.isMeshStandardMaterial?pt:lt).get(t.envMap||n.environment),void 0===d&&(t.addEventListener("dispose",Dt),d=new Map,n.programs=d);let m=d.get(h);if(void 0!==m){if(n.currentProgram===m&&n.lightsStateVersion===l)return qt(t,c),m}else c.uniforms=mt.getUniforms(t),t.onBuild(object,c,R),t.onBeforeCompile(c,R),m=mt.acquireProgram(c,h),d.set(h,m),n.uniforms=c.uniforms;const f=n.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(f.clippingPlanes=xt.uniform),qt(t,c),n.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),n.lightsStateVersion=l,n.needsLights&&(f.ambientLightColor.value=r.state.ambient,f.lightProbe.value=r.state.probe,f.directionalLights.value=r.state.directional,f.directionalLightShadows.value=r.state.directionalShadow,f.spotLights.value=r.state.spot,f.spotLightShadows.value=r.state.spotShadow,f.rectAreaLights.value=r.state.rectArea,f.ltc_1.value=r.state.rectAreaLTC1,f.ltc_2.value=r.state.rectAreaLTC2,f.pointLights.value=r.state.point,f.pointLightShadows.value=r.state.pointShadow,f.hemisphereLights.value=r.state.hemi,f.directionalShadowMap.value=r.state.directionalShadowMap,f.directionalShadowMatrix.value=r.state.directionalShadowMatrix,f.spotShadowMap.value=r.state.spotShadowMap,f.spotShadowMatrix.value=r.state.spotShadowMatrix,f.pointShadowMap.value=r.state.pointShadowMap,f.pointShadowMatrix.value=r.state.pointShadowMatrix);const v=m.getUniforms(),x=Ts.seqWithValue(v.seq,f);return n.currentProgram=m,n.uniformsList=x,m}function qt(t,e){const n=at.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}Bt.setAnimationLoop((function(time){Ot&&Ot(time)})),"undefined"!=typeof self&&Bt.setContext(self),this.setAnimationLoop=function(t){Ot=t,Pt.setAnimationLoop(t),null===t?Bt.stop():Bt.start()},Pt.addEventListener("sessionstart",kt),Pt.addEventListener("sessionend",Gt),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===A)return;!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===Pt.enabled&&!0===Pt.isPresenting&&(!0===Pt.cameraAutoUpdate&&Pt.updateCamera(e),e=Pt.getCamera()),!0===t.isScene&&t.onBeforeRender(R,t,e,C),_=vt.get(t,E.length),_.init(),E.push(_),$.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),X.setFromProjectionMatrix($),j=this.localClippingEnabled,W=xt.init(this.clippingPlanes,j,e),x=gt.get(t,M.length),x.init(),M.push(x),zt(t,e,0,R.sortObjects),x.finish(),!0===R.sortObjects&&x.sort(F,V),!0===W&&xt.beginShadows();const n=_.state.shadowsArray;if(_t.render(n,t,e),!0===W&&xt.endShadows(),!0===this.info.autoReset&&this.info.reset(),yt.render(x,t),_.setupLights(R.physicallyCorrectLights),e.isArrayCamera){const n=e.cameras;for(let i=0,e=n.length;i<e;i++){const e=n[i];Ut(x,t,e,e.viewport)}}else Ut(x,t,e);null!==C&&(ot.updateMultisampleRenderTarget(C),ot.updateRenderTargetMipmap(C)),!0===t.isScene&&t.onAfterRender(R,t,e),Et.resetDefaultState(),I=-1,L=null,E.pop(),_=E.length>0?E[E.length-1]:null,M.pop(),x=M.length>0?M[M.length-1]:null},this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(t,e,n){at.get(t.texture).__webglTexture=e,at.get(t.depthTexture).__webglTexture=n;const r=at.get(t);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===tt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(t,e){const n=at.get(t);n.__webglFramebuffer=e,n.__useDefaultFramebuffer=void 0===e},this.setRenderTarget=function(t,e=0,n=0){C=t,T=e,P=n;let r=!0;if(t){const e=at.get(t);void 0!==e.__useDefaultFramebuffer?(nt.bindFramebuffer(36160,null),r=!1):void 0===e.__webglFramebuffer?ot.setupRenderTarget(t):e.__hasExternalTextures&&ot.rebindTextures(t,at.get(t.texture).__webglTexture,at.get(t.depthTexture).__webglTexture)}let o=null,l=!1,c=!1;if(t){const n=t.texture;(n.isData3DTexture||n.isDataArrayTexture)&&(c=!0);const r=at.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(o=r[e],l=!0):o=et.isWebGL2&&t.samples>0&&!1===ot.useMultisampledRTT(t)?at.get(t).__webglMultisampledFramebuffer:r,N.copy(t.viewport),D.copy(t.scissor),O=t.scissorTest}else N.copy(z).multiplyScalar(B).floor(),D.copy(U).multiplyScalar(B).floor(),O=H;if(nt.bindFramebuffer(36160,o)&&et.drawBuffers&&r&&nt.drawBuffers(t,o),nt.viewport(N),nt.scissor(D),nt.setScissorTest(O),l){const r=at.get(t.texture);Rt.framebufferTexture2D(36160,36064,34069+e,r.__webglTexture,n)}else if(c){const r=at.get(t.texture),o=e||0;Rt.framebufferTextureLayer(36160,36064,r.__webglTexture,n||0,o)}I=-1},this.readRenderTargetPixels=function(t,e,n,r,o,l,c){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let h=at.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==c&&(h=h[c]),h){nt.bindFramebuffer(36160,h);try{const c=t.texture,h=c.format,d=c.type;if(h!==jt&&Mt.convert(h)!==Rt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const m=d===Vt&&(tt.has("EXT_color_buffer_half_float")||et.isWebGL2&&tt.has("EXT_color_buffer_float"));if(!(d===Nt||Mt.convert(d)===Rt.getParameter(35738)||d===Ft&&(et.isWebGL2||tt.has("OES_texture_float")||tt.has("WEBGL_color_buffer_float"))||m))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");e>=0&&e<=t.width-r&&n>=0&&n<=t.height-o&&Rt.readPixels(e,n,r,o,Mt.convert(h),Mt.convert(d),l)}finally{const t=null!==C?at.get(C).__webglFramebuffer:null;nt.bindFramebuffer(36160,t)}}},this.copyFramebufferToTexture=function(t,e,n=0){if(!0!==e.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const r=Math.pow(2,-n),o=Math.floor(e.image.width*r),l=Math.floor(e.image.height*r);ot.setTexture2D(e,0),Rt.copyTexSubImage2D(3553,n,0,0,t.x,t.y,o,l),nt.unbindTexture()},this.copyTextureToTexture=function(t,e,n,r=0){const o=e.image.width,l=e.image.height,c=Mt.convert(n.format),h=Mt.convert(n.type);ot.setTexture2D(n,0),Rt.pixelStorei(37440,n.flipY),Rt.pixelStorei(37441,n.premultiplyAlpha),Rt.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?Rt.texSubImage2D(3553,r,t.x,t.y,o,l,c,h,e.image.data):e.isCompressedTexture?Rt.compressedTexSubImage2D(3553,r,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,c,e.mipmaps[0].data):Rt.texSubImage2D(3553,r,t.x,t.y,c,h,e.image),0===r&&n.generateMipmaps&&Rt.generateMipmap(3553),nt.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,r,o=0){if(R.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const l=t.max.x-t.min.x+1,c=t.max.y-t.min.y+1,h=t.max.z-t.min.z+1,d=Mt.convert(r.format),m=Mt.convert(r.type);let f;if(r.isData3DTexture)ot.setTexture3D(r,0),f=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ot.setTexture2DArray(r,0),f=35866}Rt.pixelStorei(37440,r.flipY),Rt.pixelStorei(37441,r.premultiplyAlpha),Rt.pixelStorei(3317,r.unpackAlignment);const v=Rt.getParameter(3314),x=Rt.getParameter(32878),_=Rt.getParameter(3316),y=Rt.getParameter(3315),S=Rt.getParameter(32877),image=n.isCompressedTexture?n.mipmaps[0]:n.image;Rt.pixelStorei(3314,image.width),Rt.pixelStorei(32878,image.height),Rt.pixelStorei(3316,t.min.x),Rt.pixelStorei(3315,t.min.y),Rt.pixelStorei(32877,t.min.z),n.isDataTexture||n.isData3DTexture?Rt.texSubImage3D(f,o,e.x,e.y,e.z,l,c,h,d,m,image.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Rt.compressedTexSubImage3D(f,o,e.x,e.y,e.z,l,c,h,d,image.data)):Rt.texSubImage3D(f,o,e.x,e.y,e.z,l,c,h,d,m,image),Rt.pixelStorei(3314,v),Rt.pixelStorei(32878,x),Rt.pixelStorei(3316,_),Rt.pixelStorei(3315,y),Rt.pixelStorei(32877,S),0===o&&r.generateMipmaps&&Rt.generateMipmap(f),nt.unbindTexture()},this.initTexture=function(t){ot.setTexture2D(t,0),nt.unbindTexture()},this.resetState=function(){T=0,P=0,C=null,nt.reset(),Et.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Ml.prototype.isWebGLRenderer=!0;class El extends Ml{}El.prototype.isWebGL1Renderer=!0;class Rl{constructor(t,e=25e-5){this.name="",this.color=new ei(t),this.density=e}clone(){return new Rl(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Rl.prototype.isFogExp2=!0;class Al{constructor(t,e=1,n=1e3){this.name="",this.color=new ei(t),this.near=e,this.far=n}clone(){return new Al(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Al.prototype.isFog=!0;class Tl extends Sr{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(source,t){return super.copy(source,t),null!==source.background&&(this.background=source.background.clone()),null!==source.environment&&(this.environment=source.environment.clone()),null!==source.fog&&(this.fog=source.fog.clone()),null!==source.overrideMaterial&&(this.overrideMaterial=source.overrideMaterial.clone()),this.autoUpdate=source.autoUpdate,this.matrixAutoUpdate=source.matrixAutoUpdate,this}toJSON(meta){const data=super.toJSON(meta);return null!==this.fog&&(data.object.fog=this.fog.toJSON()),data}}Tl.prototype.isScene=!0;class Pl{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=mn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=In()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(source){return this.array=new source.array.constructor(source.array),this.count=source.count,this.stride=source.stride,this.usage=source.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(data){void 0===data.arrayBuffers&&(data.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=In()),void 0===data.arrayBuffers[this.array.buffer._uuid]&&(data.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]),e=new this.constructor(t,this.stride);return e.setUsage(this.usage),e}onUpload(t){return this.onUploadCallback=t,this}toJSON(data){return void 0===data.arrayBuffers&&(data.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=In()),void 0===data.arrayBuffers[this.array.buffer._uuid]&&(data.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Pl.prototype.isInterleavedBuffer=!0;const Cl=new vi;class Il{constructor(t,e,n,r=!1){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let i=0,e=this.data.count;i<e;i++)Cl.fromBufferAttribute(this,i),Cl.applyMatrix4(t),this.setXYZ(i,Cl.x,Cl.y,Cl.z);return this}applyNormalMatrix(t){for(let i=0,e=this.count;i<e;i++)Cl.fromBufferAttribute(this,i),Cl.applyNormalMatrix(t),this.setXYZ(i,Cl.x,Cl.y,Cl.z);return this}transformDirection(t){for(let i=0,e=this.count;i<e;i++)Cl.fromBufferAttribute(this,i),Cl.transformDirection(t),this.setXYZ(i,Cl.x,Cl.y,Cl.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this}setXYZW(t,e,n,r,o){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=o,this}clone(data){if(void 0===data){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const e=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[e+n])}return new Fr(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===data.interleavedBuffers&&(data.interleavedBuffers={}),void 0===data.interleavedBuffers[this.data.uuid]&&(data.interleavedBuffers[this.data.uuid]=this.data.clone(data)),new Il(data.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(data){if(void 0===data){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const e=i*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)t.push(this.data.array[e+n])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===data.interleavedBuffers&&(data.interleavedBuffers={}),void 0===data.interleavedBuffers[this.data.uuid]&&(data.interleavedBuffers[this.data.uuid]=this.data.toJSON(data)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Il.prototype.isInterleavedBufferAttribute=!0;class Ll extends Or{constructor(t){super(),this.type="SpriteMaterial",this.color=new ei(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.rotation=source.rotation,this.sizeAttenuation=source.sizeAttenuation,this.fog=source.fog,this}}let Nl;Ll.prototype.isSpriteMaterial=!0;const Dl=new vi,Ol=new vi,kl=new vi,Gl=new Fn,Bl=new Fn,Fl=new Yi,Vl=new vi,zl=new vi,Ul=new vi,Hl=new Fn,Xl=new Fn,Wl=new Fn;class jl extends Sr{constructor(t){if(super(),this.type="Sprite",void 0===Nl){Nl=new ia;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new Pl(t,5);Nl.setIndex([0,1,2,0,2,3]),Nl.setAttribute("position",new Il(e,3,0,!1)),Nl.setAttribute("uv",new Il(e,2,3,!1))}this.geometry=Nl,this.material=void 0!==t?t:new Ll,this.center=new Fn(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ol.setFromMatrixScale(this.matrixWorld),Fl.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),kl.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ol.multiplyScalar(-kl.z);const n=this.material.rotation;let r,o;0!==n&&(o=Math.cos(n),r=Math.sin(n));const l=this.center;ql(Vl.set(-.5,-.5,0),kl,l,Ol,r,o),ql(zl.set(.5,-.5,0),kl,l,Ol,r,o),ql(Ul.set(.5,.5,0),kl,l,Ol,r,o),Hl.set(0,0),Xl.set(1,0),Wl.set(1,1);let c=t.ray.intersectTriangle(Vl,zl,Ul,!1,Dl);if(null===c&&(ql(zl.set(-.5,.5,0),kl,l,Ol,r,o),Xl.set(0,1),c=t.ray.intersectTriangle(Vl,Ul,zl,!1,Dl),null===c))return;const h=t.ray.origin.distanceTo(Dl);h<t.near||h>t.far||e.push({distance:h,point:Dl.clone(),uv:Nr.getUV(Dl,Vl,zl,Ul,Hl,Xl,Wl,new Fn),face:null,object:this})}copy(source){return super.copy(source),void 0!==source.center&&this.center.copy(source.center),this.material=source.material,this}}function ql(t,e,n,r,o,l){Gl.subVectors(t,n).addScalar(.5).multiply(r),void 0!==o?(Bl.x=l*Gl.x-o*Gl.y,Bl.y=o*Gl.x+l*Gl.y):Bl.copy(Gl),t.copy(e),t.x+=Bl.x,t.y+=Bl.y,t.applyMatrix4(Fl)}jl.prototype.isSprite=!0;const Yl=new vi,$l=new vi;class Kl extends Sr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(source){super.copy(source,!1);const t=source.levels;for(let i=0,e=t.length;i<e;i++){const e=t[i];this.addLevel(e.object.clone(),e.distance)}return this.autoUpdate=source.autoUpdate,this}addLevel(object,t=0){t=Math.abs(t);const e=this.levels;let n;for(n=0;n<e.length&&!(t<e[n].distance);n++);return e.splice(n,0,{distance:t,object:object}),this.add(object),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,n;for(i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){Yl.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(Yl);this.getObjectForDistance(n).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Yl.setFromMatrixPosition(t.matrixWorld),$l.setFromMatrixPosition(this.matrixWorld);const n=Yl.distanceTo($l)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)e[i].object.visible=!1}}toJSON(meta){const data=super.toJSON(meta);!1===this.autoUpdate&&(data.object.autoUpdate=!1),data.object.levels=[];const t=this.levels;for(let i=0,e=t.length;i<e;i++){const e=t[i];data.object.levels.push({object:e.object.uuid,distance:e.distance})}return data}}const Ql=new vi,Zl=new pi,Jl=new pi,tp=new vi,ep=new Yi;class np extends ba{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Yi,this.bindMatrixInverse=new Yi}copy(source){return super.copy(source),this.bindMode=source.bindMode,this.bindMatrix.copy(source.bindMatrix),this.bindMatrixInverse.copy(source.bindMatrixInverse),this.skeleton=source.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new pi,e=this.geometry.attributes.skinWeight;for(let i=0,n=e.count;i<n;i++){t.fromBufferAttribute(e,i);const n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const n=this.skeleton,r=this.geometry;Zl.fromBufferAttribute(r.attributes.skinIndex,t),Jl.fromBufferAttribute(r.attributes.skinWeight,t),Ql.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let i=0;i<4;i++){const t=Jl.getComponent(i);if(0!==t){const r=Zl.getComponent(i);ep.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),e.addScaledVector(tp.copy(Ql).applyMatrix4(ep),t)}}return e.applyMatrix4(this.bindMatrixInverse)}}np.prototype.isSkinnedMesh=!0;class ip extends Sr{constructor(){super(),this.type="Bone"}}ip.prototype.isBone=!0;class ap extends si{constructor(data=null,t=1,e=1,n,r,o,l,c,h=wt,d=wt,m,f){super(null,o,l,c,h,d,n,r,m,f),this.image={data:data,width:t,height:e},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}ap.prototype.isDataTexture=!0;const op=new Yi,sp=new Yi;class lp{constructor(t=[],e=[]){this.uuid=In(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,t=this.bones.length;i<t;i++)this.boneInverses.push(new Yi)}}calculateInverses(){this.boneInverses.length=0;for(let i=0,t=this.bones.length;i<t;i++){const t=new Yi;this.bones[i]&&t.copy(this.bones[i].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let i=0,t=this.bones.length;i<t;i++){const t=this.bones[i];t&&t.matrixWorld.copy(this.boneInverses[i]).invert()}for(let i=0,t=this.bones.length;i<t;i++){const t=this.bones[i];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,r=t.length;i<r;i++){const r=t[i]?t[i].matrixWorld:sp;op.multiplyMatrices(r,e[i]),op.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new lp(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=kn(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new ap(e,t,t,jt,Ft);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let i=0,e=this.bones.length;i<e;i++){const e=this.bones[i];if(e.name===t)return e}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,n=t.bones.length;i<n;i++){const n=t.bones[i];let r=e[n];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),r=new ip),this.bones.push(r),this.boneInverses.push((new Yi).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const data={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};data.uuid=this.uuid;const t=this.bones,e=this.boneInverses;for(let i=0,n=t.length;i<n;i++){const n=t[i];data.bones.push(n.uuid);const r=e[i];data.boneInverses.push(r.toArray())}return data}}class pp extends Fr{constructor(t,e,n,r=1){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,n),this.meshPerAttribute=r}copy(source){return super.copy(source),this.meshPerAttribute=source.meshPerAttribute,this}toJSON(){const data=super.toJSON();return data.meshPerAttribute=this.meshPerAttribute,data.isInstancedBufferAttribute=!0,data}}pp.prototype.isInstancedBufferAttribute=!0;const cp=new Yi,up=new Yi,hp=[],dp=new ba;class mp extends ba{constructor(t,e,n){super(t,e),this.instanceMatrix=new pp(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(source){return super.copy(source),this.instanceMatrix.copy(source.instanceMatrix),null!==source.instanceColor&&(this.instanceColor=source.instanceColor.clone()),this.count=source.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const n=this.matrixWorld,r=this.count;if(dp.geometry=this.geometry,dp.material=this.material,void 0!==dp.material)for(let o=0;o<r;o++){this.getMatrixAt(o,cp),up.multiplyMatrices(n,cp),dp.matrixWorld=up,dp.raycast(t,hp);for(let i=0,t=hp.length;i<t;i++){const t=hp[i];t.instanceId=o,t.object=this,e.push(t)}hp.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new pp(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}mp.prototype.isInstancedMesh=!0;class fp extends Or{constructor(t){super(),this.type="LineBasicMaterial",this.color=new ei(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.linewidth=source.linewidth,this.linecap=source.linecap,this.linejoin=source.linejoin,this.fog=source.fog,this}}fp.prototype.isLineBasicMaterial=!0;const gp=new vi,vp=new vi,xp=new Yi,_p=new qi,yp=new Fi;class bp extends Sr{constructor(t=new ia,e=new fp){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(source){return super.copy(source),this.material=source.material,this.geometry=source.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let i=1,t=e.count;i<t;i++)gp.fromBufferAttribute(e,i-1),vp.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=gp.distanceTo(vp);t.setAttribute("lineDistance",new Yr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,o=t.params.Line.threshold,l=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),yp.copy(n.boundingSphere),yp.applyMatrix4(r),yp.radius+=o,!1===t.ray.intersectsSphere(yp))return;xp.copy(r).invert(),_p.copy(t.ray).applyMatrix4(xp);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,d=new vi,m=new vi,f=new vi,v=new vi,x=this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,o=n.attributes.position;if(null!==r){for(let i=Math.max(0,l.start),n=Math.min(r.count,l.start+l.count)-1;i<n;i+=x){const a=r.getX(i),b=r.getX(i+1);d.fromBufferAttribute(o,a),m.fromBufferAttribute(o,b);if(_p.distanceSqToSegment(d,m,v,f)>h)continue;v.applyMatrix4(this.matrixWorld);const n=t.ray.origin.distanceTo(v);n<t.near||n>t.far||e.push({distance:n,point:f.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else{for(let i=Math.max(0,l.start),n=Math.min(o.count,l.start+l.count)-1;i<n;i+=x){d.fromBufferAttribute(o,i),m.fromBufferAttribute(o,i+1);if(_p.distanceSqToSegment(d,m,v,f)>h)continue;v.applyMatrix4(this.matrixWorld);const n=t.ray.origin.distanceTo(v);n<t.near||n>t.far||e.push({distance:n,point:f.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}bp.prototype.isLine=!0;const Sp=new vi,wp=new vi;class Mp extends bp{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let i=0,t=e.count;i<t;i+=2)Sp.fromBufferAttribute(e,i),wp.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Sp.distanceTo(wp);t.setAttribute("lineDistance",new Yr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Mp.prototype.isLineSegments=!0;class Ep extends bp{constructor(t,e){super(t,e),this.type="LineLoop"}}Ep.prototype.isLineLoop=!0;class Rp extends Or{constructor(t){super(),this.type="PointsMaterial",this.color=new ei(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.alphaMap=source.alphaMap,this.size=source.size,this.sizeAttenuation=source.sizeAttenuation,this.fog=source.fog,this}}Rp.prototype.isPointsMaterial=!0;const Ap=new Yi,Tp=new qi,Pp=new Fi,Cp=new vi;class Ip extends Sr{constructor(t=new ia,e=new Rp){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(source){return super.copy(source),this.material=source.material,this.geometry=source.geometry,this}raycast(t,e){const n=this.geometry,r=this.matrixWorld,o=t.params.Points.threshold,l=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Pp.copy(n.boundingSphere),Pp.applyMatrix4(r),Pp.radius+=o,!1===t.ray.intersectsSphere(Pp))return;Ap.copy(r).invert(),Tp.copy(t.ray).applyMatrix4(Ap);const c=o/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c;if(n.isBufferGeometry){const o=n.index,c=n.attributes.position;if(null!==o){for(let i=Math.max(0,l.start),n=Math.min(o.count,l.start+l.count);i<n;i++){const a=o.getX(i);Cp.fromBufferAttribute(c,a),Lp(Cp,a,h,r,t,e,this)}}else{for(let i=Math.max(0,l.start),n=Math.min(c.count,l.start+l.count);i<n;i++)Cp.fromBufferAttribute(c,i),Lp(Cp,i,h,r,t,e,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const t=e[n[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,n=t.length;e<n;e++){const n=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function Lp(t,e,n,r,o,l,object){const c=Tp.distanceSqToPoint(t);if(c<n){const n=new vi;Tp.closestPointToPoint(t,n),n.applyMatrix4(r);const h=o.ray.origin.distanceTo(n);if(h<o.near||h>o.far)return;l.push({distance:h,distanceToRay:Math.sqrt(c),point:n,index:e,face:null,object:object})}}Ip.prototype.isPoints=!0;class Np extends si{constructor(video,t,e,n,r,o,l,c,h){super(video,t,e,n,r,o,l,c,h),this.minFilter=void 0!==o?o:Tt,this.magFilter=void 0!==r?r:Tt,this.generateMipmaps=!1;const d=this;"requestVideoFrameCallback"in video&&video.requestVideoFrameCallback((function t(){d.needsUpdate=!0,video.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const video=this.image;!1==="requestVideoFrameCallback"in video&&video.readyState>=video.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}Np.prototype.isVideoTexture=!0;class Dp extends si{constructor(t,e,n){super({width:t,height:e}),this.format=n,this.magFilter=wt,this.minFilter=wt,this.generateMipmaps=!1,this.needsUpdate=!0}}Dp.prototype.isFramebufferTexture=!0;class Op extends si{constructor(t,e,n,r,o,l,c,h,d,m,f,v){super(null,l,c,h,d,m,r,o,f,v),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}Op.prototype.isCompressedTexture=!0;class kp extends si{constructor(canvas,t,e,n,r,o,l,c,h){super(canvas,t,e,n,r,o,l,c,h),this.needsUpdate=!0}}kp.prototype.isCanvasTexture=!0;class Gp{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(u,t){const e=this.getUtoTmapping(u);return this.getPoint(e,t)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,r=this.getPoint(0),o=0;e.push(0);for(let p=1;p<=t;p++)n=this.getPoint(p/t),o+=n.distanceTo(r),e.push(o),r=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(u,t){const e=this.getLengths();let i=0;const n=e.length;let r;r=t||u*e[n-1];let o,l=0,c=n-1;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),o=e[i]-r,o<0)l=i+1;else{if(!(o>0)){c=i;break}c=i-1}if(i=c,e[i]===r)return i/(n-1);const h=e[i];return(i+(r-h)/(e[i+1]-h))/(n-1)}getTangent(t,e){const n=1e-4;let r=t-n,o=t+n;r<0&&(r=0),o>1&&(o=1);const l=this.getPoint(r),c=this.getPoint(o),h=e||(l.isVector2?new Fn:new vi);return h.copy(c).sub(l).normalize(),h}getTangentAt(u,t){const e=this.getUtoTmapping(u);return this.getTangent(e,t)}computeFrenetFrames(t,e){const n=new vi,r=[],o=[],l=[],c=new vi,h=new Yi;for(let i=0;i<=t;i++){const u=i/t;r[i]=this.getTangentAt(u,new vi)}o[0]=new vi,l[0]=new vi;let d=Number.MAX_VALUE;const m=Math.abs(r[0].x),f=Math.abs(r[0].y),v=Math.abs(r[0].z);m<=d&&(d=m,n.set(1,0,0)),f<=d&&(d=f,n.set(0,1,0)),v<=d&&n.set(0,0,1),c.crossVectors(r[0],n).normalize(),o[0].crossVectors(r[0],c),l[0].crossVectors(r[0],o[0]);for(let i=1;i<=t;i++){if(o[i]=o[i-1].clone(),l[i]=l[i-1].clone(),c.crossVectors(r[i-1],r[i]),c.length()>Number.EPSILON){c.normalize();const t=Math.acos(Ln(r[i-1].dot(r[i]),-1,1));o[i].applyMatrix4(h.makeRotationAxis(c,t))}l[i].crossVectors(r[i],o[i])}if(!0===e){let e=Math.acos(Ln(o[0].dot(o[t]),-1,1));e/=t,r[0].dot(c.crossVectors(o[0],o[t]))>0&&(e=-e);for(let i=1;i<=t;i++)o[i].applyMatrix4(h.makeRotationAxis(r[i],e*i)),l[i].crossVectors(r[i],o[i])}return{tangents:r,normals:o,binormals:l}}clone(){return(new this.constructor).copy(this)}copy(source){return this.arcLengthDivisions=source.arcLengthDivisions,this}toJSON(){const data={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return data.arcLengthDivisions=this.arcLengthDivisions,data.type=this.type,data}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Bp extends Gp{constructor(t=0,e=0,n=1,r=1,o=0,l=2*Math.PI,c=!1,h=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=c,this.aRotation=h}getPoint(t,e){const n=e||new Fn,r=2*Math.PI;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(o=l?0:r),!0!==this.aClockwise||l||(o===r?o=-r:o-=r);const c=this.aStartAngle+t*o;let h=this.aX+this.xRadius*Math.cos(c),d=this.aY+this.yRadius*Math.sin(c);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=h-this.aX,r=d-this.aY;h=n*t-r*e+this.aX,d=n*e+r*t+this.aY}return n.set(h,d)}copy(source){return super.copy(source),this.aX=source.aX,this.aY=source.aY,this.xRadius=source.xRadius,this.yRadius=source.yRadius,this.aStartAngle=source.aStartAngle,this.aEndAngle=source.aEndAngle,this.aClockwise=source.aClockwise,this.aRotation=source.aRotation,this}toJSON(){const data=super.toJSON();return data.aX=this.aX,data.aY=this.aY,data.xRadius=this.xRadius,data.yRadius=this.yRadius,data.aStartAngle=this.aStartAngle,data.aEndAngle=this.aEndAngle,data.aClockwise=this.aClockwise,data.aRotation=this.aRotation,data}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}Bp.prototype.isEllipseCurve=!0;class Fp extends Bp{constructor(t,e,n,r,o,l){super(t,e,n,n,r,o,l),this.type="ArcCurve"}}function Vp(){let t=0,e=0,n=0,r=0;function o(o,l,c,h){t=o,e=c,n=-3*o+3*l-2*c-h,r=2*o-2*l+c+h}return{initCatmullRom:function(t,e,n,r,l){o(e,n,l*(n-t),l*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,l,c,h){let d=(e-t)/l-(n-t)/(l+c)+(n-e)/c,m=(n-e)/c-(r-e)/(c+h)+(r-n)/h;d*=c,m*=c,o(e,n,d,m)},calc:function(o){const l=o*o;return t+e*o+n*l+r*(l*o)}}}Fp.prototype.isArcCurve=!0;const zp=new vi,Up=new Vp,Hp=new Vp,Xp=new Vp;class Wp extends Gp{constructor(t=[],e=!1,n="centripetal",r=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=r}getPoint(t,e=new vi){const n=e,r=this.points,o=r.length,p=(o-(this.closed?0:1))*t;let l,c,h=Math.floor(p),d=p-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/o)+1)*o:0===d&&h===o-1&&(h=o-2,d=1),this.closed||h>0?l=r[(h-1)%o]:(zp.subVectors(r[0],r[1]).add(r[0]),l=zp);const m=r[h%o],f=r[(h+1)%o];if(this.closed||h+2<o?c=r[(h+2)%o]:(zp.subVectors(r[o-1],r[o-2]).add(r[o-1]),c=zp),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(l.distanceToSquared(m),t),n=Math.pow(m.distanceToSquared(f),t),r=Math.pow(f.distanceToSquared(c),t);n<1e-4&&(n=1),e<1e-4&&(e=n),r<1e-4&&(r=n),Up.initNonuniformCatmullRom(l.x,m.x,f.x,c.x,e,n,r),Hp.initNonuniformCatmullRom(l.y,m.y,f.y,c.y,e,n,r),Xp.initNonuniformCatmullRom(l.z,m.z,f.z,c.z,e,n,r)}else"catmullrom"===this.curveType&&(Up.initCatmullRom(l.x,m.x,f.x,c.x,this.tension),Hp.initCatmullRom(l.y,m.y,f.y,c.y,this.tension),Xp.initCatmullRom(l.z,m.z,f.z,c.z,this.tension));return n.set(Up.calc(d),Hp.calc(d),Xp.calc(d)),n}copy(source){super.copy(source),this.points=[];for(let i=0,t=source.points.length;i<t;i++){const t=source.points[i];this.points.push(t.clone())}return this.closed=source.closed,this.curveType=source.curveType,this.tension=source.tension,this}toJSON(){const data=super.toJSON();data.points=[];for(let i=0,t=this.points.length;i<t;i++){const t=this.points[i];data.points.push(t.toArray())}return data.closed=this.closed,data.curveType=this.curveType,data.tension=this.tension,data}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,e=t.points.length;i<e;i++){const e=t.points[i];this.points.push((new vi).fromArray(e))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function jp(t,e,n,r,o){const l=.5*(r-e),c=.5*(o-n),h=t*t;return(2*n-2*r+l+c)*(t*h)+(-3*n+3*r-2*l-c)*h+l*t+n}function qp(t,e,n,r){return function(t,p){const e=1-t;return e*e*p}(t,e)+function(t,p){return 2*(1-t)*t*p}(t,n)+function(t,p){return t*t*p}(t,r)}function Yp(t,e,n,r,o){return function(t,p){const e=1-t;return e*e*e*p}(t,e)+function(t,p){const e=1-t;return 3*e*e*t*p}(t,n)+function(t,p){return 3*(1-t)*t*t*p}(t,r)+function(t,p){return t*t*t*p}(t,o)}Wp.prototype.isCatmullRomCurve3=!0;class $p extends Gp{constructor(t=new Fn,e=new Fn,n=new Fn,r=new Fn){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new Fn){const n=e,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(Yp(t,r.x,o.x,l.x,c.x),Yp(t,r.y,o.y,l.y,c.y)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}$p.prototype.isCubicBezierCurve=!0;class Kp extends Gp{constructor(t=new vi,e=new vi,n=new vi,r=new vi){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=r}getPoint(t,e=new vi){const n=e,r=this.v0,o=this.v1,l=this.v2,c=this.v3;return n.set(Yp(t,r.x,o.x,l.x,c.x),Yp(t,r.y,o.y,l.y,c.y),Yp(t,r.z,o.z,l.z,c.z)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this.v3.copy(source.v3),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data.v3=this.v3.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}Kp.prototype.isCubicBezierCurve3=!0;class Qp extends Gp{constructor(t=new Fn,e=new Fn){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Fn){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(u,t){return this.getPoint(u,t)}getTangent(t,e){const n=e||new Fn;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(source){return super.copy(source),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Qp.prototype.isLineCurve=!0;class Zp extends Gp{constructor(t=new vi,e=new vi){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new vi){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(u,t){return this.getPoint(u,t)}copy(source){return super.copy(source),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Jp extends Gp{constructor(t=new Fn,e=new Fn,n=new Fn){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Fn){const n=e,r=this.v0,o=this.v1,l=this.v2;return n.set(qp(t,r.x,o.x,l.x),qp(t,r.y,o.y,l.y)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Jp.prototype.isQuadraticBezierCurve=!0;class tc extends Gp{constructor(t=new vi,e=new vi,n=new vi){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new vi){const n=e,r=this.v0,o=this.v1,l=this.v2;return n.set(qp(t,r.x,o.x,l.x),qp(t,r.y,o.y,l.y),qp(t,r.z,o.z,l.z)),n}copy(source){return super.copy(source),this.v0.copy(source.v0),this.v1.copy(source.v1),this.v2.copy(source.v2),this}toJSON(){const data=super.toJSON();return data.v0=this.v0.toArray(),data.v1=this.v1.toArray(),data.v2=this.v2.toArray(),data}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}tc.prototype.isQuadraticBezierCurve3=!0;class ec extends Gp{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new Fn){const n=e,r=this.points,p=(r.length-1)*t,o=Math.floor(p),l=p-o,c=r[0===o?o:o-1],h=r[o],d=r[o>r.length-2?r.length-1:o+1],m=r[o>r.length-3?r.length-1:o+2];return n.set(jp(l,c.x,h.x,d.x,m.x),jp(l,c.y,h.y,d.y,m.y)),n}copy(source){super.copy(source),this.points=[];for(let i=0,t=source.points.length;i<t;i++){const t=source.points[i];this.points.push(t.clone())}return this}toJSON(){const data=super.toJSON();data.points=[];for(let i=0,t=this.points.length;i<t;i++){const t=this.points[i];data.points.push(t.toArray())}return data}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,e=t.points.length;i<e;i++){const e=t.points[i];this.points.push((new Fn).fromArray(e))}return this}}ec.prototype.isSplineCurve=!0;var nc=Object.freeze({__proto__:null,ArcCurve:Fp,CatmullRomCurve3:Wp,CubicBezierCurve:$p,CubicBezierCurve3:Kp,EllipseCurve:Bp,LineCurve:Qp,LineCurve3:Zp,QuadraticBezierCurve:Jp,QuadraticBezierCurve3:tc,SplineCurve:ec});class ic extends Gp{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Qp(e,t))}getPoint(t,e){const n=t*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const t=r[i]-n,o=this.curves[i],l=o.getLength(),u=0===l?0:1-t/l;return o.getPointAt(u,e)}i++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],l=o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,c=o.getPoints(l);for(let t=0;t<c.length;t++){const r=c[t];n&&n.equals(r)||(e.push(r),n=r)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(source){super.copy(source),this.curves=[];for(let i=0,t=source.curves.length;i<t;i++){const t=source.curves[i];this.curves.push(t.clone())}return this.autoClose=source.autoClose,this}toJSON(){const data=super.toJSON();data.autoClose=this.autoClose,data.curves=[];for(let i=0,t=this.curves.length;i<t;i++){const t=this.curves[i];data.curves.push(t.toJSON())}return data}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let i=0,e=t.curves.length;i<e;i++){const e=t.curves[i];this.curves.push((new nc[e.type]).fromJSON(e))}return this}}class rc extends ic{constructor(t){super(),this.type="Path",this.currentPoint=new Fn,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let i=1,e=t.length;i<e;i++)this.lineTo(t[i].x,t[i].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new Qp(this.currentPoint.clone(),new Fn(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,r){const o=new Jp(this.currentPoint.clone(),new Fn(t,e),new Fn(n,r));return this.curves.push(o),this.currentPoint.set(n,r),this}bezierCurveTo(t,e,n,r,o,l){const c=new $p(this.currentPoint.clone(),new Fn(t,e),new Fn(n,r),new Fn(o,l));return this.curves.push(c),this.currentPoint.set(o,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new ec(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,r,o,l){const c=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(t+c,e+h,n,r,o,l),this}absarc(t,e,n,r,o,l){return this.absellipse(t,e,n,n,r,o,l),this}ellipse(t,e,n,r,o,l,c,h){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+d,e+m,n,r,o,l,c,h),this}absellipse(t,e,n,r,o,l,c,h){const d=new Bp(t,e,n,r,o,l,c,h);if(this.curves.length>0){const t=d.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(source){return super.copy(source),this.currentPoint.copy(source.currentPoint),this}toJSON(){const data=super.toJSON();return data.currentPoint=this.currentPoint.toArray(),data}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class ac extends ia{constructor(t=[new Fn(0,.5),new Fn(.5,0),new Fn(0,-.5)],e=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e),r=Ln(r,0,2*Math.PI);const o=[],l=[],c=[],h=[],d=[],m=1/e,f=new vi,v=new Fn,x=new vi,_=new vi,y=new vi;let S=0,w=0;for(let e=0;e<=t.length-1;e++)switch(e){case 0:S=t[e+1].x-t[e].x,w=t[e+1].y-t[e].y,x.x=1*w,x.y=-S,x.z=0*w,y.copy(x),x.normalize(),h.push(x.x,x.y,x.z);break;case t.length-1:h.push(y.x,y.y,y.z);break;default:S=t[e+1].x-t[e].x,w=t[e+1].y-t[e].y,x.x=1*w,x.y=-S,x.z=0*w,_.copy(x),x.x+=y.x,x.y+=y.y,x.z+=y.z,x.normalize(),h.push(x.x,x.y,x.z),y.copy(_)}for(let i=0;i<=e;i++){const o=n+i*m*r,x=Math.sin(o),_=Math.cos(o);for(let n=0;n<=t.length-1;n++){f.x=t[n].x*x,f.y=t[n].y,f.z=t[n].x*_,l.push(f.x,f.y,f.z),v.x=i/e,v.y=n/(t.length-1),c.push(v.x,v.y);const r=h[3*n+0]*x,o=h[3*n+1],m=h[3*n+0]*_;d.push(r,o,m)}}for(let i=0;i<e;i++)for(let e=0;e<t.length-1;e++){const base=e+i*t.length,a=base,b=base+t.length,n=base+t.length+1,r=base+1;o.push(a,b,r),o.push(n,r,b)}this.setIndex(o),this.setAttribute("position",new Yr(l,3)),this.setAttribute("uv",new Yr(c,2)),this.setAttribute("normal",new Yr(d,3))}static fromJSON(data){return new ac(data.points,data.segments,data.phiStart,data.phiLength)}}class oc extends ac{constructor(t=1,e=1,n=4,r=8){const path=new rc;path.absarc(0,-e/2,t,1.5*Math.PI,0),path.absarc(0,e/2,t,0,.5*Math.PI),super(path.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:n,radialSegments:r}}static fromJSON(data){return new oc(data.radius,data.length,data.capSegments,data.radialSegments)}}class sc extends ia{constructor(t=1,e=8,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},e=Math.max(3,e);const o=[],l=[],c=[],h=[],d=new vi,m=new Fn;l.push(0,0,0),c.push(0,0,1),h.push(.5,.5);for(let s=0,i=3;s<=e;s++,i+=3){const o=n+s/e*r;d.x=t*Math.cos(o),d.y=t*Math.sin(o),l.push(d.x,d.y,d.z),c.push(0,0,1),m.x=(l[i]/t+1)/2,m.y=(l[i+1]/t+1)/2,h.push(m.x,m.y)}for(let i=1;i<=e;i++)o.push(i,i+1,0);this.setIndex(o),this.setAttribute("position",new Yr(l,3)),this.setAttribute("normal",new Yr(c,3)),this.setAttribute("uv",new Yr(h,2))}static fromJSON(data){return new sc(data.radius,data.segments,data.thetaStart,data.thetaLength)}}class lc extends ia{constructor(t=1,e=1,n=1,r=8,o=1,l=!1,c=0,h=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:h};const d=this;r=Math.floor(r),o=Math.floor(o);const m=[],f=[],v=[],x=[];let _=0;const y=[],S=n/2;let w=0;function M(n){const o=_,l=new Fn,y=new vi;let M=0;const E=!0===n?t:e,R=!0===n?1:-1;for(let t=1;t<=r;t++)f.push(0,S*R,0),v.push(0,R,0),x.push(.5,.5),_++;const A=_;for(let t=0;t<=r;t++){const e=t/r*h+c,n=Math.cos(e),o=Math.sin(e);y.x=E*o,y.y=S*R,y.z=E*n,f.push(y.x,y.y,y.z),v.push(0,R,0),l.x=.5*n+.5,l.y=.5*o*R+.5,x.push(l.x,l.y),_++}for(let t=0;t<r;t++){const e=o+t,i=A+t;!0===n?m.push(i,i+1,e):m.push(i+1,i,e),M+=3}d.addGroup(w,M,!0===n?1:2),w+=M}!function(){const l=new vi,M=new vi;let E=0;const R=(e-t)/n;for(let d=0;d<=o;d++){const m=[],w=d/o,E=w*(e-t)+t;for(let t=0;t<=r;t++){const u=t/r,e=u*h+c,o=Math.sin(e),d=Math.cos(e);M.x=E*o,M.y=-w*n+S,M.z=E*d,f.push(M.x,M.y,M.z),l.set(o,R,d).normalize(),v.push(l.x,l.y,l.z),x.push(u,1-w),m.push(_++)}y.push(m)}for(let t=0;t<r;t++)for(let e=0;e<o;e++){const a=y[e][t],b=y[e+1][t],n=y[e+1][t+1],r=y[e][t+1];m.push(a,b,r),m.push(b,n,r),E+=6}d.addGroup(w,E,0),w+=E}(),!1===l&&(t>0&&M(!0),e>0&&M(!1)),this.setIndex(m),this.setAttribute("position",new Yr(f,3)),this.setAttribute("normal",new Yr(v,3)),this.setAttribute("uv",new Yr(x,2))}static fromJSON(data){return new lc(data.radiusTop,data.radiusBottom,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength)}}class pc extends lc{constructor(t=1,e=1,n=8,r=1,o=!1,l=0,c=2*Math.PI){super(0,t,e,n,r,o,l,c),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:l,thetaLength:c}}static fromJSON(data){return new pc(data.radius,data.height,data.radialSegments,data.heightSegments,data.openEnded,data.thetaStart,data.thetaLength)}}class cc extends ia{constructor(t=[],e=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r};const o=[],l=[];function c(a,b,t,e){const n=e+1,r=[];for(let i=0;i<=n;i++){r[i]=[];const e=a.clone().lerp(t,i/n),o=b.clone().lerp(t,i/n),l=n-i;for(let t=0;t<=l;t++)r[i][t]=0===t&&i===n?e:e.clone().lerp(o,t/l)}for(let i=0;i<n;i++)for(let t=0;t<2*(n-i)-1;t++){const e=Math.floor(t/2);t%2==0?(h(r[i][e+1]),h(r[i+1][e]),h(r[i][e])):(h(r[i][e+1]),h(r[i+1][e+1]),h(r[i+1][e]))}}function h(t){o.push(t.x,t.y,t.z)}function d(e,n){const r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function m(t,e,n,r){r<0&&1===t.x&&(l[e]=t.x-1),0===n.x&&0===n.z&&(l[e]=r/2/Math.PI+.5)}function f(t){return Math.atan2(t.z,-t.x)}!function(t){const a=new vi,b=new vi,n=new vi;for(let i=0;i<e.length;i+=3)d(e[i+0],a),d(e[i+1],b),d(e[i+2],n),c(a,b,n,t)}(r),function(t){const e=new vi;for(let i=0;i<o.length;i+=3)e.x=o[i+0],e.y=o[i+1],e.z=o[i+2],e.normalize().multiplyScalar(t),o[i+0]=e.x,o[i+1]=e.y,o[i+2]=e.z}(n),function(){const t=new vi;for(let i=0;i<o.length;i+=3){t.x=o[i+0],t.y=o[i+1],t.z=o[i+2];const u=f(t)/2/Math.PI+.5,n=(e=t,Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5);l.push(u,1-n)}var e;(function(){const a=new vi,b=new vi,t=new vi,e=new vi,n=new Fn,r=new Fn,c=new Fn;for(let i=0,h=0;i<o.length;i+=9,h+=6){a.set(o[i+0],o[i+1],o[i+2]),b.set(o[i+3],o[i+4],o[i+5]),t.set(o[i+6],o[i+7],o[i+8]),n.set(l[h+0],l[h+1]),r.set(l[h+2],l[h+3]),c.set(l[h+4],l[h+5]),e.copy(a).add(b).add(t).divideScalar(3);const d=f(e);m(n,h+0,a,d),m(r,h+2,b,d),m(c,h+4,t,d)}})(),function(){for(let i=0;i<l.length;i+=6){const t=l[i+0],e=l[i+2],n=l[i+4],r=Math.max(t,e,n),o=Math.min(t,e,n);r>.9&&o<.1&&(t<.2&&(l[i+0]+=1),e<.2&&(l[i+2]+=1),n<.2&&(l[i+4]+=1))}}()}(),this.setAttribute("position",new Yr(o,3)),this.setAttribute("normal",new Yr(o.slice(),3)),this.setAttribute("uv",new Yr(l,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(data){return new cc(data.vertices,data.indices,data.radius,data.details)}}class uc extends cc{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(data){return new uc(data.radius,data.detail)}}const hc=new vi,dc=new vi,mc=new vi,fc=new Nr;class gc extends ia{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},null!==t){const n=4,r=Math.pow(10,n),o=Math.cos(Pn*e),l=t.getIndex(),c=t.getAttribute("position"),h=l?l.count:c.count,d=[0,0,0],m=["a","b","c"],f=new Array(3),v={},x=[];for(let i=0;i<h;i+=3){l?(d[0]=l.getX(i),d[1]=l.getX(i+1),d[2]=l.getX(i+2)):(d[0]=i,d[1]=i+1,d[2]=i+2);const{a:a,b:b,c:t}=fc;if(a.fromBufferAttribute(c,d[0]),b.fromBufferAttribute(c,d[1]),t.fromBufferAttribute(c,d[2]),fc.getNormal(mc),f[0]=`${Math.round(a.x*r)},${Math.round(a.y*r)},${Math.round(a.z*r)}`,f[1]=`${Math.round(b.x*r)},${Math.round(b.y*r)},${Math.round(b.z*r)}`,f[2]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,f[0]!==f[1]&&f[1]!==f[2]&&f[2]!==f[0])for(let t=0;t<3;t++){const e=(t+1)%3,n=f[t],r=f[e],l=fc[m[t]],c=fc[m[e]],h=`${n}_${r}`,_=`${r}_${n}`;_ in v&&v[_]?(mc.dot(v[_].normal)<=o&&(x.push(l.x,l.y,l.z),x.push(c.x,c.y,c.z)),v[_]=null):h in v||(v[h]={index0:d[t],index1:d[e],normal:mc.clone()})}}for(const t in v)if(v[t]){const{index0:e,index1:n}=v[t];hc.fromBufferAttribute(c,e),dc.fromBufferAttribute(c,n),x.push(hc.x,hc.y,hc.z),x.push(dc.x,dc.y,dc.z)}this.setAttribute("position",new Yr(x,3))}}}class vc extends rc{constructor(t){super(t),this.uuid=In(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(source){super.copy(source),this.holes=[];for(let i=0,t=source.holes.length;i<t;i++){const t=source.holes[i];this.holes.push(t.clone())}return this}toJSON(){const data=super.toJSON();data.uuid=this.uuid,data.holes=[];for(let i=0,t=this.holes.length;i<t;i++){const t=this.holes[i];data.holes.push(t.toJSON())}return data}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let i=0,e=t.holes.length;i<e;i++){const e=t.holes[i];this.holes.push((new rc).fromJSON(e))}return this}}const xc=function(data,t,e=2){const n=t&&t.length,r=n?t[0]*e:data.length;let o=_c(data,0,r,e,!0);const l=[];if(!o||o.next===o.prev)return l;let c,h,d,m,f,v,x;if(n&&(o=function(data,t,e,n){const r=[];let i,o,l,c,h;for(i=0,o=t.length;i<o;i++)l=t[i]*n,c=i<o-1?t[i+1]*n:data.length,h=_c(data,l,c,n,!1),h===h.next&&(h.steiner=!0),r.push(Cc(h));for(r.sort(Rc),i=0;i<r.length;i++)Ac(r[i],e),e=yc(e,e.next);return e}(data,t,o,e)),data.length>80*e){c=d=data[0],h=m=data[1];for(let i=e;i<r;i+=e)f=data[i],v=data[i+1],f<c&&(c=f),v<h&&(h=v),f>d&&(d=f),v>m&&(m=v);x=Math.max(d-c,m-h),x=0!==x?1/x:0}return bc(o,l,e,c,h,x),l};function _c(data,t,e,n,r){let i,o;if(r===function(data,t,e,n){let r=0;for(let i=t,o=e-n;i<e;i+=n)r+=(data[o]-data[i])*(data[i+1]+data[o+1]),o=i;return r}(data,t,e,n)>0)for(i=t;i<e;i+=n)o=Fc(i,data[i],data[i+1],o);else for(i=e-n;i>=t;i-=n)o=Fc(i,data[i],data[i+1],o);return o&&Nc(o,o.next)&&(Vc(o),o=o.next),o}function yc(t,e){if(!t)return t;e||(e=t);let n,p=t;do{if(n=!1,p.steiner||!Nc(p,p.next)&&0!==area(p.prev,p,p.next))p=p.next;else{if(Vc(p),p=e=p.prev,p===p.next)break;n=!0}}while(n||p!==e);return e}function bc(t,e,n,r,o,l,c){if(!t)return;!c&&l&&function(t,e,n,r){let p=t;do{null===p.z&&(p.z=Pc(p.x,p.y,e,n,r)),p.prevZ=p.prev,p.nextZ=p.next,p=p.next}while(p!==t);p.prevZ.nextZ=null,p.prevZ=null,function(t){let i,p,q,e,n,r,o,l,c=1;do{for(p=t,t=null,n=null,r=0;p;){for(r++,q=p,o=0,i=0;i<c&&(o++,q=q.nextZ,q);i++);for(l=c;o>0||l>0&&q;)0!==o&&(0===l||!q||p.z<=q.z)?(e=p,p=p.nextZ,o--):(e=q,q=q.nextZ,l--),n?n.nextZ=e:t=e,e.prevZ=n,n=e;p=q}n.nextZ=null,c*=2}while(r>1)}(p)}(t,r,o,l);let h,d,m=t;for(;t.prev!==t.next;)if(h=t.prev,d=t.next,l?wc(t,r,o,l):Sc(t))e.push(h.i/n),e.push(t.i/n),e.push(d.i/n),Vc(t),t=d.next,m=d.next;else if((t=d)===m){c?1===c?bc(t=Mc(yc(t),e,n),e,n,r,o,l,2):2===c&&Ec(t,e,n,r,o,l):bc(yc(t),e,n,r,o,l,1);break}}function Sc(t){const a=t.prev,b=t,e=t.next;if(area(a,b,e)>=0)return!1;let p=t.next.next;for(;p!==t.prev;){if(Ic(a.x,a.y,b.x,b.y,e.x,e.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function wc(t,e,n,r){const a=t.prev,b=t,o=t.next;if(area(a,b,o)>=0)return!1;const l=a.x<b.x?a.x<o.x?a.x:o.x:b.x<o.x?b.x:o.x,c=a.y<b.y?a.y<o.y?a.y:o.y:b.y<o.y?b.y:o.y,h=a.x>b.x?a.x>o.x?a.x:o.x:b.x>o.x?b.x:o.x,d=a.y>b.y?a.y>o.y?a.y:o.y:b.y>o.y?b.y:o.y,m=Pc(l,c,e,n,r),f=Pc(h,d,e,n,r);let p=t.prevZ,v=t.nextZ;for(;p&&p.z>=m&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&Ic(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&Ic(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=m;){if(p!==t.prev&&p!==t.next&&Ic(a.x,a.y,b.x,b.y,o.x,o.y,p.x,p.y)&&area(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&Ic(a.x,a.y,b.x,b.y,o.x,o.y,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function Mc(t,e,n){let p=t;do{const a=p.prev,b=p.next.next;!Nc(a,b)&&Dc(a,p,p.next,b)&&Gc(a,b)&&Gc(b,a)&&(e.push(a.i/n),e.push(p.i/n),e.push(b.i/n),Vc(p),Vc(p.next),p=t=b),p=p.next}while(p!==t);return yc(p)}function Ec(t,e,n,r,o,l){let a=t;do{let b=a.next.next;for(;b!==a.prev;){if(a.i!==b.i&&Lc(a,b)){let t=Bc(a,b);return a=yc(a,a.next),t=yc(t,t.next),bc(a,e,n,r,o,l),void bc(t,e,n,r,o,l)}b=b.next}a=a.next}while(a!==t)}function Rc(a,b){return a.x-b.x}function Ac(t,e){if(e=function(t,e){let p=e;const n=t.x,r=t.y;let o,l=-1/0;do{if(r<=p.y&&r>=p.next.y&&p.next.y!==p.y){const t=p.x+(r-p.y)*(p.next.x-p.x)/(p.next.y-p.y);if(t<=n&&t>l){if(l=t,t===n){if(r===p.y)return p;if(r===p.next.y)return p.next}o=p.x<p.next.x?p:p.next}}p=p.next}while(p!==e);if(!o)return null;if(n===l)return o;const c=o,h=o.x,d=o.y;let m,f=1/0;p=o;do{n>=p.x&&p.x>=h&&n!==p.x&&Ic(r<d?n:l,r,h,d,r<d?l:n,r,p.x,p.y)&&(m=Math.abs(r-p.y)/(n-p.x),Gc(p,t)&&(m<f||m===f&&(p.x>o.x||p.x===o.x&&Tc(o,p)))&&(o=p,f=m)),p=p.next}while(p!==c);return o}(t,e),e){const b=Bc(e,t);yc(e,e.next),yc(b,b.next)}}function Tc(t,p){return area(t.prev,t,p.prev)<0&&area(p.next,t,t.next)<0}function Pc(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Cc(t){let p=t,e=t;do{(p.x<e.x||p.x===e.x&&p.y<e.y)&&(e=p),p=p.next}while(p!==t);return e}function Ic(t,e,n,r,o,l,c,h){return(o-c)*(e-h)-(t-c)*(l-h)>=0&&(t-c)*(r-h)-(n-c)*(e-h)>=0&&(n-c)*(l-h)-(o-c)*(r-h)>=0}function Lc(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!function(a,b){let p=a;do{if(p.i!==a.i&&p.next.i!==a.i&&p.i!==b.i&&p.next.i!==b.i&&Dc(p,p.next,a,b))return!0;p=p.next}while(p!==a);return!1}(a,b)&&(Gc(a,b)&&Gc(b,a)&&function(a,b){let p=a,t=!1;const e=(a.x+b.x)/2,n=(a.y+b.y)/2;do{p.y>n!=p.next.y>n&&p.next.y!==p.y&&e<(p.next.x-p.x)*(n-p.y)/(p.next.y-p.y)+p.x&&(t=!t),p=p.next}while(p!==a);return t}(a,b)&&(area(a.prev,a,b.prev)||area(a,b.prev,b))||Nc(a,b)&&area(a.prev,a,a.next)>0&&area(b.prev,b,b.next)>0)}function area(p,q,t){return(q.y-p.y)*(t.x-q.x)-(q.x-p.x)*(t.y-q.y)}function Nc(t,e){return t.x===e.x&&t.y===e.y}function Dc(t,e,n,r){const o=kc(area(t,e,n)),l=kc(area(t,e,r)),c=kc(area(n,r,t)),h=kc(area(n,r,e));return o!==l&&c!==h||(!(0!==o||!Oc(t,n,e))||(!(0!==l||!Oc(t,r,e))||(!(0!==c||!Oc(n,t,r))||!(0!==h||!Oc(n,e,r)))))}function Oc(p,q,t){return q.x<=Math.max(p.x,t.x)&&q.x>=Math.min(p.x,t.x)&&q.y<=Math.max(p.y,t.y)&&q.y>=Math.min(p.y,t.y)}function kc(t){return t>0?1:t<0?-1:0}function Gc(a,b){return area(a.prev,a,a.next)<0?area(a,b,a.next)>=0&&area(a,a.prev,b)>=0:area(a,b,a.prev)<0||area(a,a.next,b)<0}function Bc(a,b){const t=new zc(a.i,a.x,a.y),e=new zc(b.i,b.x,b.y),n=a.next,r=b.prev;return a.next=b,b.prev=a,t.next=n,n.prev=t,e.next=t,t.prev=e,r.next=e,e.prev=r,e}function Fc(i,t,e,n){const p=new zc(i,t,e);return n?(p.next=n.next,p.prev=n,n.next.prev=p,n.next=p):(p.prev=p,p.next=p),p}function Vc(p){p.next.prev=p.prev,p.prev.next=p.next,p.prevZ&&(p.prevZ.nextZ=p.nextZ),p.nextZ&&(p.nextZ.prevZ=p.prevZ)}function zc(i,t,e){this.i=i,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Uc{static area(t){const e=t.length;let a=0;for(let p=e-1,q=0;q<e;p=q++)a+=t[p].x*t[q].y-t[q].x*t[p].y;return.5*a}static isClockWise(t){return Uc.area(t)<0}static triangulateShape(t,e){const n=[],r=[],o=[];Hc(t),Xc(n,t);let l=t.length;e.forEach(Hc);for(let i=0;i<e.length;i++)r.push(l),l+=e[i].length,Xc(n,e[i]);const c=xc(n,r);for(let i=0;i<c.length;i+=3)o.push(c.slice(i,i+3));return o}}function Hc(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Xc(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}class Wc extends ia{constructor(t=new vc([new Fn(.5,.5),new Fn(-.5,.5),new Fn(-.5,-.5),new Fn(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,r=[],o=[];for(let i=0,e=t.length;i<e;i++){l(t[i])}function l(t){const l=[],c=void 0!==e.curveSegments?e.curveSegments:12,h=void 0!==e.steps?e.steps:1;let d=void 0!==e.depth?e.depth:1,m=void 0===e.bevelEnabled||e.bevelEnabled,f=void 0!==e.bevelThickness?e.bevelThickness:.2,v=void 0!==e.bevelSize?e.bevelSize:f-.1,x=void 0!==e.bevelOffset?e.bevelOffset:0,_=void 0!==e.bevelSegments?e.bevelSegments:3;const y=e.extrudePath,S=void 0!==e.UVGenerator?e.UVGenerator:jc;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),d=e.amount);let w,M,E,R,A,T=!1;y&&(w=y.getSpacedPoints(h),T=!0,m=!1,M=y.computeFrenetFrames(h,!1),E=new vi,R=new vi,A=new vi),m||(_=0,f=0,v=0,x=0);const P=t.extractPoints(c);let C=P.shape;const I=P.holes;if(!Uc.isClockWise(C)){C=C.reverse();for(let t=0,e=I.length;t<e;t++){const e=I[t];Uc.isClockWise(e)&&(I[t]=e.reverse())}}const L=Uc.triangulateShape(C,I),N=C;for(let t=0,e=I.length;t<e;t++){const e=I[t];C=C.concat(e)}function D(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}const O=C.length,k=L.length;function G(t,e,n){let r,o,l;const c=t.x-e.x,h=t.y-e.y,d=n.x-t.x,m=n.y-t.y,f=c*c+h*h,v=c*m-h*d;if(Math.abs(v)>Number.EPSILON){const v=Math.sqrt(f),x=Math.sqrt(d*d+m*m),_=e.x-h/v,y=e.y+c/v,S=((n.x-m/x-_)*m-(n.y+d/x-y)*d)/(c*m-h*d);r=_+c*S-t.x,o=y+h*S-t.y;const w=r*r+o*o;if(w<=2)return new Fn(r,o);l=Math.sqrt(w/2)}else{let t=!1;c>Number.EPSILON?d>Number.EPSILON&&(t=!0):c<-Number.EPSILON?d<-Number.EPSILON&&(t=!0):Math.sign(h)===Math.sign(m)&&(t=!0),t?(r=-h,o=c,l=Math.sqrt(f)):(r=c,o=h,l=Math.sqrt(f/2))}return new Fn(r/l,o/l)}const B=[];for(let i=0,t=N.length,e=t-1,n=i+1;i<t;i++,e++,n++)e===t&&(e=0),n===t&&(n=0),B[i]=G(N[i],N[e],N[n]);const F=[];let V,z=B.concat();for(let t=0,e=I.length;t<e;t++){const e=I[t];V=[];for(let i=0,t=e.length,n=t-1,r=i+1;i<t;i++,n++,r++)n===t&&(n=0),r===t&&(r=0),V[i]=G(e[i],e[n],e[r]);F.push(V),z=z.concat(V)}for(let b=0;b<_;b++){const t=b/_,e=f*Math.cos(t*Math.PI/2),n=v*Math.sin(t*Math.PI/2)+x;for(let i=0,t=N.length;i<t;i++){const t=D(N[i],B[i],n);X(t.x,t.y,-e)}for(let t=0,r=I.length;t<r;t++){const r=I[t];V=F[t];for(let i=0,t=r.length;i<t;i++){const t=D(r[i],V[i],n);X(t.x,t.y,-e)}}}const U=v+x;for(let i=0;i<O;i++){const t=m?D(C[i],z[i],U):C[i];T?(R.copy(M.normals[0]).multiplyScalar(t.x),E.copy(M.binormals[0]).multiplyScalar(t.y),A.copy(w[0]).add(R).add(E),X(A.x,A.y,A.z)):X(t.x,t.y,0)}for(let s=1;s<=h;s++)for(let i=0;i<O;i++){const t=m?D(C[i],z[i],U):C[i];T?(R.copy(M.normals[s]).multiplyScalar(t.x),E.copy(M.binormals[s]).multiplyScalar(t.y),A.copy(w[s]).add(R).add(E),X(A.x,A.y,A.z)):X(t.x,t.y,d/h*s)}for(let b=_-1;b>=0;b--){const t=b/_,e=f*Math.cos(t*Math.PI/2),n=v*Math.sin(t*Math.PI/2)+x;for(let i=0,t=N.length;i<t;i++){const t=D(N[i],B[i],n);X(t.x,t.y,d+e)}for(let t=0,r=I.length;t<r;t++){const r=I[t];V=F[t];for(let i=0,t=r.length;i<t;i++){const t=D(r[i],V[i],n);T?X(t.x,t.y+w[h-1].y,w[h-1].x+e):X(t.x,t.y,d+e)}}}function H(t,e){let i=t.length;for(;--i>=0;){const n=i;let r=i-1;r<0&&(r=t.length-1);for(let s=0,t=h+2*_;s<t;s++){const t=O*s,o=O*(s+1);j(e+n+t,e+r+t,e+r+o,e+n+o)}}}function X(t,e,n){l.push(t),l.push(e),l.push(n)}function W(a,b,t){Y(a),Y(b),Y(t);const e=r.length/3,o=S.generateTopUV(n,r,e-3,e-2,e-1);$(o[0]),$(o[1]),$(o[2])}function j(a,b,t,e){Y(a),Y(b),Y(e),Y(b),Y(t),Y(e);const o=r.length/3,l=S.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);$(l[0]),$(l[1]),$(l[3]),$(l[1]),$(l[2]),$(l[3])}function Y(t){r.push(l[3*t+0]),r.push(l[3*t+1]),r.push(l[3*t+2])}function $(t){o.push(t.x),o.push(t.y)}!function(){const t=r.length/3;if(m){let t=0,e=O*t;for(let i=0;i<k;i++){const t=L[i];W(t[2]+e,t[1]+e,t[0]+e)}t=h+2*_,e=O*t;for(let i=0;i<k;i++){const t=L[i];W(t[0]+e,t[1]+e,t[2]+e)}}else{for(let i=0;i<k;i++){const t=L[i];W(t[2],t[1],t[0])}for(let i=0;i<k;i++){const t=L[i];W(t[0]+O*h,t[1]+O*h,t[2]+O*h)}}n.addGroup(t,r.length/3-t,0)}(),function(){const t=r.length/3;let e=0;H(N,e),e+=N.length;for(let t=0,n=I.length;t<n;t++){const n=I[t];H(n,e),e+=n.length}n.addGroup(t,r.length/3-t,1)}()}this.setAttribute("position",new Yr(r,3)),this.setAttribute("uv",new Yr(o,2)),this.computeVertexNormals()}toJSON(){const data=super.toJSON();return function(t,e,data){if(data.shapes=[],Array.isArray(t))for(let i=0,e=t.length;i<e;i++){const e=t[i];data.shapes.push(e.uuid)}else data.shapes.push(t.uuid);void 0!==e.extrudePath&&(data.options.extrudePath=e.extrudePath.toJSON());return data}(this.parameters.shapes,this.parameters.options,data)}static fromJSON(data,t){const e=[];for(let n=0,r=data.shapes.length;n<r;n++){const r=t[data.shapes[n]];e.push(r)}const n=data.options.extrudePath;return void 0!==n&&(data.options.extrudePath=(new nc[n.type]).fromJSON(n)),new Wc(e,data.options)}}const jc={generateTopUV:function(t,e,n,r,o){const l=e[3*n],c=e[3*n+1],h=e[3*r],d=e[3*r+1],m=e[3*o],f=e[3*o+1];return[new Fn(l,c),new Fn(h,d),new Fn(m,f)]},generateSideWallUV:function(t,e,n,r,o,l){const c=e[3*n],h=e[3*n+1],d=e[3*n+2],m=e[3*r],f=e[3*r+1],v=e[3*r+2],x=e[3*o],_=e[3*o+1],y=e[3*o+2],S=e[3*l],w=e[3*l+1],M=e[3*l+2];return Math.abs(h-f)<Math.abs(c-m)?[new Fn(c,1-d),new Fn(m,1-v),new Fn(x,1-y),new Fn(S,1-M)]:[new Fn(h,1-d),new Fn(f,1-v),new Fn(_,1-y),new Fn(w,1-M)]}};class qc extends cc{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(data){return new qc(data.radius,data.detail)}}class Yc extends cc{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(data){return new Yc(data.radius,data.detail)}}class $c extends ia{constructor(t=.5,e=1,n=8,r=1,o=0,l=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:o,thetaLength:l},n=Math.max(3,n);const c=[],h=[],d=[],m=[];let f=t;const v=(e-t)/(r=Math.max(1,r)),x=new vi,_=new Fn;for(let t=0;t<=r;t++){for(let i=0;i<=n;i++){const t=o+i/n*l;x.x=f*Math.cos(t),x.y=f*Math.sin(t),h.push(x.x,x.y,x.z),d.push(0,0,1),_.x=(x.x/e+1)/2,_.y=(x.y/e+1)/2,m.push(_.x,_.y)}f+=v}for(let t=0;t<r;t++){const e=t*(n+1);for(let i=0;i<n;i++){const t=i+e,a=t,b=t+n+1,r=t+n+2,o=t+1;c.push(a,b,o),c.push(b,r,o)}}this.setIndex(c),this.setAttribute("position",new Yr(h,3)),this.setAttribute("normal",new Yr(d,3)),this.setAttribute("uv",new Yr(m,2))}static fromJSON(data){return new $c(data.innerRadius,data.outerRadius,data.thetaSegments,data.phiSegments,data.thetaStart,data.thetaLength)}}class Kc extends ia{constructor(t=new vc([new Fn(0,.5),new Fn(-.5,-.5),new Fn(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],r=[],o=[],l=[];let c=0,h=0;if(!1===Array.isArray(t))d(t);else for(let i=0;i<t.length;i++)d(t[i]),this.addGroup(c,h,i),c+=h,h=0;function d(t){const c=r.length/3,d=t.extractPoints(e);let m=d.shape;const f=d.holes;!1===Uc.isClockWise(m)&&(m=m.reverse());for(let i=0,t=f.length;i<t;i++){const t=f[i];!0===Uc.isClockWise(t)&&(f[i]=t.reverse())}const v=Uc.triangulateShape(m,f);for(let i=0,t=f.length;i<t;i++){const t=f[i];m=m.concat(t)}for(let i=0,t=m.length;i<t;i++){const t=m[i];r.push(t.x,t.y,0),o.push(0,0,1),l.push(t.x,t.y)}for(let i=0,t=v.length;i<t;i++){const t=v[i],a=t[0]+c,b=t[1]+c,e=t[2]+c;n.push(a,b,e),h+=3}}this.setIndex(n),this.setAttribute("position",new Yr(r,3)),this.setAttribute("normal",new Yr(o,3)),this.setAttribute("uv",new Yr(l,2))}toJSON(){const data=super.toJSON();return function(t,data){if(data.shapes=[],Array.isArray(t))for(let i=0,e=t.length;i<e;i++){const e=t[i];data.shapes.push(e.uuid)}else data.shapes.push(t.uuid);return data}(this.parameters.shapes,data)}static fromJSON(data,t){const e=[];for(let n=0,r=data.shapes.length;n<r;n++){const r=t[data.shapes[n]];e.push(r)}return new Kc(e,data.curveSegments)}}class Qc extends ia{constructor(t=1,e=32,n=16,r=0,o=2*Math.PI,l=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:o,thetaStart:l,thetaLength:c},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const h=Math.min(l+c,Math.PI);let d=0;const m=[],f=new vi,v=new vi,x=[],_=[],y=[],S=[];for(let x=0;x<=n;x++){const w=[],M=x/n;let E=0;0==x&&0==l?E=.5/e:x==n&&h==Math.PI&&(E=-.5/e);for(let n=0;n<=e;n++){const u=n/e;f.x=-t*Math.cos(r+u*o)*Math.sin(l+M*c),f.y=t*Math.cos(l+M*c),f.z=t*Math.sin(r+u*o)*Math.sin(l+M*c),_.push(f.x,f.y,f.z),v.copy(f).normalize(),y.push(v.x,v.y,v.z),S.push(u+E,1-M),w.push(d++)}m.push(w)}for(let t=0;t<n;t++)for(let r=0;r<e;r++){const a=m[t][r+1],b=m[t][r],e=m[t+1][r],o=m[t+1][r+1];(0!==t||l>0)&&x.push(a,b,o),(t!==n-1||h<Math.PI)&&x.push(b,e,o)}this.setIndex(x),this.setAttribute("position",new Yr(_,3)),this.setAttribute("normal",new Yr(y,3)),this.setAttribute("uv",new Yr(S,2))}static fromJSON(data){return new Qc(data.radius,data.widthSegments,data.heightSegments,data.phiStart,data.phiLength,data.thetaStart,data.thetaLength)}}class Zc extends cc{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(data){return new Zc(data.radius,data.detail)}}class Jc extends ia{constructor(t=1,e=.4,n=8,r=6,o=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:o},n=Math.floor(n),r=Math.floor(r);const l=[],c=[],h=[],d=[],m=new vi,f=new vi,v=new vi;for(let l=0;l<=n;l++)for(let i=0;i<=r;i++){const u=i/r*o,x=l/n*Math.PI*2;f.x=(t+e*Math.cos(x))*Math.cos(u),f.y=(t+e*Math.cos(x))*Math.sin(u),f.z=e*Math.sin(x),c.push(f.x,f.y,f.z),m.x=t*Math.cos(u),m.y=t*Math.sin(u),v.subVectors(f,m).normalize(),h.push(v.x,v.y,v.z),d.push(i/r),d.push(l/n)}for(let t=1;t<=n;t++)for(let i=1;i<=r;i++){const a=(r+1)*t+i-1,b=(r+1)*(t-1)+i-1,e=(r+1)*(t-1)+i,n=(r+1)*t+i;l.push(a,b,n),l.push(b,e,n)}this.setIndex(l),this.setAttribute("position",new Yr(c,3)),this.setAttribute("normal",new Yr(h,3)),this.setAttribute("uv",new Yr(d,2))}static fromJSON(data){return new Jc(data.radius,data.tube,data.radialSegments,data.tubularSegments,data.arc)}}class tu extends ia{constructor(t=1,e=.4,n=64,r=8,p=2,q=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:p,q:q},n=Math.floor(n),r=Math.floor(r);const o=[],l=[],c=[],h=[],d=new vi,m=new vi,f=new vi,v=new vi,x=new vi,_=new vi,y=new vi;for(let i=0;i<=n;++i){const u=i/n*p*Math.PI*2;S(u,p,q,t,f),S(u+.01,p,q,t,v),_.subVectors(v,f),y.addVectors(v,f),x.crossVectors(_,y),y.crossVectors(x,_),x.normalize(),y.normalize();for(let t=0;t<=r;++t){const o=t/r*Math.PI*2,v=-e*Math.cos(o),_=e*Math.sin(o);d.x=f.x+(v*y.x+_*x.x),d.y=f.y+(v*y.y+_*x.y),d.z=f.z+(v*y.z+_*x.z),l.push(d.x,d.y,d.z),m.subVectors(d,f).normalize(),c.push(m.x,m.y,m.z),h.push(i/n),h.push(t/r)}}for(let t=1;t<=n;t++)for(let i=1;i<=r;i++){const a=(r+1)*(t-1)+(i-1),b=(r+1)*t+(i-1),e=(r+1)*t+i,n=(r+1)*(t-1)+i;o.push(a,b,n),o.push(b,e,n)}function S(u,p,q,t,e){const n=Math.cos(u),r=Math.sin(u),o=q/p*u,l=Math.cos(o);e.x=t*(2+l)*.5*n,e.y=t*(2+l)*r*.5,e.z=t*Math.sin(o)*.5}this.setIndex(o),this.setAttribute("position",new Yr(l,3)),this.setAttribute("normal",new Yr(c,3)),this.setAttribute("uv",new Yr(h,2))}static fromJSON(data){return new tu(data.radius,data.tube,data.tubularSegments,data.radialSegments,data.p,data.q)}}class eu extends ia{constructor(path=new tc(new vi(-1,-1,0),new vi(-1,1,0),new vi(1,1,0)),t=64,e=1,n=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:path,tubularSegments:t,radius:e,radialSegments:n,closed:r};const o=path.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new vi,c=new vi,h=new Fn;let d=new vi;const m=[],f=[],v=[],x=[];function _(i){d=path.getPointAt(i/t,d);const r=o.normals[i],h=o.binormals[i];for(let t=0;t<=n;t++){const o=t/n*Math.PI*2,v=Math.sin(o),x=-Math.cos(o);c.x=x*r.x+v*h.x,c.y=x*r.y+v*h.y,c.z=x*r.z+v*h.z,c.normalize(),f.push(c.x,c.y,c.z),l.x=d.x+e*c.x,l.y=d.y+e*c.y,l.z=d.z+e*c.z,m.push(l.x,l.y,l.z)}}!function(){for(let i=0;i<t;i++)_(i);_(!1===r?t:0),function(){for(let i=0;i<=t;i++)for(let e=0;e<=n;e++)h.x=i/t,h.y=e/n,v.push(h.x,h.y)}(),function(){for(let e=1;e<=t;e++)for(let i=1;i<=n;i++){const a=(n+1)*(e-1)+(i-1),b=(n+1)*e+(i-1),t=(n+1)*e+i,r=(n+1)*(e-1)+i;x.push(a,b,r),x.push(b,t,r)}}()}(),this.setIndex(x),this.setAttribute("position",new Yr(m,3)),this.setAttribute("normal",new Yr(f,3)),this.setAttribute("uv",new Yr(v,2))}toJSON(){const data=super.toJSON();return data.path=this.parameters.path.toJSON(),data}static fromJSON(data){return new eu((new nc[data.path.type]).fromJSON(data.path),data.tubularSegments,data.radius,data.radialSegments,data.closed)}}class nu extends ia{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},null!==t){const e=[],n=new Set,r=new vi,o=new vi;if(null!==t.index){const l=t.attributes.position,c=t.index;let h=t.groups;0===h.length&&(h=[{start:0,count:c.count,materialIndex:0}]);for(let t=0,ol=h.length;t<ol;++t){const d=h[t],m=d.start;for(let i=m,t=m+d.count;i<t;i+=3)for(let t=0;t<3;t++){const h=c.getX(i+t),d=c.getX(i+(t+1)%3);r.fromBufferAttribute(l,h),o.fromBufferAttribute(l,d),!0===iu(r,o,n)&&(e.push(r.x,r.y,r.z),e.push(o.x,o.y,o.z))}}}else{const l=t.attributes.position;for(let i=0,t=l.count/3;i<t;i++)for(let t=0;t<3;t++){const c=3*i+t,h=3*i+(t+1)%3;r.fromBufferAttribute(l,c),o.fromBufferAttribute(l,h),!0===iu(r,o,n)&&(e.push(r.x,r.y,r.z),e.push(o.x,o.y,o.z))}}this.setAttribute("position",new Yr(e,3))}}}function iu(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,o=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return!0!==n.has(r)&&!0!==n.has(o)&&(n.add(r),n.add(o),!0)}var ru=Object.freeze({__proto__:null,BoxGeometry:wa,BoxBufferGeometry:wa,CapsuleGeometry:oc,CapsuleBufferGeometry:oc,CircleGeometry:sc,CircleBufferGeometry:sc,ConeGeometry:pc,ConeBufferGeometry:pc,CylinderGeometry:lc,CylinderBufferGeometry:lc,DodecahedronGeometry:uc,DodecahedronBufferGeometry:uc,EdgesGeometry:gc,ExtrudeGeometry:Wc,ExtrudeBufferGeometry:Wc,IcosahedronGeometry:qc,IcosahedronBufferGeometry:qc,LatheGeometry:ac,LatheBufferGeometry:ac,OctahedronGeometry:Yc,OctahedronBufferGeometry:Yc,PlaneGeometry:Ha,PlaneBufferGeometry:Ha,PolyhedronGeometry:cc,PolyhedronBufferGeometry:cc,RingGeometry:$c,RingBufferGeometry:$c,ShapeGeometry:Kc,ShapeBufferGeometry:Kc,SphereGeometry:Qc,SphereBufferGeometry:Qc,TetrahedronGeometry:Zc,TetrahedronBufferGeometry:Zc,TorusGeometry:Jc,TorusBufferGeometry:Jc,TorusKnotGeometry:tu,TorusKnotBufferGeometry:tu,TubeGeometry:eu,TubeBufferGeometry:eu,WireframeGeometry:nu});class au extends Or{constructor(t){super(),this.type="ShadowMaterial",this.color=new ei(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.fog=source.fog,this}}au.prototype.isShadowMaterial=!0;class ou extends Aa{constructor(t){super(t),this.type="RawShaderMaterial"}}ou.prototype.isRawShaderMaterial=!0;class su extends Or{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ei(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ei(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=je,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.defines={STANDARD:""},this.color.copy(source.color),this.roughness=source.roughness,this.metalness=source.metalness,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.roughnessMap=source.roughnessMap,this.metalnessMap=source.metalnessMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.envMapIntensity=source.envMapIntensity,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.flatShading=source.flatShading,this.fog=source.fog,this}}su.prototype.isMeshStandardMaterial=!0;class lu extends su{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Fn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ln(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.sheenColor=new ei(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ei(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ei(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(source){return super.copy(source),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=source.clearcoat,this.clearcoatMap=source.clearcoatMap,this.clearcoatRoughness=source.clearcoatRoughness,this.clearcoatRoughnessMap=source.clearcoatRoughnessMap,this.clearcoatNormalMap=source.clearcoatNormalMap,this.clearcoatNormalScale.copy(source.clearcoatNormalScale),this.ior=source.ior,this.sheen=source.sheen,this.sheenColor.copy(source.sheenColor),this.sheenColorMap=source.sheenColorMap,this.sheenRoughness=source.sheenRoughness,this.sheenRoughnessMap=source.sheenRoughnessMap,this.transmission=source.transmission,this.transmissionMap=source.transmissionMap,this.thickness=source.thickness,this.thicknessMap=source.thicknessMap,this.attenuationDistance=source.attenuationDistance,this.attenuationColor.copy(source.attenuationColor),this.specularIntensity=source.specularIntensity,this.specularIntensityMap=source.specularIntensityMap,this.specularColor.copy(source.specularColor),this.specularColorMap=source.specularColorMap,this}}lu.prototype.isMeshPhysicalMaterial=!0;class pu extends Or{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new ei(16777215),this.specular=new ei(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ei(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=je,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.specular.copy(source.specular),this.shininess=source.shininess,this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.flatShading=source.flatShading,this.fog=source.fog,this}}pu.prototype.isMeshPhongMaterial=!0;class cu extends Or{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ei(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ei(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=je,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.gradientMap=source.gradientMap,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.alphaMap=source.alphaMap,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.fog=source.fog,this}}cu.prototype.isMeshToonMaterial=!0;class uu extends Or{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=je,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(source){return super.copy(source),this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.flatShading=source.flatShading,this}}uu.prototype.isMeshNormalMaterial=!0;class hu extends Or{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new ei(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ei(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.color.copy(source.color),this.map=source.map,this.lightMap=source.lightMap,this.lightMapIntensity=source.lightMapIntensity,this.aoMap=source.aoMap,this.aoMapIntensity=source.aoMapIntensity,this.emissive.copy(source.emissive),this.emissiveMap=source.emissiveMap,this.emissiveIntensity=source.emissiveIntensity,this.specularMap=source.specularMap,this.alphaMap=source.alphaMap,this.envMap=source.envMap,this.combine=source.combine,this.reflectivity=source.reflectivity,this.refractionRatio=source.refractionRatio,this.wireframe=source.wireframe,this.wireframeLinewidth=source.wireframeLinewidth,this.wireframeLinecap=source.wireframeLinecap,this.wireframeLinejoin=source.wireframeLinejoin,this.fog=source.fog,this}}hu.prototype.isMeshLambertMaterial=!0;class du extends Or{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ei(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=je,this.normalScale=new Fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(source){return super.copy(source),this.defines={MATCAP:""},this.color.copy(source.color),this.matcap=source.matcap,this.map=source.map,this.bumpMap=source.bumpMap,this.bumpScale=source.bumpScale,this.normalMap=source.normalMap,this.normalMapType=source.normalMapType,this.normalScale.copy(source.normalScale),this.displacementMap=source.displacementMap,this.displacementScale=source.displacementScale,this.displacementBias=source.displacementBias,this.alphaMap=source.alphaMap,this.flatShading=source.flatShading,this.fog=source.fog,this}}du.prototype.isMeshMatcapMaterial=!0;class mu extends fp{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(source){return super.copy(source),this.scale=source.scale,this.dashSize=source.dashSize,this.gapSize=source.gapSize,this}}mu.prototype.isLineDashedMaterial=!0;const fu={ShadowMaterial:au,SpriteMaterial:Ll,RawShaderMaterial:ou,ShaderMaterial:Aa,PointsMaterial:Rp,MeshPhysicalMaterial:lu,MeshStandardMaterial:su,MeshPhongMaterial:pu,MeshToonMaterial:cu,MeshNormalMaterial:uu,MeshLambertMaterial:hu,MeshDepthMaterial:pl,MeshDistanceMaterial:cl,MeshBasicMaterial:kr,MeshMatcapMaterial:du,LineDashedMaterial:mu,LineBasicMaterial:fp,Material:Or};Or.fromType=function(t){return new fu[t]};const gu={arraySlice:function(t,e,n){return gu.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(object){return ArrayBuffer.isView(object)&&!(object instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,n=new Array(e);for(let i=0;i!==e;++i)n[i]=i;return n.sort((function(i,e){return t[i]-t[e]})),n},sortedArray:function(t,e,n){const r=t.length,o=new t.constructor(r);for(let i=0,l=0;l!==r;++i){const r=n[i]*e;for(let n=0;n!==e;++n)o[l++]=t[r+n]}return o},flattenJSON:function(t,e,n,r){let i=1,o=t[0];for(;void 0!==o&&void 0===o[r];)o=t[i++];if(void 0===o)return;let l=o[r];if(void 0!==l)if(Array.isArray(l))do{l=o[r],void 0!==l&&(e.push(o.time),n.push.apply(n,l)),o=t[i++]}while(void 0!==o);else if(void 0!==l.toArray)do{l=o[r],void 0!==l&&(e.push(o.time),l.toArray(n,n.length)),o=t[i++]}while(void 0!==o);else do{l=o[r],void 0!==l&&(e.push(o.time),n.push(l)),o=t[i++]}while(void 0!==o)},subclip:function(t,e,n,r,o=30){const l=t.clone();l.name=e;const c=[];for(let i=0;i<l.tracks.length;++i){const track=l.tracks[i],t=track.getValueSize(),e=[],h=[];for(let l=0;l<track.times.length;++l){const c=track.times[l]*o;if(!(c<n||c>=r)){e.push(track.times[l]);for(let e=0;e<t;++e)h.push(track.values[l*t+e])}}0!==e.length&&(track.times=gu.convertArray(e,track.times.constructor),track.values=gu.convertArray(h,track.values.constructor),c.push(track))}l.tracks=c;let h=1/0;for(let i=0;i<l.tracks.length;++i)h>l.tracks[i].times[0]&&(h=l.tracks[i].times[0]);for(let i=0;i<l.tracks.length;++i)l.tracks[i].shift(-1*h);return l.resetDuration(),l},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const o=n.tracks.length,l=e/r;for(let i=0;i<o;++i){const e=n.tracks[i],r=e.ValueTypeName;if("bool"===r||"string"===r)continue;const o=t.tracks.find((function(track){return track.name===e.name&&track.ValueTypeName===r}));if(void 0===o)continue;let c=0;const h=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);let d=0;const m=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=m/3);const f=e.times.length-1;let v;if(l<=e.times[0]){const t=c,n=h-c;v=gu.arraySlice(e.values,t,n)}else if(l>=e.times[f]){const t=f*h+c,n=t+h-c;v=gu.arraySlice(e.values,t,n)}else{const t=e.createInterpolant(),n=c,r=h-c;t.evaluate(l),v=gu.arraySlice(t.resultBuffer,n,r)}if("quaternion"===r){(new gi).fromArray(v).normalize().conjugate().toArray(v)}const x=o.times.length;for(let t=0;t<x;++t){const e=t*m+d;if("quaternion"===r)gi.multiplyQuaternionsFlat(o.values,e,v,0,o.values,e);else{const t=m-2*d;for(let n=0;n<t;++n)o.values[e+n]-=v[n]}}}return t.blendMode=Be,t}};class vu{constructor(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,r=e[n],o=e[n-1];t:{e:{let l;n:{i:if(!(t<r)){for(let l=n+2;;){if(void 0===r){if(t<o)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,o)}if(n===l)break;if(o=r,r=e[++n],t<r)break e}l=e.length;break n}if(t>=o)break t;{const c=e[1];t<c&&(n=2,o=c);for(let l=n-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===l)break;if(r=o,o=e[--n-1],t>=o)break e}l=n,n=0}}for(;n<l;){const r=n+l>>>1;t<e[r]?l=r:n=r+1}if(r=e[n],o=e[n-1],void 0===o)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,o,t)}this._cachedIndex=n,this.intervalChanged_(n,o,r)}return this.interpolate_(n,o,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,o=t*r;for(let i=0;i!==r;++i)e[i]=n[o+i];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}vu.prototype.beforeStart_=vu.prototype.copySampleValue_,vu.prototype.afterEnd_=vu.prototype.copySampleValue_;class xu extends vu{constructor(t,e,n,r){super(t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:De,endingEnd:De}}intervalChanged_(t,e,n){const r=this.parameterPositions;let o=t-2,l=t+1,c=r[o],h=r[l];if(void 0===c)switch(this.getSettings_().endingStart){case Oe:o=t,c=2*e-n;break;case ke:o=r.length-2,c=e+r[o]-r[o+1];break;default:o=t,c=n}if(void 0===h)switch(this.getSettings_().endingEnd){case Oe:l=t,h=2*n-e;break;case ke:l=1,h=n+r[1]-r[0];break;default:l=t-1,h=e}const d=.5*(n-e),m=this.valueSize;this._weightPrev=d/(e-c),this._weightNext=d/(h-n),this._offsetPrev=o*m,this._offsetNext=l*m}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=t*c,d=h-c,m=this._offsetPrev,f=this._offsetNext,v=this._weightPrev,x=this._weightNext,p=(n-e)/(r-e),_=p*p,y=_*p,S=-v*y+2*v*_-v*p,w=(1+v)*y+(-1.5-2*v)*_+(-.5+v)*p+1,M=(-1-x)*y+(1.5+x)*_+.5*p,E=x*y-x*_;for(let i=0;i!==c;++i)o[i]=S*l[m+i]+w*l[d+i]+M*l[h+i]+E*l[f+i];return o}}class _u extends vu{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=t*c,d=h-c,m=(n-e)/(r-e),f=1-m;for(let i=0;i!==c;++i)o[i]=l[d+i]*f+l[h+i]*m;return o}}class yu extends vu{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class bu{constructor(t,e,n,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=gu.convertArray(e,this.TimeBufferType),this.values=gu.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(track){const t=track.constructor;let e;if(t.toJSON!==this.toJSON)e=t.toJSON(track);else{e={name:track.name,times:gu.convertArray(track.times,Array),values:gu.convertArray(track.values,Array)};const t=track.getInterpolation();t!==track.DefaultInterpolation&&(e.interpolation=t)}return e.type=track.ValueTypeName,e}InterpolantFactoryMethodDiscrete(t){return new yu(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new _u(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new xu(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Ie:e=this.InterpolantFactoryMethodDiscrete;break;case Le:e=this.InterpolantFactoryMethodLinear;break;case Ne:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ie;case this.InterpolantFactoryMethodLinear:return Le;case this.InterpolantFactoryMethodSmooth:return Ne}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]*=t}return this}trim(t,e){const n=this.times,r=n.length;let o=0,l=r-1;for(;o!==r&&n[o]<t;)++o;for(;-1!==l&&n[l]>e;)--l;if(++l,0!==o||l!==r){o>=l&&(l=Math.max(l,1),o=l-1);const t=this.getValueSize();this.times=gu.arraySlice(n,o,l),this.values=gu.arraySlice(this.values,o*t,l*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,r=this.values,o=n.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let i=0;i!==o;i++){const e=n[i];if("number"==typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,i,e),t=!1;break}if(null!==l&&l>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,i,e,l),t=!1;break}l=e}if(void 0!==r&&gu.isTypedArray(r))for(let i=0,e=r.length;i!==e;++i){const e=r[i];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,i,e),t=!1;break}}return t}optimize(){const t=gu.arraySlice(this.times),e=gu.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Ne,o=t.length-1;let l=1;for(let i=1;i<o;++i){let o=!1;const time=t[i];if(time!==t[i+1]&&(1!==i||time!==t[0]))if(r)o=!0;else{const t=i*n,r=t-n,l=t+n;for(let c=0;c!==n;++c){const n=e[t+c];if(n!==e[r+c]||n!==e[l+c]){o=!0;break}}}if(o){if(i!==l){t[l]=t[i];const r=i*n,o=l*n;for(let t=0;t!==n;++t)e[o+t]=e[r+t]}++l}}if(o>0){t[l]=t[o];for(let t=o*n,r=l*n,c=0;c!==n;++c)e[r+c]=e[t+c];++l}return l!==t.length?(this.times=gu.arraySlice(t,0,l),this.values=gu.arraySlice(e,0,l*n)):(this.times=t,this.values=e),this}clone(){const t=gu.arraySlice(this.times,0),e=gu.arraySlice(this.values,0),track=new(0,this.constructor)(this.name,t,e);return track.createInterpolant=this.createInterpolant,track}}bu.prototype.TimeBufferType=Float32Array,bu.prototype.ValueBufferType=Float32Array,bu.prototype.DefaultInterpolation=Le;class Su extends bu{}Su.prototype.ValueTypeName="bool",Su.prototype.ValueBufferType=Array,Su.prototype.DefaultInterpolation=Ie,Su.prototype.InterpolantFactoryMethodLinear=void 0,Su.prototype.InterpolantFactoryMethodSmooth=void 0;class wu extends bu{}wu.prototype.ValueTypeName="color";class Mu extends bu{}Mu.prototype.ValueTypeName="number";class Eu extends vu{constructor(t,e,n,r){super(t,e,n,r)}interpolate_(t,e,n,r){const o=this.resultBuffer,l=this.sampleValues,c=this.valueSize,h=(n-e)/(r-e);let d=t*c;for(let t=d+c;d!==t;d+=4)gi.slerpFlat(o,0,l,d-c,l,d,h);return o}}class Ru extends bu{InterpolantFactoryMethodLinear(t){return new Eu(this.times,this.values,this.getValueSize(),t)}}Ru.prototype.ValueTypeName="quaternion",Ru.prototype.DefaultInterpolation=Le,Ru.prototype.InterpolantFactoryMethodSmooth=void 0;class Au extends bu{}Au.prototype.ValueTypeName="string",Au.prototype.ValueBufferType=Array,Au.prototype.DefaultInterpolation=Ie,Au.prototype.InterpolantFactoryMethodLinear=void 0,Au.prototype.InterpolantFactoryMethodSmooth=void 0;class Tu extends bu{}Tu.prototype.ValueTypeName="vector";class Pu{constructor(t,e=-1,n,r=Ge){this.name=t,this.tracks=n,this.duration=e,this.blendMode=r,this.uuid=In(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,r=1/(t.fps||1);for(let i=0,t=n.length;i!==t;++i)e.push(Cu(n[i]).scale(r));const o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}static toJSON(t){const e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let i=0,t=n.length;i!==t;++i)e.push(bu.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(t,e,n,r){const o=e.length,l=[];for(let i=0;i<o;i++){let t=[],c=[];t.push((i+o-1)%o,i,(i+1)%o),c.push(0,1,0);const h=gu.getKeyframeOrder(t);t=gu.sortedArray(t,1,h),c=gu.sortedArray(c,1,h),r||0!==t[0]||(t.push(o),c.push(c[0])),l.push(new Mu(".morphTargetInfluences["+e[i].name+"]",t,c).scale(1/n))}return new this(t,-1,l)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const r={},pattern=/^([\w-]*?)([\d]+)$/;for(let i=0,e=t.length;i<e;i++){const e=t[i],n=e.name.match(pattern);if(n&&n.length>1){const t=n[1];let o=r[t];o||(r[t]=o=[]),o.push(e)}}const o=[];for(const t in r)o.push(this.CreateFromMorphTargetSequence(t,r[t],e,n));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(t,e,n,r,o){if(0!==n.length){const l=[],c=[];gu.flattenJSON(n,l,c,r),0!==l.length&&o.push(new t(e,l,c))}},r=[],o=t.name||"default",l=t.fps||30,c=t.blendMode;let h=t.length||-1;const d=t.hierarchy||[];for(let t=0;t<d.length;t++){const o=d[t].keys;if(o&&0!==o.length)if(o[0].morphTargets){const t={};let e;for(e=0;e<o.length;e++)if(o[e].morphTargets)for(let n=0;n<o[e].morphTargets.length;n++)t[o[e].morphTargets[n]]=-1;for(const n in t){const t=[],l=[];for(let r=0;r!==o[e].morphTargets.length;++r){const r=o[e];t.push(r.time),l.push(r.morphTarget===n?1:0)}r.push(new Mu(".morphTargetInfluence["+n+"]",t,l))}h=t.length*l}else{const l=".bones["+e[t].name+"]";n(Tu,l+".position",o,"pos",r),n(Ru,l+".quaternion",o,"rot",r),n(Tu,l+".scale",o,"scl",r)}}if(0===r.length)return null;return new this(o,h,r,c)}resetDuration(){let t=0;for(let i=0,e=this.tracks.length;i!==e;++i){const track=this.tracks[i];t=Math.max(t,track.times[track.times.length-1])}return this.duration=t,this}trim(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].trim(0,this.duration);return this}validate(){let t=!0;for(let i=0;i<this.tracks.length;i++)t=t&&this.tracks[i].validate();return t}optimize(){for(let i=0;i<this.tracks.length;i++)this.tracks[i].optimize();return this}clone(){const t=[];for(let i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Cu(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Mu;case"vector":case"vector2":case"vector3":case"vector4":return Tu;case"color":return wu;case"quaternion":return Ru;case"bool":case"boolean":return Su;case"string":return Au}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];gu.flattenJSON(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Iu={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Lu{constructor(t,e,n){const r=this;let o,l=!1,c=0,h=0;const d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){h++,!1===l&&void 0!==r.onStart&&r.onStart(t,c,h),l=!0},this.itemEnd=function(t){c++,void 0!==r.onProgress&&r.onProgress(t,c,h),c===h&&(l=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return o?o(t):t},this.setURLModifier=function(t){return o=t,this},this.addHandler=function(t,e){return d.push(t,e),this},this.removeHandler=function(t){const e=d.indexOf(t);return-1!==e&&d.splice(e,2),this},this.getHandler=function(t){for(let i=0,e=d.length;i<e;i+=2){const e=d[i],n=d[i+1];if(e.global&&(e.lastIndex=0),e.test(t))return n}return null}}}const Nu=new Lu;class Du{constructor(t){this.manager=void 0!==t?t:Nu,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(r,o){n.load(t,r,e,o)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(path){return this.path=path,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const Ou={};class ku extends Du{constructor(t){super(t)}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=Iu.get(t);if(void 0!==o)return this.manager.itemStart(t),setTimeout((()=>{e&&e(o),this.manager.itemEnd(t)}),0),o;if(void 0!==Ou[t])return void Ou[t].push({onLoad:e,onProgress:n,onError:r});Ou[t]=[],Ou[t].push({onLoad:e,onProgress:n,onError:r});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,h=this.responseType;fetch(l).then((e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const n=Ou[t],r=e.body.getReader(),o=e.headers.get("Content-Length"),l=o?parseInt(o):0,c=0!==l;let h=0;const d=new ReadableStream({start(t){!function e(){r.read().then((({done:r,value:o})=>{if(r)t.close();else{h+=o.byteLength;const r=new ProgressEvent("progress",{lengthComputable:c,loaded:h,total:l});for(let i=0,t=n.length;i<t;i++){const t=n[i];t.onProgress&&t.onProgress(r)}t.enqueue(o),e()}}))}()}});return new Response(d)}throw Error(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`)})).then((t=>{switch(h){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((text=>(new DOMParser).parseFromString(text,c)));case"json":return t.json();default:if(void 0===c)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(c),label=e&&e[1]?e[1].toLowerCase():void 0,n=new TextDecoder(label);return t.arrayBuffer().then((t=>n.decode(t)))}}})).then((data=>{Iu.add(t,data);const e=Ou[t];delete Ou[t];for(let i=0,t=e.length;i<t;i++){const t=e[i];t.onLoad&&t.onLoad(data)}})).catch((e=>{const n=Ou[t];if(void 0===n)throw this.manager.itemError(t),e;delete Ou[t];for(let i=0,t=n.length;i<t;i++){const t=n[i];t.onError&&t.onError(e)}this.manager.itemError(t)})).finally((()=>{this.manager.itemEnd(t)})),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Gu extends Du{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new ku(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,(function(text){try{e(o.parse(JSON.parse(text)))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}parse(t){const e=[];for(let i=0;i<t.length;i++){const n=Pu.parse(t[i]);e.push(n)}return e}}class Bu extends Du{constructor(t){super(t)}load(t,e,n,r){const o=this,l=[],c=new Op,h=new ku(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(o.withCredentials);let d=0;function m(i){h.load(t[i],(function(t){const n=o.parse(t,!0);l[i]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},d+=1,6===d&&(1===n.mipmapCount&&(c.minFilter=Tt),c.image=l,c.format=n.format,c.needsUpdate=!0,e&&e(c))}),n,r)}if(Array.isArray(t))for(let i=0,e=t.length;i<e;++i)m(i);else h.load(t,(function(t){const n=o.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){l[e]={mipmaps:[]};for(let i=0;i<n.mipmapCount;i++)l[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+i]),l[e].format=n.format,l[e].width=n.width,l[e].height=n.height}c.image=l}else c.image.width=n.width,c.image.height=n.height,c.mipmaps=n.mipmaps;1===n.mipmapCount&&(c.minFilter=Tt),c.format=n.format,c.needsUpdate=!0,e&&e(c)}),n,r);return c}}class Fu extends Du{constructor(t){super(t)}load(t,e,n,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Iu.get(t);if(void 0!==l)return o.manager.itemStart(t),setTimeout((function(){e&&e(l),o.manager.itemEnd(t)}),0),l;const image=Xn("img");function c(){d(),Iu.add(t,this),e&&e(this),o.manager.itemEnd(t)}function h(e){d(),r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)}function d(){image.removeEventListener("load",c,!1),image.removeEventListener("error",h,!1)}return image.addEventListener("load",c,!1),image.addEventListener("error",h,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(image.crossOrigin=this.crossOrigin),o.manager.itemStart(t),image.src=t,image}}class Vu extends Du{constructor(t){super(t)}load(t,e,n,r){const o=new La,l=new Fu(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let c=0;function h(i){l.load(t[i],(function(image){o.images[i]=image,c++,6===c&&(o.needsUpdate=!0,e&&e(o))}),void 0,r)}for(let i=0;i<t.length;++i)h(i);return o}}class zu extends Du{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new ap,c=new ku(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(o.withCredentials),c.load(t,(function(t){const n=o.parse(t);n&&(void 0!==n.image?l.image=n.image:void 0!==n.data&&(l.image.width=n.width,l.image.height=n.height,l.image.data=n.data),l.wrapS=void 0!==n.wrapS?n.wrapS:bt,l.wrapT=void 0!==n.wrapT?n.wrapT:bt,l.magFilter=void 0!==n.magFilter?n.magFilter:Tt,l.minFilter=void 0!==n.minFilter?n.minFilter:Tt,l.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(l.encoding=n.encoding),void 0!==n.flipY&&(l.flipY=n.flipY),void 0!==n.format&&(l.format=n.format),void 0!==n.type&&(l.type=n.type),void 0!==n.mipmaps&&(l.mipmaps=n.mipmaps,l.minFilter=It),1===n.mipmapCount&&(l.minFilter=Tt),void 0!==n.generateMipmaps&&(l.generateMipmaps=n.generateMipmaps),l.needsUpdate=!0,e&&e(l,n))}),n,r),l}}class Uu extends Du{constructor(t){super(t)}load(t,e,n,r){const o=new si,l=new Fu(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,(function(image){o.image=image,o.needsUpdate=!0,void 0!==e&&e(o)}),n,r),o}}class Hu extends Sr{constructor(t,e=1){super(),this.type="Light",this.color=new ei(t),this.intensity=e}dispose(){}copy(source){return super.copy(source),this.color.copy(source.color),this.intensity=source.intensity,this}toJSON(meta){const data=super.toJSON(meta);return data.object.color=this.color.getHex(),data.object.intensity=this.intensity,void 0!==this.groundColor&&(data.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(data.object.distance=this.distance),void 0!==this.angle&&(data.object.angle=this.angle),void 0!==this.decay&&(data.object.decay=this.decay),void 0!==this.penumbra&&(data.object.penumbra=this.penumbra),void 0!==this.shadow&&(data.object.shadow=this.shadow.toJSON()),data}}Hu.prototype.isLight=!0;class Xu extends Hu{constructor(t,e,n){super(t,n),this.type="HemisphereLight",this.position.copy(Sr.DefaultUp),this.updateMatrix(),this.groundColor=new ei(e)}copy(source){return Hu.prototype.copy.call(this,source),this.groundColor.copy(source.groundColor),this}}Xu.prototype.isHemisphereLight=!0;const Wu=new Yi,ju=new vi,qu=new vi;class Yu{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Fn(512,512),this.map=null,this.mapPass=null,this.matrix=new Yi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Va,this._frameExtents=new Fn(1,1),this._viewportCount=1,this._viewports=[new pi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;ju.setFromMatrixPosition(t.matrixWorld),e.position.copy(ju),qu.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(qu),e.updateMatrixWorld(),Wu.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wu),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(source){return this.camera=source.camera.clone(),this.bias=source.bias,this.radius=source.radius,this.mapSize.copy(source.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const object={};return 0!==this.bias&&(object.bias=this.bias),0!==this.normalBias&&(object.normalBias=this.normalBias),1!==this.radius&&(object.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(object.mapSize=this.mapSize.toArray()),object.camera=this.camera.toJSON(!1).object,delete object.camera.matrix,object}}class $u extends Yu{constructor(){super(new Pa(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,n=2*Cn*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;n===e.fov&&r===e.aspect&&o===e.far||(e.fov=n,e.aspect=r,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(source){return super.copy(source),this.focus=source.focus,this}}$u.prototype.isSpotLightShadow=!0;class Ku extends Hu{constructor(t,e,n=0,r=Math.PI/3,o=0,l=1){super(t,e),this.type="SpotLight",this.position.copy(Sr.DefaultUp),this.updateMatrix(),this.target=new Sr,this.distance=n,this.angle=r,this.penumbra=o,this.decay=l,this.shadow=new $u}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(source){return super.copy(source),this.distance=source.distance,this.angle=source.angle,this.penumbra=source.penumbra,this.decay=source.decay,this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}Ku.prototype.isSpotLight=!0;const Qu=new Yi,Zu=new vi,Ju=new vi;class eh extends Yu{constructor(){super(new Pa(90,1,.5,500)),this._frameExtents=new Fn(4,2),this._viewportCount=6,this._viewports=[new pi(2,1,1,1),new pi(0,1,1,1),new pi(3,1,1,1),new pi(1,1,1,1),new pi(3,0,1,1),new pi(1,0,1,1)],this._cubeDirections=[new vi(1,0,0),new vi(-1,0,0),new vi(0,0,1),new vi(0,0,-1),new vi(0,1,0),new vi(0,-1,0)],this._cubeUps=[new vi(0,1,0),new vi(0,1,0),new vi(0,1,0),new vi(0,1,0),new vi(0,0,1),new vi(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,r=this.matrix,o=t.distance||n.far;o!==n.far&&(n.far=o,n.updateProjectionMatrix()),Zu.setFromMatrixPosition(t.matrixWorld),n.position.copy(Zu),Ju.copy(n.position),Ju.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(Ju),n.updateMatrixWorld(),r.makeTranslation(-Zu.x,-Zu.y,-Zu.z),Qu.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qu)}}eh.prototype.isPointLightShadow=!0;class nh extends Hu{constructor(t,e,n=0,r=1){super(t,e),this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new eh}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(source){return super.copy(source),this.distance=source.distance,this.decay=source.decay,this.shadow=source.shadow.clone(),this}}nh.prototype.isPointLight=!0;class ih extends Yu{constructor(){super(new Ja(-5,5,5,-5,.5,500))}}ih.prototype.isDirectionalLightShadow=!0;class rh extends Hu{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(Sr.DefaultUp),this.updateMatrix(),this.target=new Sr,this.shadow=new ih}dispose(){this.shadow.dispose()}copy(source){return super.copy(source),this.target=source.target.clone(),this.shadow=source.shadow.clone(),this}}rh.prototype.isDirectionalLight=!0;class ah extends Hu{constructor(t,e){super(t,e),this.type="AmbientLight"}}ah.prototype.isAmbientLight=!0;class oh extends Hu{constructor(t,e,n=10,r=10){super(t,e),this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(source){return super.copy(source),this.width=source.width,this.height=source.height,this}toJSON(meta){const data=super.toJSON(meta);return data.object.width=this.width,data.object.height=this.height,data}}oh.prototype.isRectAreaLight=!0;class sh{constructor(){this.coefficients=[];for(let i=0;i<9;i++)this.coefficients.push(new vi)}set(t){for(let i=0;i<9;i++)this.coefficients[i].copy(t[i]);return this}zero(){for(let i=0;i<9;i++)this.coefficients[i].set(0,0,0);return this}getAt(t,e){const n=t.x,r=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*r),e.addScaledVector(l[2],.488603*o),e.addScaledVector(l[3],.488603*n),e.addScaledVector(l[4],n*r*1.092548),e.addScaledVector(l[5],r*o*1.092548),e.addScaledVector(l[6],.315392*(3*o*o-1)),e.addScaledVector(l[7],n*o*1.092548),e.addScaledVector(l[8],.546274*(n*n-r*r)),e}getIrradianceAt(t,e){const n=t.x,r=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],1.023328*r),e.addScaledVector(l[2],1.023328*o),e.addScaledVector(l[3],1.023328*n),e.addScaledVector(l[4],.858086*n*r),e.addScaledVector(l[5],.858086*r*o),e.addScaledVector(l[6],.743125*o*o-.247708),e.addScaledVector(l[7],.858086*n*o),e.addScaledVector(l[8],.429043*(n*n-r*r)),e}add(t){for(let i=0;i<9;i++)this.coefficients[i].add(t.coefficients[i]);return this}addScaledSH(t,s){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],s);return this}scale(s){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(s);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(t.coefficients[i]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,r=t.y,o=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*o,e[3]=.488603*n,e[4]=1.092548*n*r,e[5]=1.092548*r*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*n*o,e[8]=.546274*(n*n-r*r)}}sh.prototype.isSphericalHarmonics3=!0;class lh extends Hu{constructor(t=new sh,e=1){super(void 0,e),this.sh=t}copy(source){return super.copy(source),this.sh.copy(source.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(meta){const data=super.toJSON(meta);return data.object.sh=this.sh.toArray(),data}}lh.prototype.isLightProbe=!0;class ph extends Du{constructor(t){super(t),this.textures={}}load(t,e,n,r){const o=this,l=new ku(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,(function(text){try{e(o.parse(JSON.parse(text)))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}parse(t){const e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const r=Or.fromType(t.type);if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&void 0!==r.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.sheen&&(r.sheen=t.sheen),void 0!==t.sheenColor&&(r.sheenColor=(new ei).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(r.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==r.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==r.specular&&r.specular.setHex(t.specular),void 0!==t.specularIntensity&&(r.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearcoat&&(r.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(r.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.transmission&&(r.transmission=t.transmission),void 0!==t.thickness&&(r.thickness=t.thickness),void 0!==t.attenuationDistance&&(r.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(t.attenuationColor),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.shadowSide&&(r.shadowSide=t.shadowSide),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(r.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(r.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(r.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(r.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(r.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(r.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(r.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(r.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.alphaToCoverage&&(r.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(r.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.toneMapped&&(r.toneMapped=t.toneMapped),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?r.vertexColors=t.vertexColors>0:r.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const o=t.uniforms[e];switch(r.uniforms[e]={},o.type){case"t":r.uniforms[e].value=n(o.value);break;case"c":r.uniforms[e].value=(new ei).setHex(o.value);break;case"v2":r.uniforms[e].value=(new Fn).fromArray(o.value);break;case"v3":r.uniforms[e].value=(new vi).fromArray(o.value);break;case"v4":r.uniforms[e].value=(new pi).fromArray(o.value);break;case"m3":r.uniforms[e].value=(new Vn).fromArray(o.value);break;case"m4":r.uniforms[e].value=(new Yi).fromArray(o.value);break;default:r.uniforms[e].value=o.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const e in t.extensions)r.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.matcap&&(r.matcap=n(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),r.normalScale=(new Fn).fromArray(e)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.specularIntensityMap&&(r.specularIntensityMap=n(t.specularIntensityMap)),void 0!==t.specularColorMap&&(r.specularColorMap=n(t.specularColorMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(r.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(r.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(r.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Fn).fromArray(t.clearcoatNormalScale)),void 0!==t.transmissionMap&&(r.transmissionMap=n(t.transmissionMap)),void 0!==t.thicknessMap&&(r.thicknessMap=n(t.thicknessMap)),void 0!==t.sheenColorMap&&(r.sheenColorMap=n(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(r.sheenRoughnessMap=n(t.sheenRoughnessMap)),r}setTextures(t){return this.textures=t,this}}class ch{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let s="";for(let i=0,e=t.length;i<e;i++)s+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(s))}catch(t){return s}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,path){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(path)&&/^\//.test(t)&&(path=path.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:path+t)}}class uh extends ia{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(source){return super.copy(source),this.instanceCount=source.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const data=super.toJSON(this);return data.instanceCount=this.instanceCount,data.isInstancedBufferGeometry=!0,data}}uh.prototype.isInstancedBufferGeometry=!0;class hh extends Du{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new ku(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,(function(text){try{e(o.parse(JSON.parse(text)))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}parse(t){const e={},n={};function r(t,r){if(void 0!==e[r])return e[r];const o=t.interleavedBuffers[r],l=function(t,e){if(void 0!==n[e])return n[e];const r=t.arrayBuffers[e],o=new Uint32Array(r).buffer;return n[e]=o,o}(t,o.buffer),c=Hn(o.type,l),h=new Pl(c,o.stride);return h.uuid=o.uuid,e[r]=h,h}const o=t.isInstancedBufferGeometry?new uh:new ia,l=t.data.index;if(void 0!==l){const t=Hn(l.type,l.array);o.setIndex(new Fr(t,1))}const c=t.data.attributes;for(const e in c){const n=c[e];let l;if(n.isInterleavedBufferAttribute){const e=r(t.data,n.data);l=new Il(e,n.itemSize,n.offset,n.normalized)}else{const t=Hn(n.type,n.array);l=new(n.isInstancedBufferAttribute?pp:Fr)(t,n.itemSize,n.normalized)}void 0!==n.name&&(l.name=n.name),void 0!==n.usage&&l.setUsage(n.usage),void 0!==n.updateRange&&(l.updateRange.offset=n.updateRange.offset,l.updateRange.count=n.updateRange.count),o.setAttribute(e,l)}const h=t.data.morphAttributes;if(h)for(const e in h){const n=h[e],l=[];for(let i=0,e=n.length;i<e;i++){const e=n[i];let o;if(e.isInterleavedBufferAttribute){const n=r(t.data,e.data);o=new Il(n,e.itemSize,e.offset,e.normalized)}else{const t=Hn(e.type,e.array);o=new Fr(t,e.itemSize,e.normalized)}void 0!==e.name&&(o.name=e.name),l.push(o)}o.morphAttributes[e]=l}t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d)for(let i=0,t=d.length;i!==t;++i){const t=d[i];o.addGroup(t.start,t.count,t.materialIndex)}const m=t.data.boundingSphere;if(void 0!==m){const t=new vi;void 0!==m.center&&t.fromArray(m.center),o.boundingSphere=new Fi(t,m.radius)}return t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}}class dh extends Du{constructor(t){super(t)}load(t,e,n,r){const o=this,path=""===this.path?ch.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||path;const l=new ku(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,(function(text){let n=null;try{n=JSON.parse(text)}catch(e){return void 0!==r&&r(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}const l=n.metadata;void 0!==l&&void 0!==l.type&&"geometry"!==l.type.toLowerCase()?o.parse(n,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,r)}async loadAsync(t,e){const path=""===this.path?ch.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||path;const n=new ku(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials);const text=await n.loadAsync(t,e),r=JSON.parse(text),o=r.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+t);return await this.parseAsync(r)}parse(t,e){const n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),o=this.parseGeometries(t.geometries,r),l=this.parseImages(t.images,(function(){void 0!==e&&e(object)})),c=this.parseTextures(t.textures,l),h=this.parseMaterials(t.materials,c),object=this.parseObject(t.object,o,h,c,n),d=this.parseSkeletons(t.skeletons,object);if(this.bindSkeletons(object,d),void 0!==e){let t=!1;for(const e in l)if(l[e]instanceof HTMLImageElement){t=!0;break}!1===t&&e(object)}return object}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,n),o=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,o),c=this.parseMaterials(t.materials,l),object=this.parseObject(t.object,r,c,l,e),h=this.parseSkeletons(t.skeletons,object);return this.bindSkeletons(object,h),object}parseShapes(t){const e={};if(void 0!==t)for(let i=0,n=t.length;i<n;i++){const n=(new vc).fromJSON(t[i]);e[n.uuid]=n}return e}parseSkeletons(t,object){const e={},n={};if(object.traverse((function(t){t.isBone&&(n[t.uuid]=t)})),void 0!==t)for(let i=0,r=t.length;i<r;i++){const r=(new lp).fromJSON(t[i],n);e[r.uuid]=r}return e}parseGeometries(t,e){const n={};if(void 0!==t){const r=new hh;for(let i=0,o=t.length;i<o;i++){let o;const data=t[i];switch(data.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(data);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:data.type in ru?o=ru[data.type].fromJSON(data,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${data.type}"`)}o.uuid=data.uuid,void 0!==data.name&&(o.name=data.name),!0===o.isBufferGeometry&&void 0!==data.userData&&(o.userData=data.userData),n[data.uuid]=o}}return n}parseMaterials(t,e){const n={},r={};if(void 0!==t){const o=new ph;o.setTextures(e);for(let i=0,e=t.length;i<e;i++){const data=t[i];if("MultiMaterial"===data.type){const t=[];for(let e=0;e<data.materials.length;e++){const r=data.materials[e];void 0===n[r.uuid]&&(n[r.uuid]=o.parse(r)),t.push(n[r.uuid])}r[data.uuid]=t}else void 0===n[data.uuid]&&(n[data.uuid]=o.parse(data)),r[data.uuid]=n[data.uuid]}}return r}parseAnimations(t){const e={};if(void 0!==t)for(let i=0;i<t.length;i++){const data=t[i],n=Pu.parse(data);e[n.uuid]=n}return e}parseImages(t,e){const n=this,r={};let o;function l(image){if("string"==typeof image){const t=image;return function(t){return n.manager.itemStart(t),o.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return image.data?{data:Hn(image.type,image.data),width:image.width,height:image.height}:null}if(void 0!==t&&t.length>0){const n=new Lu(e);o=new Fu(n),o.setCrossOrigin(this.crossOrigin);for(let i=0,e=t.length;i<e;i++){const image=t[i],e=image.url;if(Array.isArray(e)){const t=[];for(let n=0,r=e.length;n<r;n++){const r=l(e[n]);null!==r&&(r instanceof HTMLImageElement?t.push(r):t.push(new ap(r.data,r.width,r.height)))}r[image.uuid]=new ri(t)}else{const t=l(image.url);r[image.uuid]=new ri(t)}}}return r}async parseImagesAsync(t){const e=this,n={};let r;async function o(image){if("string"==typeof image){const t=image,path=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:e.resourcePath+t;return await r.loadAsync(path)}return image.data?{data:Hn(image.type,image.data),width:image.width,height:image.height}:null}if(void 0!==t&&t.length>0){r=new Fu(this.manager),r.setCrossOrigin(this.crossOrigin);for(let i=0,e=t.length;i<e;i++){const image=t[i],e=image.url;if(Array.isArray(e)){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],l=await o(r);null!==l&&(l instanceof HTMLImageElement?t.push(l):t.push(new ap(l.data,l.width,l.height)))}n[image.uuid]=new ri(t)}else{const t=await o(image.url);n[image.uuid]=new ri(t)}}}return n}parseTextures(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}const r={};if(void 0!==t)for(let i=0,o=t.length;i<o;i++){const data=t[i];void 0===data.image&&console.warn('THREE.ObjectLoader: No "image" specified for',data.uuid),void 0===e[data.image]&&console.warn("THREE.ObjectLoader: Undefined image",data.image);const source=e[data.image],image=source.data;let o;Array.isArray(image)?(o=new La,6===image.length&&(o.needsUpdate=!0)):(o=image&&image.data?new ap:new si,image&&(o.needsUpdate=!0)),o.source=source,o.uuid=data.uuid,void 0!==data.name&&(o.name=data.name),void 0!==data.mapping&&(o.mapping=n(data.mapping,mh)),void 0!==data.offset&&o.offset.fromArray(data.offset),void 0!==data.repeat&&o.repeat.fromArray(data.repeat),void 0!==data.center&&o.center.fromArray(data.center),void 0!==data.rotation&&(o.rotation=data.rotation),void 0!==data.wrap&&(o.wrapS=n(data.wrap[0],fh),o.wrapT=n(data.wrap[1],fh)),void 0!==data.format&&(o.format=data.format),void 0!==data.type&&(o.type=data.type),void 0!==data.encoding&&(o.encoding=data.encoding),void 0!==data.minFilter&&(o.minFilter=n(data.minFilter,gh)),void 0!==data.magFilter&&(o.magFilter=n(data.magFilter,gh)),void 0!==data.anisotropy&&(o.anisotropy=data.anisotropy),void 0!==data.flipY&&(o.flipY=data.flipY),void 0!==data.premultiplyAlpha&&(o.premultiplyAlpha=data.premultiplyAlpha),void 0!==data.unpackAlignment&&(o.unpackAlignment=data.unpackAlignment),void 0!==data.userData&&(o.userData=data.userData),r[data.uuid]=o}return r}parseObject(data,t,e,n,r){let object,o,l;function c(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function h(t){if(void 0!==t){if(Array.isArray(t)){const n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];void 0===e[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),n.push(e[r])}return n}return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),e[t]}}function d(t){return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined texture",t),n[t]}switch(data.type){case"Scene":object=new Tl,void 0!==data.background&&(Number.isInteger(data.background)?object.background=new ei(data.background):object.background=d(data.background)),void 0!==data.environment&&(object.environment=d(data.environment)),void 0!==data.fog&&("Fog"===data.fog.type?object.fog=new Al(data.fog.color,data.fog.near,data.fog.far):"FogExp2"===data.fog.type&&(object.fog=new Rl(data.fog.color,data.fog.density)));break;case"PerspectiveCamera":object=new Pa(data.fov,data.aspect,data.near,data.far),void 0!==data.focus&&(object.focus=data.focus),void 0!==data.zoom&&(object.zoom=data.zoom),void 0!==data.filmGauge&&(object.filmGauge=data.filmGauge),void 0!==data.filmOffset&&(object.filmOffset=data.filmOffset),void 0!==data.view&&(object.view=Object.assign({},data.view));break;case"OrthographicCamera":object=new Ja(data.left,data.right,data.top,data.bottom,data.near,data.far),void 0!==data.zoom&&(object.zoom=data.zoom),void 0!==data.view&&(object.view=Object.assign({},data.view));break;case"AmbientLight":object=new ah(data.color,data.intensity);break;case"DirectionalLight":object=new rh(data.color,data.intensity);break;case"PointLight":object=new nh(data.color,data.intensity,data.distance,data.decay);break;case"RectAreaLight":object=new oh(data.color,data.intensity,data.width,data.height);break;case"SpotLight":object=new Ku(data.color,data.intensity,data.distance,data.angle,data.penumbra,data.decay);break;case"HemisphereLight":object=new Xu(data.color,data.groundColor,data.intensity);break;case"LightProbe":object=(new lh).fromJSON(data);break;case"SkinnedMesh":o=c(data.geometry),l=h(data.material),object=new np(o,l),void 0!==data.bindMode&&(object.bindMode=data.bindMode),void 0!==data.bindMatrix&&object.bindMatrix.fromArray(data.bindMatrix),void 0!==data.skeleton&&(object.skeleton=data.skeleton);break;case"Mesh":o=c(data.geometry),l=h(data.material),object=new ba(o,l);break;case"InstancedMesh":o=c(data.geometry),l=h(data.material);const t=data.count,e=data.instanceMatrix,n=data.instanceColor;object=new mp(o,l,t),object.instanceMatrix=new pp(new Float32Array(e.array),16),void 0!==n&&(object.instanceColor=new pp(new Float32Array(n.array),n.itemSize));break;case"LOD":object=new Kl;break;case"Line":object=new bp(c(data.geometry),h(data.material));break;case"LineLoop":object=new Ep(c(data.geometry),h(data.material));break;case"LineSegments":object=new Mp(c(data.geometry),h(data.material));break;case"PointCloud":case"Points":object=new Ip(c(data.geometry),h(data.material));break;case"Sprite":object=new jl(h(data.material));break;case"Group":object=new xl;break;case"Bone":object=new ip;break;default:object=new Sr}if(object.uuid=data.uuid,void 0!==data.name&&(object.name=data.name),void 0!==data.matrix?(object.matrix.fromArray(data.matrix),void 0!==data.matrixAutoUpdate&&(object.matrixAutoUpdate=data.matrixAutoUpdate),object.matrixAutoUpdate&&object.matrix.decompose(object.position,object.quaternion,object.scale)):(void 0!==data.position&&object.position.fromArray(data.position),void 0!==data.rotation&&object.rotation.fromArray(data.rotation),void 0!==data.quaternion&&object.quaternion.fromArray(data.quaternion),void 0!==data.scale&&object.scale.fromArray(data.scale)),void 0!==data.castShadow&&(object.castShadow=data.castShadow),void 0!==data.receiveShadow&&(object.receiveShadow=data.receiveShadow),data.shadow&&(void 0!==data.shadow.bias&&(object.shadow.bias=data.shadow.bias),void 0!==data.shadow.normalBias&&(object.shadow.normalBias=data.shadow.normalBias),void 0!==data.shadow.radius&&(object.shadow.radius=data.shadow.radius),void 0!==data.shadow.mapSize&&object.shadow.mapSize.fromArray(data.shadow.mapSize),void 0!==data.shadow.camera&&(object.shadow.camera=this.parseObject(data.shadow.camera))),void 0!==data.visible&&(object.visible=data.visible),void 0!==data.frustumCulled&&(object.frustumCulled=data.frustumCulled),void 0!==data.renderOrder&&(object.renderOrder=data.renderOrder),void 0!==data.userData&&(object.userData=data.userData),void 0!==data.layers&&(object.layers.mask=data.layers),void 0!==data.children){const o=data.children;for(let i=0;i<o.length;i++)object.add(this.parseObject(o[i],t,e,n,r))}if(void 0!==data.animations){const t=data.animations;for(let i=0;i<t.length;i++){const e=t[i];object.animations.push(r[e])}}if("LOD"===data.type){void 0!==data.autoUpdate&&(object.autoUpdate=data.autoUpdate);const t=data.levels;for(let e=0;e<t.length;e++){const n=t[e],r=object.getObjectByProperty("uuid",n.object);void 0!==r&&object.addLevel(r,n.distance)}}return object}bindSkeletons(object,t){0!==Object.keys(t).length&&object.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}setTexturePath(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}const mh={UVMapping:mt,CubeReflectionMapping:ft,CubeRefractionMapping:gt,EquirectangularReflectionMapping:vt,EquirectangularRefractionMapping:xt,CubeUVReflectionMapping:_t},fh={RepeatWrapping:yt,ClampToEdgeWrapping:bt,MirroredRepeatWrapping:St},gh={NearestFilter:wt,NearestMipmapNearestFilter:Mt,NearestMipmapLinearFilter:Rt,LinearFilter:Tt,LinearMipmapNearestFilter:Pt,LinearMipmapLinearFilter:It};class vh extends Du{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=Iu.get(t);if(void 0!==l)return o.manager.itemStart(t),setTimeout((function(){e&&e(l),o.manager.itemEnd(t)}),0),l;const c={};c.credentials="anonymous"===this.crossOrigin?"same-origin":"include",c.headers=this.requestHeader,fetch(t,c).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(o.options,{colorSpaceConversion:"none"}))})).then((function(n){Iu.add(t,n),e&&e(n),o.manager.itemEnd(t)})).catch((function(e){r&&r(e),o.manager.itemError(t),o.manager.itemEnd(t)})),o.manager.itemStart(t)}}let xh;vh.prototype.isImageBitmapLoader=!0;const _h={getContext:function(){return void 0===xh&&(xh=new(window.AudioContext||window.webkitAudioContext)),xh},setContext:function(t){xh=t}};class yh extends Du{constructor(t){super(t)}load(t,e,n,r){const o=this,l=new ku(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,(function(n){try{const t=n.slice(0);_h.getContext().decodeAudioData(t,(function(t){e(t)}))}catch(e){r?r(e):console.error(e),o.manager.itemError(t)}}),n,r)}}class bh extends lh{constructor(t,e,n=1){super(void 0,n);const r=(new ei).set(t),o=(new ei).set(e),l=new vi(r.r,r.g,r.b),c=new vi(o.r,o.g,o.b),h=Math.sqrt(Math.PI),d=h*Math.sqrt(.75);this.sh.coefficients[0].copy(l).add(c).multiplyScalar(h),this.sh.coefficients[1].copy(l).sub(c).multiplyScalar(d)}}bh.prototype.isHemisphereLightProbe=!0;class Sh extends lh{constructor(t,e=1){super(void 0,e);const n=(new ei).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}Sh.prototype.isAmbientLightProbe=!0;const wh=new Yi,Mh=new Yi,Eh=new Yi;class Rh{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Eh.copy(t.projectionMatrix);const n=e.eyeSep/2,r=n*e.near/e.focus,o=e.near*Math.tan(Pn*e.fov*.5)/e.zoom;let l,c;Mh.elements[12]=-n,wh.elements[12]=n,l=-o*e.aspect+r,c=o*e.aspect+r,Eh.elements[0]=2*e.near/(c-l),Eh.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(Eh),l=-o*e.aspect-r,c=o*e.aspect-r,Eh.elements[0]=2*e.near/(c-l),Eh.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(Eh)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Mh),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(wh)}}class Ah{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Th(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=Th();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function Th(){return("undefined"==typeof performance?Date:performance).now()}const Ph=new vi,Ch=new gi,Ih=new vi,Lh=new vi;class Nh extends Sr{constructor(){super(),this.type="AudioListener",this.context=_h.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Ah}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ph,Ch,Ih),Lh.set(0,0,-1).applyQuaternion(Ch),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Ph.x,t),e.positionY.linearRampToValueAtTime(Ph.y,t),e.positionZ.linearRampToValueAtTime(Ph.z,t),e.forwardX.linearRampToValueAtTime(Lh.x,t),e.forwardY.linearRampToValueAtTime(Lh.y,t),e.forwardZ.linearRampToValueAtTime(Lh.z,t),e.upX.linearRampToValueAtTime(n.x,t),e.upY.linearRampToValueAtTime(n.y,t),e.upZ.linearRampToValueAtTime(n.z,t)}else e.setPosition(Ph.x,Ph.y,Ph.z),e.setOrientation(Lh.x,Lh.y,Lh.z,n.x,n.y,n.z)}}class Dh extends Sr{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const source=this.context.createBufferSource();return source.buffer=this.buffer,source.loop=this.loop,source.loopStart=this.loopStart,source.loopEnd=this.loopEnd,source.onended=this.onEnded.bind(this),source.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=source,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let i=1,t=this.filters.length;i<t;i++)this.filters[i-1].connect(this.filters[i]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let i=1,t=this.filters.length;i<t;i++)this.filters[i-1].disconnect(this.filters[i]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(filter){return this.setFilters(filter?[filter]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const Oh=new vi,kh=new gi,Gh=new vi,Bh=new vi;class Fh extends Dh{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Oh,kh,Gh),Bh.set(0,0,1).applyQuaternion(kh);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Oh.x,t),e.positionY.linearRampToValueAtTime(Oh.y,t),e.positionZ.linearRampToValueAtTime(Oh.z,t),e.orientationX.linearRampToValueAtTime(Bh.x,t),e.orientationY.linearRampToValueAtTime(Bh.y,t),e.orientationZ.linearRampToValueAtTime(Bh.z,t)}else e.setPosition(Oh.x,Oh.y,Oh.z),e.setOrientation(Bh.x,Bh.y,Bh.z)}}class Vh{constructor(audio,t=2048){this.analyser=audio.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),audio.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const data=this.getFrequencyData();for(let i=0;i<data.length;i++)t+=data[i];return t/data.length}}class zh{constructor(t,e,n){let r,o,l;switch(this.binding=t,this.valueSize=n,e){case"quaternion":r=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,r=this.valueSize,o=t*r+r;let l=this.cumulativeWeight;if(0===l){for(let i=0;i!==r;++i)n[o+i]=n[i];l=e}else{l+=e;const t=e/l;this._mixBufferRegion(n,o,0,t,r)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,r,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,r=t*e+e,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const t=e*this._origIndex;this._mixBufferRegion(n,r,t,1-o,e)}l>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*e,1,e);for(let i=e,t=e+e;i!==t;++i)if(n[i]!==n[i+e]){c.setValue(n,r);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,r=n*this._origIndex;t.getValue(e,r);for(let i=n,t=r;i!==t;++i)e[i]=e[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,n,r,o){if(r>=.5)for(let i=0;i!==o;++i)t[e+i]=t[n+i]}_slerp(t,e,n,r){gi.slerpFlat(t,e,t,e,t,n,r)}_slerpAdditive(t,e,n,r,o){const l=this._workIndex*o;gi.multiplyQuaternionsFlat(t,l,t,e,t,n),gi.slerpFlat(t,e,t,e,t,l,r)}_lerp(t,e,n,r,o){const s=1-r;for(let i=0;i!==o;++i){const o=e+i;t[o]=t[o]*s+t[n+i]*r}}_lerpAdditive(t,e,n,r,o){for(let i=0;i!==o;++i){const o=e+i;t[o]=t[o]+t[n+i]*r}}}const Uh="\\[\\]\\.:\\/",Hh=new RegExp("[\\[\\]\\.:\\/]","g"),Xh="[^\\[\\]\\.:\\/]",Wh="[^"+Uh.replace("\\.","")+"]",jh=/((?:WC+[\/:])*)/.source.replace("WC",Xh),qh=/(WCOD+)?/.source.replace("WCOD",Wh),Yh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Xh),$h=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Xh),Kh=new RegExp("^"+jh+qh+Yh+$h+"$"),Qh=["material","materials","bones"];class Zh{constructor(t,path,e){this.path=path,this.parsedPath=e||Zh.parseTrackName(path),this.node=Zh.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,path,e){return t&&t.isAnimationObjectGroup?new Zh.Composite(t,path,e):new Zh(t,path,e)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Hh,"")}static parseTrackName(t){const e=Kh.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const t=n.nodeName.substring(r+1);-1!==Qh.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},r=n(t.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const source=this.resolvedProperty;for(let i=0,n=source.length;i!==n;++i)t[e++]=source[i]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,r=e.propertyName;let o=e.propertyIndex;if(t||(t=Zh.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let i=0;i<t.length;i++)if(t[i].name===r){r=i;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==r){if(void 0===t[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[r]}}const l=t[r];if(void 0===l){const n=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",t)}let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else void 0!==l.fromArray&&void 0!==l.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Zh.Composite=class{constructor(t,path,e){const n=e||Zh.parseTrackName(path);this._targetGroup=t,this._bindings=t.subscribe_(path,n)}getValue(t,e){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}bind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,e=t.length;i!==e;++i)t[i].bind()}unbind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,e=t.length;i!==e;++i)t[i].unbind()}},Zh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Zh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Zh.prototype.GetterByBindingType=[Zh.prototype._getValue_direct,Zh.prototype._getValue_array,Zh.prototype._getValue_arrayElement,Zh.prototype._getValue_toArray],Zh.prototype.SetterByBindingTypeAndVersioning=[[Zh.prototype._setValue_direct,Zh.prototype._setValue_direct_setNeedsUpdate,Zh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zh.prototype._setValue_array,Zh.prototype._setValue_array_setNeedsUpdate,Zh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zh.prototype._setValue_arrayElement,Zh.prototype._setValue_arrayElement_setNeedsUpdate,Zh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zh.prototype._setValue_fromArray,Zh.prototype._setValue_fromArray_setNeedsUpdate,Zh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Jh{constructor(){this.uuid=In(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,e=arguments.length;i!==e;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,n=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length;let c,h=t.length,d=this.nCachedObjects_;for(let i=0,m=arguments.length;i!==m;++i){const object=arguments[i],m=object.uuid;let f=e[m];if(void 0===f){f=h++,e[m]=f,t.push(object);for(let t=0,e=l;t!==e;++t)o[t].push(new Zh(object,n[t],r[t]))}else if(f<d){c=t[f];const h=--d,v=t[h];e[v.uuid]=f,t[f]=v,e[m]=h,t[h]=object;for(let t=0,e=l;t!==e;++t){const e=o[t],l=e[h];let c=e[f];e[f]=l,void 0===c&&(c=new Zh(object,n[t],r[t])),e[h]=c}}else t[f]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_;for(let i=0,l=arguments.length;i!==l;++i){const object=arguments[i],l=object.uuid,c=e[l];if(void 0!==c&&c>=o){const h=o++,d=t[h];e[d.uuid]=c,t[c]=d,e[l]=h,t[h]=object;for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[h],o=e[c];e[c]=r,e[h]=o}}}this.nCachedObjects_=o}uncache(){const t=this._objects,e=this._indicesByUUID,n=this._bindings,r=n.length;let o=this.nCachedObjects_,l=t.length;for(let i=0,c=arguments.length;i!==c;++i){const c=arguments[i].uuid,h=e[c];if(void 0!==h)if(delete e[c],h<o){const c=--o,d=t[c],m=--l,f=t[m];e[d.uuid]=h,t[h]=d,e[f.uuid]=c,t[c]=f,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t],r=e[c],o=e[m];e[h]=r,e[c]=o,e.pop()}}else{const o=--l,c=t[o];o>0&&(e[c.uuid]=h),t[h]=c,t.pop();for(let t=0,e=r;t!==e;++t){const e=n[t];e[h]=e[o],e.pop()}}}this.nCachedObjects_=o}subscribe_(path,t){const e=this._bindingsIndicesByPath;let n=e[path];const r=this._bindings;if(void 0!==n)return r[n];const o=this._paths,l=this._parsedPaths,c=this._objects,h=c.length,d=this.nCachedObjects_,m=new Array(h);n=r.length,e[path]=n,o.push(path),l.push(t),r.push(m);for(let i=d,e=c.length;i!==e;++i){const object=c[i];m[i]=new Zh(object,path,t)}return m}unsubscribe_(path){const t=this._bindingsIndicesByPath,e=t[path];if(void 0!==e){const n=this._paths,r=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l];t[path[l]]=e,o[e]=c,o.pop(),r[e]=r[l],r.pop(),n[e]=n[l],n.pop()}}}Jh.prototype.isAnimationObjectGroup=!0;class ed{constructor(t,e,n=null,r=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=r;const o=e.tracks,l=o.length,c=new Array(l),h={endingStart:De,endingEnd:De};for(let i=0;i!==l;++i){const t=o[i].createInterpolant(null);c[i]=t,t.settings=h}this._interpolantSettings=h,this._interpolants=c,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Pe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(time){return this._startTime=time,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const n=this._clip.duration,r=t._clip.duration,o=r/n,l=n/r;t.warp(1,o,e),this.warp(l,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const r=this._mixer,o=r.time,l=this.timeScale;let c=this._timeScaleInterpolant;null===c&&(c=r._lendControlInterpolant(),this._timeScaleInterpolant=c);const h=c.parameterPositions,d=c.sampleValues;return h[0]=o,h[1]=o+n,d[0]=t/l,d[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(time,t,e,n){if(!this.enabled)return void this._updateWeight(time);const r=this._startTime;if(null!==r){const n=(time-r)*e;if(n<0||0===e)return;this._startTime=null,t=e*n}t*=this._updateTimeScale(time);const o=this._updateTime(t),l=this._updateWeight(time);if(l>0){const t=this._interpolants,e=this._propertyBindings;if(this.blendMode===Be)for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulateAdditive(l);else for(let r=0,c=t.length;r!==c;++r)t[r].evaluate(o),e[r].accumulate(n,l)}}_updateWeight(time){let t=0;if(this.enabled){t=this.weight;const e=this._weightInterpolant;if(null!==e){const n=e.evaluate(time)[0];t*=n,time>e.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(time){let t=0;if(!this.paused){t=this.timeScale;const e=this._timeScaleInterpolant;if(null!==e){t*=e.evaluate(time)[0],time>e.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(t){const e=this._clip.duration,n=this.loop;let time=this.time+t,r=this._loopCount;const o=n===Ce;if(0===t)return-1===r?time:o&&1==(1&r)?e-time:time;if(n===Te){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(time>=e)time=e;else{if(!(time<0)){this.time=time;break t}time=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),time>=e||time<0){const n=Math.floor(time/e);time-=e*n,r+=Math.abs(n);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,time=t>0?e:0,this.time=time,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===l){const e=t<0;this._setEndings(e,!e,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=time,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=time;if(o&&1==(1&r))return e-time}return time}_setEndings(t,e,n){const r=this._interpolantSettings;n?(r.endingStart=Oe,r.endingEnd=Oe):(r.endingStart=t?this.zeroSlopeAtStart?Oe:De:ke,r.endingEnd=e?this.zeroSlopeAtEnd?Oe:De:ke)}_scheduleFading(t,e,n){const r=this._mixer,o=r.time;let l=this._weightInterpolant;null===l&&(l=r._lendControlInterpolant(),this._weightInterpolant=l);const c=l.parameterPositions,h=l.sampleValues;return c[0]=o,h[0]=e,c[1]=o+t,h[1]=n,this}}class nd extends Rn{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,r=t._clip.tracks,o=r.length,l=t._propertyBindings,c=t._interpolants,h=n.uuid,d=this._bindingsByRootAndName;let m=d[h];void 0===m&&(m={},d[h]=m);for(let i=0;i!==o;++i){const track=r[i],t=track.name;let o=m[t];if(void 0!==o)++o.referenceCount,l[i]=o;else{if(o=l[i],void 0!==o){null===o._cacheIndex&&(++o.referenceCount,this._addInactiveBinding(o,h,t));continue}const path=e&&e._propertyBindings[i].binding.parsedPath;o=new zh(Zh.create(n,t,path),track.ValueTypeName,track.getValueSize()),++o.referenceCount,this._addInactiveBinding(o,h,t),l[i]=o}c[i].resultBuffer=o.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}const e=t._propertyBindings;for(let i=0,t=e.length;i!==t;++i){const t=e[i];0==t.useCount++&&(this._lendBinding(t),t.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,t=e.length;i!==t;++i){const t=e[i];0==--t.useCount&&(t.restoreOriginalState(),this._takeBackBinding(t))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,n){const r=this._actions,o=this._actionsByClip;let l=o[e];if(void 0===l)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=l;else{const e=l.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=r.length,r.push(t),l.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;const o=t._clip.uuid,l=this._actionsByClip,c=l[o],h=c.knownActions,d=h[h.length-1],m=t._byClipCacheIndex;d._byClipCacheIndex=m,h[m]=d,h.pop(),t._byClipCacheIndex=null;delete c.actionByRoot[(t._localRoot||this._root).uuid],0===h.length&&delete l[o],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,t=e.length;i!==t;++i){const t=e[i];0==--t.referenceCount&&this._removeInactiveBinding(t)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_addInactiveBinding(t,e,n){const r=this._bindingsByRootAndName,o=this._bindings;let l=r[e];void 0===l&&(l={},r[e]=l),l[n]=t,t._cacheIndex=o.length,o.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,r=n.rootNode.uuid,o=n.path,l=this._bindingsByRootAndName,c=l[r],h=e[e.length-1],d=t._cacheIndex;h._cacheIndex=d,e[d]=h,e.pop(),delete c[o],0===Object.keys(c).length&&delete l[r]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,o=e[r];t._cacheIndex=r,e[r]=t,o._cacheIndex=n,e[n]=o}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new _u(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,o=e[r];t.__cacheIndex=r,e[r]=t,o.__cacheIndex=n,e[n]=o}clipAction(t,e,n){const r=e||this._root,o=r.uuid;let l="string"==typeof t?Pu.findByName(r,t):t;const c=null!==l?l.uuid:t,h=this._actionsByClip[c];let d=null;if(void 0===n&&(n=null!==l?l.blendMode:Ge),void 0!==h){const t=h.actionByRoot[o];if(void 0!==t&&t.blendMode===n)return t;d=h.knownActions[0],null===l&&(l=d._clip)}if(null===l)return null;const m=new ed(this,l,e,n);return this._bindAction(m,d),this._addInactiveAction(m,c,o),m}existingAction(t,e){const n=e||this._root,r=n.uuid,o="string"==typeof t?Pu.findByName(n,t):t,l=o?o.uuid:t,c=this._actionsByClip[l];return void 0!==c&&c.actionByRoot[r]||null}stopAllAction(){const t=this._actions;for(let i=this._nActiveActions-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,n=this._nActiveActions,time=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1;for(let i=0;i!==n;++i){e[i]._update(time,t,r,o)}const l=this._bindings,c=this._nActiveBindings;for(let i=0;i!==c;++i)l[i].apply(o);return this}setTime(t){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,r=this._actionsByClip,o=r[n];if(void 0!==o){const t=o.knownActions;for(let i=0,n=t.length;i!==n;++i){const n=t[i];this._deactivateAction(n);const r=n._cacheIndex,o=e[e.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,o._cacheIndex=r,e[r]=o,e.pop(),this._removeInactiveBindingsForAction(n)}delete r[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const t in n){const r=n[t].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const t in r){const e=r[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}nd.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class id{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new id(void 0===this.value.clone?this.value:this.value.clone())}}class rd extends Pl{constructor(t,e,n=1){super(t,e),this.meshPerAttribute=n}copy(source){return super.copy(source),this.meshPerAttribute=source.meshPerAttribute,this}clone(data){const t=super.clone(data);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(data){const t=super.toJSON(data);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}rd.prototype.isInstancedInterleavedBuffer=!0;class ad{constructor(t,e,n,r,o){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=r,this.count=o,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}ad.prototype.isGLBufferAttribute=!0;class od{constructor(t,e,n=0,r=1/0){this.ray=new qi(t,e),this.near=n,this.far=r,this.camera=null,this.layers=new or,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(object,t=!0,e=[]){return ld(object,this,e,t),e.sort(sd),e}intersectObjects(t,e=!0,n=[]){for(let i=0,r=t.length;i<r;i++)ld(t[i],this,n,e);return n.sort(sd),n}}function sd(a,b){return a.distance-b.distance}function ld(object,t,e,n){if(object.layers.test(t.layers)&&object.raycast(t,e),!0===n){const n=object.children;for(let i=0,r=n.length;i<r;i++)ld(n[i],t,e,!0)}}class pd{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Ln(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class cd{constructor(t=1,e=0,n=0){return this.radius=t,this.theta=e,this.y=n,this}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return(new this.constructor).copy(this)}}const ud=new Fn;class hd{constructor(t=new Fn(1/0,1/0),e=new Fn(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let i=0,e=t.length;i<e;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,e){const n=ud.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return ud.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}hd.prototype.isBox2=!0;const md=new vi,fd=new vi;class gd{constructor(t=new vi,e=new vi){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(line){return this.start.copy(line.start),this.end.copy(line.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){md.subVectors(t,this.start),fd.subVectors(this.end,this.start);const n=fd.dot(fd);let r=fd.dot(md)/n;return e&&(r=Ln(r,0,1)),r}closestPointToPoint(t,e,n){const r=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(line){return line.start.equals(this.start)&&line.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const vd=new vi;class xd extends Sr{constructor(t,e){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;const n=new ia,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let i=0,t=1,e=32;i<e;i++,t++){const n=i/e*Math.PI*2,o=t/e*Math.PI*2;r.push(Math.cos(n),Math.sin(n),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new Yr(r,3));const o=new fp({fog:!1,toneMapped:!1});this.cone=new Mp(n,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),vd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _d=new vi,yd=new Yi,bd=new Yi;class Sd extends Mp{constructor(object){const t=wd(object),e=new ia,n=[],r=[],o=new ei(0,0,1),l=new ei(0,1,0);for(let i=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(o.r,o.g,o.b),r.push(l.r,l.g,l.b))}e.setAttribute("position",new Yr(n,3)),e.setAttribute("color",new Yr(r,3));super(e,new fp({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=object,this.bones=t,this.matrix=object.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,r=n.getAttribute("position");bd.copy(this.root.matrixWorld).invert();for(let i=0,t=0;i<e.length;i++){const n=e[i];n.parent&&n.parent.isBone&&(yd.multiplyMatrices(bd,n.matrixWorld),_d.setFromMatrixPosition(yd),r.setXYZ(t,_d.x,_d.y,_d.z),yd.multiplyMatrices(bd,n.parent.matrixWorld),_d.setFromMatrixPosition(yd),r.setXYZ(t+1,_d.x,_d.y,_d.z),t+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function wd(object){const t=[];!0===object.isBone&&t.push(object);for(let i=0;i<object.children.length;i++)t.push.apply(t,wd(object.children[i]));return t}class Md extends ba{constructor(t,e,n){super(new Qc(e,4,2),new kr({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Ed=new vi,Rd=new ei,Ad=new ei;class Td extends Sr{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new Yc(e);r.rotateY(.5*Math.PI),this.material=new kr({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const o=r.getAttribute("position"),l=new Float32Array(3*o.count);r.setAttribute("color",new Fr(l,3)),this.add(new ba(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");Rd.copy(this.light.color),Ad.copy(this.light.groundColor);for(let i=0,t=e.count;i<t;i++){const n=i<t/2?Rd:Ad;e.setXYZ(i,n.r,n.g,n.b)}e.needsUpdate=!0}t.lookAt(Ed.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Pd extends Mp{constructor(t=10,e=10,n=4473924,r=8947848){n=new ei(n),r=new ei(r);const o=e/2,l=t/e,c=t/2,h=[],d=[];for(let i=0,t=0,m=-c;i<=e;i++,m+=l){h.push(-c,0,m,c,0,m),h.push(m,0,-c,m,0,c);const e=i===o?n:r;e.toArray(d,t),t+=3,e.toArray(d,t),t+=3,e.toArray(d,t),t+=3,e.toArray(d,t),t+=3}const m=new ia;m.setAttribute("position",new Yr(h,3)),m.setAttribute("color",new Yr(d,3));super(m,new fp({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}class Cd extends Mp{constructor(t=10,e=16,n=8,r=64,o=4473924,l=8947848){o=new ei(o),l=new ei(l);const c=[],h=[];for(let i=0;i<=e;i++){const n=i/e*(2*Math.PI),r=Math.sin(n)*t,d=Math.cos(n)*t;c.push(0,0,0),c.push(r,0,d);const m=1&i?o:l;h.push(m.r,m.g,m.b),h.push(m.r,m.g,m.b)}for(let i=0;i<=n;i++){const e=1&i?o:l,d=t-t/n*i;for(let t=0;t<r;t++){let n=t/r*(2*Math.PI),o=Math.sin(n)*d,l=Math.cos(n)*d;c.push(o,0,l),h.push(e.r,e.g,e.b),n=(t+1)/r*(2*Math.PI),o=Math.sin(n)*d,l=Math.cos(n)*d,c.push(o,0,l),h.push(e.r,e.g,e.b)}}const d=new ia;d.setAttribute("position",new Yr(c,3)),d.setAttribute("color",new Yr(h,3));super(d,new fp({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}}const Id=new vi,Ld=new vi,Nd=new vi;class Dd extends Sr{constructor(t,e,n){super(),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);let r=new ia;r.setAttribute("position",new Yr([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const o=new fp({fog:!1,toneMapped:!1});this.lightPlane=new bp(r,o),this.add(this.lightPlane),r=new ia,r.setAttribute("position",new Yr([0,0,0,0,0,1],3)),this.targetLine=new bp(r,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){Id.setFromMatrixPosition(this.light.matrixWorld),Ld.setFromMatrixPosition(this.light.target.matrixWorld),Nd.subVectors(Ld,Id),this.lightPlane.lookAt(Ld),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ld),this.targetLine.scale.z=Nd.length()}}const Od=new vi,kd=new Ta;class Gd extends Mp{constructor(t){const e=new ia,n=new fp({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],o=[],l={},c=new ei(16755200),h=new ei(16711680),d=new ei(43775),m=new ei(16777215),f=new ei(3355443);function v(a,b,t){x(a,t),x(b,t)}function x(t,e){r.push(0,0,0),o.push(e.r,e.g,e.b),void 0===l[t]&&(l[t]=[]),l[t].push(r.length/3-1)}v("n1","n2",c),v("n2","n4",c),v("n4","n3",c),v("n3","n1",c),v("f1","f2",c),v("f2","f4",c),v("f4","f3",c),v("f3","f1",c),v("n1","f1",c),v("n2","f2",c),v("n3","f3",c),v("n4","f4",c),v("p","n1",h),v("p","n2",h),v("p","n3",h),v("p","n4",h),v("u1","u2",d),v("u2","u3",d),v("u3","u1",d),v("c","t",m),v("p","c",f),v("cn1","cn2",f),v("cn3","cn4",f),v("cf1","cf2",f),v("cf3","cf4",f),e.setAttribute("position",new Yr(r,3)),e.setAttribute("color",new Yr(o,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update()}update(){const t=this.geometry,e=this.pointMap;kd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Bd("c",e,t,kd,0,0,-1),Bd("t",e,t,kd,0,0,1),Bd("n1",e,t,kd,-1,-1,-1),Bd("n2",e,t,kd,1,-1,-1),Bd("n3",e,t,kd,-1,1,-1),Bd("n4",e,t,kd,1,1,-1),Bd("f1",e,t,kd,-1,-1,1),Bd("f2",e,t,kd,1,-1,1),Bd("f3",e,t,kd,-1,1,1),Bd("f4",e,t,kd,1,1,1),Bd("u1",e,t,kd,.7,1.1,-1),Bd("u2",e,t,kd,-.7,1.1,-1),Bd("u3",e,t,kd,0,2,-1),Bd("cf1",e,t,kd,-1,0,1),Bd("cf2",e,t,kd,1,0,1),Bd("cf3",e,t,kd,0,-1,1),Bd("cf4",e,t,kd,0,1,1),Bd("cn1",e,t,kd,-1,0,-1),Bd("cn2",e,t,kd,1,0,-1),Bd("cn3",e,t,kd,0,-1,-1),Bd("cn4",e,t,kd,0,1,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Bd(t,e,n,r,o,l,c){Od.set(o,l,c).unproject(r);const h=e[t];if(void 0!==h){const t=n.getAttribute("position");for(let i=0,e=h.length;i<e;i++)t.setXYZ(h[i],Od.x,Od.y,Od.z)}}const Fd=new yi;class Vd extends Mp{constructor(object,t=16776960){const e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new ia;r.setIndex(new Fr(e,1)),r.setAttribute("position",new Fr(n,3)),super(r,new fp({color:t,toneMapped:!1})),this.object=object,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(object){if(void 0!==object&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Fd.setFromObject(this.object),Fd.isEmpty())return;const t=Fd.min,e=Fd.max,n=this.geometry.attributes.position,r=n.array;r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=t.x,r[4]=e.y,r[5]=e.z,r[6]=t.x,r[7]=t.y,r[8]=e.z,r[9]=e.x,r[10]=t.y,r[11]=e.z,r[12]=e.x,r[13]=e.y,r[14]=t.z,r[15]=t.x,r[16]=e.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=e.x,r[22]=t.y,r[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(object){return this.object=object,this.update(),this}copy(source){return Mp.prototype.copy.call(this,source),this.object=source.object,this}}class zd extends Mp{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new ia;r.setIndex(new Fr(n,1)),r.setAttribute("position",new Yr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new fp({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}}class Ud extends bp{constructor(t,e=1,n=16776960){const r=n,o=new ia;o.setAttribute("position",new Yr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),o.computeBoundingSphere(),super(o,new fp({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const l=new ia;l.setAttribute("position",new Yr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),l.computeBoundingSphere(),this.add(new ba(l,new kr({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){let e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?S:y,this.lookAt(this.plane.normal),super.updateMatrixWorld(t)}}const Hd=new vi;let Xd,Wd;class jd extends Sr{constructor(t=new vi(0,0,1),e=new vi(0,0,0),n=1,r=16776960,o=.2*n,l=.2*o){super(),this.type="ArrowHelper",void 0===Xd&&(Xd=new ia,Xd.setAttribute("position",new Yr([0,0,0,0,1,0],3)),Wd=new lc(0,.5,1,5,1),Wd.translate(0,-.5,0)),this.position.copy(e),this.line=new bp(Xd,new fp({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ba(Wd,new kr({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,o,l)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Hd.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Hd,e)}}setLength(t,e=.2*t,n=.2*e){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(source){return super.copy(source,!1),this.line.copy(source.line),this.cone.copy(source.cone),this}}class qd extends Mp{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new ia;n.setAttribute("position",new Yr(e,3)),n.setAttribute("color",new Yr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new fp({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,n){const r=new ei,o=this.geometry.attributes.color.array;return r.set(t),r.toArray(o,0),r.toArray(o,3),r.set(e),r.toArray(o,6),r.toArray(o,9),r.set(n),r.toArray(o,12),r.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yd{constructor(){this.type="ShapePath",this.color=new ei,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new rc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,r){return this.currentPath.quadraticCurveTo(t,e,n,r),this}bezierCurveTo(t,e,n,r,o,l){return this.currentPath.bezierCurveTo(t,e,n,r,o,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t,e){function n(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i],r=new vc;r.curves=n.curves,e.push(r)}return e}function r(t,e){const n=e.length;let r=!1;for(let p=n-1,q=0;q<n;p=q++){let n=e[p],o=e[q],l=o.x-n.x,c=o.y-n.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(n=e[q],l=-l,o=e[p],c=-c),t.y<n.y||t.y>o.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=c*(t.x-n.x)-l*(t.y-n.y);if(0===e)return!0;if(e<0)continue;r=!r}}else{if(t.y!==n.y)continue;if(o.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=o.x)return!0}}return r}const o=Uc.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===e)return n(l);let c,h,d;const m=[];if(1===l.length)return h=l[0],d=new vc,d.curves=h.curves,m.push(d),m;let f=!o(l[0].getPoints());f=t?!f:f;const v=[],x=[];let _,y,S=[],w=0;x[w]=void 0,S[w]=[];for(let i=0,e=l.length;i<e;i++)h=l[i],_=h.getPoints(),c=o(_),c=t?!c:c,c?(!f&&x[w]&&w++,x[w]={s:new vc,p:_},x[w].s.curves=h.curves,f&&w++,S[w]=[]):S[w].push({h:h,p:_[0]});if(!x[0])return n(l);if(x.length>1){let t=!1,e=0;for(let t=0,e=x.length;t<e;t++)v[t]=[];for(let n=0,o=x.length;n<o;n++){const o=S[n];for(let l=0;l<o.length;l++){const c=o[l];let h=!0;for(let o=0;o<x.length;o++)r(c.p,x[o].p)&&(n!==o&&e++,h?(h=!1,v[o].push(c)):t=!0);h&&v[n].push(c)}}e>0&&!1===t&&(S=v)}for(let i=0,t=x.length;i<t;i++){d=x[i].s,m.push(d),y=S[i];for(let t=0,e=y.length;t<e;t++)d.holes.push(y[t].h)}return m}}class $d{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Ln(t,-65504,65504),Qd[0]=t;const e=Zd[0],n=e>>23&511;return Jd[n]+((8388607&e)>>tm[n])}static fromHalfFloat(t){const e=t>>10;return Zd[0]=nm[rm[e]+(1023&t)]+im[e],Qd[0]}}const Kd=new ArrayBuffer(4),Qd=new Float32Array(Kd),Zd=new Uint32Array(Kd),Jd=new Uint32Array(512),tm=new Uint32Array(512);for(let i=0;i<256;++i){const t=i-127;t<-27?(Jd[i]=0,Jd[256|i]=32768,tm[i]=24,tm[256|i]=24):t<-14?(Jd[i]=1024>>-t-14,Jd[256|i]=1024>>-t-14|32768,tm[i]=-t-1,tm[256|i]=-t-1):t<=15?(Jd[i]=t+15<<10,Jd[256|i]=t+15<<10|32768,tm[i]=13,tm[256|i]=13):t<128?(Jd[i]=31744,Jd[256|i]=64512,tm[i]=24,tm[256|i]=24):(Jd[i]=31744,Jd[256|i]=64512,tm[i]=13,tm[256|i]=13)}const nm=new Uint32Array(2048),im=new Uint32Array(64),rm=new Uint32Array(64);for(let i=1;i<1024;++i){let t=i<<13,e=0;for(;0==(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,nm[i]=t|e}for(let i=1024;i<2048;++i)nm[i]=939524096+(i-1024<<13);for(let i=1;i<31;++i)im[i]=i<<23;im[31]=1199570944,im[32]=2147483648;for(let i=33;i<63;++i)im[i]=2147483648+(i-32<<23);im[63]=3347054592;for(let i=1;i<64;++i)32!==i&&(rm[i]=1024);const am=0,om=1,sm=0,lm=1,pm=2;function cm(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function um(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}class hm extends Ip{constructor(t,e){console.warn("THREE.PointCloud has been renamed to THREE.Points."),super(t,e)}}class dm extends jl{constructor(t){console.warn("THREE.Particle has been renamed to THREE.Sprite."),super(t)}}class mm extends Ip{constructor(t,e){console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),super(t,e)}}class fm extends Rp{constructor(t){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class gm extends Rp{constructor(t){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class vm extends Rp{constructor(t){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),super(t)}}class xm extends vi{constructor(t,e,n){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),super(t,e,n)}}class _m extends Fr{constructor(t,e){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),super(t,e),this.setUsage(fn)}}class ym extends Vr{constructor(t,e){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),super(t,e)}}class bm extends zr{constructor(t,e){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),super(t,e)}}class Sm extends Ur{constructor(t,e){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),super(t,e)}}class wm extends Hr{constructor(t,e){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),super(t,e)}}class Mm extends Xr{constructor(t,e){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),super(t,e)}}class Em extends Wr{constructor(t,e){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),super(t,e)}}class Rm extends jr{constructor(t,e){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),super(t,e)}}class Am extends Yr{constructor(t,e){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),super(t,e)}}class Tm extends $r{constructor(t,e){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),super(t,e)}}Gp.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Gp.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},rc.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};class Pm extends qd{constructor(t){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),super(t)}}class Cm extends Vd{constructor(object,t){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),super(object,t)}}class Im extends Mp{constructor(object,t){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),super(new gc(object.geometry),new fp({color:void 0!==t?t:16777215}))}}Pd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Sd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class Lm extends Mp{constructor(object,t){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),super(new nu(object.geometry),new fp({color:void 0!==t?t:16777215}))}}Du.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ch.extractUrlBase(t)},Du.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class Nm extends ku{constructor(t){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),super(t)}}class Dm extends zu{constructor(t){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),super(t)}}hd.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},hd.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},hd.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},hd.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)},yi.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},yi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},yi.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},yi.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},yi.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)},ar.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},Fi.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Va.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},gd.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Vn.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Vn.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Vn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Vn.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Vn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Vn.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},Yi.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},Yi.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Yi.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new vi).setFromMatrixColumn(this,3)},Yi.prototype.setRotationFromQuaternion=function(q){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(q)},Yi.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Yi.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Yi.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Yi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Yi.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},Yi.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Yi.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Yi.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Yi.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Yi.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Yi.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Yi.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Yi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Yi.prototype.makeFrustum=function(t,e,n,r,o,l){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,o,l)},Yi.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},Ga.prototype.isIntersectionLine=function(line){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(line)},gi.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},gi.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},qi.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},qi.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},qi.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},Nr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Nr.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},Nr.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},Nr.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},Nr.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)},Nr.barycoordFromPoint=function(t,a,b,e,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Nr.getBarycoord(t,a,b,e,n)},Nr.normal=function(a,b,t,e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Nr.getNormal(a,b,t,e)},vc.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},vc.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Wc(this,t)},vc.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Kc(this,t)},Fn.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},Fn.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},Fn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},vi.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},vi.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},vi.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},vi.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},vi.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},vi.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},vi.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},vi.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},vi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},pi.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},pi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Sr.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},Sr.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Sr.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},Sr.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Sr.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(Sr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ba.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ba.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Fe},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),np.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Pa.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Hu.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Fr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===fn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(fn)}}}),Fr.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?fn:mn),this},Fr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Fr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ia.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},ia.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Fr(arguments[1],arguments[2])))},ia.prototype.addDrawCall=function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},ia.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},ia.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},ia.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},ia.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(ia.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Pl.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?fn:mn),this},Pl.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Wc.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Wc.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Wc.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Tl.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},id.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Or.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ei}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===M}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(Aa.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Ml.prototype.clearTarget=function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)},Ml.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},Ml.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Ml.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Ml.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Ml.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Ml.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Ml.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Ml.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Ml.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Ml.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Ml.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Ml.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Ml.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Ml.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},Ml.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Ml.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Ml.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Ml.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Ml.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Ml.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Ml.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Ml.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Ml.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Ml.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Ml.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?He:Ue}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(hl.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class Om extends Na{constructor(t,e,n){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),super(t,n)}}function km(){console.error("THREE.CanvasRenderer has been removed")}function Gm(){console.error("THREE.JSONLoader has been removed.")}Object.defineProperties(ci.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Dh.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new yh).load(t,(function(t){e.setBuffer(t)})),this},Vh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Ia.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},Ia.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)},ii.crossOrigin=void 0,ii.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const o=new Uu;o.setCrossOrigin(this.crossOrigin);const l=o.load(t,n,void 0,r);return e&&(l.mapping=e),l},ii.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const o=new Vu;o.setCrossOrigin(this.crossOrigin);const l=o.load(t,n,void 0,r);return e&&(l.mapping=e),l},ii.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ii.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const Bm={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function Fm(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class Vm extends ia{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class zm extends ia{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function Um(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function Hm(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function Xm(){console.error("THREE.ImmediateRenderObject has been removed.")}class Wm extends ci{constructor(t,e,n){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(t,e,n),this.samples=4}}class jm extends ui{constructor(data,t,e,n){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(data,t,e,n)}}class qm extends di{constructor(data,t,e,n){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(data,t,e,n)}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)},function(t,e,n){"use strict";var r=n(33),o=(n(109),n(36),n(5),n(57),n(0)),l=n(3),c=window.__NUXT__;function h(){if(!this._hydrated)return this.$fetch()}function d(){if((t=this).$vnode&&t.$vnode.elm&&t.$vnode.elm.dataset&&t.$vnode.elm.dataset.fetchKey){var t;this._hydrated=!0,this._fetchKey=this.$vnode.elm.dataset.fetchKey;var data=c.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else for(var e in data)o.a.set(this.$data,e,data[e])}else m.call(this)}function m(){var t=!1!==this.$options.fetchOnServer;if("function"==typeof this.$options.fetchOnServer&&(t=!1!==this.$options.fetchOnServer.call(this)),t&&!this.$nuxt.isPreview&&this.$nuxt._pagePayload){this._hydrated=!0;var e=this.$options._scopeId||this.$options.name||"",n=Object(l.d)(this.$nuxt._fetchCounters,e);if("function"==typeof this.$options.fetchKey)this._fetchKey=this.$options.fetchKey.call(this,n);else{var r="string"==typeof this.$options.fetchKey?this.$options.fetchKey:e;this._fetchKey=r?r+":"+n(r):String(n(r))}var data=this.$nuxt._pagePayload.fetch[this._fetchKey];if(data&&data._error)this.$fetchState.error=data._error;else if(data)for(var c in data)o.a.set(this.$data,c,data[c]);else this.$fetch()}}function f(){var t=this;return this._fetchPromise||(this._fetchPromise=v.call(this).then((function(){delete t._fetchPromise}))),this._fetchPromise}function v(){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(regeneratorRuntime.mark((function t(){var e,n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$nuxt.nbFetching++,this.$fetchState.pending=!0,this.$fetchState.error=null,this._hydrated=!1,e=null,n=Date.now(),t.prev=6,t.next=9,this.$options.fetch.call(this);case 9:t.next=15;break;case 11:t.prev=11,t.t0=t.catch(6),e=Object(l.p)(t.t0);case 15:if(!((r=this._fetchDelay-(Date.now()-n))>0)){t.next=19;break}return t.next=19,new Promise((function(t){return setTimeout(t,r)}));case 19:this.$fetchState.error=e,this.$fetchState.pending=!1,this.$fetchState.timestamp=Date.now(),this.$nextTick((function(){return o.$nuxt.nbFetching--}));case 23:case"end":return t.stop()}}),t,this,[[6,11]])})))).apply(this,arguments)}e.a={beforeCreate:function(){Object(l.m)(this)&&(this._fetchDelay="number"==typeof this.$options.fetchDelay?this.$options.fetchDelay:200,o.a.util.defineReactive(this,"$fetchState",{pending:!1,error:null,timestamp:Date.now()}),this.$fetch=f.bind(this),Object(l.a)(this,"created",d),Object(l.a)(this,"beforeMount",h))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(5),n(36),n(57);var r={},o={},l={};function c(t,e){if(r[t])return Promise.resolve(r[t]);if(l[t])return Promise.reject(l[t]);if(o[t])return o[t];var n,c,h=o[t]=new Promise((function(t,e){n=t,c=e}));delete r[t];var d,script=document.createElement("script");script.charset="utf-8",script.timeout=120,script.src=e;var m=new Error,f=script.onerror=script.onload=function(e){if(clearTimeout(d),delete o[t],script.onerror=script.onload=null,r[t])return n(r[t]);var h=e&&("load"===e.type?"missing":e.type),f=e&&e.target&&e.target.src;m.message="Loading chunk "+t+" failed.\n("+h+": "+f+")",m.name="ChunkLoadError",m.type=h,m.request=f,l[t]=m,c(m)};return d=setTimeout((function(){f({type:"timeout",target:script})}),12e4),document.head.appendChild(script),h}function h(){window.__NUXT_JSONP__=function(t,e){r[t]=e},window.__NUXT_JSONP_CACHE__=r,window.__NUXT_IMPORT__=c}},,function(t,e,n){"use strict";n(13),n(10),n(12),n(15),n(11),n(16);var r=n(22),o=n(19),l=n(2),c=(n(130),n(28),n(5),n(53),n(350),n(247)),h=(n(35),n(355),n(150)),d=n(37),m=n(1),f=d.a.extend({name:"v-progress-circular",directives:{intersect:h.a},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:function(){return{radius:20,isVisible:!0}},computed:{calculatedSize:function(){return Number(this.size)+(this.button?8:0)},circumference:function(){return 2*Math.PI*this.radius},classes:function(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue:function(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray:function(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset:function(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth:function(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles:function(){return{height:Object(m.g)(this.calculatedSize),width:Object(m.g)(this.calculatedSize)}},svgStyles:function(){return{transform:"rotate(".concat(Number(this.rotate),"deg)")}},viewBoxSize:function(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle:function(t,e){return this.$createElement("circle",{class:"v-progress-circular__".concat(t),attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":e}})},genSvg:function(){var t=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"".concat(this.viewBoxSize," ").concat(this.viewBoxSize," ").concat(2*this.viewBoxSize," ").concat(2*this.viewBoxSize)}},t)},genInfo:function(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve:function(t,e,n){this.isVisible=n}},render:function(t){return t("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}}),v=n(158),x=n(58),_=n(155),y=n(151),S=n(89),w=n(157),M=n(9),E=n(8);function R(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function A(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var T=Object(M.a)(c.a,S.a,y.a,w.a,Object(v.a)("btnToggle"),Object(x.b)("inputValue"));e.a=T.extend().extend({name:"v-btn",props:{activeClass:{type:String,default:function(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:function(){return{proxyClass:"v-btn--active"}},computed:{classes:function(){return A(A(A(A(A({"v-btn":!0},S.a.options.computed.classes.call(this)),{},{"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top},this.themeClasses),this.groupClasses),this.elevationClasses),this.sizeableClasses)},computedElevation:function(){if(!this.disabled)return _.a.options.computed.computedElevation.call(this)},computedRipple:function(){var t,e=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=(t=this.ripple)?t:e)},hasBg:function(){return!(this.text||this.plain||this.outlined||this.icon)},isElevated:function(){return Boolean(!(this.icon||this.text||this.outlined||this.depressed||this.disabled||this.plain||!(null==this.elevation||Number(this.elevation)>0)))},isRound:function(){return Boolean(this.icon||this.fab)},styles:function(){return A({},this.measurableStyles)}},created:function(){var t=this;[["flat","text"],["outline","outlined"],["round","rounded"]].forEach((function(e){var n=Object(o.a)(e,2),r=n[0],l=n[1];t.$attrs.hasOwnProperty(r)&&Object(E.a)(r,l,t)}))},methods:{click:function(t){!this.retainFocusOnClick&&!this.fab&&t.detail&&this.$el.blur(),this.$emit("click",t),this.btnToggle&&this.toggle()},genContent:function(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader:function(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(f,{props:{indeterminate:!0,size:23,width:2}})])}},render:function(t){var e=[this.genContent(),this.loading&&this.genLoader()],n=this.generateRouteLink(),o=n.tag,data=n.data,l=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===o&&(data.attrs.type=this.type,data.attrs.disabled=this.disabled),data.attrs.value=["string","number"].includes(Object(r.a)(this.value))?this.value:JSON.stringify(this.value),t(o,this.disabled?data:l(this.color,data),e)}})},,,function(t,e,n){var content=n(360);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("b9f570ac",content,!0,{sourceMap:!1})},,,,,function(t,e,n){(function(t){t.installComponents=function(component,t){var n="function"==typeof component.exports?component.exports.extendOptions:component.options;for(var i in"function"==typeof component.exports&&(n.components=component.exports.options.components),n.components=n.components||{},t)n.components[i]=n.components[i]||t[i];n.functional&&function(component,t){if(component.exports[e])return;component.exports[e]=!0;var n=component.exports.render;component.exports.render=function(e,r){return n(e,Object.assign({},r,{_c:function(e,a,b){return r._c(t[e]||e,a,b)}}))}}(component,n.components)};var e="_functionalComponents"}).call(this,n(82))},function(t,e,n){"use strict";n.r(e),function(t){n(50),n(64),n(10),n(65),n(74);var e=n(22),r=n(33),o=(n(170),n(287),n(300),n(302),n(109),n(36),n(5),n(11),n(12),n(13),n(53),n(61),n(35),n(66),n(25),n(54),n(55),n(57),n(0)),l=n(253),c=n(187),h=n(3),d=n(68),m=n(258),f=n(161),v=n(259);function x(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return l=t.done,t},e:function(t){c=!0,o=t},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw o}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}Object(v.a)(),o.a.__nuxt__fetch__mixin__||(o.a.mixin(m.a),o.a.__nuxt__fetch__mixin__=!0),o.a.component(f.a.name,f.a),o.a.component("NLink",f.a),t.fetch||(t.fetch=l.a);var y,S,w=[],M=window.__NUXT__||{},E=M.config||{};E._app&&(n.p=Object(h.v)(E._app.cdnURL,E._app.assetsPath)),Object.assign(o.a.config,{silent:!0,performance:!1});var R=o.a.config.errorHandler||console.error;function A(t,e,n){for(var r=function(component){var t=function(component,t){if(!component||!component.options||!component.options[t])return{};var option=component.options[t];if("function"==typeof option){for(var e=arguments.length,n=new Array(e>2?e-2:0),r=2;r<e;r++)n[r-2]=arguments[r];return option.apply(void 0,n)}return option}(component,"transition",e,n)||{};return"string"==typeof t?{name:t}:t},o=n?Object(h.h)(n):[],l=Math.max(t.length,o.length),c=[],d=function(i){var e=Object.assign({},r(t[i])),n=Object.assign({},r(o[i]));Object.keys(e).filter((function(t){return void 0!==e[t]&&!t.toLowerCase().includes("leave")})).forEach((function(t){n[t]=e[t]})),c.push(n)},i=0;i<l;i++)d(i);return c}function T(t,e,n){return P.apply(this,arguments)}function P(){return(P=Object(r.a)(regeneratorRuntime.mark((function t(e,n,r){var o,l,c,d,m=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._routeChanged=Boolean(y.nuxt.err)||n.name!==e.name,this._paramChanged=!this._routeChanged&&n.path!==e.path,this._queryChanged=!this._paramChanged&&n.fullPath!==e.fullPath,this._diffQuery=this._queryChanged?Object(h.j)(e.query,n.query):[],(this._routeChanged||this._paramChanged)&&this.$loading.start&&!this.$loading.manual&&this.$loading.start(),t.prev=5,!this._queryChanged){t.next=12;break}return t.next=9,Object(h.r)(e,(function(t,e){return{Component:t,instance:e}}));case 9:o=t.sent,o.some((function(t){var r=t.Component,o=t.instance,l=r.options.watchQuery;return!0===l||(Array.isArray(l)?l.some((function(t){return m._diffQuery[t]})):"function"==typeof l&&l.apply(o,[e.query,n.query]))}))&&this.$loading.start&&!this.$loading.manual&&this.$loading.start();case 12:r(),t.next=26;break;case 15:if(t.prev=15,t.t0=t.catch(5),l=t.t0||{},c=l.statusCode||l.status||l.response&&l.response.status||500,d=l.message||"",!/^Loading( CSS)? chunk (\d)+ failed\./.test(d)){t.next=23;break}return window.location.reload(!0),t.abrupt("return");case 23:this.error({statusCode:c,message:d}),this.$nuxt.$emit("routeChanged",e,n,l),r();case 26:case"end":return t.stop()}}),t,this,[[5,15]])})))).apply(this,arguments)}function C(t,e){return M.serverRendered&&e&&Object(h.b)(t,e),t._Ctor=t,t}function I(t){return Object(h.e)(t,function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e,n,r,o,l){var c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!=typeof e||e.options){t.next=4;break}return t.next=3,e();case 3:e=t.sent;case 4:return c=C(Object(h.s)(e),M.data?M.data[l]:null),r.components[o]=c,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r,o,l){return t.apply(this,arguments)}}())}function L(t,e,n){var r=this,o=[],l=!1;if(void 0!==n&&(o=[],(n=Object(h.s)(n)).options.middleware&&(o=o.concat(n.options.middleware)),t.forEach((function(t){t.options.middleware&&(o=o.concat(t.options.middleware))}))),o=o.map((function(t){return"function"==typeof t?t:("function"!=typeof c.a[t]&&(l=!0,r.error({statusCode:500,message:"Unknown middleware "+t})),c.a[t])})),!l)return Object(h.o)(o,e)}function N(t,e,n){return D.apply(this,arguments)}function D(){return D=Object(r.a)(regeneratorRuntime.mark((function t(e,n,o){var l,c,m,f,v,_,S,M,E,R,T,P,C,I,N,D,O=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){t.next=2;break}return t.abrupt("return",o());case 2:return l=!1,e===n?(w=[],l=!0):(c=[],w=Object(h.h)(n,c).map((function(t,i){return Object(h.c)(n.matched[c[i]].path)(n.params)}))),m=!1,f=function(path){n.path===path.path&&O.$loading.finish&&O.$loading.finish(),n.path!==path.path&&O.$loading.pause&&O.$loading.pause(),m||(m=!0,o(path))},t.next=8,Object(h.t)(y,{route:e,from:n,next:f.bind(this)});case 8:if(this._dateLastError=y.nuxt.dateErr,this._hadError=Boolean(y.nuxt.err),v=[],(_=Object(h.h)(e,v)).length){t.next=27;break}return t.next=15,L.call(this,_,y.context);case 15:if(!m){t.next=17;break}return t.abrupt("return");case 17:return S=(d.a.options||d.a).layout,t.next=20,this.loadLayout("function"==typeof S?S.call(d.a,y.context):S);case 20:return M=t.sent,t.next=23,L.call(this,_,y.context,M);case 23:if(!m){t.next=25;break}return t.abrupt("return");case 25:return y.context.error({statusCode:404,message:"This page could not be found"}),t.abrupt("return",o());case 27:return _.forEach((function(t){t._Ctor&&t._Ctor.options&&(t.options.asyncData=t._Ctor.options.asyncData,t.options.fetch=t._Ctor.options.fetch)})),this.setTransitions(A(_,e,n)),t.prev=29,t.next=32,L.call(this,_,y.context);case 32:if(!m){t.next=34;break}return t.abrupt("return");case 34:if(!y.context._errored){t.next=36;break}return t.abrupt("return",o());case 36:return"function"==typeof(E=_[0].options.layout)&&(E=E(y.context)),t.next=40,this.loadLayout(E);case 40:return E=t.sent,t.next=43,L.call(this,_,y.context,E);case 43:if(!m){t.next=45;break}return t.abrupt("return");case 45:if(!y.context._errored){t.next=47;break}return t.abrupt("return",o());case 47:R=!0,t.prev=48,T=x(_),t.prev=50,T.s();case 52:if((P=T.n()).done){t.next=63;break}if("function"==typeof(C=P.value).options.validate){t.next=56;break}return t.abrupt("continue",61);case 56:return t.next=58,C.options.validate(y.context);case 58:if(R=t.sent){t.next=61;break}return t.abrupt("break",63);case 61:t.next=52;break;case 63:t.next=68;break;case 65:t.prev=65,t.t0=t.catch(50),T.e(t.t0);case 68:return t.prev=68,T.f(),t.finish(68);case 71:t.next=77;break;case 73:return t.prev=73,t.t1=t.catch(48),this.error({statusCode:t.t1.statusCode||"500",message:t.t1.message}),t.abrupt("return",o());case 77:if(R){t.next=80;break}return this.error({statusCode:404,message:"This page could not be found"}),t.abrupt("return",o());case 80:return t.next=82,Promise.all(_.map(function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(r,i){var o,c,d,m,f,x,_,S,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r._path=Object(h.c)(e.matched[v[i]].path)(e.params),r._dataRefresh=!1,o=r._path!==w[i],O._routeChanged&&o?r._dataRefresh=!0:O._paramChanged&&o?(c=r.options.watchParam,r._dataRefresh=!1!==c):O._queryChanged&&(!0===(d=r.options.watchQuery)?r._dataRefresh=!0:Array.isArray(d)?r._dataRefresh=d.some((function(t){return O._diffQuery[t]})):"function"==typeof d&&(I||(I=Object(h.i)(e)),r._dataRefresh=d.apply(I[i],[e.query,n.query]))),O._hadError||!O._isMounted||r._dataRefresh){t.next=6;break}return t.abrupt("return");case 6:return m=[],f=r.options.asyncData&&"function"==typeof r.options.asyncData,x=Boolean(r.options.fetch)&&r.options.fetch.length,_=f&&x?30:45,f&&((S=O.isPreview||l?Object(h.q)(r.options.asyncData,y.context):O.fetchPayload(e.path).then((function(t){return t.data[i]})).catch((function(t){return Object(h.q)(r.options.asyncData,y.context)}))).then((function(t){Object(h.b)(r,t),O.$loading.increase&&O.$loading.increase(_)})),m.push(S)),O.$loading.manual=!1===r.options.loading,O.isPreview||l||m.push(O.fetchPayload(e.path).catch((function(t){return null}))),x&&((p=r.options.fetch(y.context))&&(p instanceof Promise||"function"==typeof p.then)||(p=Promise.resolve(p)),p.then((function(t){O.$loading.increase&&O.$loading.increase(_)})),m.push(p)),t.abrupt("return",Promise.all(m));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 82:m||(this.$loading.finish&&!this.$loading.manual&&this.$loading.finish(),o()),t.next=99;break;case 85:if(t.prev=85,t.t2=t.catch(29),"ERR_REDIRECT"!==(N=t.t2||{}).message){t.next=90;break}return t.abrupt("return",this.$nuxt.$emit("routeChanged",e,n,N));case 90:return w=[],Object(h.l)(N),"function"==typeof(D=(d.a.options||d.a).layout)&&(D=D(y.context)),t.next=96,this.loadLayout(D);case 96:this.error(N),this.$nuxt.$emit("routeChanged",e,n,N),o();case 99:case"end":return t.stop()}}),t,this,[[29,85],[48,73],[50,65,68,71]])}))),D.apply(this,arguments)}function O(t,n){Object(h.e)(t,(function(t,n,r,l){return"object"!==Object(e.a)(t)||t.options||((t=o.a.extend(t))._Ctor=t,r.components[l]=t),t}))}function k(t){var e=Boolean(this.$options.nuxt.err);this._hadError&&this._dateLastError===this.$options.nuxt.dateErr&&(e=!1);var n=e?(d.a.options||d.a).layout:t.matched[0].components.default.options.layout;"function"==typeof n&&(n=n(y.context)),this.setLayout(n)}function G(t){t._hadError&&t._dateLastError===t.$options.nuxt.dateErr&&t.error()}function B(t,e){var n=this;if(!1!==this._routeChanged||!1!==this._paramChanged||!1!==this._queryChanged){var r=Object(h.i)(t),l=Object(h.h)(t),c=!1;o.a.nextTick((function(){r.forEach((function(t,i){if(t&&!t._isDestroyed&&t.constructor._dataRefresh&&l[i]===t.constructor&&!0!==t.$vnode.data.keepAlive&&"function"==typeof t.constructor.options.data){var e=t.constructor.options.data.call(t);for(var n in e)o.a.set(t.$data,n,e[n]);c=!0}})),c&&window.$nuxt.$nextTick((function(){window.$nuxt.$emit("triggerScroll")})),G(n)}))}}function F(t){window.onNuxtReadyCbs.forEach((function(e){"function"==typeof e&&e(t)})),"function"==typeof window._onNuxtLoaded&&window._onNuxtLoaded(t),S.afterEach((function(e,n){o.a.nextTick((function(){return t.$nuxt.$emit("routeChanged",e,n)}))}))}function V(){return(V=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,l,c,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(y=e.app,S=e.router,n=new o.a(y),M.data||!M.serverRendered){t.next=13;break}return t.prev=4,t.next=7,n.fetchPayload(M.routePath||n.context.route.path);case 7:r=t.sent,Object.assign(M,r),t.next=13;break;case 11:t.prev=11,t.t0=t.catch(4);case 13:return l=M.layout||"default",t.next=16,n.loadLayout(l);case 16:return n.setLayout(l),c=function(){n.$mount("#__nuxt"),S.afterEach(O),S.afterEach(k.bind(n)),S.afterEach(B.bind(n)),o.a.nextTick((function(){F(n)}))},t.next=20,Promise.all(I(y.context.route));case 20:if(d=t.sent,n.setTransitions=n.$options.nuxt.setTransitions.bind(n),d.length&&(n.setTransitions(A(d,S.currentRoute)),w=S.currentRoute.matched.map((function(t){return Object(h.c)(t.path)(S.currentRoute.params)}))),n.$loading={},M.error&&n.error(M.error),S.beforeEach(T.bind(n)),S.beforeEach(N.bind(n)),!M.serverRendered){t.next=29;break}return t.abrupt("return",c());case 29:return m=function(){O(S.currentRoute,S.currentRoute),k.call(n,S.currentRoute),G(n),c()},t.next=32,new Promise((function(t){return setTimeout(t,0)}));case 32:N.call(n,S.currentRoute,S.currentRoute,(function(path){if(path){var t=S.afterEach((function(e,n){t(),m()}));S.push(path,void 0,(function(t){t&&R(t)}))}else m()}));case 33:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}Object(d.b)(null,M.config).then((function(t){return V.apply(this,arguments)})).catch(R)}.call(this,n(82))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){var content=n(320);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("3d49e0e5",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-application{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-application .text--primary{color:rgba(0,0,0,.87)!important}.theme--light.v-application .text--secondary{color:rgba(0,0,0,.6)!important}.theme--light.v-application .text--disabled{color:rgba(0,0,0,.38)!important}.theme--dark.v-application{background:#121212;color:#fff}.theme--dark.v-application .text--primary{color:#fff!important}.theme--dark.v-application .text--secondary{color:hsla(0,0%,100%,.7)!important}.theme--dark.v-application .text--disabled{color:hsla(0,0%,100%,.5)!important}.v-application{display:flex;position:relative}.v-application a{cursor:pointer}.v-application--is-rtl{direction:rtl}.v-application--wrap{flex:1 1 auto;-webkit-backface-visibility:hidden;backface-visibility:hidden;display:flex;flex-direction:column;min-height:100vh;max-width:100%;position:relative}@-moz-document url-prefix(){@media print{.v-application,.v-application--wrap{display:block}}}",""]),t.exports=r},function(t,e,n){"use strict";n(240)},function(t,e,n){var r=n(20)(!1);r.push([t.i,".nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}",""]),t.exports=r},function(t,e,n){var content=n(324);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("a9b20584",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-app-bar.v-toolbar.v-sheet{background-color:#f5f5f5}.theme--dark.v-app-bar.v-toolbar.v-sheet{background-color:#272727}.v-sheet.v-app-bar.v-toolbar{border-radius:0}.v-sheet.v-app-bar.v-toolbar:not(.v-sheet--outlined){box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-sheet.v-app-bar.v-toolbar.v-sheet--shaped{border-radius:24px 0}.v-app-bar:not([data-booted=true]){transition:none!important}.v-app-bar.v-app-bar--fixed{position:fixed;top:0;z-index:5}.v-app-bar.v-app-bar.v-app-bar--hide-shadow{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important}.v-app-bar--fade-img-on-scroll .v-toolbar__image .v-image__image{transition:opacity .4s cubic-bezier(.4,0,.2,1)}.v-app-bar.v-toolbar--prominent.v-app-bar--shrink-on-scroll .v-toolbar__image{will-change:opacity}.v-app-bar.v-toolbar--prominent.v-app-bar--shrink-on-scroll.v-app-bar--collapse-on-scroll .v-toolbar__extension{display:none}.v-app-bar.v-toolbar--prominent.v-app-bar--shrink-on-scroll.v-app-bar--is-scrolled .v-toolbar__title{padding-top:9px}.v-app-bar.v-toolbar--prominent.v-app-bar--shrink-on-scroll.v-app-bar--is-scrolled:not(.v-app-bar--bottom) .v-toolbar__title{padding-bottom:9px}.v-app-bar.v-app-bar--shrink-on-scroll .v-toolbar__title{font-size:inherit}.v-app-bar-title__content,.v-app-bar-title__placeholder{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.v-app-bar-title__content{position:absolute}",""]),t.exports=r},,function(t,e,n){var content=n(327);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("402355ff",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-toolbar.v-sheet{background-color:#fff}.theme--dark.v-toolbar.v-sheet{background-color:#272727}.v-sheet.v-toolbar{border-radius:0}.v-sheet.v-toolbar:not(.v-sheet--outlined){box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-sheet.v-toolbar.v-sheet--shaped{border-radius:24px 0}.v-toolbar{contain:layout;display:block;flex:1 1 auto;max-width:100%;transition:transform .2s cubic-bezier(.4,0,.2,1),background-color .2s cubic-bezier(.4,0,.2,1),left .2s cubic-bezier(.4,0,.2,1),right .2s cubic-bezier(.4,0,.2,1),box-shadow .28s cubic-bezier(.4,0,.2,1),max-width .25s cubic-bezier(.4,0,.2,1),width .25s cubic-bezier(.4,0,.2,1);position:relative;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-toolbar .v-input{padding-top:0;margin-top:0}.v-toolbar__content,.v-toolbar__extension{padding:4px 16px}.v-toolbar__content .v-btn.v-btn--icon.v-size--default,.v-toolbar__extension .v-btn.v-btn--icon.v-size--default{height:48px;width:48px}.v-application--is-ltr .v-toolbar__content>.v-btn.v-btn--icon:first-child,.v-application--is-ltr .v-toolbar__extension>.v-btn.v-btn--icon:first-child{margin-left:-12px}.v-application--is-rtl .v-toolbar__content>.v-btn.v-btn--icon:first-child,.v-application--is-rtl .v-toolbar__extension>.v-btn.v-btn--icon:first-child{margin-right:-12px}.v-application--is-ltr .v-toolbar__content>.v-btn.v-btn--icon:first-child+.v-toolbar__title,.v-application--is-ltr .v-toolbar__extension>.v-btn.v-btn--icon:first-child+.v-toolbar__title{padding-left:20px}.v-application--is-rtl .v-toolbar__content>.v-btn.v-btn--icon:first-child+.v-toolbar__title,.v-application--is-rtl .v-toolbar__extension>.v-btn.v-btn--icon:first-child+.v-toolbar__title{padding-right:20px}.v-application--is-ltr .v-toolbar__content>.v-btn.v-btn--icon:last-child,.v-application--is-ltr .v-toolbar__extension>.v-btn.v-btn--icon:last-child{margin-right:-12px}.v-application--is-rtl .v-toolbar__content>.v-btn.v-btn--icon:last-child,.v-application--is-rtl .v-toolbar__extension>.v-btn.v-btn--icon:last-child{margin-left:-12px}.v-toolbar__content>.v-tabs,.v-toolbar__extension>.v-tabs{height:inherit;margin-top:-4px;margin-bottom:-4px}.v-toolbar__content>.v-tabs>.v-slide-group.v-tabs-bar,.v-toolbar__extension>.v-tabs>.v-slide-group.v-tabs-bar{background-color:inherit;height:inherit}.v-toolbar__content>.v-tabs:first-child,.v-toolbar__extension>.v-tabs:first-child{margin-left:-16px}.v-toolbar__content>.v-tabs:last-child,.v-toolbar__extension>.v-tabs:last-child{margin-right:-16px}.v-toolbar__content,.v-toolbar__extension{align-items:center;display:flex;position:relative;z-index:0}.v-toolbar__image{position:absolute;top:0;bottom:0;width:100%;z-index:0;contain:strict}.v-toolbar__image,.v-toolbar__image .v-image{border-radius:inherit}.v-toolbar__items{display:flex;height:inherit}.v-toolbar__items>.v-btn{border-radius:0;height:100%!important;max-height:none}.v-toolbar__title{font-size:1.25rem;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.v-toolbar.v-toolbar--absolute{position:absolute;top:0;z-index:1}.v-toolbar.v-toolbar--bottom{top:auto;bottom:0}.v-toolbar.v-toolbar--collapse .v-toolbar__title{white-space:nowrap}.v-toolbar.v-toolbar--collapsed{max-width:112px;overflow:hidden}.v-application--is-ltr .v-toolbar.v-toolbar--collapsed{border-bottom-right-radius:24px}.v-application--is-rtl .v-toolbar.v-toolbar--collapsed{border-bottom-left-radius:24px}.v-toolbar.v-toolbar--collapsed .v-toolbar__extension,.v-toolbar.v-toolbar--collapsed .v-toolbar__title{display:none}.v-toolbar--dense .v-toolbar__content,.v-toolbar--dense .v-toolbar__extension{padding-top:0;padding-bottom:0}.v-toolbar--flat{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important}.v-toolbar--floating{display:inline-flex}.v-toolbar--prominent .v-toolbar__content{align-items:flex-start}.v-toolbar--prominent .v-toolbar__title{font-size:1.5rem;padding-top:6px}.v-toolbar--prominent:not(.v-toolbar--bottom) .v-toolbar__title{align-self:flex-end;padding-bottom:6px;padding-top:0}",""]),t.exports=r},function(t,e,n){var content=n(329);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("63000ea3",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-sheet{background-color:#fff;border-color:#fff;color:rgba(0,0,0,.87)}.theme--light.v-sheet--outlined{border:thin solid rgba(0,0,0,.12)}.theme--dark.v-sheet{background-color:#1e1e1e;border-color:#1e1e1e;color:#fff}.theme--dark.v-sheet--outlined{border:thin solid hsla(0,0%,100%,.12)}.v-sheet{border-radius:0}.v-sheet:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-sheet--shaped{border-radius:24px 0}",""]),t.exports=r},,,,,,,,,,,,function(t,e,n){var content=n(342);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("2840f874",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,'@-webkit-keyframes v-shake{59%{margin-left:0}60%,80%{margin-left:2px}70%,90%{margin-left:-2px}}@keyframes v-shake{59%{margin-left:0}60%,80%{margin-left:2px}70%,90%{margin-left:-2px}}.v-application .black{background-color:#000!important;border-color:#000!important}.v-application .black--text{color:#000!important;caret-color:#000!important}.v-application .white{background-color:#fff!important;border-color:#fff!important}.v-application .white--text{color:#fff!important;caret-color:#fff!important}.v-application .transparent{background-color:transparent!important;border-color:transparent!important}.v-application .transparent--text{color:transparent!important;caret-color:transparent!important}.v-application .red{background-color:#f44336!important;border-color:#f44336!important}.v-application .red--text{color:#f44336!important;caret-color:#f44336!important}.v-application .red.lighten-5{background-color:#ffebee!important;border-color:#ffebee!important}.v-application .red--text.text--lighten-5{color:#ffebee!important;caret-color:#ffebee!important}.v-application .red.lighten-4{background-color:#ffcdd2!important;border-color:#ffcdd2!important}.v-application .red--text.text--lighten-4{color:#ffcdd2!important;caret-color:#ffcdd2!important}.v-application .red.lighten-3{background-color:#ef9a9a!important;border-color:#ef9a9a!important}.v-application .red--text.text--lighten-3{color:#ef9a9a!important;caret-color:#ef9a9a!important}.v-application .red.lighten-2{background-color:#e57373!important;border-color:#e57373!important}.v-application .red--text.text--lighten-2{color:#e57373!important;caret-color:#e57373!important}.v-application .red.lighten-1{background-color:#ef5350!important;border-color:#ef5350!important}.v-application .red--text.text--lighten-1{color:#ef5350!important;caret-color:#ef5350!important}.v-application .red.darken-1{background-color:#e53935!important;border-color:#e53935!important}.v-application .red--text.text--darken-1{color:#e53935!important;caret-color:#e53935!important}.v-application .red.darken-2{background-color:#d32f2f!important;border-color:#d32f2f!important}.v-application .red--text.text--darken-2{color:#d32f2f!important;caret-color:#d32f2f!important}.v-application .red.darken-3{background-color:#c62828!important;border-color:#c62828!important}.v-application .red--text.text--darken-3{color:#c62828!important;caret-color:#c62828!important}.v-application .red.darken-4{background-color:#b71c1c!important;border-color:#b71c1c!important}.v-application .red--text.text--darken-4{color:#b71c1c!important;caret-color:#b71c1c!important}.v-application .red.accent-1{background-color:#ff8a80!important;border-color:#ff8a80!important}.v-application .red--text.text--accent-1{color:#ff8a80!important;caret-color:#ff8a80!important}.v-application .red.accent-2{background-color:#ff5252!important;border-color:#ff5252!important}.v-application .red--text.text--accent-2{color:#ff5252!important;caret-color:#ff5252!important}.v-application .red.accent-3{background-color:#ff1744!important;border-color:#ff1744!important}.v-application .red--text.text--accent-3{color:#ff1744!important;caret-color:#ff1744!important}.v-application .red.accent-4{background-color:#d50000!important;border-color:#d50000!important}.v-application .red--text.text--accent-4{color:#d50000!important;caret-color:#d50000!important}.v-application .pink{background-color:#e91e63!important;border-color:#e91e63!important}.v-application .pink--text{color:#e91e63!important;caret-color:#e91e63!important}.v-application .pink.lighten-5{background-color:#fce4ec!important;border-color:#fce4ec!important}.v-application .pink--text.text--lighten-5{color:#fce4ec!important;caret-color:#fce4ec!important}.v-application .pink.lighten-4{background-color:#f8bbd0!important;border-color:#f8bbd0!important}.v-application .pink--text.text--lighten-4{color:#f8bbd0!important;caret-color:#f8bbd0!important}.v-application .pink.lighten-3{background-color:#f48fb1!important;border-color:#f48fb1!important}.v-application .pink--text.text--lighten-3{color:#f48fb1!important;caret-color:#f48fb1!important}.v-application .pink.lighten-2{background-color:#f06292!important;border-color:#f06292!important}.v-application .pink--text.text--lighten-2{color:#f06292!important;caret-color:#f06292!important}.v-application .pink.lighten-1{background-color:#ec407a!important;border-color:#ec407a!important}.v-application .pink--text.text--lighten-1{color:#ec407a!important;caret-color:#ec407a!important}.v-application .pink.darken-1{background-color:#d81b60!important;border-color:#d81b60!important}.v-application .pink--text.text--darken-1{color:#d81b60!important;caret-color:#d81b60!important}.v-application .pink.darken-2{background-color:#c2185b!important;border-color:#c2185b!important}.v-application .pink--text.text--darken-2{color:#c2185b!important;caret-color:#c2185b!important}.v-application .pink.darken-3{background-color:#ad1457!important;border-color:#ad1457!important}.v-application .pink--text.text--darken-3{color:#ad1457!important;caret-color:#ad1457!important}.v-application .pink.darken-4{background-color:#880e4f!important;border-color:#880e4f!important}.v-application .pink--text.text--darken-4{color:#880e4f!important;caret-color:#880e4f!important}.v-application .pink.accent-1{background-color:#ff80ab!important;border-color:#ff80ab!important}.v-application .pink--text.text--accent-1{color:#ff80ab!important;caret-color:#ff80ab!important}.v-application .pink.accent-2{background-color:#ff4081!important;border-color:#ff4081!important}.v-application .pink--text.text--accent-2{color:#ff4081!important;caret-color:#ff4081!important}.v-application .pink.accent-3{background-color:#f50057!important;border-color:#f50057!important}.v-application .pink--text.text--accent-3{color:#f50057!important;caret-color:#f50057!important}.v-application .pink.accent-4{background-color:#c51162!important;border-color:#c51162!important}.v-application .pink--text.text--accent-4{color:#c51162!important;caret-color:#c51162!important}.v-application .purple{background-color:#9c27b0!important;border-color:#9c27b0!important}.v-application .purple--text{color:#9c27b0!important;caret-color:#9c27b0!important}.v-application .purple.lighten-5{background-color:#f3e5f5!important;border-color:#f3e5f5!important}.v-application .purple--text.text--lighten-5{color:#f3e5f5!important;caret-color:#f3e5f5!important}.v-application .purple.lighten-4{background-color:#e1bee7!important;border-color:#e1bee7!important}.v-application .purple--text.text--lighten-4{color:#e1bee7!important;caret-color:#e1bee7!important}.v-application .purple.lighten-3{background-color:#ce93d8!important;border-color:#ce93d8!important}.v-application .purple--text.text--lighten-3{color:#ce93d8!important;caret-color:#ce93d8!important}.v-application .purple.lighten-2{background-color:#ba68c8!important;border-color:#ba68c8!important}.v-application .purple--text.text--lighten-2{color:#ba68c8!important;caret-color:#ba68c8!important}.v-application .purple.lighten-1{background-color:#ab47bc!important;border-color:#ab47bc!important}.v-application .purple--text.text--lighten-1{color:#ab47bc!important;caret-color:#ab47bc!important}.v-application .purple.darken-1{background-color:#8e24aa!important;border-color:#8e24aa!important}.v-application .purple--text.text--darken-1{color:#8e24aa!important;caret-color:#8e24aa!important}.v-application .purple.darken-2{background-color:#7b1fa2!important;border-color:#7b1fa2!important}.v-application .purple--text.text--darken-2{color:#7b1fa2!important;caret-color:#7b1fa2!important}.v-application .purple.darken-3{background-color:#6a1b9a!important;border-color:#6a1b9a!important}.v-application .purple--text.text--darken-3{color:#6a1b9a!important;caret-color:#6a1b9a!important}.v-application .purple.darken-4{background-color:#4a148c!important;border-color:#4a148c!important}.v-application .purple--text.text--darken-4{color:#4a148c!important;caret-color:#4a148c!important}.v-application .purple.accent-1{background-color:#ea80fc!important;border-color:#ea80fc!important}.v-application .purple--text.text--accent-1{color:#ea80fc!important;caret-color:#ea80fc!important}.v-application .purple.accent-2{background-color:#e040fb!important;border-color:#e040fb!important}.v-application .purple--text.text--accent-2{color:#e040fb!important;caret-color:#e040fb!important}.v-application .purple.accent-3{background-color:#d500f9!important;border-color:#d500f9!important}.v-application .purple--text.text--accent-3{color:#d500f9!important;caret-color:#d500f9!important}.v-application .purple.accent-4{background-color:#a0f!important;border-color:#a0f!important}.v-application .purple--text.text--accent-4{color:#a0f!important;caret-color:#a0f!important}.v-application .deep-purple{background-color:#673ab7!important;border-color:#673ab7!important}.v-application .deep-purple--text{color:#673ab7!important;caret-color:#673ab7!important}.v-application .deep-purple.lighten-5{background-color:#ede7f6!important;border-color:#ede7f6!important}.v-application .deep-purple--text.text--lighten-5{color:#ede7f6!important;caret-color:#ede7f6!important}.v-application .deep-purple.lighten-4{background-color:#d1c4e9!important;border-color:#d1c4e9!important}.v-application .deep-purple--text.text--lighten-4{color:#d1c4e9!important;caret-color:#d1c4e9!important}.v-application .deep-purple.lighten-3{background-color:#b39ddb!important;border-color:#b39ddb!important}.v-application .deep-purple--text.text--lighten-3{color:#b39ddb!important;caret-color:#b39ddb!important}.v-application .deep-purple.lighten-2{background-color:#9575cd!important;border-color:#9575cd!important}.v-application .deep-purple--text.text--lighten-2{color:#9575cd!important;caret-color:#9575cd!important}.v-application .deep-purple.lighten-1{background-color:#7e57c2!important;border-color:#7e57c2!important}.v-application .deep-purple--text.text--lighten-1{color:#7e57c2!important;caret-color:#7e57c2!important}.v-application .deep-purple.darken-1{background-color:#5e35b1!important;border-color:#5e35b1!important}.v-application .deep-purple--text.text--darken-1{color:#5e35b1!important;caret-color:#5e35b1!important}.v-application .deep-purple.darken-2{background-color:#512da8!important;border-color:#512da8!important}.v-application .deep-purple--text.text--darken-2{color:#512da8!important;caret-color:#512da8!important}.v-application .deep-purple.darken-3{background-color:#4527a0!important;border-color:#4527a0!important}.v-application .deep-purple--text.text--darken-3{color:#4527a0!important;caret-color:#4527a0!important}.v-application .deep-purple.darken-4{background-color:#311b92!important;border-color:#311b92!important}.v-application .deep-purple--text.text--darken-4{color:#311b92!important;caret-color:#311b92!important}.v-application .deep-purple.accent-1{background-color:#b388ff!important;border-color:#b388ff!important}.v-application .deep-purple--text.text--accent-1{color:#b388ff!important;caret-color:#b388ff!important}.v-application .deep-purple.accent-2{background-color:#7c4dff!important;border-color:#7c4dff!important}.v-application .deep-purple--text.text--accent-2{color:#7c4dff!important;caret-color:#7c4dff!important}.v-application .deep-purple.accent-3{background-color:#651fff!important;border-color:#651fff!important}.v-application .deep-purple--text.text--accent-3{color:#651fff!important;caret-color:#651fff!important}.v-application .deep-purple.accent-4{background-color:#6200ea!important;border-color:#6200ea!important}.v-application .deep-purple--text.text--accent-4{color:#6200ea!important;caret-color:#6200ea!important}.v-application .indigo{background-color:#3f51b5!important;border-color:#3f51b5!important}.v-application .indigo--text{color:#3f51b5!important;caret-color:#3f51b5!important}.v-application .indigo.lighten-5{background-color:#e8eaf6!important;border-color:#e8eaf6!important}.v-application .indigo--text.text--lighten-5{color:#e8eaf6!important;caret-color:#e8eaf6!important}.v-application .indigo.lighten-4{background-color:#c5cae9!important;border-color:#c5cae9!important}.v-application .indigo--text.text--lighten-4{color:#c5cae9!important;caret-color:#c5cae9!important}.v-application .indigo.lighten-3{background-color:#9fa8da!important;border-color:#9fa8da!important}.v-application .indigo--text.text--lighten-3{color:#9fa8da!important;caret-color:#9fa8da!important}.v-application .indigo.lighten-2{background-color:#7986cb!important;border-color:#7986cb!important}.v-application .indigo--text.text--lighten-2{color:#7986cb!important;caret-color:#7986cb!important}.v-application .indigo.lighten-1{background-color:#5c6bc0!important;border-color:#5c6bc0!important}.v-application .indigo--text.text--lighten-1{color:#5c6bc0!important;caret-color:#5c6bc0!important}.v-application .indigo.darken-1{background-color:#3949ab!important;border-color:#3949ab!important}.v-application .indigo--text.text--darken-1{color:#3949ab!important;caret-color:#3949ab!important}.v-application .indigo.darken-2{background-color:#303f9f!important;border-color:#303f9f!important}.v-application .indigo--text.text--darken-2{color:#303f9f!important;caret-color:#303f9f!important}.v-application .indigo.darken-3{background-color:#283593!important;border-color:#283593!important}.v-application .indigo--text.text--darken-3{color:#283593!important;caret-color:#283593!important}.v-application .indigo.darken-4{background-color:#1a237e!important;border-color:#1a237e!important}.v-application .indigo--text.text--darken-4{color:#1a237e!important;caret-color:#1a237e!important}.v-application .indigo.accent-1{background-color:#8c9eff!important;border-color:#8c9eff!important}.v-application .indigo--text.text--accent-1{color:#8c9eff!important;caret-color:#8c9eff!important}.v-application .indigo.accent-2{background-color:#536dfe!important;border-color:#536dfe!important}.v-application .indigo--text.text--accent-2{color:#536dfe!important;caret-color:#536dfe!important}.v-application .indigo.accent-3{background-color:#3d5afe!important;border-color:#3d5afe!important}.v-application .indigo--text.text--accent-3{color:#3d5afe!important;caret-color:#3d5afe!important}.v-application .indigo.accent-4{background-color:#304ffe!important;border-color:#304ffe!important}.v-application .indigo--text.text--accent-4{color:#304ffe!important;caret-color:#304ffe!important}.v-application .blue{background-color:#2196f3!important;border-color:#2196f3!important}.v-application .blue--text{color:#2196f3!important;caret-color:#2196f3!important}.v-application .blue.lighten-5{background-color:#e3f2fd!important;border-color:#e3f2fd!important}.v-application .blue--text.text--lighten-5{color:#e3f2fd!important;caret-color:#e3f2fd!important}.v-application .blue.lighten-4{background-color:#bbdefb!important;border-color:#bbdefb!important}.v-application .blue--text.text--lighten-4{color:#bbdefb!important;caret-color:#bbdefb!important}.v-application .blue.lighten-3{background-color:#90caf9!important;border-color:#90caf9!important}.v-application .blue--text.text--lighten-3{color:#90caf9!important;caret-color:#90caf9!important}.v-application .blue.lighten-2{background-color:#64b5f6!important;border-color:#64b5f6!important}.v-application .blue--text.text--lighten-2{color:#64b5f6!important;caret-color:#64b5f6!important}.v-application .blue.lighten-1{background-color:#42a5f5!important;border-color:#42a5f5!important}.v-application .blue--text.text--lighten-1{color:#42a5f5!important;caret-color:#42a5f5!important}.v-application .blue.darken-1{background-color:#1e88e5!important;border-color:#1e88e5!important}.v-application .blue--text.text--darken-1{color:#1e88e5!important;caret-color:#1e88e5!important}.v-application .blue.darken-2{background-color:#1976d2!important;border-color:#1976d2!important}.v-application .blue--text.text--darken-2{color:#1976d2!important;caret-color:#1976d2!important}.v-application .blue.darken-3{background-color:#1565c0!important;border-color:#1565c0!important}.v-application .blue--text.text--darken-3{color:#1565c0!important;caret-color:#1565c0!important}.v-application .blue.darken-4{background-color:#0d47a1!important;border-color:#0d47a1!important}.v-application .blue--text.text--darken-4{color:#0d47a1!important;caret-color:#0d47a1!important}.v-application .blue.accent-1{background-color:#82b1ff!important;border-color:#82b1ff!important}.v-application .blue--text.text--accent-1{color:#82b1ff!important;caret-color:#82b1ff!important}.v-application .blue.accent-2{background-color:#448aff!important;border-color:#448aff!important}.v-application .blue--text.text--accent-2{color:#448aff!important;caret-color:#448aff!important}.v-application .blue.accent-3{background-color:#2979ff!important;border-color:#2979ff!important}.v-application .blue--text.text--accent-3{color:#2979ff!important;caret-color:#2979ff!important}.v-application .blue.accent-4{background-color:#2962ff!important;border-color:#2962ff!important}.v-application .blue--text.text--accent-4{color:#2962ff!important;caret-color:#2962ff!important}.v-application .light-blue{background-color:#03a9f4!important;border-color:#03a9f4!important}.v-application .light-blue--text{color:#03a9f4!important;caret-color:#03a9f4!important}.v-application .light-blue.lighten-5{background-color:#e1f5fe!important;border-color:#e1f5fe!important}.v-application .light-blue--text.text--lighten-5{color:#e1f5fe!important;caret-color:#e1f5fe!important}.v-application .light-blue.lighten-4{background-color:#b3e5fc!important;border-color:#b3e5fc!important}.v-application .light-blue--text.text--lighten-4{color:#b3e5fc!important;caret-color:#b3e5fc!important}.v-application .light-blue.lighten-3{background-color:#81d4fa!important;border-color:#81d4fa!important}.v-application .light-blue--text.text--lighten-3{color:#81d4fa!important;caret-color:#81d4fa!important}.v-application .light-blue.lighten-2{background-color:#4fc3f7!important;border-color:#4fc3f7!important}.v-application .light-blue--text.text--lighten-2{color:#4fc3f7!important;caret-color:#4fc3f7!important}.v-application .light-blue.lighten-1{background-color:#29b6f6!important;border-color:#29b6f6!important}.v-application .light-blue--text.text--lighten-1{color:#29b6f6!important;caret-color:#29b6f6!important}.v-application .light-blue.darken-1{background-color:#039be5!important;border-color:#039be5!important}.v-application .light-blue--text.text--darken-1{color:#039be5!important;caret-color:#039be5!important}.v-application .light-blue.darken-2{background-color:#0288d1!important;border-color:#0288d1!important}.v-application .light-blue--text.text--darken-2{color:#0288d1!important;caret-color:#0288d1!important}.v-application .light-blue.darken-3{background-color:#0277bd!important;border-color:#0277bd!important}.v-application .light-blue--text.text--darken-3{color:#0277bd!important;caret-color:#0277bd!important}.v-application .light-blue.darken-4{background-color:#01579b!important;border-color:#01579b!important}.v-application .light-blue--text.text--darken-4{color:#01579b!important;caret-color:#01579b!important}.v-application .light-blue.accent-1{background-color:#80d8ff!important;border-color:#80d8ff!important}.v-application .light-blue--text.text--accent-1{color:#80d8ff!important;caret-color:#80d8ff!important}.v-application .light-blue.accent-2{background-color:#40c4ff!important;border-color:#40c4ff!important}.v-application .light-blue--text.text--accent-2{color:#40c4ff!important;caret-color:#40c4ff!important}.v-application .light-blue.accent-3{background-color:#00b0ff!important;border-color:#00b0ff!important}.v-application .light-blue--text.text--accent-3{color:#00b0ff!important;caret-color:#00b0ff!important}.v-application .light-blue.accent-4{background-color:#0091ea!important;border-color:#0091ea!important}.v-application .light-blue--text.text--accent-4{color:#0091ea!important;caret-color:#0091ea!important}.v-application .cyan{background-color:#00bcd4!important;border-color:#00bcd4!important}.v-application .cyan--text{color:#00bcd4!important;caret-color:#00bcd4!important}.v-application .cyan.lighten-5{background-color:#e0f7fa!important;border-color:#e0f7fa!important}.v-application .cyan--text.text--lighten-5{color:#e0f7fa!important;caret-color:#e0f7fa!important}.v-application .cyan.lighten-4{background-color:#b2ebf2!important;border-color:#b2ebf2!important}.v-application .cyan--text.text--lighten-4{color:#b2ebf2!important;caret-color:#b2ebf2!important}.v-application .cyan.lighten-3{background-color:#80deea!important;border-color:#80deea!important}.v-application .cyan--text.text--lighten-3{color:#80deea!important;caret-color:#80deea!important}.v-application .cyan.lighten-2{background-color:#4dd0e1!important;border-color:#4dd0e1!important}.v-application .cyan--text.text--lighten-2{color:#4dd0e1!important;caret-color:#4dd0e1!important}.v-application .cyan.lighten-1{background-color:#26c6da!important;border-color:#26c6da!important}.v-application .cyan--text.text--lighten-1{color:#26c6da!important;caret-color:#26c6da!important}.v-application .cyan.darken-1{background-color:#00acc1!important;border-color:#00acc1!important}.v-application .cyan--text.text--darken-1{color:#00acc1!important;caret-color:#00acc1!important}.v-application .cyan.darken-2{background-color:#0097a7!important;border-color:#0097a7!important}.v-application .cyan--text.text--darken-2{color:#0097a7!important;caret-color:#0097a7!important}.v-application .cyan.darken-3{background-color:#00838f!important;border-color:#00838f!important}.v-application .cyan--text.text--darken-3{color:#00838f!important;caret-color:#00838f!important}.v-application .cyan.darken-4{background-color:#006064!important;border-color:#006064!important}.v-application .cyan--text.text--darken-4{color:#006064!important;caret-color:#006064!important}.v-application .cyan.accent-1{background-color:#84ffff!important;border-color:#84ffff!important}.v-application .cyan--text.text--accent-1{color:#84ffff!important;caret-color:#84ffff!important}.v-application .cyan.accent-2{background-color:#18ffff!important;border-color:#18ffff!important}.v-application .cyan--text.text--accent-2{color:#18ffff!important;caret-color:#18ffff!important}.v-application .cyan.accent-3{background-color:#00e5ff!important;border-color:#00e5ff!important}.v-application .cyan--text.text--accent-3{color:#00e5ff!important;caret-color:#00e5ff!important}.v-application .cyan.accent-4{background-color:#00b8d4!important;border-color:#00b8d4!important}.v-application .cyan--text.text--accent-4{color:#00b8d4!important;caret-color:#00b8d4!important}.v-application .teal{background-color:#009688!important;border-color:#009688!important}.v-application .teal--text{color:#009688!important;caret-color:#009688!important}.v-application .teal.lighten-5{background-color:#e0f2f1!important;border-color:#e0f2f1!important}.v-application .teal--text.text--lighten-5{color:#e0f2f1!important;caret-color:#e0f2f1!important}.v-application .teal.lighten-4{background-color:#b2dfdb!important;border-color:#b2dfdb!important}.v-application .teal--text.text--lighten-4{color:#b2dfdb!important;caret-color:#b2dfdb!important}.v-application .teal.lighten-3{background-color:#80cbc4!important;border-color:#80cbc4!important}.v-application .teal--text.text--lighten-3{color:#80cbc4!important;caret-color:#80cbc4!important}.v-application .teal.lighten-2{background-color:#4db6ac!important;border-color:#4db6ac!important}.v-application .teal--text.text--lighten-2{color:#4db6ac!important;caret-color:#4db6ac!important}.v-application .teal.lighten-1{background-color:#26a69a!important;border-color:#26a69a!important}.v-application .teal--text.text--lighten-1{color:#26a69a!important;caret-color:#26a69a!important}.v-application .teal.darken-1{background-color:#00897b!important;border-color:#00897b!important}.v-application .teal--text.text--darken-1{color:#00897b!important;caret-color:#00897b!important}.v-application .teal.darken-2{background-color:#00796b!important;border-color:#00796b!important}.v-application .teal--text.text--darken-2{color:#00796b!important;caret-color:#00796b!important}.v-application .teal.darken-3{background-color:#00695c!important;border-color:#00695c!important}.v-application .teal--text.text--darken-3{color:#00695c!important;caret-color:#00695c!important}.v-application .teal.darken-4{background-color:#004d40!important;border-color:#004d40!important}.v-application .teal--text.text--darken-4{color:#004d40!important;caret-color:#004d40!important}.v-application .teal.accent-1{background-color:#a7ffeb!important;border-color:#a7ffeb!important}.v-application .teal--text.text--accent-1{color:#a7ffeb!important;caret-color:#a7ffeb!important}.v-application .teal.accent-2{background-color:#64ffda!important;border-color:#64ffda!important}.v-application .teal--text.text--accent-2{color:#64ffda!important;caret-color:#64ffda!important}.v-application .teal.accent-3{background-color:#1de9b6!important;border-color:#1de9b6!important}.v-application .teal--text.text--accent-3{color:#1de9b6!important;caret-color:#1de9b6!important}.v-application .teal.accent-4{background-color:#00bfa5!important;border-color:#00bfa5!important}.v-application .teal--text.text--accent-4{color:#00bfa5!important;caret-color:#00bfa5!important}.v-application .green{background-color:#4caf50!important;border-color:#4caf50!important}.v-application .green--text{color:#4caf50!important;caret-color:#4caf50!important}.v-application .green.lighten-5{background-color:#e8f5e9!important;border-color:#e8f5e9!important}.v-application .green--text.text--lighten-5{color:#e8f5e9!important;caret-color:#e8f5e9!important}.v-application .green.lighten-4{background-color:#c8e6c9!important;border-color:#c8e6c9!important}.v-application .green--text.text--lighten-4{color:#c8e6c9!important;caret-color:#c8e6c9!important}.v-application .green.lighten-3{background-color:#a5d6a7!important;border-color:#a5d6a7!important}.v-application .green--text.text--lighten-3{color:#a5d6a7!important;caret-color:#a5d6a7!important}.v-application .green.lighten-2{background-color:#81c784!important;border-color:#81c784!important}.v-application .green--text.text--lighten-2{color:#81c784!important;caret-color:#81c784!important}.v-application .green.lighten-1{background-color:#66bb6a!important;border-color:#66bb6a!important}.v-application .green--text.text--lighten-1{color:#66bb6a!important;caret-color:#66bb6a!important}.v-application .green.darken-1{background-color:#43a047!important;border-color:#43a047!important}.v-application .green--text.text--darken-1{color:#43a047!important;caret-color:#43a047!important}.v-application .green.darken-2{background-color:#388e3c!important;border-color:#388e3c!important}.v-application .green--text.text--darken-2{color:#388e3c!important;caret-color:#388e3c!important}.v-application .green.darken-3{background-color:#2e7d32!important;border-color:#2e7d32!important}.v-application .green--text.text--darken-3{color:#2e7d32!important;caret-color:#2e7d32!important}.v-application .green.darken-4{background-color:#1b5e20!important;border-color:#1b5e20!important}.v-application .green--text.text--darken-4{color:#1b5e20!important;caret-color:#1b5e20!important}.v-application .green.accent-1{background-color:#b9f6ca!important;border-color:#b9f6ca!important}.v-application .green--text.text--accent-1{color:#b9f6ca!important;caret-color:#b9f6ca!important}.v-application .green.accent-2{background-color:#69f0ae!important;border-color:#69f0ae!important}.v-application .green--text.text--accent-2{color:#69f0ae!important;caret-color:#69f0ae!important}.v-application .green.accent-3{background-color:#00e676!important;border-color:#00e676!important}.v-application .green--text.text--accent-3{color:#00e676!important;caret-color:#00e676!important}.v-application .green.accent-4{background-color:#00c853!important;border-color:#00c853!important}.v-application .green--text.text--accent-4{color:#00c853!important;caret-color:#00c853!important}.v-application .light-green{background-color:#8bc34a!important;border-color:#8bc34a!important}.v-application .light-green--text{color:#8bc34a!important;caret-color:#8bc34a!important}.v-application .light-green.lighten-5{background-color:#f1f8e9!important;border-color:#f1f8e9!important}.v-application .light-green--text.text--lighten-5{color:#f1f8e9!important;caret-color:#f1f8e9!important}.v-application .light-green.lighten-4{background-color:#dcedc8!important;border-color:#dcedc8!important}.v-application .light-green--text.text--lighten-4{color:#dcedc8!important;caret-color:#dcedc8!important}.v-application .light-green.lighten-3{background-color:#c5e1a5!important;border-color:#c5e1a5!important}.v-application .light-green--text.text--lighten-3{color:#c5e1a5!important;caret-color:#c5e1a5!important}.v-application .light-green.lighten-2{background-color:#aed581!important;border-color:#aed581!important}.v-application .light-green--text.text--lighten-2{color:#aed581!important;caret-color:#aed581!important}.v-application .light-green.lighten-1{background-color:#9ccc65!important;border-color:#9ccc65!important}.v-application .light-green--text.text--lighten-1{color:#9ccc65!important;caret-color:#9ccc65!important}.v-application .light-green.darken-1{background-color:#7cb342!important;border-color:#7cb342!important}.v-application .light-green--text.text--darken-1{color:#7cb342!important;caret-color:#7cb342!important}.v-application .light-green.darken-2{background-color:#689f38!important;border-color:#689f38!important}.v-application .light-green--text.text--darken-2{color:#689f38!important;caret-color:#689f38!important}.v-application .light-green.darken-3{background-color:#558b2f!important;border-color:#558b2f!important}.v-application .light-green--text.text--darken-3{color:#558b2f!important;caret-color:#558b2f!important}.v-application .light-green.darken-4{background-color:#33691e!important;border-color:#33691e!important}.v-application .light-green--text.text--darken-4{color:#33691e!important;caret-color:#33691e!important}.v-application .light-green.accent-1{background-color:#ccff90!important;border-color:#ccff90!important}.v-application .light-green--text.text--accent-1{color:#ccff90!important;caret-color:#ccff90!important}.v-application .light-green.accent-2{background-color:#b2ff59!important;border-color:#b2ff59!important}.v-application .light-green--text.text--accent-2{color:#b2ff59!important;caret-color:#b2ff59!important}.v-application .light-green.accent-3{background-color:#76ff03!important;border-color:#76ff03!important}.v-application .light-green--text.text--accent-3{color:#76ff03!important;caret-color:#76ff03!important}.v-application .light-green.accent-4{background-color:#64dd17!important;border-color:#64dd17!important}.v-application .light-green--text.text--accent-4{color:#64dd17!important;caret-color:#64dd17!important}.v-application .lime{background-color:#cddc39!important;border-color:#cddc39!important}.v-application .lime--text{color:#cddc39!important;caret-color:#cddc39!important}.v-application .lime.lighten-5{background-color:#f9fbe7!important;border-color:#f9fbe7!important}.v-application .lime--text.text--lighten-5{color:#f9fbe7!important;caret-color:#f9fbe7!important}.v-application .lime.lighten-4{background-color:#f0f4c3!important;border-color:#f0f4c3!important}.v-application .lime--text.text--lighten-4{color:#f0f4c3!important;caret-color:#f0f4c3!important}.v-application .lime.lighten-3{background-color:#e6ee9c!important;border-color:#e6ee9c!important}.v-application .lime--text.text--lighten-3{color:#e6ee9c!important;caret-color:#e6ee9c!important}.v-application .lime.lighten-2{background-color:#dce775!important;border-color:#dce775!important}.v-application .lime--text.text--lighten-2{color:#dce775!important;caret-color:#dce775!important}.v-application .lime.lighten-1{background-color:#d4e157!important;border-color:#d4e157!important}.v-application .lime--text.text--lighten-1{color:#d4e157!important;caret-color:#d4e157!important}.v-application .lime.darken-1{background-color:#c0ca33!important;border-color:#c0ca33!important}.v-application .lime--text.text--darken-1{color:#c0ca33!important;caret-color:#c0ca33!important}.v-application .lime.darken-2{background-color:#afb42b!important;border-color:#afb42b!important}.v-application .lime--text.text--darken-2{color:#afb42b!important;caret-color:#afb42b!important}.v-application .lime.darken-3{background-color:#9e9d24!important;border-color:#9e9d24!important}.v-application .lime--text.text--darken-3{color:#9e9d24!important;caret-color:#9e9d24!important}.v-application .lime.darken-4{background-color:#827717!important;border-color:#827717!important}.v-application .lime--text.text--darken-4{color:#827717!important;caret-color:#827717!important}.v-application .lime.accent-1{background-color:#f4ff81!important;border-color:#f4ff81!important}.v-application .lime--text.text--accent-1{color:#f4ff81!important;caret-color:#f4ff81!important}.v-application .lime.accent-2{background-color:#eeff41!important;border-color:#eeff41!important}.v-application .lime--text.text--accent-2{color:#eeff41!important;caret-color:#eeff41!important}.v-application .lime.accent-3{background-color:#c6ff00!important;border-color:#c6ff00!important}.v-application .lime--text.text--accent-3{color:#c6ff00!important;caret-color:#c6ff00!important}.v-application .lime.accent-4{background-color:#aeea00!important;border-color:#aeea00!important}.v-application .lime--text.text--accent-4{color:#aeea00!important;caret-color:#aeea00!important}.v-application .yellow{background-color:#ffeb3b!important;border-color:#ffeb3b!important}.v-application .yellow--text{color:#ffeb3b!important;caret-color:#ffeb3b!important}.v-application .yellow.lighten-5{background-color:#fffde7!important;border-color:#fffde7!important}.v-application .yellow--text.text--lighten-5{color:#fffde7!important;caret-color:#fffde7!important}.v-application .yellow.lighten-4{background-color:#fff9c4!important;border-color:#fff9c4!important}.v-application .yellow--text.text--lighten-4{color:#fff9c4!important;caret-color:#fff9c4!important}.v-application .yellow.lighten-3{background-color:#fff59d!important;border-color:#fff59d!important}.v-application .yellow--text.text--lighten-3{color:#fff59d!important;caret-color:#fff59d!important}.v-application .yellow.lighten-2{background-color:#fff176!important;border-color:#fff176!important}.v-application .yellow--text.text--lighten-2{color:#fff176!important;caret-color:#fff176!important}.v-application .yellow.lighten-1{background-color:#ffee58!important;border-color:#ffee58!important}.v-application .yellow--text.text--lighten-1{color:#ffee58!important;caret-color:#ffee58!important}.v-application .yellow.darken-1{background-color:#fdd835!important;border-color:#fdd835!important}.v-application .yellow--text.text--darken-1{color:#fdd835!important;caret-color:#fdd835!important}.v-application .yellow.darken-2{background-color:#fbc02d!important;border-color:#fbc02d!important}.v-application .yellow--text.text--darken-2{color:#fbc02d!important;caret-color:#fbc02d!important}.v-application .yellow.darken-3{background-color:#f9a825!important;border-color:#f9a825!important}.v-application .yellow--text.text--darken-3{color:#f9a825!important;caret-color:#f9a825!important}.v-application .yellow.darken-4{background-color:#f57f17!important;border-color:#f57f17!important}.v-application .yellow--text.text--darken-4{color:#f57f17!important;caret-color:#f57f17!important}.v-application .yellow.accent-1{background-color:#ffff8d!important;border-color:#ffff8d!important}.v-application .yellow--text.text--accent-1{color:#ffff8d!important;caret-color:#ffff8d!important}.v-application .yellow.accent-2{background-color:#ff0!important;border-color:#ff0!important}.v-application .yellow--text.text--accent-2{color:#ff0!important;caret-color:#ff0!important}.v-application .yellow.accent-3{background-color:#ffea00!important;border-color:#ffea00!important}.v-application .yellow--text.text--accent-3{color:#ffea00!important;caret-color:#ffea00!important}.v-application .yellow.accent-4{background-color:#ffd600!important;border-color:#ffd600!important}.v-application .yellow--text.text--accent-4{color:#ffd600!important;caret-color:#ffd600!important}.v-application .amber{background-color:#ffc107!important;border-color:#ffc107!important}.v-application .amber--text{color:#ffc107!important;caret-color:#ffc107!important}.v-application .amber.lighten-5{background-color:#fff8e1!important;border-color:#fff8e1!important}.v-application .amber--text.text--lighten-5{color:#fff8e1!important;caret-color:#fff8e1!important}.v-application .amber.lighten-4{background-color:#ffecb3!important;border-color:#ffecb3!important}.v-application .amber--text.text--lighten-4{color:#ffecb3!important;caret-color:#ffecb3!important}.v-application .amber.lighten-3{background-color:#ffe082!important;border-color:#ffe082!important}.v-application .amber--text.text--lighten-3{color:#ffe082!important;caret-color:#ffe082!important}.v-application .amber.lighten-2{background-color:#ffd54f!important;border-color:#ffd54f!important}.v-application .amber--text.text--lighten-2{color:#ffd54f!important;caret-color:#ffd54f!important}.v-application .amber.lighten-1{background-color:#ffca28!important;border-color:#ffca28!important}.v-application .amber--text.text--lighten-1{color:#ffca28!important;caret-color:#ffca28!important}.v-application .amber.darken-1{background-color:#ffb300!important;border-color:#ffb300!important}.v-application .amber--text.text--darken-1{color:#ffb300!important;caret-color:#ffb300!important}.v-application .amber.darken-2{background-color:#ffa000!important;border-color:#ffa000!important}.v-application .amber--text.text--darken-2{color:#ffa000!important;caret-color:#ffa000!important}.v-application .amber.darken-3{background-color:#ff8f00!important;border-color:#ff8f00!important}.v-application .amber--text.text--darken-3{color:#ff8f00!important;caret-color:#ff8f00!important}.v-application .amber.darken-4{background-color:#ff6f00!important;border-color:#ff6f00!important}.v-application .amber--text.text--darken-4{color:#ff6f00!important;caret-color:#ff6f00!important}.v-application .amber.accent-1{background-color:#ffe57f!important;border-color:#ffe57f!important}.v-application .amber--text.text--accent-1{color:#ffe57f!important;caret-color:#ffe57f!important}.v-application .amber.accent-2{background-color:#ffd740!important;border-color:#ffd740!important}.v-application .amber--text.text--accent-2{color:#ffd740!important;caret-color:#ffd740!important}.v-application .amber.accent-3{background-color:#ffc400!important;border-color:#ffc400!important}.v-application .amber--text.text--accent-3{color:#ffc400!important;caret-color:#ffc400!important}.v-application .amber.accent-4{background-color:#ffab00!important;border-color:#ffab00!important}.v-application .amber--text.text--accent-4{color:#ffab00!important;caret-color:#ffab00!important}.v-application .orange{background-color:#ff9800!important;border-color:#ff9800!important}.v-application .orange--text{color:#ff9800!important;caret-color:#ff9800!important}.v-application .orange.lighten-5{background-color:#fff3e0!important;border-color:#fff3e0!important}.v-application .orange--text.text--lighten-5{color:#fff3e0!important;caret-color:#fff3e0!important}.v-application .orange.lighten-4{background-color:#ffe0b2!important;border-color:#ffe0b2!important}.v-application .orange--text.text--lighten-4{color:#ffe0b2!important;caret-color:#ffe0b2!important}.v-application .orange.lighten-3{background-color:#ffcc80!important;border-color:#ffcc80!important}.v-application .orange--text.text--lighten-3{color:#ffcc80!important;caret-color:#ffcc80!important}.v-application .orange.lighten-2{background-color:#ffb74d!important;border-color:#ffb74d!important}.v-application .orange--text.text--lighten-2{color:#ffb74d!important;caret-color:#ffb74d!important}.v-application .orange.lighten-1{background-color:#ffa726!important;border-color:#ffa726!important}.v-application .orange--text.text--lighten-1{color:#ffa726!important;caret-color:#ffa726!important}.v-application .orange.darken-1{background-color:#fb8c00!important;border-color:#fb8c00!important}.v-application .orange--text.text--darken-1{color:#fb8c00!important;caret-color:#fb8c00!important}.v-application .orange.darken-2{background-color:#f57c00!important;border-color:#f57c00!important}.v-application .orange--text.text--darken-2{color:#f57c00!important;caret-color:#f57c00!important}.v-application .orange.darken-3{background-color:#ef6c00!important;border-color:#ef6c00!important}.v-application .orange--text.text--darken-3{color:#ef6c00!important;caret-color:#ef6c00!important}.v-application .orange.darken-4{background-color:#e65100!important;border-color:#e65100!important}.v-application .orange--text.text--darken-4{color:#e65100!important;caret-color:#e65100!important}.v-application .orange.accent-1{background-color:#ffd180!important;border-color:#ffd180!important}.v-application .orange--text.text--accent-1{color:#ffd180!important;caret-color:#ffd180!important}.v-application .orange.accent-2{background-color:#ffab40!important;border-color:#ffab40!important}.v-application .orange--text.text--accent-2{color:#ffab40!important;caret-color:#ffab40!important}.v-application .orange.accent-3{background-color:#ff9100!important;border-color:#ff9100!important}.v-application .orange--text.text--accent-3{color:#ff9100!important;caret-color:#ff9100!important}.v-application .orange.accent-4{background-color:#ff6d00!important;border-color:#ff6d00!important}.v-application .orange--text.text--accent-4{color:#ff6d00!important;caret-color:#ff6d00!important}.v-application .deep-orange{background-color:#ff5722!important;border-color:#ff5722!important}.v-application .deep-orange--text{color:#ff5722!important;caret-color:#ff5722!important}.v-application .deep-orange.lighten-5{background-color:#fbe9e7!important;border-color:#fbe9e7!important}.v-application .deep-orange--text.text--lighten-5{color:#fbe9e7!important;caret-color:#fbe9e7!important}.v-application .deep-orange.lighten-4{background-color:#ffccbc!important;border-color:#ffccbc!important}.v-application .deep-orange--text.text--lighten-4{color:#ffccbc!important;caret-color:#ffccbc!important}.v-application .deep-orange.lighten-3{background-color:#ffab91!important;border-color:#ffab91!important}.v-application .deep-orange--text.text--lighten-3{color:#ffab91!important;caret-color:#ffab91!important}.v-application .deep-orange.lighten-2{background-color:#ff8a65!important;border-color:#ff8a65!important}.v-application .deep-orange--text.text--lighten-2{color:#ff8a65!important;caret-color:#ff8a65!important}.v-application .deep-orange.lighten-1{background-color:#ff7043!important;border-color:#ff7043!important}.v-application .deep-orange--text.text--lighten-1{color:#ff7043!important;caret-color:#ff7043!important}.v-application .deep-orange.darken-1{background-color:#f4511e!important;border-color:#f4511e!important}.v-application .deep-orange--text.text--darken-1{color:#f4511e!important;caret-color:#f4511e!important}.v-application .deep-orange.darken-2{background-color:#e64a19!important;border-color:#e64a19!important}.v-application .deep-orange--text.text--darken-2{color:#e64a19!important;caret-color:#e64a19!important}.v-application .deep-orange.darken-3{background-color:#d84315!important;border-color:#d84315!important}.v-application .deep-orange--text.text--darken-3{color:#d84315!important;caret-color:#d84315!important}.v-application .deep-orange.darken-4{background-color:#bf360c!important;border-color:#bf360c!important}.v-application .deep-orange--text.text--darken-4{color:#bf360c!important;caret-color:#bf360c!important}.v-application .deep-orange.accent-1{background-color:#ff9e80!important;border-color:#ff9e80!important}.v-application .deep-orange--text.text--accent-1{color:#ff9e80!important;caret-color:#ff9e80!important}.v-application .deep-orange.accent-2{background-color:#ff6e40!important;border-color:#ff6e40!important}.v-application .deep-orange--text.text--accent-2{color:#ff6e40!important;caret-color:#ff6e40!important}.v-application .deep-orange.accent-3{background-color:#ff3d00!important;border-color:#ff3d00!important}.v-application .deep-orange--text.text--accent-3{color:#ff3d00!important;caret-color:#ff3d00!important}.v-application .deep-orange.accent-4{background-color:#dd2c00!important;border-color:#dd2c00!important}.v-application .deep-orange--text.text--accent-4{color:#dd2c00!important;caret-color:#dd2c00!important}.v-application .brown{background-color:#795548!important;border-color:#795548!important}.v-application .brown--text{color:#795548!important;caret-color:#795548!important}.v-application .brown.lighten-5{background-color:#efebe9!important;border-color:#efebe9!important}.v-application .brown--text.text--lighten-5{color:#efebe9!important;caret-color:#efebe9!important}.v-application .brown.lighten-4{background-color:#d7ccc8!important;border-color:#d7ccc8!important}.v-application .brown--text.text--lighten-4{color:#d7ccc8!important;caret-color:#d7ccc8!important}.v-application .brown.lighten-3{background-color:#bcaaa4!important;border-color:#bcaaa4!important}.v-application .brown--text.text--lighten-3{color:#bcaaa4!important;caret-color:#bcaaa4!important}.v-application .brown.lighten-2{background-color:#a1887f!important;border-color:#a1887f!important}.v-application .brown--text.text--lighten-2{color:#a1887f!important;caret-color:#a1887f!important}.v-application .brown.lighten-1{background-color:#8d6e63!important;border-color:#8d6e63!important}.v-application .brown--text.text--lighten-1{color:#8d6e63!important;caret-color:#8d6e63!important}.v-application .brown.darken-1{background-color:#6d4c41!important;border-color:#6d4c41!important}.v-application .brown--text.text--darken-1{color:#6d4c41!important;caret-color:#6d4c41!important}.v-application .brown.darken-2{background-color:#5d4037!important;border-color:#5d4037!important}.v-application .brown--text.text--darken-2{color:#5d4037!important;caret-color:#5d4037!important}.v-application .brown.darken-3{background-color:#4e342e!important;border-color:#4e342e!important}.v-application .brown--text.text--darken-3{color:#4e342e!important;caret-color:#4e342e!important}.v-application .brown.darken-4{background-color:#3e2723!important;border-color:#3e2723!important}.v-application .brown--text.text--darken-4{color:#3e2723!important;caret-color:#3e2723!important}.v-application .blue-grey{background-color:#607d8b!important;border-color:#607d8b!important}.v-application .blue-grey--text{color:#607d8b!important;caret-color:#607d8b!important}.v-application .blue-grey.lighten-5{background-color:#eceff1!important;border-color:#eceff1!important}.v-application .blue-grey--text.text--lighten-5{color:#eceff1!important;caret-color:#eceff1!important}.v-application .blue-grey.lighten-4{background-color:#cfd8dc!important;border-color:#cfd8dc!important}.v-application .blue-grey--text.text--lighten-4{color:#cfd8dc!important;caret-color:#cfd8dc!important}.v-application .blue-grey.lighten-3{background-color:#b0bec5!important;border-color:#b0bec5!important}.v-application .blue-grey--text.text--lighten-3{color:#b0bec5!important;caret-color:#b0bec5!important}.v-application .blue-grey.lighten-2{background-color:#90a4ae!important;border-color:#90a4ae!important}.v-application .blue-grey--text.text--lighten-2{color:#90a4ae!important;caret-color:#90a4ae!important}.v-application .blue-grey.lighten-1{background-color:#78909c!important;border-color:#78909c!important}.v-application .blue-grey--text.text--lighten-1{color:#78909c!important;caret-color:#78909c!important}.v-application .blue-grey.darken-1{background-color:#546e7a!important;border-color:#546e7a!important}.v-application .blue-grey--text.text--darken-1{color:#546e7a!important;caret-color:#546e7a!important}.v-application .blue-grey.darken-2{background-color:#455a64!important;border-color:#455a64!important}.v-application .blue-grey--text.text--darken-2{color:#455a64!important;caret-color:#455a64!important}.v-application .blue-grey.darken-3{background-color:#37474f!important;border-color:#37474f!important}.v-application .blue-grey--text.text--darken-3{color:#37474f!important;caret-color:#37474f!important}.v-application .blue-grey.darken-4{background-color:#263238!important;border-color:#263238!important}.v-application .blue-grey--text.text--darken-4{color:#263238!important;caret-color:#263238!important}.v-application .grey{background-color:#9e9e9e!important;border-color:#9e9e9e!important}.v-application .grey--text{color:#9e9e9e!important;caret-color:#9e9e9e!important}.v-application .grey.lighten-5{background-color:#fafafa!important;border-color:#fafafa!important}.v-application .grey--text.text--lighten-5{color:#fafafa!important;caret-color:#fafafa!important}.v-application .grey.lighten-4{background-color:#f5f5f5!important;border-color:#f5f5f5!important}.v-application .grey--text.text--lighten-4{color:#f5f5f5!important;caret-color:#f5f5f5!important}.v-application .grey.lighten-3{background-color:#eee!important;border-color:#eee!important}.v-application .grey--text.text--lighten-3{color:#eee!important;caret-color:#eee!important}.v-application .grey.lighten-2{background-color:#e0e0e0!important;border-color:#e0e0e0!important}.v-application .grey--text.text--lighten-2{color:#e0e0e0!important;caret-color:#e0e0e0!important}.v-application .grey.lighten-1{background-color:#bdbdbd!important;border-color:#bdbdbd!important}.v-application .grey--text.text--lighten-1{color:#bdbdbd!important;caret-color:#bdbdbd!important}.v-application .grey.darken-1{background-color:#757575!important;border-color:#757575!important}.v-application .grey--text.text--darken-1{color:#757575!important;caret-color:#757575!important}.v-application .grey.darken-2{background-color:#616161!important;border-color:#616161!important}.v-application .grey--text.text--darken-2{color:#616161!important;caret-color:#616161!important}.v-application .grey.darken-3{background-color:#424242!important;border-color:#424242!important}.v-application .grey--text.text--darken-3{color:#424242!important;caret-color:#424242!important}.v-application .grey.darken-4{background-color:#212121!important;border-color:#212121!important}.v-application .grey--text.text--darken-4{color:#212121!important;caret-color:#212121!important}.v-application .shades.black{background-color:#000!important;border-color:#000!important}.v-application .shades--text.text--black{color:#000!important;caret-color:#000!important}.v-application .shades.white{background-color:#fff!important;border-color:#fff!important}.v-application .shades--text.text--white{color:#fff!important;caret-color:#fff!important}.v-application .shades.transparent{background-color:transparent!important;border-color:transparent!important}.v-application .shades--text.text--transparent{color:transparent!important;caret-color:transparent!important}/*!\n * ress.css • v2.0.4\n * MIT License\n * github.com/filipelinhares/ress\n */html{box-sizing:border-box;overflow-y:scroll;-webkit-text-size-adjust:100%;word-break:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4}*,:after,:before{background-repeat:no-repeat;box-sizing:inherit}:after,:before{text-decoration:inherit;vertical-align:inherit}*{padding:0;margin:0}hr{overflow:visible;height:0}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}a{background-color:transparent}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace,monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}input{border-radius:0}[disabled]{cursor:default}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}[role=button],[type=button],[type=reset],[type=submit],button{cursor:pointer;color:inherit}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button:-moz-focusring{outline:1px dotted ButtonText}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}select{-moz-appearance:none;-webkit-appearance:none}select::-ms-expand{display:none}select::-ms-value{color:currentColor}legend{border:0;color:inherit;display:table;white-space:normal;max-width:100%}::-webkit-file-upload-button{-webkit-appearance:button;color:inherit;font:inherit}img{border-style:none}progress{vertical-align:baseline}@media screen{[hidden~=screen]{display:inherit}[hidden~=screen]:not(:active):not(:focus):not(:target){position:absolute!important;clip:rect(0 0 0 0)!important}}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}.v-application .elevation-24{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12)!important}.v-application .elevation-23{box-shadow:0 11px 14px -7px rgba(0,0,0,.2),0 23px 36px 3px rgba(0,0,0,.14),0 9px 44px 8px rgba(0,0,0,.12)!important}.v-application .elevation-22{box-shadow:0 10px 14px -6px rgba(0,0,0,.2),0 22px 35px 3px rgba(0,0,0,.14),0 8px 42px 7px rgba(0,0,0,.12)!important}.v-application .elevation-21{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 21px 33px 3px rgba(0,0,0,.14),0 8px 40px 7px rgba(0,0,0,.12)!important}.v-application .elevation-20{box-shadow:0 10px 13px -6px rgba(0,0,0,.2),0 20px 31px 3px rgba(0,0,0,.14),0 8px 38px 7px rgba(0,0,0,.12)!important}.v-application .elevation-19{box-shadow:0 9px 12px -6px rgba(0,0,0,.2),0 19px 29px 2px rgba(0,0,0,.14),0 7px 36px 6px rgba(0,0,0,.12)!important}.v-application .elevation-18{box-shadow:0 9px 11px -5px rgba(0,0,0,.2),0 18px 28px 2px rgba(0,0,0,.14),0 7px 34px 6px rgba(0,0,0,.12)!important}.v-application .elevation-17{box-shadow:0 8px 11px -5px rgba(0,0,0,.2),0 17px 26px 2px rgba(0,0,0,.14),0 6px 32px 5px rgba(0,0,0,.12)!important}.v-application .elevation-16{box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)!important}.v-application .elevation-15{box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)!important}.v-application .elevation-14{box-shadow:0 7px 9px -4px rgba(0,0,0,.2),0 14px 21px 2px rgba(0,0,0,.14),0 5px 26px 4px rgba(0,0,0,.12)!important}.v-application .elevation-13{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 13px 19px 2px rgba(0,0,0,.14),0 5px 24px 4px rgba(0,0,0,.12)!important}.v-application .elevation-12{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)!important}.v-application .elevation-11{box-shadow:0 6px 7px -4px rgba(0,0,0,.2),0 11px 15px 1px rgba(0,0,0,.14),0 4px 20px 3px rgba(0,0,0,.12)!important}.v-application .elevation-10{box-shadow:0 6px 6px -3px rgba(0,0,0,.2),0 10px 14px 1px rgba(0,0,0,.14),0 4px 18px 3px rgba(0,0,0,.12)!important}.v-application .elevation-9{box-shadow:0 5px 6px -3px rgba(0,0,0,.2),0 9px 12px 1px rgba(0,0,0,.14),0 3px 16px 2px rgba(0,0,0,.12)!important}.v-application .elevation-8{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)!important}.v-application .elevation-7{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)!important}.v-application .elevation-6{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)!important}.v-application .elevation-5{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)!important}.v-application .elevation-4{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.v-application .elevation-3{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)!important}.v-application .elevation-2{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)!important}.v-application .elevation-1{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)!important}.v-application .elevation-0{box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)!important}.carousel-transition-enter{transform:translate(100%)}.carousel-transition-leave,.carousel-transition-leave-to{position:absolute;top:0;transform:translate(-100%)}.carousel-reverse-transition-enter{transform:translate(-100%)}.carousel-reverse-transition-leave,.carousel-reverse-transition-leave-to{position:absolute;top:0;transform:translate(100%)}.dialog-transition-enter-active,.dialog-transition-leave-active{pointer-events:none!important}.dialog-transition-enter,.dialog-transition-leave-to{transform:scale(.5);opacity:0}.dialog-transition-enter-to,.dialog-transition-leave{opacity:1}.dialog-bottom-transition-enter,.dialog-bottom-transition-leave-to{transform:translateY(100%)}.dialog-top-transition-enter,.dialog-top-transition-leave-to{transform:translateY(-100%)}.picker-reverse-transition-enter-active,.picker-reverse-transition-leave-active,.picker-transition-enter-active,.picker-transition-leave-active{transition:.3s cubic-bezier(0,0,.2,1)}.picker-reverse-transition-enter,.picker-reverse-transition-leave-to,.picker-transition-enter,.picker-transition-leave-to{opacity:0}.picker-reverse-transition-leave,.picker-reverse-transition-leave-active,.picker-reverse-transition-leave-to,.picker-transition-leave,.picker-transition-leave-active,.picker-transition-leave-to{position:absolute!important}.picker-transition-enter{transform:translateY(100%)}.picker-reverse-transition-enter,.picker-transition-leave-to{transform:translateY(-100%)}.picker-reverse-transition-leave-to{transform:translateY(100%)}.picker-title-transition-enter-to,.picker-title-transition-leave{transform:translate(0)}.picker-title-transition-enter{transform:translate(-100%)}.picker-title-transition-leave-to{opacity:0;transform:translate(100%)}.picker-title-transition-leave,.picker-title-transition-leave-active,.picker-title-transition-leave-to{position:absolute!important}.tab-transition-enter{transform:translate(100%)}.tab-transition-leave,.tab-transition-leave-active{position:absolute;top:0}.tab-transition-leave-to{position:absolute}.tab-reverse-transition-enter,.tab-transition-leave-to{transform:translate(-100%)}.tab-reverse-transition-leave,.tab-reverse-transition-leave-to{top:0;position:absolute;transform:translate(100%)}.expand-transition-enter-active,.expand-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.expand-transition-move{transition:transform .6s}.expand-x-transition-enter-active,.expand-x-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.expand-x-transition-move{transition:transform .6s}.scale-transition-enter-active,.scale-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scale-transition-move{transition:transform .6s}.scale-transition-enter,.scale-transition-leave,.scale-transition-leave-to{opacity:0;transform:scale(0)}.scale-rotate-transition-enter-active,.scale-rotate-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scale-rotate-transition-move{transition:transform .6s}.scale-rotate-transition-enter,.scale-rotate-transition-leave,.scale-rotate-transition-leave-to{opacity:0;transform:scale(0) rotate(-45deg)}.scale-rotate-reverse-transition-enter-active,.scale-rotate-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scale-rotate-reverse-transition-move{transition:transform .6s}.scale-rotate-reverse-transition-enter,.scale-rotate-reverse-transition-leave,.scale-rotate-reverse-transition-leave-to{opacity:0;transform:scale(0) rotate(45deg)}.message-transition-enter-active,.message-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.message-transition-move{transition:transform .6s}.message-transition-enter,.message-transition-leave-to{opacity:0;transform:translateY(-15px)}.message-transition-leave,.message-transition-leave-active{position:absolute}.slide-y-transition-enter-active,.slide-y-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-y-transition-move{transition:transform .6s}.slide-y-transition-enter,.slide-y-transition-leave-to{opacity:0;transform:translateY(-15px)}.slide-y-reverse-transition-enter-active,.slide-y-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-y-reverse-transition-move{transition:transform .6s}.slide-y-reverse-transition-enter,.slide-y-reverse-transition-leave-to{opacity:0;transform:translateY(15px)}.scroll-y-transition-enter-active,.scroll-y-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-y-transition-move{transition:transform .6s}.scroll-y-transition-enter,.scroll-y-transition-leave-to{opacity:0}.scroll-y-transition-enter{transform:translateY(-15px)}.scroll-y-transition-leave-to{transform:translateY(15px)}.scroll-y-reverse-transition-enter-active,.scroll-y-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-y-reverse-transition-move{transition:transform .6s}.scroll-y-reverse-transition-enter,.scroll-y-reverse-transition-leave-to{opacity:0}.scroll-y-reverse-transition-enter{transform:translateY(15px)}.scroll-y-reverse-transition-leave-to{transform:translateY(-15px)}.scroll-x-transition-enter-active,.scroll-x-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-x-transition-move{transition:transform .6s}.scroll-x-transition-enter,.scroll-x-transition-leave-to{opacity:0}.scroll-x-transition-enter{transform:translateX(-15px)}.scroll-x-transition-leave-to{transform:translateX(15px)}.scroll-x-reverse-transition-enter-active,.scroll-x-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.scroll-x-reverse-transition-move{transition:transform .6s}.scroll-x-reverse-transition-enter,.scroll-x-reverse-transition-leave-to{opacity:0}.scroll-x-reverse-transition-enter{transform:translateX(15px)}.scroll-x-reverse-transition-leave-to{transform:translateX(-15px)}.slide-x-transition-enter-active,.slide-x-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-x-transition-move{transition:transform .6s}.slide-x-transition-enter,.slide-x-transition-leave-to{opacity:0;transform:translateX(-15px)}.slide-x-reverse-transition-enter-active,.slide-x-reverse-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.slide-x-reverse-transition-move{transition:transform .6s}.slide-x-reverse-transition-enter,.slide-x-reverse-transition-leave-to{opacity:0;transform:translateX(15px)}.fade-transition-enter-active,.fade-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.fade-transition-move{transition:transform .6s}.fade-transition-enter,.fade-transition-leave-to{opacity:0!important}.fab-transition-enter-active,.fab-transition-leave-active{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.fab-transition-move{transition:transform .6s}.fab-transition-enter,.fab-transition-leave-to{transform:scale(0) rotate(-45deg)}.v-application .blockquote{padding:16px 0 16px 24px;font-size:18px;font-weight:300}.v-application code,.v-application kbd{border-radius:3px;font-size:85%;font-weight:400}.v-application code{padding:.2em .4em}.v-application kbd{padding:.2em .4rem;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.theme--light.v-application code{background-color:rgba(0,0,0,.05);color:currentColor}.theme--light.v-application kbd{background:#212529;color:#fff}.theme--dark.v-application code{background-color:hsla(0,0%,100%,.1);color:currentColor}.theme--dark.v-application kbd{background:#212529;color:#fff}html{font-size:16px;overflow-x:hidden;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:rgba(0,0,0,0)}html.overflow-y-hidden{overflow-y:hidden!important}.v-application{font-family:"Roboto",sans-serif;line-height:1.5}.v-application ::-ms-clear,.v-application ::-ms-reveal{display:none}@supports(-webkit-touch-callout:none){body{cursor:pointer}}.v-application .theme--light.heading{color:rgba(0,0,0,.87)}.v-application .theme--dark.heading{color:#fff}.v-application ol,.v-application ul{padding-left:24px}.v-application .display-4{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .display-3,.v-application .display-4{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .display-3{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .display-2{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .display-1,.v-application .display-2{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .display-1{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .headline{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .headline,.v-application .title{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .title{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .subtitle-2{font-size:.875rem!important;font-weight:500;letter-spacing:.0071428571em!important;line-height:1.375rem;font-family:"Roboto",sans-serif!important}.v-application .subtitle-1{font-size:1rem!important;letter-spacing:.009375em!important;line-height:1.75rem}.v-application .body-2,.v-application .subtitle-1{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .body-2{font-size:.875rem!important;letter-spacing:.0178571429em!important;line-height:1.25rem}.v-application .body-1{font-size:1rem!important;letter-spacing:.03125em!important;line-height:1.5rem}.v-application .body-1,.v-application .caption{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .caption{font-size:.75rem!important;letter-spacing:.0333333333em!important;line-height:1.25rem}.v-application .overline{font-size:.75rem!important;font-weight:500;letter-spacing:.1666666667em!important;line-height:2rem;text-transform:uppercase;font-family:"Roboto",sans-serif!important}.v-application p{margin-bottom:16px}@media only print{.v-application .hidden-print-only{display:none!important}}@media only screen{.v-application .hidden-screen-only{display:none!important}}@media only screen and (max-width:599.98px){.v-application .hidden-xs-only{display:none!important}}@media only screen and (min-width:600px)and (max-width:959.98px){.v-application .hidden-sm-only{display:none!important}}@media only screen and (max-width:959.98px){.v-application .hidden-sm-and-down{display:none!important}}@media only screen and (min-width:600px){.v-application .hidden-sm-and-up{display:none!important}}@media only screen and (min-width:960px)and (max-width:1263.98px){.v-application .hidden-md-only{display:none!important}}@media only screen and (max-width:1263.98px){.v-application .hidden-md-and-down{display:none!important}}@media only screen and (min-width:960px){.v-application .hidden-md-and-up{display:none!important}}@media only screen and (min-width:1264px)and (max-width:1903.98px){.v-application .hidden-lg-only{display:none!important}}@media only screen and (max-width:1903.98px){.v-application .hidden-lg-and-down{display:none!important}}@media only screen and (min-width:1264px){.v-application .hidden-lg-and-up{display:none!important}}@media only screen and (min-width:1904px){.v-application .hidden-xl-only{display:none!important}}.d-sr-only,.d-sr-only-focusable:not(:focus){border:0!important;clip:rect(0,0,0,0)!important;height:1px!important;margin:-1px!important;overflow:hidden!important;padding:0!important;position:absolute!important;white-space:nowrap!important;width:1px!important}.v-application .font-weight-thin{font-weight:100!important}.v-application .font-weight-light{font-weight:300!important}.v-application .font-weight-regular{font-weight:400!important}.v-application .font-weight-medium{font-weight:500!important}.v-application .font-weight-bold{font-weight:700!important}.v-application .font-weight-black{font-weight:900!important}.v-application .font-italic{font-style:italic!important}.v-application .transition-fast-out-slow-in{transition:.3s cubic-bezier(.4,0,.2,1)!important}.v-application .transition-linear-out-slow-in{transition:.3s cubic-bezier(0,0,.2,1)!important}.v-application .transition-fast-out-linear-in{transition:.3s cubic-bezier(.4,0,1,1)!important}.v-application .transition-ease-in-out{transition:.3s cubic-bezier(.4,0,.6,1)!important}.v-application .transition-fast-in-fast-out{transition:.3s cubic-bezier(.25,.8,.25,1)!important}.v-application .transition-swing{transition:.3s cubic-bezier(.25,.8,.5,1)!important}.v-application .overflow-auto{overflow:auto!important}.v-application .overflow-hidden{overflow:hidden!important}.v-application .overflow-visible{overflow:visible!important}.v-application .overflow-x-auto{overflow-x:auto!important}.v-application .overflow-x-hidden{overflow-x:hidden!important}.v-application .overflow-y-auto{overflow-y:auto!important}.v-application .overflow-y-hidden{overflow-y:hidden!important}.v-application .d-none{display:none!important}.v-application .d-inline{display:inline!important}.v-application .d-inline-block{display:inline-block!important}.v-application .d-block{display:block!important}.v-application .d-table{display:table!important}.v-application .d-table-row{display:table-row!important}.v-application .d-table-cell{display:table-cell!important}.v-application .d-flex{display:flex!important}.v-application .d-inline-flex{display:inline-flex!important}.v-application .float-none{float:none!important}.v-application .float-left{float:left!important}.v-application .float-right{float:right!important}.v-application--is-rtl .float-end{float:left!important}.v-application--is-ltr .float-end,.v-application--is-rtl .float-start{float:right!important}.v-application--is-ltr .float-start{float:left!important}.v-application .flex-fill{flex:1 1 auto!important}.v-application .flex-row{flex-direction:row!important}.v-application .flex-column{flex-direction:column!important}.v-application .flex-row-reverse{flex-direction:row-reverse!important}.v-application .flex-column-reverse{flex-direction:column-reverse!important}.v-application .flex-grow-0{flex-grow:0!important}.v-application .flex-grow-1{flex-grow:1!important}.v-application .flex-shrink-0{flex-shrink:0!important}.v-application .flex-shrink-1{flex-shrink:1!important}.v-application .flex-wrap{flex-wrap:wrap!important}.v-application .flex-nowrap{flex-wrap:nowrap!important}.v-application .flex-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-start{justify-content:flex-start!important}.v-application .justify-end{justify-content:flex-end!important}.v-application .justify-center{justify-content:center!important}.v-application .justify-space-between{justify-content:space-between!important}.v-application .justify-space-around{justify-content:space-around!important}.v-application .align-start{align-items:flex-start!important}.v-application .align-end{align-items:flex-end!important}.v-application .align-center{align-items:center!important}.v-application .align-baseline{align-items:baseline!important}.v-application .align-stretch{align-items:stretch!important}.v-application .align-content-start{align-content:flex-start!important}.v-application .align-content-end{align-content:flex-end!important}.v-application .align-content-center{align-content:center!important}.v-application .align-content-space-between{align-content:space-between!important}.v-application .align-content-space-around{align-content:space-around!important}.v-application .align-content-stretch{align-content:stretch!important}.v-application .align-self-auto{align-self:auto!important}.v-application .align-self-start{align-self:flex-start!important}.v-application .align-self-end{align-self:flex-end!important}.v-application .align-self-center{align-self:center!important}.v-application .align-self-baseline{align-self:baseline!important}.v-application .align-self-stretch{align-self:stretch!important}.v-application .order-first{order:-1!important}.v-application .order-0{order:0!important}.v-application .order-1{order:1!important}.v-application .order-2{order:2!important}.v-application .order-3{order:3!important}.v-application .order-4{order:4!important}.v-application .order-5{order:5!important}.v-application .order-6{order:6!important}.v-application .order-7{order:7!important}.v-application .order-8{order:8!important}.v-application .order-9{order:9!important}.v-application .order-10{order:10!important}.v-application .order-11{order:11!important}.v-application .order-12{order:12!important}.v-application .order-last{order:13!important}.v-application .ma-0{margin:0!important}.v-application .ma-1{margin:4px!important}.v-application .ma-2{margin:8px!important}.v-application .ma-3{margin:12px!important}.v-application .ma-4{margin:16px!important}.v-application .ma-5{margin:20px!important}.v-application .ma-6{margin:24px!important}.v-application .ma-7{margin:28px!important}.v-application .ma-8{margin:32px!important}.v-application .ma-9{margin:36px!important}.v-application .ma-10{margin:40px!important}.v-application .ma-11{margin:44px!important}.v-application .ma-12{margin:48px!important}.v-application .ma-13{margin:52px!important}.v-application .ma-14{margin:56px!important}.v-application .ma-15{margin:60px!important}.v-application .ma-16{margin:64px!important}.v-application .ma-auto{margin:auto!important}.v-application .mx-0{margin-right:0!important;margin-left:0!important}.v-application .mx-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-0{margin-top:0!important}.v-application .mt-1{margin-top:4px!important}.v-application .mt-2{margin-top:8px!important}.v-application .mt-3{margin-top:12px!important}.v-application .mt-4{margin-top:16px!important}.v-application .mt-5{margin-top:20px!important}.v-application .mt-6{margin-top:24px!important}.v-application .mt-7{margin-top:28px!important}.v-application .mt-8{margin-top:32px!important}.v-application .mt-9{margin-top:36px!important}.v-application .mt-10{margin-top:40px!important}.v-application .mt-11{margin-top:44px!important}.v-application .mt-12{margin-top:48px!important}.v-application .mt-13{margin-top:52px!important}.v-application .mt-14{margin-top:56px!important}.v-application .mt-15{margin-top:60px!important}.v-application .mt-16{margin-top:64px!important}.v-application .mt-auto{margin-top:auto!important}.v-application .mr-0{margin-right:0!important}.v-application .mr-1{margin-right:4px!important}.v-application .mr-2{margin-right:8px!important}.v-application .mr-3{margin-right:12px!important}.v-application .mr-4{margin-right:16px!important}.v-application .mr-5{margin-right:20px!important}.v-application .mr-6{margin-right:24px!important}.v-application .mr-7{margin-right:28px!important}.v-application .mr-8{margin-right:32px!important}.v-application .mr-9{margin-right:36px!important}.v-application .mr-10{margin-right:40px!important}.v-application .mr-11{margin-right:44px!important}.v-application .mr-12{margin-right:48px!important}.v-application .mr-13{margin-right:52px!important}.v-application .mr-14{margin-right:56px!important}.v-application .mr-15{margin-right:60px!important}.v-application .mr-16{margin-right:64px!important}.v-application .mr-auto{margin-right:auto!important}.v-application .mb-0{margin-bottom:0!important}.v-application .mb-1{margin-bottom:4px!important}.v-application .mb-2{margin-bottom:8px!important}.v-application .mb-3{margin-bottom:12px!important}.v-application .mb-4{margin-bottom:16px!important}.v-application .mb-5{margin-bottom:20px!important}.v-application .mb-6{margin-bottom:24px!important}.v-application .mb-7{margin-bottom:28px!important}.v-application .mb-8{margin-bottom:32px!important}.v-application .mb-9{margin-bottom:36px!important}.v-application .mb-10{margin-bottom:40px!important}.v-application .mb-11{margin-bottom:44px!important}.v-application .mb-12{margin-bottom:48px!important}.v-application .mb-13{margin-bottom:52px!important}.v-application .mb-14{margin-bottom:56px!important}.v-application .mb-15{margin-bottom:60px!important}.v-application .mb-16{margin-bottom:64px!important}.v-application .mb-auto{margin-bottom:auto!important}.v-application .ml-0{margin-left:0!important}.v-application .ml-1{margin-left:4px!important}.v-application .ml-2{margin-left:8px!important}.v-application .ml-3{margin-left:12px!important}.v-application .ml-4{margin-left:16px!important}.v-application .ml-5{margin-left:20px!important}.v-application .ml-6{margin-left:24px!important}.v-application .ml-7{margin-left:28px!important}.v-application .ml-8{margin-left:32px!important}.v-application .ml-9{margin-left:36px!important}.v-application .ml-10{margin-left:40px!important}.v-application .ml-11{margin-left:44px!important}.v-application .ml-12{margin-left:48px!important}.v-application .ml-13{margin-left:52px!important}.v-application .ml-14{margin-left:56px!important}.v-application .ml-15{margin-left:60px!important}.v-application .ml-16{margin-left:64px!important}.v-application .ml-auto{margin-left:auto!important}.v-application--is-ltr .ms-0{margin-left:0!important}.v-application--is-rtl .ms-0{margin-right:0!important}.v-application--is-ltr .ms-1{margin-left:4px!important}.v-application--is-rtl .ms-1{margin-right:4px!important}.v-application--is-ltr .ms-2{margin-left:8px!important}.v-application--is-rtl .ms-2{margin-right:8px!important}.v-application--is-ltr .ms-3{margin-left:12px!important}.v-application--is-rtl .ms-3{margin-right:12px!important}.v-application--is-ltr .ms-4{margin-left:16px!important}.v-application--is-rtl .ms-4{margin-right:16px!important}.v-application--is-ltr .ms-5{margin-left:20px!important}.v-application--is-rtl .ms-5{margin-right:20px!important}.v-application--is-ltr .ms-6{margin-left:24px!important}.v-application--is-rtl .ms-6{margin-right:24px!important}.v-application--is-ltr .ms-7{margin-left:28px!important}.v-application--is-rtl .ms-7{margin-right:28px!important}.v-application--is-ltr .ms-8{margin-left:32px!important}.v-application--is-rtl .ms-8{margin-right:32px!important}.v-application--is-ltr .ms-9{margin-left:36px!important}.v-application--is-rtl .ms-9{margin-right:36px!important}.v-application--is-ltr .ms-10{margin-left:40px!important}.v-application--is-rtl .ms-10{margin-right:40px!important}.v-application--is-ltr .ms-11{margin-left:44px!important}.v-application--is-rtl .ms-11{margin-right:44px!important}.v-application--is-ltr .ms-12{margin-left:48px!important}.v-application--is-rtl .ms-12{margin-right:48px!important}.v-application--is-ltr .ms-13{margin-left:52px!important}.v-application--is-rtl .ms-13{margin-right:52px!important}.v-application--is-ltr .ms-14{margin-left:56px!important}.v-application--is-rtl .ms-14{margin-right:56px!important}.v-application--is-ltr .ms-15{margin-left:60px!important}.v-application--is-rtl .ms-15{margin-right:60px!important}.v-application--is-ltr .ms-16{margin-left:64px!important}.v-application--is-rtl .ms-16{margin-right:64px!important}.v-application--is-ltr .ms-auto{margin-left:auto!important}.v-application--is-rtl .ms-auto{margin-right:auto!important}.v-application--is-ltr .me-0{margin-right:0!important}.v-application--is-rtl .me-0{margin-left:0!important}.v-application--is-ltr .me-1{margin-right:4px!important}.v-application--is-rtl .me-1{margin-left:4px!important}.v-application--is-ltr .me-2{margin-right:8px!important}.v-application--is-rtl .me-2{margin-left:8px!important}.v-application--is-ltr .me-3{margin-right:12px!important}.v-application--is-rtl .me-3{margin-left:12px!important}.v-application--is-ltr .me-4{margin-right:16px!important}.v-application--is-rtl .me-4{margin-left:16px!important}.v-application--is-ltr .me-5{margin-right:20px!important}.v-application--is-rtl .me-5{margin-left:20px!important}.v-application--is-ltr .me-6{margin-right:24px!important}.v-application--is-rtl .me-6{margin-left:24px!important}.v-application--is-ltr .me-7{margin-right:28px!important}.v-application--is-rtl .me-7{margin-left:28px!important}.v-application--is-ltr .me-8{margin-right:32px!important}.v-application--is-rtl .me-8{margin-left:32px!important}.v-application--is-ltr .me-9{margin-right:36px!important}.v-application--is-rtl .me-9{margin-left:36px!important}.v-application--is-ltr .me-10{margin-right:40px!important}.v-application--is-rtl .me-10{margin-left:40px!important}.v-application--is-ltr .me-11{margin-right:44px!important}.v-application--is-rtl .me-11{margin-left:44px!important}.v-application--is-ltr .me-12{margin-right:48px!important}.v-application--is-rtl .me-12{margin-left:48px!important}.v-application--is-ltr .me-13{margin-right:52px!important}.v-application--is-rtl .me-13{margin-left:52px!important}.v-application--is-ltr .me-14{margin-right:56px!important}.v-application--is-rtl .me-14{margin-left:56px!important}.v-application--is-ltr .me-15{margin-right:60px!important}.v-application--is-rtl .me-15{margin-left:60px!important}.v-application--is-ltr .me-16{margin-right:64px!important}.v-application--is-rtl .me-16{margin-left:64px!important}.v-application--is-ltr .me-auto{margin-right:auto!important}.v-application--is-rtl .me-auto{margin-left:auto!important}.v-application .ma-n1{margin:-4px!important}.v-application .ma-n2{margin:-8px!important}.v-application .ma-n3{margin:-12px!important}.v-application .ma-n4{margin:-16px!important}.v-application .ma-n5{margin:-20px!important}.v-application .ma-n6{margin:-24px!important}.v-application .ma-n7{margin:-28px!important}.v-application .ma-n8{margin:-32px!important}.v-application .ma-n9{margin:-36px!important}.v-application .ma-n10{margin:-40px!important}.v-application .ma-n11{margin:-44px!important}.v-application .ma-n12{margin:-48px!important}.v-application .ma-n13{margin:-52px!important}.v-application .ma-n14{margin:-56px!important}.v-application .ma-n15{margin:-60px!important}.v-application .ma-n16{margin:-64px!important}.v-application .mx-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-n1{margin-top:-4px!important}.v-application .mt-n2{margin-top:-8px!important}.v-application .mt-n3{margin-top:-12px!important}.v-application .mt-n4{margin-top:-16px!important}.v-application .mt-n5{margin-top:-20px!important}.v-application .mt-n6{margin-top:-24px!important}.v-application .mt-n7{margin-top:-28px!important}.v-application .mt-n8{margin-top:-32px!important}.v-application .mt-n9{margin-top:-36px!important}.v-application .mt-n10{margin-top:-40px!important}.v-application .mt-n11{margin-top:-44px!important}.v-application .mt-n12{margin-top:-48px!important}.v-application .mt-n13{margin-top:-52px!important}.v-application .mt-n14{margin-top:-56px!important}.v-application .mt-n15{margin-top:-60px!important}.v-application .mt-n16{margin-top:-64px!important}.v-application .mr-n1{margin-right:-4px!important}.v-application .mr-n2{margin-right:-8px!important}.v-application .mr-n3{margin-right:-12px!important}.v-application .mr-n4{margin-right:-16px!important}.v-application .mr-n5{margin-right:-20px!important}.v-application .mr-n6{margin-right:-24px!important}.v-application .mr-n7{margin-right:-28px!important}.v-application .mr-n8{margin-right:-32px!important}.v-application .mr-n9{margin-right:-36px!important}.v-application .mr-n10{margin-right:-40px!important}.v-application .mr-n11{margin-right:-44px!important}.v-application .mr-n12{margin-right:-48px!important}.v-application .mr-n13{margin-right:-52px!important}.v-application .mr-n14{margin-right:-56px!important}.v-application .mr-n15{margin-right:-60px!important}.v-application .mr-n16{margin-right:-64px!important}.v-application .mb-n1{margin-bottom:-4px!important}.v-application .mb-n2{margin-bottom:-8px!important}.v-application .mb-n3{margin-bottom:-12px!important}.v-application .mb-n4{margin-bottom:-16px!important}.v-application .mb-n5{margin-bottom:-20px!important}.v-application .mb-n6{margin-bottom:-24px!important}.v-application .mb-n7{margin-bottom:-28px!important}.v-application .mb-n8{margin-bottom:-32px!important}.v-application .mb-n9{margin-bottom:-36px!important}.v-application .mb-n10{margin-bottom:-40px!important}.v-application .mb-n11{margin-bottom:-44px!important}.v-application .mb-n12{margin-bottom:-48px!important}.v-application .mb-n13{margin-bottom:-52px!important}.v-application .mb-n14{margin-bottom:-56px!important}.v-application .mb-n15{margin-bottom:-60px!important}.v-application .mb-n16{margin-bottom:-64px!important}.v-application .ml-n1{margin-left:-4px!important}.v-application .ml-n2{margin-left:-8px!important}.v-application .ml-n3{margin-left:-12px!important}.v-application .ml-n4{margin-left:-16px!important}.v-application .ml-n5{margin-left:-20px!important}.v-application .ml-n6{margin-left:-24px!important}.v-application .ml-n7{margin-left:-28px!important}.v-application .ml-n8{margin-left:-32px!important}.v-application .ml-n9{margin-left:-36px!important}.v-application .ml-n10{margin-left:-40px!important}.v-application .ml-n11{margin-left:-44px!important}.v-application .ml-n12{margin-left:-48px!important}.v-application .ml-n13{margin-left:-52px!important}.v-application .ml-n14{margin-left:-56px!important}.v-application .ml-n15{margin-left:-60px!important}.v-application .ml-n16{margin-left:-64px!important}.v-application--is-ltr .ms-n1{margin-left:-4px!important}.v-application--is-rtl .ms-n1{margin-right:-4px!important}.v-application--is-ltr .ms-n2{margin-left:-8px!important}.v-application--is-rtl .ms-n2{margin-right:-8px!important}.v-application--is-ltr .ms-n3{margin-left:-12px!important}.v-application--is-rtl .ms-n3{margin-right:-12px!important}.v-application--is-ltr .ms-n4{margin-left:-16px!important}.v-application--is-rtl .ms-n4{margin-right:-16px!important}.v-application--is-ltr .ms-n5{margin-left:-20px!important}.v-application--is-rtl .ms-n5{margin-right:-20px!important}.v-application--is-ltr .ms-n6{margin-left:-24px!important}.v-application--is-rtl .ms-n6{margin-right:-24px!important}.v-application--is-ltr .ms-n7{margin-left:-28px!important}.v-application--is-rtl .ms-n7{margin-right:-28px!important}.v-application--is-ltr .ms-n8{margin-left:-32px!important}.v-application--is-rtl .ms-n8{margin-right:-32px!important}.v-application--is-ltr .ms-n9{margin-left:-36px!important}.v-application--is-rtl .ms-n9{margin-right:-36px!important}.v-application--is-ltr .ms-n10{margin-left:-40px!important}.v-application--is-rtl .ms-n10{margin-right:-40px!important}.v-application--is-ltr .ms-n11{margin-left:-44px!important}.v-application--is-rtl .ms-n11{margin-right:-44px!important}.v-application--is-ltr .ms-n12{margin-left:-48px!important}.v-application--is-rtl .ms-n12{margin-right:-48px!important}.v-application--is-ltr .ms-n13{margin-left:-52px!important}.v-application--is-rtl .ms-n13{margin-right:-52px!important}.v-application--is-ltr .ms-n14{margin-left:-56px!important}.v-application--is-rtl .ms-n14{margin-right:-56px!important}.v-application--is-ltr .ms-n15{margin-left:-60px!important}.v-application--is-rtl .ms-n15{margin-right:-60px!important}.v-application--is-ltr .ms-n16{margin-left:-64px!important}.v-application--is-rtl .ms-n16{margin-right:-64px!important}.v-application--is-ltr .me-n1{margin-right:-4px!important}.v-application--is-rtl .me-n1{margin-left:-4px!important}.v-application--is-ltr .me-n2{margin-right:-8px!important}.v-application--is-rtl .me-n2{margin-left:-8px!important}.v-application--is-ltr .me-n3{margin-right:-12px!important}.v-application--is-rtl .me-n3{margin-left:-12px!important}.v-application--is-ltr .me-n4{margin-right:-16px!important}.v-application--is-rtl .me-n4{margin-left:-16px!important}.v-application--is-ltr .me-n5{margin-right:-20px!important}.v-application--is-rtl .me-n5{margin-left:-20px!important}.v-application--is-ltr .me-n6{margin-right:-24px!important}.v-application--is-rtl .me-n6{margin-left:-24px!important}.v-application--is-ltr .me-n7{margin-right:-28px!important}.v-application--is-rtl .me-n7{margin-left:-28px!important}.v-application--is-ltr .me-n8{margin-right:-32px!important}.v-application--is-rtl .me-n8{margin-left:-32px!important}.v-application--is-ltr .me-n9{margin-right:-36px!important}.v-application--is-rtl .me-n9{margin-left:-36px!important}.v-application--is-ltr .me-n10{margin-right:-40px!important}.v-application--is-rtl .me-n10{margin-left:-40px!important}.v-application--is-ltr .me-n11{margin-right:-44px!important}.v-application--is-rtl .me-n11{margin-left:-44px!important}.v-application--is-ltr .me-n12{margin-right:-48px!important}.v-application--is-rtl .me-n12{margin-left:-48px!important}.v-application--is-ltr .me-n13{margin-right:-52px!important}.v-application--is-rtl .me-n13{margin-left:-52px!important}.v-application--is-ltr .me-n14{margin-right:-56px!important}.v-application--is-rtl .me-n14{margin-left:-56px!important}.v-application--is-ltr .me-n15{margin-right:-60px!important}.v-application--is-rtl .me-n15{margin-left:-60px!important}.v-application--is-ltr .me-n16{margin-right:-64px!important}.v-application--is-rtl .me-n16{margin-left:-64px!important}.v-application .pa-0{padding:0!important}.v-application .pa-1{padding:4px!important}.v-application .pa-2{padding:8px!important}.v-application .pa-3{padding:12px!important}.v-application .pa-4{padding:16px!important}.v-application .pa-5{padding:20px!important}.v-application .pa-6{padding:24px!important}.v-application .pa-7{padding:28px!important}.v-application .pa-8{padding:32px!important}.v-application .pa-9{padding:36px!important}.v-application .pa-10{padding:40px!important}.v-application .pa-11{padding:44px!important}.v-application .pa-12{padding:48px!important}.v-application .pa-13{padding:52px!important}.v-application .pa-14{padding:56px!important}.v-application .pa-15{padding:60px!important}.v-application .pa-16{padding:64px!important}.v-application .px-0{padding-right:0!important;padding-left:0!important}.v-application .px-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-0{padding-top:0!important}.v-application .pt-1{padding-top:4px!important}.v-application .pt-2{padding-top:8px!important}.v-application .pt-3{padding-top:12px!important}.v-application .pt-4{padding-top:16px!important}.v-application .pt-5{padding-top:20px!important}.v-application .pt-6{padding-top:24px!important}.v-application .pt-7{padding-top:28px!important}.v-application .pt-8{padding-top:32px!important}.v-application .pt-9{padding-top:36px!important}.v-application .pt-10{padding-top:40px!important}.v-application .pt-11{padding-top:44px!important}.v-application .pt-12{padding-top:48px!important}.v-application .pt-13{padding-top:52px!important}.v-application .pt-14{padding-top:56px!important}.v-application .pt-15{padding-top:60px!important}.v-application .pt-16{padding-top:64px!important}.v-application .pr-0{padding-right:0!important}.v-application .pr-1{padding-right:4px!important}.v-application .pr-2{padding-right:8px!important}.v-application .pr-3{padding-right:12px!important}.v-application .pr-4{padding-right:16px!important}.v-application .pr-5{padding-right:20px!important}.v-application .pr-6{padding-right:24px!important}.v-application .pr-7{padding-right:28px!important}.v-application .pr-8{padding-right:32px!important}.v-application .pr-9{padding-right:36px!important}.v-application .pr-10{padding-right:40px!important}.v-application .pr-11{padding-right:44px!important}.v-application .pr-12{padding-right:48px!important}.v-application .pr-13{padding-right:52px!important}.v-application .pr-14{padding-right:56px!important}.v-application .pr-15{padding-right:60px!important}.v-application .pr-16{padding-right:64px!important}.v-application .pb-0{padding-bottom:0!important}.v-application .pb-1{padding-bottom:4px!important}.v-application .pb-2{padding-bottom:8px!important}.v-application .pb-3{padding-bottom:12px!important}.v-application .pb-4{padding-bottom:16px!important}.v-application .pb-5{padding-bottom:20px!important}.v-application .pb-6{padding-bottom:24px!important}.v-application .pb-7{padding-bottom:28px!important}.v-application .pb-8{padding-bottom:32px!important}.v-application .pb-9{padding-bottom:36px!important}.v-application .pb-10{padding-bottom:40px!important}.v-application .pb-11{padding-bottom:44px!important}.v-application .pb-12{padding-bottom:48px!important}.v-application .pb-13{padding-bottom:52px!important}.v-application .pb-14{padding-bottom:56px!important}.v-application .pb-15{padding-bottom:60px!important}.v-application .pb-16{padding-bottom:64px!important}.v-application .pl-0{padding-left:0!important}.v-application .pl-1{padding-left:4px!important}.v-application .pl-2{padding-left:8px!important}.v-application .pl-3{padding-left:12px!important}.v-application .pl-4{padding-left:16px!important}.v-application .pl-5{padding-left:20px!important}.v-application .pl-6{padding-left:24px!important}.v-application .pl-7{padding-left:28px!important}.v-application .pl-8{padding-left:32px!important}.v-application .pl-9{padding-left:36px!important}.v-application .pl-10{padding-left:40px!important}.v-application .pl-11{padding-left:44px!important}.v-application .pl-12{padding-left:48px!important}.v-application .pl-13{padding-left:52px!important}.v-application .pl-14{padding-left:56px!important}.v-application .pl-15{padding-left:60px!important}.v-application .pl-16{padding-left:64px!important}.v-application--is-ltr .ps-0{padding-left:0!important}.v-application--is-rtl .ps-0{padding-right:0!important}.v-application--is-ltr .ps-1{padding-left:4px!important}.v-application--is-rtl .ps-1{padding-right:4px!important}.v-application--is-ltr .ps-2{padding-left:8px!important}.v-application--is-rtl .ps-2{padding-right:8px!important}.v-application--is-ltr .ps-3{padding-left:12px!important}.v-application--is-rtl .ps-3{padding-right:12px!important}.v-application--is-ltr .ps-4{padding-left:16px!important}.v-application--is-rtl .ps-4{padding-right:16px!important}.v-application--is-ltr .ps-5{padding-left:20px!important}.v-application--is-rtl .ps-5{padding-right:20px!important}.v-application--is-ltr .ps-6{padding-left:24px!important}.v-application--is-rtl .ps-6{padding-right:24px!important}.v-application--is-ltr .ps-7{padding-left:28px!important}.v-application--is-rtl .ps-7{padding-right:28px!important}.v-application--is-ltr .ps-8{padding-left:32px!important}.v-application--is-rtl .ps-8{padding-right:32px!important}.v-application--is-ltr .ps-9{padding-left:36px!important}.v-application--is-rtl .ps-9{padding-right:36px!important}.v-application--is-ltr .ps-10{padding-left:40px!important}.v-application--is-rtl .ps-10{padding-right:40px!important}.v-application--is-ltr .ps-11{padding-left:44px!important}.v-application--is-rtl .ps-11{padding-right:44px!important}.v-application--is-ltr .ps-12{padding-left:48px!important}.v-application--is-rtl .ps-12{padding-right:48px!important}.v-application--is-ltr .ps-13{padding-left:52px!important}.v-application--is-rtl .ps-13{padding-right:52px!important}.v-application--is-ltr .ps-14{padding-left:56px!important}.v-application--is-rtl .ps-14{padding-right:56px!important}.v-application--is-ltr .ps-15{padding-left:60px!important}.v-application--is-rtl .ps-15{padding-right:60px!important}.v-application--is-ltr .ps-16{padding-left:64px!important}.v-application--is-rtl .ps-16{padding-right:64px!important}.v-application--is-ltr .pe-0{padding-right:0!important}.v-application--is-rtl .pe-0{padding-left:0!important}.v-application--is-ltr .pe-1{padding-right:4px!important}.v-application--is-rtl .pe-1{padding-left:4px!important}.v-application--is-ltr .pe-2{padding-right:8px!important}.v-application--is-rtl .pe-2{padding-left:8px!important}.v-application--is-ltr .pe-3{padding-right:12px!important}.v-application--is-rtl .pe-3{padding-left:12px!important}.v-application--is-ltr .pe-4{padding-right:16px!important}.v-application--is-rtl .pe-4{padding-left:16px!important}.v-application--is-ltr .pe-5{padding-right:20px!important}.v-application--is-rtl .pe-5{padding-left:20px!important}.v-application--is-ltr .pe-6{padding-right:24px!important}.v-application--is-rtl .pe-6{padding-left:24px!important}.v-application--is-ltr .pe-7{padding-right:28px!important}.v-application--is-rtl .pe-7{padding-left:28px!important}.v-application--is-ltr .pe-8{padding-right:32px!important}.v-application--is-rtl .pe-8{padding-left:32px!important}.v-application--is-ltr .pe-9{padding-right:36px!important}.v-application--is-rtl .pe-9{padding-left:36px!important}.v-application--is-ltr .pe-10{padding-right:40px!important}.v-application--is-rtl .pe-10{padding-left:40px!important}.v-application--is-ltr .pe-11{padding-right:44px!important}.v-application--is-rtl .pe-11{padding-left:44px!important}.v-application--is-ltr .pe-12{padding-right:48px!important}.v-application--is-rtl .pe-12{padding-left:48px!important}.v-application--is-ltr .pe-13{padding-right:52px!important}.v-application--is-rtl .pe-13{padding-left:52px!important}.v-application--is-ltr .pe-14{padding-right:56px!important}.v-application--is-rtl .pe-14{padding-left:56px!important}.v-application--is-ltr .pe-15{padding-right:60px!important}.v-application--is-rtl .pe-15{padding-left:60px!important}.v-application--is-ltr .pe-16{padding-right:64px!important}.v-application--is-rtl .pe-16{padding-left:64px!important}.v-application .rounded-0{border-radius:0!important}.v-application .rounded-sm{border-radius:2px!important}.v-application .rounded{border-radius:4px!important}.v-application .rounded-lg{border-radius:8px!important}.v-application .rounded-xl{border-radius:24px!important}.v-application .rounded-pill{border-radius:9999px!important}.v-application .rounded-circle{border-radius:50%!important}.v-application .rounded-t-0{border-top-left-radius:0!important;border-top-right-radius:0!important}.v-application .rounded-t-sm{border-top-left-radius:2px!important;border-top-right-radius:2px!important}.v-application .rounded-t{border-top-left-radius:4px!important;border-top-right-radius:4px!important}.v-application .rounded-t-lg{border-top-left-radius:8px!important;border-top-right-radius:8px!important}.v-application .rounded-t-xl{border-top-left-radius:24px!important;border-top-right-radius:24px!important}.v-application .rounded-t-pill{border-top-left-radius:9999px!important;border-top-right-radius:9999px!important}.v-application .rounded-t-circle{border-top-left-radius:50%!important;border-top-right-radius:50%!important}.v-application .rounded-r-0{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.v-application .rounded-r-sm{border-top-right-radius:2px!important;border-bottom-right-radius:2px!important}.v-application .rounded-r{border-top-right-radius:4px!important;border-bottom-right-radius:4px!important}.v-application .rounded-r-lg{border-top-right-radius:8px!important;border-bottom-right-radius:8px!important}.v-application .rounded-r-xl{border-top-right-radius:24px!important;border-bottom-right-radius:24px!important}.v-application .rounded-r-pill{border-top-right-radius:9999px!important;border-bottom-right-radius:9999px!important}.v-application .rounded-r-circle{border-top-right-radius:50%!important;border-bottom-right-radius:50%!important}.v-application .rounded-b-0{border-bottom-left-radius:0!important;border-bottom-right-radius:0!important}.v-application .rounded-b-sm{border-bottom-left-radius:2px!important;border-bottom-right-radius:2px!important}.v-application .rounded-b{border-bottom-left-radius:4px!important;border-bottom-right-radius:4px!important}.v-application .rounded-b-lg{border-bottom-left-radius:8px!important;border-bottom-right-radius:8px!important}.v-application .rounded-b-xl{border-bottom-left-radius:24px!important;border-bottom-right-radius:24px!important}.v-application .rounded-b-pill{border-bottom-left-radius:9999px!important;border-bottom-right-radius:9999px!important}.v-application .rounded-b-circle{border-bottom-left-radius:50%!important;border-bottom-right-radius:50%!important}.v-application .rounded-l-0{border-top-left-radius:0!important;border-bottom-left-radius:0!important}.v-application .rounded-l-sm{border-top-left-radius:2px!important;border-bottom-left-radius:2px!important}.v-application .rounded-l{border-top-left-radius:4px!important;border-bottom-left-radius:4px!important}.v-application .rounded-l-lg{border-top-left-radius:8px!important;border-bottom-left-radius:8px!important}.v-application .rounded-l-xl{border-top-left-radius:24px!important;border-bottom-left-radius:24px!important}.v-application .rounded-l-pill{border-top-left-radius:9999px!important;border-bottom-left-radius:9999px!important}.v-application .rounded-l-circle{border-top-left-radius:50%!important;border-bottom-left-radius:50%!important}.v-application .rounded-tl-0{border-top-left-radius:0!important}.v-application .rounded-tl-sm{border-top-left-radius:2px!important}.v-application .rounded-tl{border-top-left-radius:4px!important}.v-application .rounded-tl-lg{border-top-left-radius:8px!important}.v-application .rounded-tl-xl{border-top-left-radius:24px!important}.v-application .rounded-tl-pill{border-top-left-radius:9999px!important}.v-application .rounded-tl-circle{border-top-left-radius:50%!important}.v-application .rounded-tr-0{border-top-right-radius:0!important}.v-application .rounded-tr-sm{border-top-right-radius:2px!important}.v-application .rounded-tr{border-top-right-radius:4px!important}.v-application .rounded-tr-lg{border-top-right-radius:8px!important}.v-application .rounded-tr-xl{border-top-right-radius:24px!important}.v-application .rounded-tr-pill{border-top-right-radius:9999px!important}.v-application .rounded-tr-circle{border-top-right-radius:50%!important}.v-application .rounded-br-0{border-bottom-right-radius:0!important}.v-application .rounded-br-sm{border-bottom-right-radius:2px!important}.v-application .rounded-br{border-bottom-right-radius:4px!important}.v-application .rounded-br-lg{border-bottom-right-radius:8px!important}.v-application .rounded-br-xl{border-bottom-right-radius:24px!important}.v-application .rounded-br-pill{border-bottom-right-radius:9999px!important}.v-application .rounded-br-circle{border-bottom-right-radius:50%!important}.v-application .rounded-bl-0{border-bottom-left-radius:0!important}.v-application .rounded-bl-sm{border-bottom-left-radius:2px!important}.v-application .rounded-bl{border-bottom-left-radius:4px!important}.v-application .rounded-bl-lg{border-bottom-left-radius:8px!important}.v-application .rounded-bl-xl{border-bottom-left-radius:24px!important}.v-application .rounded-bl-pill{border-bottom-left-radius:9999px!important}.v-application .rounded-bl-circle{border-bottom-left-radius:50%!important}.v-application .text-left{text-align:left!important}.v-application .text-right{text-align:right!important}.v-application .text-center{text-align:center!important}.v-application .text-justify{text-align:justify!important}[dir=ltr] .v-application .text-start{text-align:left!important}[dir=ltr] .v-application .text-end,[dir=rtl] .v-application .text-start{text-align:right!important}[dir=rtl] .v-application .text-end{text-align:left!important}.v-application .text-decoration-line-through{text-decoration:line-through!important}.v-application .text-decoration-none{text-decoration:none!important}.v-application .text-decoration-overline{text-decoration:overline!important}.v-application .text-decoration-underline{text-decoration:underline!important}.v-application .text-wrap{white-space:normal!important}.v-application .text-no-wrap{white-space:nowrap!important}.v-application .text-pre{white-space:pre!important}.v-application .text-pre-line{white-space:pre-line!important}.v-application .text-pre-wrap{white-space:pre-wrap!important}.v-application .text-break{word-wrap:break-word!important;word-break:break-word!important}.v-application .text-truncate{white-space:nowrap!important;overflow:hidden!important;text-overflow:ellipsis!important}.v-application .text-none{text-transform:none!important}.v-application .text-capitalize{text-transform:capitalize!important}.v-application .text-lowercase{text-transform:lowercase!important}.v-application .text-uppercase{text-transform:uppercase!important}.v-application .text-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-h1,.v-application .text-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-h3,.v-application .text-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-h5,.v-application .text-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-body-1{font-size:1rem!important;line-height:1.5rem;letter-spacing:.03125em!important}.v-application .text-body-1,.v-application .text-body-2{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-body-2{font-size:.875rem!important;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-button{font-size:.875rem!important;font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;font-family:"Roboto",sans-serif!important;text-transform:uppercase!important}.v-application .text-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-caption,.v-application .text-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}@media(min-width:600px){.v-application .d-sm-none{display:none!important}.v-application .d-sm-inline{display:inline!important}.v-application .d-sm-inline-block{display:inline-block!important}.v-application .d-sm-block{display:block!important}.v-application .d-sm-table{display:table!important}.v-application .d-sm-table-row{display:table-row!important}.v-application .d-sm-table-cell{display:table-cell!important}.v-application .d-sm-flex{display:flex!important}.v-application .d-sm-inline-flex{display:inline-flex!important}.v-application .float-sm-none{float:none!important}.v-application .float-sm-left{float:left!important}.v-application .float-sm-right{float:right!important}.v-application--is-rtl .float-sm-end{float:left!important}.v-application--is-ltr .float-sm-end,.v-application--is-rtl .float-sm-start{float:right!important}.v-application--is-ltr .float-sm-start{float:left!important}.v-application .flex-sm-fill{flex:1 1 auto!important}.v-application .flex-sm-row{flex-direction:row!important}.v-application .flex-sm-column{flex-direction:column!important}.v-application .flex-sm-row-reverse{flex-direction:row-reverse!important}.v-application .flex-sm-column-reverse{flex-direction:column-reverse!important}.v-application .flex-sm-grow-0{flex-grow:0!important}.v-application .flex-sm-grow-1{flex-grow:1!important}.v-application .flex-sm-shrink-0{flex-shrink:0!important}.v-application .flex-sm-shrink-1{flex-shrink:1!important}.v-application .flex-sm-wrap{flex-wrap:wrap!important}.v-application .flex-sm-nowrap{flex-wrap:nowrap!important}.v-application .flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-sm-start{justify-content:flex-start!important}.v-application .justify-sm-end{justify-content:flex-end!important}.v-application .justify-sm-center{justify-content:center!important}.v-application .justify-sm-space-between{justify-content:space-between!important}.v-application .justify-sm-space-around{justify-content:space-around!important}.v-application .align-sm-start{align-items:flex-start!important}.v-application .align-sm-end{align-items:flex-end!important}.v-application .align-sm-center{align-items:center!important}.v-application .align-sm-baseline{align-items:baseline!important}.v-application .align-sm-stretch{align-items:stretch!important}.v-application .align-content-sm-start{align-content:flex-start!important}.v-application .align-content-sm-end{align-content:flex-end!important}.v-application .align-content-sm-center{align-content:center!important}.v-application .align-content-sm-space-between{align-content:space-between!important}.v-application .align-content-sm-space-around{align-content:space-around!important}.v-application .align-content-sm-stretch{align-content:stretch!important}.v-application .align-self-sm-auto{align-self:auto!important}.v-application .align-self-sm-start{align-self:flex-start!important}.v-application .align-self-sm-end{align-self:flex-end!important}.v-application .align-self-sm-center{align-self:center!important}.v-application .align-self-sm-baseline{align-self:baseline!important}.v-application .align-self-sm-stretch{align-self:stretch!important}.v-application .order-sm-first{order:-1!important}.v-application .order-sm-0{order:0!important}.v-application .order-sm-1{order:1!important}.v-application .order-sm-2{order:2!important}.v-application .order-sm-3{order:3!important}.v-application .order-sm-4{order:4!important}.v-application .order-sm-5{order:5!important}.v-application .order-sm-6{order:6!important}.v-application .order-sm-7{order:7!important}.v-application .order-sm-8{order:8!important}.v-application .order-sm-9{order:9!important}.v-application .order-sm-10{order:10!important}.v-application .order-sm-11{order:11!important}.v-application .order-sm-12{order:12!important}.v-application .order-sm-last{order:13!important}.v-application .ma-sm-0{margin:0!important}.v-application .ma-sm-1{margin:4px!important}.v-application .ma-sm-2{margin:8px!important}.v-application .ma-sm-3{margin:12px!important}.v-application .ma-sm-4{margin:16px!important}.v-application .ma-sm-5{margin:20px!important}.v-application .ma-sm-6{margin:24px!important}.v-application .ma-sm-7{margin:28px!important}.v-application .ma-sm-8{margin:32px!important}.v-application .ma-sm-9{margin:36px!important}.v-application .ma-sm-10{margin:40px!important}.v-application .ma-sm-11{margin:44px!important}.v-application .ma-sm-12{margin:48px!important}.v-application .ma-sm-13{margin:52px!important}.v-application .ma-sm-14{margin:56px!important}.v-application .ma-sm-15{margin:60px!important}.v-application .ma-sm-16{margin:64px!important}.v-application .ma-sm-auto{margin:auto!important}.v-application .mx-sm-0{margin-right:0!important;margin-left:0!important}.v-application .mx-sm-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-sm-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-sm-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-sm-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-sm-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-sm-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-sm-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-sm-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-sm-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-sm-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-sm-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-sm-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-sm-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-sm-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-sm-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-sm-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-sm-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-sm-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-sm-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-sm-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-sm-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-sm-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-sm-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-sm-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-sm-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-sm-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-sm-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-sm-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-sm-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-sm-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-sm-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-sm-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-sm-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-sm-0{margin-top:0!important}.v-application .mt-sm-1{margin-top:4px!important}.v-application .mt-sm-2{margin-top:8px!important}.v-application .mt-sm-3{margin-top:12px!important}.v-application .mt-sm-4{margin-top:16px!important}.v-application .mt-sm-5{margin-top:20px!important}.v-application .mt-sm-6{margin-top:24px!important}.v-application .mt-sm-7{margin-top:28px!important}.v-application .mt-sm-8{margin-top:32px!important}.v-application .mt-sm-9{margin-top:36px!important}.v-application .mt-sm-10{margin-top:40px!important}.v-application .mt-sm-11{margin-top:44px!important}.v-application .mt-sm-12{margin-top:48px!important}.v-application .mt-sm-13{margin-top:52px!important}.v-application .mt-sm-14{margin-top:56px!important}.v-application .mt-sm-15{margin-top:60px!important}.v-application .mt-sm-16{margin-top:64px!important}.v-application .mt-sm-auto{margin-top:auto!important}.v-application .mr-sm-0{margin-right:0!important}.v-application .mr-sm-1{margin-right:4px!important}.v-application .mr-sm-2{margin-right:8px!important}.v-application .mr-sm-3{margin-right:12px!important}.v-application .mr-sm-4{margin-right:16px!important}.v-application .mr-sm-5{margin-right:20px!important}.v-application .mr-sm-6{margin-right:24px!important}.v-application .mr-sm-7{margin-right:28px!important}.v-application .mr-sm-8{margin-right:32px!important}.v-application .mr-sm-9{margin-right:36px!important}.v-application .mr-sm-10{margin-right:40px!important}.v-application .mr-sm-11{margin-right:44px!important}.v-application .mr-sm-12{margin-right:48px!important}.v-application .mr-sm-13{margin-right:52px!important}.v-application .mr-sm-14{margin-right:56px!important}.v-application .mr-sm-15{margin-right:60px!important}.v-application .mr-sm-16{margin-right:64px!important}.v-application .mr-sm-auto{margin-right:auto!important}.v-application .mb-sm-0{margin-bottom:0!important}.v-application .mb-sm-1{margin-bottom:4px!important}.v-application .mb-sm-2{margin-bottom:8px!important}.v-application .mb-sm-3{margin-bottom:12px!important}.v-application .mb-sm-4{margin-bottom:16px!important}.v-application .mb-sm-5{margin-bottom:20px!important}.v-application .mb-sm-6{margin-bottom:24px!important}.v-application .mb-sm-7{margin-bottom:28px!important}.v-application .mb-sm-8{margin-bottom:32px!important}.v-application .mb-sm-9{margin-bottom:36px!important}.v-application .mb-sm-10{margin-bottom:40px!important}.v-application .mb-sm-11{margin-bottom:44px!important}.v-application .mb-sm-12{margin-bottom:48px!important}.v-application .mb-sm-13{margin-bottom:52px!important}.v-application .mb-sm-14{margin-bottom:56px!important}.v-application .mb-sm-15{margin-bottom:60px!important}.v-application .mb-sm-16{margin-bottom:64px!important}.v-application .mb-sm-auto{margin-bottom:auto!important}.v-application .ml-sm-0{margin-left:0!important}.v-application .ml-sm-1{margin-left:4px!important}.v-application .ml-sm-2{margin-left:8px!important}.v-application .ml-sm-3{margin-left:12px!important}.v-application .ml-sm-4{margin-left:16px!important}.v-application .ml-sm-5{margin-left:20px!important}.v-application .ml-sm-6{margin-left:24px!important}.v-application .ml-sm-7{margin-left:28px!important}.v-application .ml-sm-8{margin-left:32px!important}.v-application .ml-sm-9{margin-left:36px!important}.v-application .ml-sm-10{margin-left:40px!important}.v-application .ml-sm-11{margin-left:44px!important}.v-application .ml-sm-12{margin-left:48px!important}.v-application .ml-sm-13{margin-left:52px!important}.v-application .ml-sm-14{margin-left:56px!important}.v-application .ml-sm-15{margin-left:60px!important}.v-application .ml-sm-16{margin-left:64px!important}.v-application .ml-sm-auto{margin-left:auto!important}.v-application--is-ltr .ms-sm-0{margin-left:0!important}.v-application--is-rtl .ms-sm-0{margin-right:0!important}.v-application--is-ltr .ms-sm-1{margin-left:4px!important}.v-application--is-rtl .ms-sm-1{margin-right:4px!important}.v-application--is-ltr .ms-sm-2{margin-left:8px!important}.v-application--is-rtl .ms-sm-2{margin-right:8px!important}.v-application--is-ltr .ms-sm-3{margin-left:12px!important}.v-application--is-rtl .ms-sm-3{margin-right:12px!important}.v-application--is-ltr .ms-sm-4{margin-left:16px!important}.v-application--is-rtl .ms-sm-4{margin-right:16px!important}.v-application--is-ltr .ms-sm-5{margin-left:20px!important}.v-application--is-rtl .ms-sm-5{margin-right:20px!important}.v-application--is-ltr .ms-sm-6{margin-left:24px!important}.v-application--is-rtl .ms-sm-6{margin-right:24px!important}.v-application--is-ltr .ms-sm-7{margin-left:28px!important}.v-application--is-rtl .ms-sm-7{margin-right:28px!important}.v-application--is-ltr .ms-sm-8{margin-left:32px!important}.v-application--is-rtl .ms-sm-8{margin-right:32px!important}.v-application--is-ltr .ms-sm-9{margin-left:36px!important}.v-application--is-rtl .ms-sm-9{margin-right:36px!important}.v-application--is-ltr .ms-sm-10{margin-left:40px!important}.v-application--is-rtl .ms-sm-10{margin-right:40px!important}.v-application--is-ltr .ms-sm-11{margin-left:44px!important}.v-application--is-rtl .ms-sm-11{margin-right:44px!important}.v-application--is-ltr .ms-sm-12{margin-left:48px!important}.v-application--is-rtl .ms-sm-12{margin-right:48px!important}.v-application--is-ltr .ms-sm-13{margin-left:52px!important}.v-application--is-rtl .ms-sm-13{margin-right:52px!important}.v-application--is-ltr .ms-sm-14{margin-left:56px!important}.v-application--is-rtl .ms-sm-14{margin-right:56px!important}.v-application--is-ltr .ms-sm-15{margin-left:60px!important}.v-application--is-rtl .ms-sm-15{margin-right:60px!important}.v-application--is-ltr .ms-sm-16{margin-left:64px!important}.v-application--is-rtl .ms-sm-16{margin-right:64px!important}.v-application--is-ltr .ms-sm-auto{margin-left:auto!important}.v-application--is-rtl .ms-sm-auto{margin-right:auto!important}.v-application--is-ltr .me-sm-0{margin-right:0!important}.v-application--is-rtl .me-sm-0{margin-left:0!important}.v-application--is-ltr .me-sm-1{margin-right:4px!important}.v-application--is-rtl .me-sm-1{margin-left:4px!important}.v-application--is-ltr .me-sm-2{margin-right:8px!important}.v-application--is-rtl .me-sm-2{margin-left:8px!important}.v-application--is-ltr .me-sm-3{margin-right:12px!important}.v-application--is-rtl .me-sm-3{margin-left:12px!important}.v-application--is-ltr .me-sm-4{margin-right:16px!important}.v-application--is-rtl .me-sm-4{margin-left:16px!important}.v-application--is-ltr .me-sm-5{margin-right:20px!important}.v-application--is-rtl .me-sm-5{margin-left:20px!important}.v-application--is-ltr .me-sm-6{margin-right:24px!important}.v-application--is-rtl .me-sm-6{margin-left:24px!important}.v-application--is-ltr .me-sm-7{margin-right:28px!important}.v-application--is-rtl .me-sm-7{margin-left:28px!important}.v-application--is-ltr .me-sm-8{margin-right:32px!important}.v-application--is-rtl .me-sm-8{margin-left:32px!important}.v-application--is-ltr .me-sm-9{margin-right:36px!important}.v-application--is-rtl .me-sm-9{margin-left:36px!important}.v-application--is-ltr .me-sm-10{margin-right:40px!important}.v-application--is-rtl .me-sm-10{margin-left:40px!important}.v-application--is-ltr .me-sm-11{margin-right:44px!important}.v-application--is-rtl .me-sm-11{margin-left:44px!important}.v-application--is-ltr .me-sm-12{margin-right:48px!important}.v-application--is-rtl .me-sm-12{margin-left:48px!important}.v-application--is-ltr .me-sm-13{margin-right:52px!important}.v-application--is-rtl .me-sm-13{margin-left:52px!important}.v-application--is-ltr .me-sm-14{margin-right:56px!important}.v-application--is-rtl .me-sm-14{margin-left:56px!important}.v-application--is-ltr .me-sm-15{margin-right:60px!important}.v-application--is-rtl .me-sm-15{margin-left:60px!important}.v-application--is-ltr .me-sm-16{margin-right:64px!important}.v-application--is-rtl .me-sm-16{margin-left:64px!important}.v-application--is-ltr .me-sm-auto{margin-right:auto!important}.v-application--is-rtl .me-sm-auto{margin-left:auto!important}.v-application .ma-sm-n1{margin:-4px!important}.v-application .ma-sm-n2{margin:-8px!important}.v-application .ma-sm-n3{margin:-12px!important}.v-application .ma-sm-n4{margin:-16px!important}.v-application .ma-sm-n5{margin:-20px!important}.v-application .ma-sm-n6{margin:-24px!important}.v-application .ma-sm-n7{margin:-28px!important}.v-application .ma-sm-n8{margin:-32px!important}.v-application .ma-sm-n9{margin:-36px!important}.v-application .ma-sm-n10{margin:-40px!important}.v-application .ma-sm-n11{margin:-44px!important}.v-application .ma-sm-n12{margin:-48px!important}.v-application .ma-sm-n13{margin:-52px!important}.v-application .ma-sm-n14{margin:-56px!important}.v-application .ma-sm-n15{margin:-60px!important}.v-application .ma-sm-n16{margin:-64px!important}.v-application .mx-sm-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-sm-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-sm-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-sm-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-sm-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-sm-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-sm-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-sm-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-sm-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-sm-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-sm-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-sm-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-sm-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-sm-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-sm-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-sm-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-sm-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-sm-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-sm-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-sm-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-sm-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-sm-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-sm-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-sm-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-sm-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-sm-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-sm-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-sm-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-sm-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-sm-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-sm-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-sm-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-sm-n1{margin-top:-4px!important}.v-application .mt-sm-n2{margin-top:-8px!important}.v-application .mt-sm-n3{margin-top:-12px!important}.v-application .mt-sm-n4{margin-top:-16px!important}.v-application .mt-sm-n5{margin-top:-20px!important}.v-application .mt-sm-n6{margin-top:-24px!important}.v-application .mt-sm-n7{margin-top:-28px!important}.v-application .mt-sm-n8{margin-top:-32px!important}.v-application .mt-sm-n9{margin-top:-36px!important}.v-application .mt-sm-n10{margin-top:-40px!important}.v-application .mt-sm-n11{margin-top:-44px!important}.v-application .mt-sm-n12{margin-top:-48px!important}.v-application .mt-sm-n13{margin-top:-52px!important}.v-application .mt-sm-n14{margin-top:-56px!important}.v-application .mt-sm-n15{margin-top:-60px!important}.v-application .mt-sm-n16{margin-top:-64px!important}.v-application .mr-sm-n1{margin-right:-4px!important}.v-application .mr-sm-n2{margin-right:-8px!important}.v-application .mr-sm-n3{margin-right:-12px!important}.v-application .mr-sm-n4{margin-right:-16px!important}.v-application .mr-sm-n5{margin-right:-20px!important}.v-application .mr-sm-n6{margin-right:-24px!important}.v-application .mr-sm-n7{margin-right:-28px!important}.v-application .mr-sm-n8{margin-right:-32px!important}.v-application .mr-sm-n9{margin-right:-36px!important}.v-application .mr-sm-n10{margin-right:-40px!important}.v-application .mr-sm-n11{margin-right:-44px!important}.v-application .mr-sm-n12{margin-right:-48px!important}.v-application .mr-sm-n13{margin-right:-52px!important}.v-application .mr-sm-n14{margin-right:-56px!important}.v-application .mr-sm-n15{margin-right:-60px!important}.v-application .mr-sm-n16{margin-right:-64px!important}.v-application .mb-sm-n1{margin-bottom:-4px!important}.v-application .mb-sm-n2{margin-bottom:-8px!important}.v-application .mb-sm-n3{margin-bottom:-12px!important}.v-application .mb-sm-n4{margin-bottom:-16px!important}.v-application .mb-sm-n5{margin-bottom:-20px!important}.v-application .mb-sm-n6{margin-bottom:-24px!important}.v-application .mb-sm-n7{margin-bottom:-28px!important}.v-application .mb-sm-n8{margin-bottom:-32px!important}.v-application .mb-sm-n9{margin-bottom:-36px!important}.v-application .mb-sm-n10{margin-bottom:-40px!important}.v-application .mb-sm-n11{margin-bottom:-44px!important}.v-application .mb-sm-n12{margin-bottom:-48px!important}.v-application .mb-sm-n13{margin-bottom:-52px!important}.v-application .mb-sm-n14{margin-bottom:-56px!important}.v-application .mb-sm-n15{margin-bottom:-60px!important}.v-application .mb-sm-n16{margin-bottom:-64px!important}.v-application .ml-sm-n1{margin-left:-4px!important}.v-application .ml-sm-n2{margin-left:-8px!important}.v-application .ml-sm-n3{margin-left:-12px!important}.v-application .ml-sm-n4{margin-left:-16px!important}.v-application .ml-sm-n5{margin-left:-20px!important}.v-application .ml-sm-n6{margin-left:-24px!important}.v-application .ml-sm-n7{margin-left:-28px!important}.v-application .ml-sm-n8{margin-left:-32px!important}.v-application .ml-sm-n9{margin-left:-36px!important}.v-application .ml-sm-n10{margin-left:-40px!important}.v-application .ml-sm-n11{margin-left:-44px!important}.v-application .ml-sm-n12{margin-left:-48px!important}.v-application .ml-sm-n13{margin-left:-52px!important}.v-application .ml-sm-n14{margin-left:-56px!important}.v-application .ml-sm-n15{margin-left:-60px!important}.v-application .ml-sm-n16{margin-left:-64px!important}.v-application--is-ltr .ms-sm-n1{margin-left:-4px!important}.v-application--is-rtl .ms-sm-n1{margin-right:-4px!important}.v-application--is-ltr .ms-sm-n2{margin-left:-8px!important}.v-application--is-rtl .ms-sm-n2{margin-right:-8px!important}.v-application--is-ltr .ms-sm-n3{margin-left:-12px!important}.v-application--is-rtl .ms-sm-n3{margin-right:-12px!important}.v-application--is-ltr .ms-sm-n4{margin-left:-16px!important}.v-application--is-rtl .ms-sm-n4{margin-right:-16px!important}.v-application--is-ltr .ms-sm-n5{margin-left:-20px!important}.v-application--is-rtl .ms-sm-n5{margin-right:-20px!important}.v-application--is-ltr .ms-sm-n6{margin-left:-24px!important}.v-application--is-rtl .ms-sm-n6{margin-right:-24px!important}.v-application--is-ltr .ms-sm-n7{margin-left:-28px!important}.v-application--is-rtl .ms-sm-n7{margin-right:-28px!important}.v-application--is-ltr .ms-sm-n8{margin-left:-32px!important}.v-application--is-rtl .ms-sm-n8{margin-right:-32px!important}.v-application--is-ltr .ms-sm-n9{margin-left:-36px!important}.v-application--is-rtl .ms-sm-n9{margin-right:-36px!important}.v-application--is-ltr .ms-sm-n10{margin-left:-40px!important}.v-application--is-rtl .ms-sm-n10{margin-right:-40px!important}.v-application--is-ltr .ms-sm-n11{margin-left:-44px!important}.v-application--is-rtl .ms-sm-n11{margin-right:-44px!important}.v-application--is-ltr .ms-sm-n12{margin-left:-48px!important}.v-application--is-rtl .ms-sm-n12{margin-right:-48px!important}.v-application--is-ltr .ms-sm-n13{margin-left:-52px!important}.v-application--is-rtl .ms-sm-n13{margin-right:-52px!important}.v-application--is-ltr .ms-sm-n14{margin-left:-56px!important}.v-application--is-rtl .ms-sm-n14{margin-right:-56px!important}.v-application--is-ltr .ms-sm-n15{margin-left:-60px!important}.v-application--is-rtl .ms-sm-n15{margin-right:-60px!important}.v-application--is-ltr .ms-sm-n16{margin-left:-64px!important}.v-application--is-rtl .ms-sm-n16{margin-right:-64px!important}.v-application--is-ltr .me-sm-n1{margin-right:-4px!important}.v-application--is-rtl .me-sm-n1{margin-left:-4px!important}.v-application--is-ltr .me-sm-n2{margin-right:-8px!important}.v-application--is-rtl .me-sm-n2{margin-left:-8px!important}.v-application--is-ltr .me-sm-n3{margin-right:-12px!important}.v-application--is-rtl .me-sm-n3{margin-left:-12px!important}.v-application--is-ltr .me-sm-n4{margin-right:-16px!important}.v-application--is-rtl .me-sm-n4{margin-left:-16px!important}.v-application--is-ltr .me-sm-n5{margin-right:-20px!important}.v-application--is-rtl .me-sm-n5{margin-left:-20px!important}.v-application--is-ltr .me-sm-n6{margin-right:-24px!important}.v-application--is-rtl .me-sm-n6{margin-left:-24px!important}.v-application--is-ltr .me-sm-n7{margin-right:-28px!important}.v-application--is-rtl .me-sm-n7{margin-left:-28px!important}.v-application--is-ltr .me-sm-n8{margin-right:-32px!important}.v-application--is-rtl .me-sm-n8{margin-left:-32px!important}.v-application--is-ltr .me-sm-n9{margin-right:-36px!important}.v-application--is-rtl .me-sm-n9{margin-left:-36px!important}.v-application--is-ltr .me-sm-n10{margin-right:-40px!important}.v-application--is-rtl .me-sm-n10{margin-left:-40px!important}.v-application--is-ltr .me-sm-n11{margin-right:-44px!important}.v-application--is-rtl .me-sm-n11{margin-left:-44px!important}.v-application--is-ltr .me-sm-n12{margin-right:-48px!important}.v-application--is-rtl .me-sm-n12{margin-left:-48px!important}.v-application--is-ltr .me-sm-n13{margin-right:-52px!important}.v-application--is-rtl .me-sm-n13{margin-left:-52px!important}.v-application--is-ltr .me-sm-n14{margin-right:-56px!important}.v-application--is-rtl .me-sm-n14{margin-left:-56px!important}.v-application--is-ltr .me-sm-n15{margin-right:-60px!important}.v-application--is-rtl .me-sm-n15{margin-left:-60px!important}.v-application--is-ltr .me-sm-n16{margin-right:-64px!important}.v-application--is-rtl .me-sm-n16{margin-left:-64px!important}.v-application .pa-sm-0{padding:0!important}.v-application .pa-sm-1{padding:4px!important}.v-application .pa-sm-2{padding:8px!important}.v-application .pa-sm-3{padding:12px!important}.v-application .pa-sm-4{padding:16px!important}.v-application .pa-sm-5{padding:20px!important}.v-application .pa-sm-6{padding:24px!important}.v-application .pa-sm-7{padding:28px!important}.v-application .pa-sm-8{padding:32px!important}.v-application .pa-sm-9{padding:36px!important}.v-application .pa-sm-10{padding:40px!important}.v-application .pa-sm-11{padding:44px!important}.v-application .pa-sm-12{padding:48px!important}.v-application .pa-sm-13{padding:52px!important}.v-application .pa-sm-14{padding:56px!important}.v-application .pa-sm-15{padding:60px!important}.v-application .pa-sm-16{padding:64px!important}.v-application .px-sm-0{padding-right:0!important;padding-left:0!important}.v-application .px-sm-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-sm-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-sm-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-sm-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-sm-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-sm-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-sm-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-sm-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-sm-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-sm-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-sm-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-sm-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-sm-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-sm-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-sm-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-sm-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-sm-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-sm-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-sm-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-sm-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-sm-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-sm-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-sm-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-sm-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-sm-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-sm-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-sm-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-sm-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-sm-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-sm-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-sm-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-sm-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-sm-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-sm-0{padding-top:0!important}.v-application .pt-sm-1{padding-top:4px!important}.v-application .pt-sm-2{padding-top:8px!important}.v-application .pt-sm-3{padding-top:12px!important}.v-application .pt-sm-4{padding-top:16px!important}.v-application .pt-sm-5{padding-top:20px!important}.v-application .pt-sm-6{padding-top:24px!important}.v-application .pt-sm-7{padding-top:28px!important}.v-application .pt-sm-8{padding-top:32px!important}.v-application .pt-sm-9{padding-top:36px!important}.v-application .pt-sm-10{padding-top:40px!important}.v-application .pt-sm-11{padding-top:44px!important}.v-application .pt-sm-12{padding-top:48px!important}.v-application .pt-sm-13{padding-top:52px!important}.v-application .pt-sm-14{padding-top:56px!important}.v-application .pt-sm-15{padding-top:60px!important}.v-application .pt-sm-16{padding-top:64px!important}.v-application .pr-sm-0{padding-right:0!important}.v-application .pr-sm-1{padding-right:4px!important}.v-application .pr-sm-2{padding-right:8px!important}.v-application .pr-sm-3{padding-right:12px!important}.v-application .pr-sm-4{padding-right:16px!important}.v-application .pr-sm-5{padding-right:20px!important}.v-application .pr-sm-6{padding-right:24px!important}.v-application .pr-sm-7{padding-right:28px!important}.v-application .pr-sm-8{padding-right:32px!important}.v-application .pr-sm-9{padding-right:36px!important}.v-application .pr-sm-10{padding-right:40px!important}.v-application .pr-sm-11{padding-right:44px!important}.v-application .pr-sm-12{padding-right:48px!important}.v-application .pr-sm-13{padding-right:52px!important}.v-application .pr-sm-14{padding-right:56px!important}.v-application .pr-sm-15{padding-right:60px!important}.v-application .pr-sm-16{padding-right:64px!important}.v-application .pb-sm-0{padding-bottom:0!important}.v-application .pb-sm-1{padding-bottom:4px!important}.v-application .pb-sm-2{padding-bottom:8px!important}.v-application .pb-sm-3{padding-bottom:12px!important}.v-application .pb-sm-4{padding-bottom:16px!important}.v-application .pb-sm-5{padding-bottom:20px!important}.v-application .pb-sm-6{padding-bottom:24px!important}.v-application .pb-sm-7{padding-bottom:28px!important}.v-application .pb-sm-8{padding-bottom:32px!important}.v-application .pb-sm-9{padding-bottom:36px!important}.v-application .pb-sm-10{padding-bottom:40px!important}.v-application .pb-sm-11{padding-bottom:44px!important}.v-application .pb-sm-12{padding-bottom:48px!important}.v-application .pb-sm-13{padding-bottom:52px!important}.v-application .pb-sm-14{padding-bottom:56px!important}.v-application .pb-sm-15{padding-bottom:60px!important}.v-application .pb-sm-16{padding-bottom:64px!important}.v-application .pl-sm-0{padding-left:0!important}.v-application .pl-sm-1{padding-left:4px!important}.v-application .pl-sm-2{padding-left:8px!important}.v-application .pl-sm-3{padding-left:12px!important}.v-application .pl-sm-4{padding-left:16px!important}.v-application .pl-sm-5{padding-left:20px!important}.v-application .pl-sm-6{padding-left:24px!important}.v-application .pl-sm-7{padding-left:28px!important}.v-application .pl-sm-8{padding-left:32px!important}.v-application .pl-sm-9{padding-left:36px!important}.v-application .pl-sm-10{padding-left:40px!important}.v-application .pl-sm-11{padding-left:44px!important}.v-application .pl-sm-12{padding-left:48px!important}.v-application .pl-sm-13{padding-left:52px!important}.v-application .pl-sm-14{padding-left:56px!important}.v-application .pl-sm-15{padding-left:60px!important}.v-application .pl-sm-16{padding-left:64px!important}.v-application--is-ltr .ps-sm-0{padding-left:0!important}.v-application--is-rtl .ps-sm-0{padding-right:0!important}.v-application--is-ltr .ps-sm-1{padding-left:4px!important}.v-application--is-rtl .ps-sm-1{padding-right:4px!important}.v-application--is-ltr .ps-sm-2{padding-left:8px!important}.v-application--is-rtl .ps-sm-2{padding-right:8px!important}.v-application--is-ltr .ps-sm-3{padding-left:12px!important}.v-application--is-rtl .ps-sm-3{padding-right:12px!important}.v-application--is-ltr .ps-sm-4{padding-left:16px!important}.v-application--is-rtl .ps-sm-4{padding-right:16px!important}.v-application--is-ltr .ps-sm-5{padding-left:20px!important}.v-application--is-rtl .ps-sm-5{padding-right:20px!important}.v-application--is-ltr .ps-sm-6{padding-left:24px!important}.v-application--is-rtl .ps-sm-6{padding-right:24px!important}.v-application--is-ltr .ps-sm-7{padding-left:28px!important}.v-application--is-rtl .ps-sm-7{padding-right:28px!important}.v-application--is-ltr .ps-sm-8{padding-left:32px!important}.v-application--is-rtl .ps-sm-8{padding-right:32px!important}.v-application--is-ltr .ps-sm-9{padding-left:36px!important}.v-application--is-rtl .ps-sm-9{padding-right:36px!important}.v-application--is-ltr .ps-sm-10{padding-left:40px!important}.v-application--is-rtl .ps-sm-10{padding-right:40px!important}.v-application--is-ltr .ps-sm-11{padding-left:44px!important}.v-application--is-rtl .ps-sm-11{padding-right:44px!important}.v-application--is-ltr .ps-sm-12{padding-left:48px!important}.v-application--is-rtl .ps-sm-12{padding-right:48px!important}.v-application--is-ltr .ps-sm-13{padding-left:52px!important}.v-application--is-rtl .ps-sm-13{padding-right:52px!important}.v-application--is-ltr .ps-sm-14{padding-left:56px!important}.v-application--is-rtl .ps-sm-14{padding-right:56px!important}.v-application--is-ltr .ps-sm-15{padding-left:60px!important}.v-application--is-rtl .ps-sm-15{padding-right:60px!important}.v-application--is-ltr .ps-sm-16{padding-left:64px!important}.v-application--is-rtl .ps-sm-16{padding-right:64px!important}.v-application--is-ltr .pe-sm-0{padding-right:0!important}.v-application--is-rtl .pe-sm-0{padding-left:0!important}.v-application--is-ltr .pe-sm-1{padding-right:4px!important}.v-application--is-rtl .pe-sm-1{padding-left:4px!important}.v-application--is-ltr .pe-sm-2{padding-right:8px!important}.v-application--is-rtl .pe-sm-2{padding-left:8px!important}.v-application--is-ltr .pe-sm-3{padding-right:12px!important}.v-application--is-rtl .pe-sm-3{padding-left:12px!important}.v-application--is-ltr .pe-sm-4{padding-right:16px!important}.v-application--is-rtl .pe-sm-4{padding-left:16px!important}.v-application--is-ltr .pe-sm-5{padding-right:20px!important}.v-application--is-rtl .pe-sm-5{padding-left:20px!important}.v-application--is-ltr .pe-sm-6{padding-right:24px!important}.v-application--is-rtl .pe-sm-6{padding-left:24px!important}.v-application--is-ltr .pe-sm-7{padding-right:28px!important}.v-application--is-rtl .pe-sm-7{padding-left:28px!important}.v-application--is-ltr .pe-sm-8{padding-right:32px!important}.v-application--is-rtl .pe-sm-8{padding-left:32px!important}.v-application--is-ltr .pe-sm-9{padding-right:36px!important}.v-application--is-rtl .pe-sm-9{padding-left:36px!important}.v-application--is-ltr .pe-sm-10{padding-right:40px!important}.v-application--is-rtl .pe-sm-10{padding-left:40px!important}.v-application--is-ltr .pe-sm-11{padding-right:44px!important}.v-application--is-rtl .pe-sm-11{padding-left:44px!important}.v-application--is-ltr .pe-sm-12{padding-right:48px!important}.v-application--is-rtl .pe-sm-12{padding-left:48px!important}.v-application--is-ltr .pe-sm-13{padding-right:52px!important}.v-application--is-rtl .pe-sm-13{padding-left:52px!important}.v-application--is-ltr .pe-sm-14{padding-right:56px!important}.v-application--is-rtl .pe-sm-14{padding-left:56px!important}.v-application--is-ltr .pe-sm-15{padding-right:60px!important}.v-application--is-rtl .pe-sm-15{padding-left:60px!important}.v-application--is-ltr .pe-sm-16{padding-right:64px!important}.v-application--is-rtl .pe-sm-16{padding-left:64px!important}.v-application .text-sm-left{text-align:left!important}.v-application .text-sm-right{text-align:right!important}.v-application .text-sm-center{text-align:center!important}.v-application .text-sm-justify{text-align:justify!important}[dir=ltr] .v-application .text-sm-start{text-align:left!important}[dir=ltr] .v-application .text-sm-end,[dir=rtl] .v-application .text-sm-start{text-align:right!important}[dir=rtl] .v-application .text-sm-end{text-align:left!important}.v-application .text-sm-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-sm-h1,.v-application .text-sm-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-sm-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-sm-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-sm-h3,.v-application .text-sm-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-sm-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-sm-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-sm-h5,.v-application .text-sm-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-sm-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-sm-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-sm-body-2,.v-application .text-sm-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-sm-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-sm-caption,.v-application .text-sm-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-sm-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media(min-width:960px){.v-application .d-md-none{display:none!important}.v-application .d-md-inline{display:inline!important}.v-application .d-md-inline-block{display:inline-block!important}.v-application .d-md-block{display:block!important}.v-application .d-md-table{display:table!important}.v-application .d-md-table-row{display:table-row!important}.v-application .d-md-table-cell{display:table-cell!important}.v-application .d-md-flex{display:flex!important}.v-application .d-md-inline-flex{display:inline-flex!important}.v-application .float-md-none{float:none!important}.v-application .float-md-left{float:left!important}.v-application .float-md-right{float:right!important}.v-application--is-rtl .float-md-end{float:left!important}.v-application--is-ltr .float-md-end,.v-application--is-rtl .float-md-start{float:right!important}.v-application--is-ltr .float-md-start{float:left!important}.v-application .flex-md-fill{flex:1 1 auto!important}.v-application .flex-md-row{flex-direction:row!important}.v-application .flex-md-column{flex-direction:column!important}.v-application .flex-md-row-reverse{flex-direction:row-reverse!important}.v-application .flex-md-column-reverse{flex-direction:column-reverse!important}.v-application .flex-md-grow-0{flex-grow:0!important}.v-application .flex-md-grow-1{flex-grow:1!important}.v-application .flex-md-shrink-0{flex-shrink:0!important}.v-application .flex-md-shrink-1{flex-shrink:1!important}.v-application .flex-md-wrap{flex-wrap:wrap!important}.v-application .flex-md-nowrap{flex-wrap:nowrap!important}.v-application .flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-md-start{justify-content:flex-start!important}.v-application .justify-md-end{justify-content:flex-end!important}.v-application .justify-md-center{justify-content:center!important}.v-application .justify-md-space-between{justify-content:space-between!important}.v-application .justify-md-space-around{justify-content:space-around!important}.v-application .align-md-start{align-items:flex-start!important}.v-application .align-md-end{align-items:flex-end!important}.v-application .align-md-center{align-items:center!important}.v-application .align-md-baseline{align-items:baseline!important}.v-application .align-md-stretch{align-items:stretch!important}.v-application .align-content-md-start{align-content:flex-start!important}.v-application .align-content-md-end{align-content:flex-end!important}.v-application .align-content-md-center{align-content:center!important}.v-application .align-content-md-space-between{align-content:space-between!important}.v-application .align-content-md-space-around{align-content:space-around!important}.v-application .align-content-md-stretch{align-content:stretch!important}.v-application .align-self-md-auto{align-self:auto!important}.v-application .align-self-md-start{align-self:flex-start!important}.v-application .align-self-md-end{align-self:flex-end!important}.v-application .align-self-md-center{align-self:center!important}.v-application .align-self-md-baseline{align-self:baseline!important}.v-application .align-self-md-stretch{align-self:stretch!important}.v-application .order-md-first{order:-1!important}.v-application .order-md-0{order:0!important}.v-application .order-md-1{order:1!important}.v-application .order-md-2{order:2!important}.v-application .order-md-3{order:3!important}.v-application .order-md-4{order:4!important}.v-application .order-md-5{order:5!important}.v-application .order-md-6{order:6!important}.v-application .order-md-7{order:7!important}.v-application .order-md-8{order:8!important}.v-application .order-md-9{order:9!important}.v-application .order-md-10{order:10!important}.v-application .order-md-11{order:11!important}.v-application .order-md-12{order:12!important}.v-application .order-md-last{order:13!important}.v-application .ma-md-0{margin:0!important}.v-application .ma-md-1{margin:4px!important}.v-application .ma-md-2{margin:8px!important}.v-application .ma-md-3{margin:12px!important}.v-application .ma-md-4{margin:16px!important}.v-application .ma-md-5{margin:20px!important}.v-application .ma-md-6{margin:24px!important}.v-application .ma-md-7{margin:28px!important}.v-application .ma-md-8{margin:32px!important}.v-application .ma-md-9{margin:36px!important}.v-application .ma-md-10{margin:40px!important}.v-application .ma-md-11{margin:44px!important}.v-application .ma-md-12{margin:48px!important}.v-application .ma-md-13{margin:52px!important}.v-application .ma-md-14{margin:56px!important}.v-application .ma-md-15{margin:60px!important}.v-application .ma-md-16{margin:64px!important}.v-application .ma-md-auto{margin:auto!important}.v-application .mx-md-0{margin-right:0!important;margin-left:0!important}.v-application .mx-md-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-md-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-md-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-md-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-md-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-md-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-md-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-md-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-md-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-md-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-md-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-md-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-md-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-md-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-md-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-md-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-md-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-md-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-md-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-md-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-md-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-md-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-md-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-md-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-md-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-md-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-md-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-md-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-md-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-md-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-md-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-md-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-md-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-md-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-md-0{margin-top:0!important}.v-application .mt-md-1{margin-top:4px!important}.v-application .mt-md-2{margin-top:8px!important}.v-application .mt-md-3{margin-top:12px!important}.v-application .mt-md-4{margin-top:16px!important}.v-application .mt-md-5{margin-top:20px!important}.v-application .mt-md-6{margin-top:24px!important}.v-application .mt-md-7{margin-top:28px!important}.v-application .mt-md-8{margin-top:32px!important}.v-application .mt-md-9{margin-top:36px!important}.v-application .mt-md-10{margin-top:40px!important}.v-application .mt-md-11{margin-top:44px!important}.v-application .mt-md-12{margin-top:48px!important}.v-application .mt-md-13{margin-top:52px!important}.v-application .mt-md-14{margin-top:56px!important}.v-application .mt-md-15{margin-top:60px!important}.v-application .mt-md-16{margin-top:64px!important}.v-application .mt-md-auto{margin-top:auto!important}.v-application .mr-md-0{margin-right:0!important}.v-application .mr-md-1{margin-right:4px!important}.v-application .mr-md-2{margin-right:8px!important}.v-application .mr-md-3{margin-right:12px!important}.v-application .mr-md-4{margin-right:16px!important}.v-application .mr-md-5{margin-right:20px!important}.v-application .mr-md-6{margin-right:24px!important}.v-application .mr-md-7{margin-right:28px!important}.v-application .mr-md-8{margin-right:32px!important}.v-application .mr-md-9{margin-right:36px!important}.v-application .mr-md-10{margin-right:40px!important}.v-application .mr-md-11{margin-right:44px!important}.v-application .mr-md-12{margin-right:48px!important}.v-application .mr-md-13{margin-right:52px!important}.v-application .mr-md-14{margin-right:56px!important}.v-application .mr-md-15{margin-right:60px!important}.v-application .mr-md-16{margin-right:64px!important}.v-application .mr-md-auto{margin-right:auto!important}.v-application .mb-md-0{margin-bottom:0!important}.v-application .mb-md-1{margin-bottom:4px!important}.v-application .mb-md-2{margin-bottom:8px!important}.v-application .mb-md-3{margin-bottom:12px!important}.v-application .mb-md-4{margin-bottom:16px!important}.v-application .mb-md-5{margin-bottom:20px!important}.v-application .mb-md-6{margin-bottom:24px!important}.v-application .mb-md-7{margin-bottom:28px!important}.v-application .mb-md-8{margin-bottom:32px!important}.v-application .mb-md-9{margin-bottom:36px!important}.v-application .mb-md-10{margin-bottom:40px!important}.v-application .mb-md-11{margin-bottom:44px!important}.v-application .mb-md-12{margin-bottom:48px!important}.v-application .mb-md-13{margin-bottom:52px!important}.v-application .mb-md-14{margin-bottom:56px!important}.v-application .mb-md-15{margin-bottom:60px!important}.v-application .mb-md-16{margin-bottom:64px!important}.v-application .mb-md-auto{margin-bottom:auto!important}.v-application .ml-md-0{margin-left:0!important}.v-application .ml-md-1{margin-left:4px!important}.v-application .ml-md-2{margin-left:8px!important}.v-application .ml-md-3{margin-left:12px!important}.v-application .ml-md-4{margin-left:16px!important}.v-application .ml-md-5{margin-left:20px!important}.v-application .ml-md-6{margin-left:24px!important}.v-application .ml-md-7{margin-left:28px!important}.v-application .ml-md-8{margin-left:32px!important}.v-application .ml-md-9{margin-left:36px!important}.v-application .ml-md-10{margin-left:40px!important}.v-application .ml-md-11{margin-left:44px!important}.v-application .ml-md-12{margin-left:48px!important}.v-application .ml-md-13{margin-left:52px!important}.v-application .ml-md-14{margin-left:56px!important}.v-application .ml-md-15{margin-left:60px!important}.v-application .ml-md-16{margin-left:64px!important}.v-application .ml-md-auto{margin-left:auto!important}.v-application--is-ltr .ms-md-0{margin-left:0!important}.v-application--is-rtl .ms-md-0{margin-right:0!important}.v-application--is-ltr .ms-md-1{margin-left:4px!important}.v-application--is-rtl .ms-md-1{margin-right:4px!important}.v-application--is-ltr .ms-md-2{margin-left:8px!important}.v-application--is-rtl .ms-md-2{margin-right:8px!important}.v-application--is-ltr .ms-md-3{margin-left:12px!important}.v-application--is-rtl .ms-md-3{margin-right:12px!important}.v-application--is-ltr .ms-md-4{margin-left:16px!important}.v-application--is-rtl .ms-md-4{margin-right:16px!important}.v-application--is-ltr .ms-md-5{margin-left:20px!important}.v-application--is-rtl .ms-md-5{margin-right:20px!important}.v-application--is-ltr .ms-md-6{margin-left:24px!important}.v-application--is-rtl .ms-md-6{margin-right:24px!important}.v-application--is-ltr .ms-md-7{margin-left:28px!important}.v-application--is-rtl .ms-md-7{margin-right:28px!important}.v-application--is-ltr .ms-md-8{margin-left:32px!important}.v-application--is-rtl .ms-md-8{margin-right:32px!important}.v-application--is-ltr .ms-md-9{margin-left:36px!important}.v-application--is-rtl .ms-md-9{margin-right:36px!important}.v-application--is-ltr .ms-md-10{margin-left:40px!important}.v-application--is-rtl .ms-md-10{margin-right:40px!important}.v-application--is-ltr .ms-md-11{margin-left:44px!important}.v-application--is-rtl .ms-md-11{margin-right:44px!important}.v-application--is-ltr .ms-md-12{margin-left:48px!important}.v-application--is-rtl .ms-md-12{margin-right:48px!important}.v-application--is-ltr .ms-md-13{margin-left:52px!important}.v-application--is-rtl .ms-md-13{margin-right:52px!important}.v-application--is-ltr .ms-md-14{margin-left:56px!important}.v-application--is-rtl .ms-md-14{margin-right:56px!important}.v-application--is-ltr .ms-md-15{margin-left:60px!important}.v-application--is-rtl .ms-md-15{margin-right:60px!important}.v-application--is-ltr .ms-md-16{margin-left:64px!important}.v-application--is-rtl .ms-md-16{margin-right:64px!important}.v-application--is-ltr .ms-md-auto{margin-left:auto!important}.v-application--is-rtl .ms-md-auto{margin-right:auto!important}.v-application--is-ltr .me-md-0{margin-right:0!important}.v-application--is-rtl .me-md-0{margin-left:0!important}.v-application--is-ltr .me-md-1{margin-right:4px!important}.v-application--is-rtl .me-md-1{margin-left:4px!important}.v-application--is-ltr .me-md-2{margin-right:8px!important}.v-application--is-rtl .me-md-2{margin-left:8px!important}.v-application--is-ltr .me-md-3{margin-right:12px!important}.v-application--is-rtl .me-md-3{margin-left:12px!important}.v-application--is-ltr .me-md-4{margin-right:16px!important}.v-application--is-rtl .me-md-4{margin-left:16px!important}.v-application--is-ltr .me-md-5{margin-right:20px!important}.v-application--is-rtl .me-md-5{margin-left:20px!important}.v-application--is-ltr .me-md-6{margin-right:24px!important}.v-application--is-rtl .me-md-6{margin-left:24px!important}.v-application--is-ltr .me-md-7{margin-right:28px!important}.v-application--is-rtl .me-md-7{margin-left:28px!important}.v-application--is-ltr .me-md-8{margin-right:32px!important}.v-application--is-rtl .me-md-8{margin-left:32px!important}.v-application--is-ltr .me-md-9{margin-right:36px!important}.v-application--is-rtl .me-md-9{margin-left:36px!important}.v-application--is-ltr .me-md-10{margin-right:40px!important}.v-application--is-rtl .me-md-10{margin-left:40px!important}.v-application--is-ltr .me-md-11{margin-right:44px!important}.v-application--is-rtl .me-md-11{margin-left:44px!important}.v-application--is-ltr .me-md-12{margin-right:48px!important}.v-application--is-rtl .me-md-12{margin-left:48px!important}.v-application--is-ltr .me-md-13{margin-right:52px!important}.v-application--is-rtl .me-md-13{margin-left:52px!important}.v-application--is-ltr .me-md-14{margin-right:56px!important}.v-application--is-rtl .me-md-14{margin-left:56px!important}.v-application--is-ltr .me-md-15{margin-right:60px!important}.v-application--is-rtl .me-md-15{margin-left:60px!important}.v-application--is-ltr .me-md-16{margin-right:64px!important}.v-application--is-rtl .me-md-16{margin-left:64px!important}.v-application--is-ltr .me-md-auto{margin-right:auto!important}.v-application--is-rtl .me-md-auto{margin-left:auto!important}.v-application .ma-md-n1{margin:-4px!important}.v-application .ma-md-n2{margin:-8px!important}.v-application .ma-md-n3{margin:-12px!important}.v-application .ma-md-n4{margin:-16px!important}.v-application .ma-md-n5{margin:-20px!important}.v-application .ma-md-n6{margin:-24px!important}.v-application .ma-md-n7{margin:-28px!important}.v-application .ma-md-n8{margin:-32px!important}.v-application .ma-md-n9{margin:-36px!important}.v-application .ma-md-n10{margin:-40px!important}.v-application .ma-md-n11{margin:-44px!important}.v-application .ma-md-n12{margin:-48px!important}.v-application .ma-md-n13{margin:-52px!important}.v-application .ma-md-n14{margin:-56px!important}.v-application .ma-md-n15{margin:-60px!important}.v-application .ma-md-n16{margin:-64px!important}.v-application .mx-md-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-md-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-md-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-md-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-md-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-md-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-md-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-md-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-md-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-md-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-md-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-md-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-md-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-md-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-md-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-md-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-md-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-md-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-md-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-md-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-md-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-md-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-md-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-md-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-md-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-md-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-md-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-md-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-md-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-md-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-md-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-md-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-md-n1{margin-top:-4px!important}.v-application .mt-md-n2{margin-top:-8px!important}.v-application .mt-md-n3{margin-top:-12px!important}.v-application .mt-md-n4{margin-top:-16px!important}.v-application .mt-md-n5{margin-top:-20px!important}.v-application .mt-md-n6{margin-top:-24px!important}.v-application .mt-md-n7{margin-top:-28px!important}.v-application .mt-md-n8{margin-top:-32px!important}.v-application .mt-md-n9{margin-top:-36px!important}.v-application .mt-md-n10{margin-top:-40px!important}.v-application .mt-md-n11{margin-top:-44px!important}.v-application .mt-md-n12{margin-top:-48px!important}.v-application .mt-md-n13{margin-top:-52px!important}.v-application .mt-md-n14{margin-top:-56px!important}.v-application .mt-md-n15{margin-top:-60px!important}.v-application .mt-md-n16{margin-top:-64px!important}.v-application .mr-md-n1{margin-right:-4px!important}.v-application .mr-md-n2{margin-right:-8px!important}.v-application .mr-md-n3{margin-right:-12px!important}.v-application .mr-md-n4{margin-right:-16px!important}.v-application .mr-md-n5{margin-right:-20px!important}.v-application .mr-md-n6{margin-right:-24px!important}.v-application .mr-md-n7{margin-right:-28px!important}.v-application .mr-md-n8{margin-right:-32px!important}.v-application .mr-md-n9{margin-right:-36px!important}.v-application .mr-md-n10{margin-right:-40px!important}.v-application .mr-md-n11{margin-right:-44px!important}.v-application .mr-md-n12{margin-right:-48px!important}.v-application .mr-md-n13{margin-right:-52px!important}.v-application .mr-md-n14{margin-right:-56px!important}.v-application .mr-md-n15{margin-right:-60px!important}.v-application .mr-md-n16{margin-right:-64px!important}.v-application .mb-md-n1{margin-bottom:-4px!important}.v-application .mb-md-n2{margin-bottom:-8px!important}.v-application .mb-md-n3{margin-bottom:-12px!important}.v-application .mb-md-n4{margin-bottom:-16px!important}.v-application .mb-md-n5{margin-bottom:-20px!important}.v-application .mb-md-n6{margin-bottom:-24px!important}.v-application .mb-md-n7{margin-bottom:-28px!important}.v-application .mb-md-n8{margin-bottom:-32px!important}.v-application .mb-md-n9{margin-bottom:-36px!important}.v-application .mb-md-n10{margin-bottom:-40px!important}.v-application .mb-md-n11{margin-bottom:-44px!important}.v-application .mb-md-n12{margin-bottom:-48px!important}.v-application .mb-md-n13{margin-bottom:-52px!important}.v-application .mb-md-n14{margin-bottom:-56px!important}.v-application .mb-md-n15{margin-bottom:-60px!important}.v-application .mb-md-n16{margin-bottom:-64px!important}.v-application .ml-md-n1{margin-left:-4px!important}.v-application .ml-md-n2{margin-left:-8px!important}.v-application .ml-md-n3{margin-left:-12px!important}.v-application .ml-md-n4{margin-left:-16px!important}.v-application .ml-md-n5{margin-left:-20px!important}.v-application .ml-md-n6{margin-left:-24px!important}.v-application .ml-md-n7{margin-left:-28px!important}.v-application .ml-md-n8{margin-left:-32px!important}.v-application .ml-md-n9{margin-left:-36px!important}.v-application .ml-md-n10{margin-left:-40px!important}.v-application .ml-md-n11{margin-left:-44px!important}.v-application .ml-md-n12{margin-left:-48px!important}.v-application .ml-md-n13{margin-left:-52px!important}.v-application .ml-md-n14{margin-left:-56px!important}.v-application .ml-md-n15{margin-left:-60px!important}.v-application .ml-md-n16{margin-left:-64px!important}.v-application--is-ltr .ms-md-n1{margin-left:-4px!important}.v-application--is-rtl .ms-md-n1{margin-right:-4px!important}.v-application--is-ltr .ms-md-n2{margin-left:-8px!important}.v-application--is-rtl .ms-md-n2{margin-right:-8px!important}.v-application--is-ltr .ms-md-n3{margin-left:-12px!important}.v-application--is-rtl .ms-md-n3{margin-right:-12px!important}.v-application--is-ltr .ms-md-n4{margin-left:-16px!important}.v-application--is-rtl .ms-md-n4{margin-right:-16px!important}.v-application--is-ltr .ms-md-n5{margin-left:-20px!important}.v-application--is-rtl .ms-md-n5{margin-right:-20px!important}.v-application--is-ltr .ms-md-n6{margin-left:-24px!important}.v-application--is-rtl .ms-md-n6{margin-right:-24px!important}.v-application--is-ltr .ms-md-n7{margin-left:-28px!important}.v-application--is-rtl .ms-md-n7{margin-right:-28px!important}.v-application--is-ltr .ms-md-n8{margin-left:-32px!important}.v-application--is-rtl .ms-md-n8{margin-right:-32px!important}.v-application--is-ltr .ms-md-n9{margin-left:-36px!important}.v-application--is-rtl .ms-md-n9{margin-right:-36px!important}.v-application--is-ltr .ms-md-n10{margin-left:-40px!important}.v-application--is-rtl .ms-md-n10{margin-right:-40px!important}.v-application--is-ltr .ms-md-n11{margin-left:-44px!important}.v-application--is-rtl .ms-md-n11{margin-right:-44px!important}.v-application--is-ltr .ms-md-n12{margin-left:-48px!important}.v-application--is-rtl .ms-md-n12{margin-right:-48px!important}.v-application--is-ltr .ms-md-n13{margin-left:-52px!important}.v-application--is-rtl .ms-md-n13{margin-right:-52px!important}.v-application--is-ltr .ms-md-n14{margin-left:-56px!important}.v-application--is-rtl .ms-md-n14{margin-right:-56px!important}.v-application--is-ltr .ms-md-n15{margin-left:-60px!important}.v-application--is-rtl .ms-md-n15{margin-right:-60px!important}.v-application--is-ltr .ms-md-n16{margin-left:-64px!important}.v-application--is-rtl .ms-md-n16{margin-right:-64px!important}.v-application--is-ltr .me-md-n1{margin-right:-4px!important}.v-application--is-rtl .me-md-n1{margin-left:-4px!important}.v-application--is-ltr .me-md-n2{margin-right:-8px!important}.v-application--is-rtl .me-md-n2{margin-left:-8px!important}.v-application--is-ltr .me-md-n3{margin-right:-12px!important}.v-application--is-rtl .me-md-n3{margin-left:-12px!important}.v-application--is-ltr .me-md-n4{margin-right:-16px!important}.v-application--is-rtl .me-md-n4{margin-left:-16px!important}.v-application--is-ltr .me-md-n5{margin-right:-20px!important}.v-application--is-rtl .me-md-n5{margin-left:-20px!important}.v-application--is-ltr .me-md-n6{margin-right:-24px!important}.v-application--is-rtl .me-md-n6{margin-left:-24px!important}.v-application--is-ltr .me-md-n7{margin-right:-28px!important}.v-application--is-rtl .me-md-n7{margin-left:-28px!important}.v-application--is-ltr .me-md-n8{margin-right:-32px!important}.v-application--is-rtl .me-md-n8{margin-left:-32px!important}.v-application--is-ltr .me-md-n9{margin-right:-36px!important}.v-application--is-rtl .me-md-n9{margin-left:-36px!important}.v-application--is-ltr .me-md-n10{margin-right:-40px!important}.v-application--is-rtl .me-md-n10{margin-left:-40px!important}.v-application--is-ltr .me-md-n11{margin-right:-44px!important}.v-application--is-rtl .me-md-n11{margin-left:-44px!important}.v-application--is-ltr .me-md-n12{margin-right:-48px!important}.v-application--is-rtl .me-md-n12{margin-left:-48px!important}.v-application--is-ltr .me-md-n13{margin-right:-52px!important}.v-application--is-rtl .me-md-n13{margin-left:-52px!important}.v-application--is-ltr .me-md-n14{margin-right:-56px!important}.v-application--is-rtl .me-md-n14{margin-left:-56px!important}.v-application--is-ltr .me-md-n15{margin-right:-60px!important}.v-application--is-rtl .me-md-n15{margin-left:-60px!important}.v-application--is-ltr .me-md-n16{margin-right:-64px!important}.v-application--is-rtl .me-md-n16{margin-left:-64px!important}.v-application .pa-md-0{padding:0!important}.v-application .pa-md-1{padding:4px!important}.v-application .pa-md-2{padding:8px!important}.v-application .pa-md-3{padding:12px!important}.v-application .pa-md-4{padding:16px!important}.v-application .pa-md-5{padding:20px!important}.v-application .pa-md-6{padding:24px!important}.v-application .pa-md-7{padding:28px!important}.v-application .pa-md-8{padding:32px!important}.v-application .pa-md-9{padding:36px!important}.v-application .pa-md-10{padding:40px!important}.v-application .pa-md-11{padding:44px!important}.v-application .pa-md-12{padding:48px!important}.v-application .pa-md-13{padding:52px!important}.v-application .pa-md-14{padding:56px!important}.v-application .pa-md-15{padding:60px!important}.v-application .pa-md-16{padding:64px!important}.v-application .px-md-0{padding-right:0!important;padding-left:0!important}.v-application .px-md-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-md-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-md-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-md-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-md-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-md-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-md-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-md-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-md-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-md-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-md-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-md-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-md-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-md-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-md-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-md-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-md-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-md-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-md-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-md-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-md-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-md-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-md-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-md-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-md-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-md-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-md-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-md-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-md-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-md-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-md-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-md-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-md-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-md-0{padding-top:0!important}.v-application .pt-md-1{padding-top:4px!important}.v-application .pt-md-2{padding-top:8px!important}.v-application .pt-md-3{padding-top:12px!important}.v-application .pt-md-4{padding-top:16px!important}.v-application .pt-md-5{padding-top:20px!important}.v-application .pt-md-6{padding-top:24px!important}.v-application .pt-md-7{padding-top:28px!important}.v-application .pt-md-8{padding-top:32px!important}.v-application .pt-md-9{padding-top:36px!important}.v-application .pt-md-10{padding-top:40px!important}.v-application .pt-md-11{padding-top:44px!important}.v-application .pt-md-12{padding-top:48px!important}.v-application .pt-md-13{padding-top:52px!important}.v-application .pt-md-14{padding-top:56px!important}.v-application .pt-md-15{padding-top:60px!important}.v-application .pt-md-16{padding-top:64px!important}.v-application .pr-md-0{padding-right:0!important}.v-application .pr-md-1{padding-right:4px!important}.v-application .pr-md-2{padding-right:8px!important}.v-application .pr-md-3{padding-right:12px!important}.v-application .pr-md-4{padding-right:16px!important}.v-application .pr-md-5{padding-right:20px!important}.v-application .pr-md-6{padding-right:24px!important}.v-application .pr-md-7{padding-right:28px!important}.v-application .pr-md-8{padding-right:32px!important}.v-application .pr-md-9{padding-right:36px!important}.v-application .pr-md-10{padding-right:40px!important}.v-application .pr-md-11{padding-right:44px!important}.v-application .pr-md-12{padding-right:48px!important}.v-application .pr-md-13{padding-right:52px!important}.v-application .pr-md-14{padding-right:56px!important}.v-application .pr-md-15{padding-right:60px!important}.v-application .pr-md-16{padding-right:64px!important}.v-application .pb-md-0{padding-bottom:0!important}.v-application .pb-md-1{padding-bottom:4px!important}.v-application .pb-md-2{padding-bottom:8px!important}.v-application .pb-md-3{padding-bottom:12px!important}.v-application .pb-md-4{padding-bottom:16px!important}.v-application .pb-md-5{padding-bottom:20px!important}.v-application .pb-md-6{padding-bottom:24px!important}.v-application .pb-md-7{padding-bottom:28px!important}.v-application .pb-md-8{padding-bottom:32px!important}.v-application .pb-md-9{padding-bottom:36px!important}.v-application .pb-md-10{padding-bottom:40px!important}.v-application .pb-md-11{padding-bottom:44px!important}.v-application .pb-md-12{padding-bottom:48px!important}.v-application .pb-md-13{padding-bottom:52px!important}.v-application .pb-md-14{padding-bottom:56px!important}.v-application .pb-md-15{padding-bottom:60px!important}.v-application .pb-md-16{padding-bottom:64px!important}.v-application .pl-md-0{padding-left:0!important}.v-application .pl-md-1{padding-left:4px!important}.v-application .pl-md-2{padding-left:8px!important}.v-application .pl-md-3{padding-left:12px!important}.v-application .pl-md-4{padding-left:16px!important}.v-application .pl-md-5{padding-left:20px!important}.v-application .pl-md-6{padding-left:24px!important}.v-application .pl-md-7{padding-left:28px!important}.v-application .pl-md-8{padding-left:32px!important}.v-application .pl-md-9{padding-left:36px!important}.v-application .pl-md-10{padding-left:40px!important}.v-application .pl-md-11{padding-left:44px!important}.v-application .pl-md-12{padding-left:48px!important}.v-application .pl-md-13{padding-left:52px!important}.v-application .pl-md-14{padding-left:56px!important}.v-application .pl-md-15{padding-left:60px!important}.v-application .pl-md-16{padding-left:64px!important}.v-application--is-ltr .ps-md-0{padding-left:0!important}.v-application--is-rtl .ps-md-0{padding-right:0!important}.v-application--is-ltr .ps-md-1{padding-left:4px!important}.v-application--is-rtl .ps-md-1{padding-right:4px!important}.v-application--is-ltr .ps-md-2{padding-left:8px!important}.v-application--is-rtl .ps-md-2{padding-right:8px!important}.v-application--is-ltr .ps-md-3{padding-left:12px!important}.v-application--is-rtl .ps-md-3{padding-right:12px!important}.v-application--is-ltr .ps-md-4{padding-left:16px!important}.v-application--is-rtl .ps-md-4{padding-right:16px!important}.v-application--is-ltr .ps-md-5{padding-left:20px!important}.v-application--is-rtl .ps-md-5{padding-right:20px!important}.v-application--is-ltr .ps-md-6{padding-left:24px!important}.v-application--is-rtl .ps-md-6{padding-right:24px!important}.v-application--is-ltr .ps-md-7{padding-left:28px!important}.v-application--is-rtl .ps-md-7{padding-right:28px!important}.v-application--is-ltr .ps-md-8{padding-left:32px!important}.v-application--is-rtl .ps-md-8{padding-right:32px!important}.v-application--is-ltr .ps-md-9{padding-left:36px!important}.v-application--is-rtl .ps-md-9{padding-right:36px!important}.v-application--is-ltr .ps-md-10{padding-left:40px!important}.v-application--is-rtl .ps-md-10{padding-right:40px!important}.v-application--is-ltr .ps-md-11{padding-left:44px!important}.v-application--is-rtl .ps-md-11{padding-right:44px!important}.v-application--is-ltr .ps-md-12{padding-left:48px!important}.v-application--is-rtl .ps-md-12{padding-right:48px!important}.v-application--is-ltr .ps-md-13{padding-left:52px!important}.v-application--is-rtl .ps-md-13{padding-right:52px!important}.v-application--is-ltr .ps-md-14{padding-left:56px!important}.v-application--is-rtl .ps-md-14{padding-right:56px!important}.v-application--is-ltr .ps-md-15{padding-left:60px!important}.v-application--is-rtl .ps-md-15{padding-right:60px!important}.v-application--is-ltr .ps-md-16{padding-left:64px!important}.v-application--is-rtl .ps-md-16{padding-right:64px!important}.v-application--is-ltr .pe-md-0{padding-right:0!important}.v-application--is-rtl .pe-md-0{padding-left:0!important}.v-application--is-ltr .pe-md-1{padding-right:4px!important}.v-application--is-rtl .pe-md-1{padding-left:4px!important}.v-application--is-ltr .pe-md-2{padding-right:8px!important}.v-application--is-rtl .pe-md-2{padding-left:8px!important}.v-application--is-ltr .pe-md-3{padding-right:12px!important}.v-application--is-rtl .pe-md-3{padding-left:12px!important}.v-application--is-ltr .pe-md-4{padding-right:16px!important}.v-application--is-rtl .pe-md-4{padding-left:16px!important}.v-application--is-ltr .pe-md-5{padding-right:20px!important}.v-application--is-rtl .pe-md-5{padding-left:20px!important}.v-application--is-ltr .pe-md-6{padding-right:24px!important}.v-application--is-rtl .pe-md-6{padding-left:24px!important}.v-application--is-ltr .pe-md-7{padding-right:28px!important}.v-application--is-rtl .pe-md-7{padding-left:28px!important}.v-application--is-ltr .pe-md-8{padding-right:32px!important}.v-application--is-rtl .pe-md-8{padding-left:32px!important}.v-application--is-ltr .pe-md-9{padding-right:36px!important}.v-application--is-rtl .pe-md-9{padding-left:36px!important}.v-application--is-ltr .pe-md-10{padding-right:40px!important}.v-application--is-rtl .pe-md-10{padding-left:40px!important}.v-application--is-ltr .pe-md-11{padding-right:44px!important}.v-application--is-rtl .pe-md-11{padding-left:44px!important}.v-application--is-ltr .pe-md-12{padding-right:48px!important}.v-application--is-rtl .pe-md-12{padding-left:48px!important}.v-application--is-ltr .pe-md-13{padding-right:52px!important}.v-application--is-rtl .pe-md-13{padding-left:52px!important}.v-application--is-ltr .pe-md-14{padding-right:56px!important}.v-application--is-rtl .pe-md-14{padding-left:56px!important}.v-application--is-ltr .pe-md-15{padding-right:60px!important}.v-application--is-rtl .pe-md-15{padding-left:60px!important}.v-application--is-ltr .pe-md-16{padding-right:64px!important}.v-application--is-rtl .pe-md-16{padding-left:64px!important}.v-application .text-md-left{text-align:left!important}.v-application .text-md-right{text-align:right!important}.v-application .text-md-center{text-align:center!important}.v-application .text-md-justify{text-align:justify!important}[dir=ltr] .v-application .text-md-start{text-align:left!important}[dir=ltr] .v-application .text-md-end,[dir=rtl] .v-application .text-md-start{text-align:right!important}[dir=rtl] .v-application .text-md-end{text-align:left!important}.v-application .text-md-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-md-h1,.v-application .text-md-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-md-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-md-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-md-h3,.v-application .text-md-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-md-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-md-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-md-h5,.v-application .text-md-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-md-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-md-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-md-body-2,.v-application .text-md-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-md-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-md-caption,.v-application .text-md-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-md-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media(min-width:1264px){.v-application .d-lg-none{display:none!important}.v-application .d-lg-inline{display:inline!important}.v-application .d-lg-inline-block{display:inline-block!important}.v-application .d-lg-block{display:block!important}.v-application .d-lg-table{display:table!important}.v-application .d-lg-table-row{display:table-row!important}.v-application .d-lg-table-cell{display:table-cell!important}.v-application .d-lg-flex{display:flex!important}.v-application .d-lg-inline-flex{display:inline-flex!important}.v-application .float-lg-none{float:none!important}.v-application .float-lg-left{float:left!important}.v-application .float-lg-right{float:right!important}.v-application--is-rtl .float-lg-end{float:left!important}.v-application--is-ltr .float-lg-end,.v-application--is-rtl .float-lg-start{float:right!important}.v-application--is-ltr .float-lg-start{float:left!important}.v-application .flex-lg-fill{flex:1 1 auto!important}.v-application .flex-lg-row{flex-direction:row!important}.v-application .flex-lg-column{flex-direction:column!important}.v-application .flex-lg-row-reverse{flex-direction:row-reverse!important}.v-application .flex-lg-column-reverse{flex-direction:column-reverse!important}.v-application .flex-lg-grow-0{flex-grow:0!important}.v-application .flex-lg-grow-1{flex-grow:1!important}.v-application .flex-lg-shrink-0{flex-shrink:0!important}.v-application .flex-lg-shrink-1{flex-shrink:1!important}.v-application .flex-lg-wrap{flex-wrap:wrap!important}.v-application .flex-lg-nowrap{flex-wrap:nowrap!important}.v-application .flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-lg-start{justify-content:flex-start!important}.v-application .justify-lg-end{justify-content:flex-end!important}.v-application .justify-lg-center{justify-content:center!important}.v-application .justify-lg-space-between{justify-content:space-between!important}.v-application .justify-lg-space-around{justify-content:space-around!important}.v-application .align-lg-start{align-items:flex-start!important}.v-application .align-lg-end{align-items:flex-end!important}.v-application .align-lg-center{align-items:center!important}.v-application .align-lg-baseline{align-items:baseline!important}.v-application .align-lg-stretch{align-items:stretch!important}.v-application .align-content-lg-start{align-content:flex-start!important}.v-application .align-content-lg-end{align-content:flex-end!important}.v-application .align-content-lg-center{align-content:center!important}.v-application .align-content-lg-space-between{align-content:space-between!important}.v-application .align-content-lg-space-around{align-content:space-around!important}.v-application .align-content-lg-stretch{align-content:stretch!important}.v-application .align-self-lg-auto{align-self:auto!important}.v-application .align-self-lg-start{align-self:flex-start!important}.v-application .align-self-lg-end{align-self:flex-end!important}.v-application .align-self-lg-center{align-self:center!important}.v-application .align-self-lg-baseline{align-self:baseline!important}.v-application .align-self-lg-stretch{align-self:stretch!important}.v-application .order-lg-first{order:-1!important}.v-application .order-lg-0{order:0!important}.v-application .order-lg-1{order:1!important}.v-application .order-lg-2{order:2!important}.v-application .order-lg-3{order:3!important}.v-application .order-lg-4{order:4!important}.v-application .order-lg-5{order:5!important}.v-application .order-lg-6{order:6!important}.v-application .order-lg-7{order:7!important}.v-application .order-lg-8{order:8!important}.v-application .order-lg-9{order:9!important}.v-application .order-lg-10{order:10!important}.v-application .order-lg-11{order:11!important}.v-application .order-lg-12{order:12!important}.v-application .order-lg-last{order:13!important}.v-application .ma-lg-0{margin:0!important}.v-application .ma-lg-1{margin:4px!important}.v-application .ma-lg-2{margin:8px!important}.v-application .ma-lg-3{margin:12px!important}.v-application .ma-lg-4{margin:16px!important}.v-application .ma-lg-5{margin:20px!important}.v-application .ma-lg-6{margin:24px!important}.v-application .ma-lg-7{margin:28px!important}.v-application .ma-lg-8{margin:32px!important}.v-application .ma-lg-9{margin:36px!important}.v-application .ma-lg-10{margin:40px!important}.v-application .ma-lg-11{margin:44px!important}.v-application .ma-lg-12{margin:48px!important}.v-application .ma-lg-13{margin:52px!important}.v-application .ma-lg-14{margin:56px!important}.v-application .ma-lg-15{margin:60px!important}.v-application .ma-lg-16{margin:64px!important}.v-application .ma-lg-auto{margin:auto!important}.v-application .mx-lg-0{margin-right:0!important;margin-left:0!important}.v-application .mx-lg-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-lg-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-lg-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-lg-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-lg-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-lg-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-lg-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-lg-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-lg-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-lg-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-lg-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-lg-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-lg-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-lg-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-lg-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-lg-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-lg-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-lg-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-lg-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-lg-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-lg-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-lg-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-lg-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-lg-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-lg-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-lg-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-lg-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-lg-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-lg-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-lg-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-lg-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-lg-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-lg-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-lg-0{margin-top:0!important}.v-application .mt-lg-1{margin-top:4px!important}.v-application .mt-lg-2{margin-top:8px!important}.v-application .mt-lg-3{margin-top:12px!important}.v-application .mt-lg-4{margin-top:16px!important}.v-application .mt-lg-5{margin-top:20px!important}.v-application .mt-lg-6{margin-top:24px!important}.v-application .mt-lg-7{margin-top:28px!important}.v-application .mt-lg-8{margin-top:32px!important}.v-application .mt-lg-9{margin-top:36px!important}.v-application .mt-lg-10{margin-top:40px!important}.v-application .mt-lg-11{margin-top:44px!important}.v-application .mt-lg-12{margin-top:48px!important}.v-application .mt-lg-13{margin-top:52px!important}.v-application .mt-lg-14{margin-top:56px!important}.v-application .mt-lg-15{margin-top:60px!important}.v-application .mt-lg-16{margin-top:64px!important}.v-application .mt-lg-auto{margin-top:auto!important}.v-application .mr-lg-0{margin-right:0!important}.v-application .mr-lg-1{margin-right:4px!important}.v-application .mr-lg-2{margin-right:8px!important}.v-application .mr-lg-3{margin-right:12px!important}.v-application .mr-lg-4{margin-right:16px!important}.v-application .mr-lg-5{margin-right:20px!important}.v-application .mr-lg-6{margin-right:24px!important}.v-application .mr-lg-7{margin-right:28px!important}.v-application .mr-lg-8{margin-right:32px!important}.v-application .mr-lg-9{margin-right:36px!important}.v-application .mr-lg-10{margin-right:40px!important}.v-application .mr-lg-11{margin-right:44px!important}.v-application .mr-lg-12{margin-right:48px!important}.v-application .mr-lg-13{margin-right:52px!important}.v-application .mr-lg-14{margin-right:56px!important}.v-application .mr-lg-15{margin-right:60px!important}.v-application .mr-lg-16{margin-right:64px!important}.v-application .mr-lg-auto{margin-right:auto!important}.v-application .mb-lg-0{margin-bottom:0!important}.v-application .mb-lg-1{margin-bottom:4px!important}.v-application .mb-lg-2{margin-bottom:8px!important}.v-application .mb-lg-3{margin-bottom:12px!important}.v-application .mb-lg-4{margin-bottom:16px!important}.v-application .mb-lg-5{margin-bottom:20px!important}.v-application .mb-lg-6{margin-bottom:24px!important}.v-application .mb-lg-7{margin-bottom:28px!important}.v-application .mb-lg-8{margin-bottom:32px!important}.v-application .mb-lg-9{margin-bottom:36px!important}.v-application .mb-lg-10{margin-bottom:40px!important}.v-application .mb-lg-11{margin-bottom:44px!important}.v-application .mb-lg-12{margin-bottom:48px!important}.v-application .mb-lg-13{margin-bottom:52px!important}.v-application .mb-lg-14{margin-bottom:56px!important}.v-application .mb-lg-15{margin-bottom:60px!important}.v-application .mb-lg-16{margin-bottom:64px!important}.v-application .mb-lg-auto{margin-bottom:auto!important}.v-application .ml-lg-0{margin-left:0!important}.v-application .ml-lg-1{margin-left:4px!important}.v-application .ml-lg-2{margin-left:8px!important}.v-application .ml-lg-3{margin-left:12px!important}.v-application .ml-lg-4{margin-left:16px!important}.v-application .ml-lg-5{margin-left:20px!important}.v-application .ml-lg-6{margin-left:24px!important}.v-application .ml-lg-7{margin-left:28px!important}.v-application .ml-lg-8{margin-left:32px!important}.v-application .ml-lg-9{margin-left:36px!important}.v-application .ml-lg-10{margin-left:40px!important}.v-application .ml-lg-11{margin-left:44px!important}.v-application .ml-lg-12{margin-left:48px!important}.v-application .ml-lg-13{margin-left:52px!important}.v-application .ml-lg-14{margin-left:56px!important}.v-application .ml-lg-15{margin-left:60px!important}.v-application .ml-lg-16{margin-left:64px!important}.v-application .ml-lg-auto{margin-left:auto!important}.v-application--is-ltr .ms-lg-0{margin-left:0!important}.v-application--is-rtl .ms-lg-0{margin-right:0!important}.v-application--is-ltr .ms-lg-1{margin-left:4px!important}.v-application--is-rtl .ms-lg-1{margin-right:4px!important}.v-application--is-ltr .ms-lg-2{margin-left:8px!important}.v-application--is-rtl .ms-lg-2{margin-right:8px!important}.v-application--is-ltr .ms-lg-3{margin-left:12px!important}.v-application--is-rtl .ms-lg-3{margin-right:12px!important}.v-application--is-ltr .ms-lg-4{margin-left:16px!important}.v-application--is-rtl .ms-lg-4{margin-right:16px!important}.v-application--is-ltr .ms-lg-5{margin-left:20px!important}.v-application--is-rtl .ms-lg-5{margin-right:20px!important}.v-application--is-ltr .ms-lg-6{margin-left:24px!important}.v-application--is-rtl .ms-lg-6{margin-right:24px!important}.v-application--is-ltr .ms-lg-7{margin-left:28px!important}.v-application--is-rtl .ms-lg-7{margin-right:28px!important}.v-application--is-ltr .ms-lg-8{margin-left:32px!important}.v-application--is-rtl .ms-lg-8{margin-right:32px!important}.v-application--is-ltr .ms-lg-9{margin-left:36px!important}.v-application--is-rtl .ms-lg-9{margin-right:36px!important}.v-application--is-ltr .ms-lg-10{margin-left:40px!important}.v-application--is-rtl .ms-lg-10{margin-right:40px!important}.v-application--is-ltr .ms-lg-11{margin-left:44px!important}.v-application--is-rtl .ms-lg-11{margin-right:44px!important}.v-application--is-ltr .ms-lg-12{margin-left:48px!important}.v-application--is-rtl .ms-lg-12{margin-right:48px!important}.v-application--is-ltr .ms-lg-13{margin-left:52px!important}.v-application--is-rtl .ms-lg-13{margin-right:52px!important}.v-application--is-ltr .ms-lg-14{margin-left:56px!important}.v-application--is-rtl .ms-lg-14{margin-right:56px!important}.v-application--is-ltr .ms-lg-15{margin-left:60px!important}.v-application--is-rtl .ms-lg-15{margin-right:60px!important}.v-application--is-ltr .ms-lg-16{margin-left:64px!important}.v-application--is-rtl .ms-lg-16{margin-right:64px!important}.v-application--is-ltr .ms-lg-auto{margin-left:auto!important}.v-application--is-rtl .ms-lg-auto{margin-right:auto!important}.v-application--is-ltr .me-lg-0{margin-right:0!important}.v-application--is-rtl .me-lg-0{margin-left:0!important}.v-application--is-ltr .me-lg-1{margin-right:4px!important}.v-application--is-rtl .me-lg-1{margin-left:4px!important}.v-application--is-ltr .me-lg-2{margin-right:8px!important}.v-application--is-rtl .me-lg-2{margin-left:8px!important}.v-application--is-ltr .me-lg-3{margin-right:12px!important}.v-application--is-rtl .me-lg-3{margin-left:12px!important}.v-application--is-ltr .me-lg-4{margin-right:16px!important}.v-application--is-rtl .me-lg-4{margin-left:16px!important}.v-application--is-ltr .me-lg-5{margin-right:20px!important}.v-application--is-rtl .me-lg-5{margin-left:20px!important}.v-application--is-ltr .me-lg-6{margin-right:24px!important}.v-application--is-rtl .me-lg-6{margin-left:24px!important}.v-application--is-ltr .me-lg-7{margin-right:28px!important}.v-application--is-rtl .me-lg-7{margin-left:28px!important}.v-application--is-ltr .me-lg-8{margin-right:32px!important}.v-application--is-rtl .me-lg-8{margin-left:32px!important}.v-application--is-ltr .me-lg-9{margin-right:36px!important}.v-application--is-rtl .me-lg-9{margin-left:36px!important}.v-application--is-ltr .me-lg-10{margin-right:40px!important}.v-application--is-rtl .me-lg-10{margin-left:40px!important}.v-application--is-ltr .me-lg-11{margin-right:44px!important}.v-application--is-rtl .me-lg-11{margin-left:44px!important}.v-application--is-ltr .me-lg-12{margin-right:48px!important}.v-application--is-rtl .me-lg-12{margin-left:48px!important}.v-application--is-ltr .me-lg-13{margin-right:52px!important}.v-application--is-rtl .me-lg-13{margin-left:52px!important}.v-application--is-ltr .me-lg-14{margin-right:56px!important}.v-application--is-rtl .me-lg-14{margin-left:56px!important}.v-application--is-ltr .me-lg-15{margin-right:60px!important}.v-application--is-rtl .me-lg-15{margin-left:60px!important}.v-application--is-ltr .me-lg-16{margin-right:64px!important}.v-application--is-rtl .me-lg-16{margin-left:64px!important}.v-application--is-ltr .me-lg-auto{margin-right:auto!important}.v-application--is-rtl .me-lg-auto{margin-left:auto!important}.v-application .ma-lg-n1{margin:-4px!important}.v-application .ma-lg-n2{margin:-8px!important}.v-application .ma-lg-n3{margin:-12px!important}.v-application .ma-lg-n4{margin:-16px!important}.v-application .ma-lg-n5{margin:-20px!important}.v-application .ma-lg-n6{margin:-24px!important}.v-application .ma-lg-n7{margin:-28px!important}.v-application .ma-lg-n8{margin:-32px!important}.v-application .ma-lg-n9{margin:-36px!important}.v-application .ma-lg-n10{margin:-40px!important}.v-application .ma-lg-n11{margin:-44px!important}.v-application .ma-lg-n12{margin:-48px!important}.v-application .ma-lg-n13{margin:-52px!important}.v-application .ma-lg-n14{margin:-56px!important}.v-application .ma-lg-n15{margin:-60px!important}.v-application .ma-lg-n16{margin:-64px!important}.v-application .mx-lg-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-lg-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-lg-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-lg-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-lg-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-lg-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-lg-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-lg-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-lg-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-lg-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-lg-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-lg-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-lg-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-lg-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-lg-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-lg-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-lg-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-lg-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-lg-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-lg-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-lg-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-lg-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-lg-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-lg-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-lg-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-lg-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-lg-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-lg-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-lg-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-lg-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-lg-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-lg-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-lg-n1{margin-top:-4px!important}.v-application .mt-lg-n2{margin-top:-8px!important}.v-application .mt-lg-n3{margin-top:-12px!important}.v-application .mt-lg-n4{margin-top:-16px!important}.v-application .mt-lg-n5{margin-top:-20px!important}.v-application .mt-lg-n6{margin-top:-24px!important}.v-application .mt-lg-n7{margin-top:-28px!important}.v-application .mt-lg-n8{margin-top:-32px!important}.v-application .mt-lg-n9{margin-top:-36px!important}.v-application .mt-lg-n10{margin-top:-40px!important}.v-application .mt-lg-n11{margin-top:-44px!important}.v-application .mt-lg-n12{margin-top:-48px!important}.v-application .mt-lg-n13{margin-top:-52px!important}.v-application .mt-lg-n14{margin-top:-56px!important}.v-application .mt-lg-n15{margin-top:-60px!important}.v-application .mt-lg-n16{margin-top:-64px!important}.v-application .mr-lg-n1{margin-right:-4px!important}.v-application .mr-lg-n2{margin-right:-8px!important}.v-application .mr-lg-n3{margin-right:-12px!important}.v-application .mr-lg-n4{margin-right:-16px!important}.v-application .mr-lg-n5{margin-right:-20px!important}.v-application .mr-lg-n6{margin-right:-24px!important}.v-application .mr-lg-n7{margin-right:-28px!important}.v-application .mr-lg-n8{margin-right:-32px!important}.v-application .mr-lg-n9{margin-right:-36px!important}.v-application .mr-lg-n10{margin-right:-40px!important}.v-application .mr-lg-n11{margin-right:-44px!important}.v-application .mr-lg-n12{margin-right:-48px!important}.v-application .mr-lg-n13{margin-right:-52px!important}.v-application .mr-lg-n14{margin-right:-56px!important}.v-application .mr-lg-n15{margin-right:-60px!important}.v-application .mr-lg-n16{margin-right:-64px!important}.v-application .mb-lg-n1{margin-bottom:-4px!important}.v-application .mb-lg-n2{margin-bottom:-8px!important}.v-application .mb-lg-n3{margin-bottom:-12px!important}.v-application .mb-lg-n4{margin-bottom:-16px!important}.v-application .mb-lg-n5{margin-bottom:-20px!important}.v-application .mb-lg-n6{margin-bottom:-24px!important}.v-application .mb-lg-n7{margin-bottom:-28px!important}.v-application .mb-lg-n8{margin-bottom:-32px!important}.v-application .mb-lg-n9{margin-bottom:-36px!important}.v-application .mb-lg-n10{margin-bottom:-40px!important}.v-application .mb-lg-n11{margin-bottom:-44px!important}.v-application .mb-lg-n12{margin-bottom:-48px!important}.v-application .mb-lg-n13{margin-bottom:-52px!important}.v-application .mb-lg-n14{margin-bottom:-56px!important}.v-application .mb-lg-n15{margin-bottom:-60px!important}.v-application .mb-lg-n16{margin-bottom:-64px!important}.v-application .ml-lg-n1{margin-left:-4px!important}.v-application .ml-lg-n2{margin-left:-8px!important}.v-application .ml-lg-n3{margin-left:-12px!important}.v-application .ml-lg-n4{margin-left:-16px!important}.v-application .ml-lg-n5{margin-left:-20px!important}.v-application .ml-lg-n6{margin-left:-24px!important}.v-application .ml-lg-n7{margin-left:-28px!important}.v-application .ml-lg-n8{margin-left:-32px!important}.v-application .ml-lg-n9{margin-left:-36px!important}.v-application .ml-lg-n10{margin-left:-40px!important}.v-application .ml-lg-n11{margin-left:-44px!important}.v-application .ml-lg-n12{margin-left:-48px!important}.v-application .ml-lg-n13{margin-left:-52px!important}.v-application .ml-lg-n14{margin-left:-56px!important}.v-application .ml-lg-n15{margin-left:-60px!important}.v-application .ml-lg-n16{margin-left:-64px!important}.v-application--is-ltr .ms-lg-n1{margin-left:-4px!important}.v-application--is-rtl .ms-lg-n1{margin-right:-4px!important}.v-application--is-ltr .ms-lg-n2{margin-left:-8px!important}.v-application--is-rtl .ms-lg-n2{margin-right:-8px!important}.v-application--is-ltr .ms-lg-n3{margin-left:-12px!important}.v-application--is-rtl .ms-lg-n3{margin-right:-12px!important}.v-application--is-ltr .ms-lg-n4{margin-left:-16px!important}.v-application--is-rtl .ms-lg-n4{margin-right:-16px!important}.v-application--is-ltr .ms-lg-n5{margin-left:-20px!important}.v-application--is-rtl .ms-lg-n5{margin-right:-20px!important}.v-application--is-ltr .ms-lg-n6{margin-left:-24px!important}.v-application--is-rtl .ms-lg-n6{margin-right:-24px!important}.v-application--is-ltr .ms-lg-n7{margin-left:-28px!important}.v-application--is-rtl .ms-lg-n7{margin-right:-28px!important}.v-application--is-ltr .ms-lg-n8{margin-left:-32px!important}.v-application--is-rtl .ms-lg-n8{margin-right:-32px!important}.v-application--is-ltr .ms-lg-n9{margin-left:-36px!important}.v-application--is-rtl .ms-lg-n9{margin-right:-36px!important}.v-application--is-ltr .ms-lg-n10{margin-left:-40px!important}.v-application--is-rtl .ms-lg-n10{margin-right:-40px!important}.v-application--is-ltr .ms-lg-n11{margin-left:-44px!important}.v-application--is-rtl .ms-lg-n11{margin-right:-44px!important}.v-application--is-ltr .ms-lg-n12{margin-left:-48px!important}.v-application--is-rtl .ms-lg-n12{margin-right:-48px!important}.v-application--is-ltr .ms-lg-n13{margin-left:-52px!important}.v-application--is-rtl .ms-lg-n13{margin-right:-52px!important}.v-application--is-ltr .ms-lg-n14{margin-left:-56px!important}.v-application--is-rtl .ms-lg-n14{margin-right:-56px!important}.v-application--is-ltr .ms-lg-n15{margin-left:-60px!important}.v-application--is-rtl .ms-lg-n15{margin-right:-60px!important}.v-application--is-ltr .ms-lg-n16{margin-left:-64px!important}.v-application--is-rtl .ms-lg-n16{margin-right:-64px!important}.v-application--is-ltr .me-lg-n1{margin-right:-4px!important}.v-application--is-rtl .me-lg-n1{margin-left:-4px!important}.v-application--is-ltr .me-lg-n2{margin-right:-8px!important}.v-application--is-rtl .me-lg-n2{margin-left:-8px!important}.v-application--is-ltr .me-lg-n3{margin-right:-12px!important}.v-application--is-rtl .me-lg-n3{margin-left:-12px!important}.v-application--is-ltr .me-lg-n4{margin-right:-16px!important}.v-application--is-rtl .me-lg-n4{margin-left:-16px!important}.v-application--is-ltr .me-lg-n5{margin-right:-20px!important}.v-application--is-rtl .me-lg-n5{margin-left:-20px!important}.v-application--is-ltr .me-lg-n6{margin-right:-24px!important}.v-application--is-rtl .me-lg-n6{margin-left:-24px!important}.v-application--is-ltr .me-lg-n7{margin-right:-28px!important}.v-application--is-rtl .me-lg-n7{margin-left:-28px!important}.v-application--is-ltr .me-lg-n8{margin-right:-32px!important}.v-application--is-rtl .me-lg-n8{margin-left:-32px!important}.v-application--is-ltr .me-lg-n9{margin-right:-36px!important}.v-application--is-rtl .me-lg-n9{margin-left:-36px!important}.v-application--is-ltr .me-lg-n10{margin-right:-40px!important}.v-application--is-rtl .me-lg-n10{margin-left:-40px!important}.v-application--is-ltr .me-lg-n11{margin-right:-44px!important}.v-application--is-rtl .me-lg-n11{margin-left:-44px!important}.v-application--is-ltr .me-lg-n12{margin-right:-48px!important}.v-application--is-rtl .me-lg-n12{margin-left:-48px!important}.v-application--is-ltr .me-lg-n13{margin-right:-52px!important}.v-application--is-rtl .me-lg-n13{margin-left:-52px!important}.v-application--is-ltr .me-lg-n14{margin-right:-56px!important}.v-application--is-rtl .me-lg-n14{margin-left:-56px!important}.v-application--is-ltr .me-lg-n15{margin-right:-60px!important}.v-application--is-rtl .me-lg-n15{margin-left:-60px!important}.v-application--is-ltr .me-lg-n16{margin-right:-64px!important}.v-application--is-rtl .me-lg-n16{margin-left:-64px!important}.v-application .pa-lg-0{padding:0!important}.v-application .pa-lg-1{padding:4px!important}.v-application .pa-lg-2{padding:8px!important}.v-application .pa-lg-3{padding:12px!important}.v-application .pa-lg-4{padding:16px!important}.v-application .pa-lg-5{padding:20px!important}.v-application .pa-lg-6{padding:24px!important}.v-application .pa-lg-7{padding:28px!important}.v-application .pa-lg-8{padding:32px!important}.v-application .pa-lg-9{padding:36px!important}.v-application .pa-lg-10{padding:40px!important}.v-application .pa-lg-11{padding:44px!important}.v-application .pa-lg-12{padding:48px!important}.v-application .pa-lg-13{padding:52px!important}.v-application .pa-lg-14{padding:56px!important}.v-application .pa-lg-15{padding:60px!important}.v-application .pa-lg-16{padding:64px!important}.v-application .px-lg-0{padding-right:0!important;padding-left:0!important}.v-application .px-lg-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-lg-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-lg-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-lg-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-lg-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-lg-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-lg-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-lg-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-lg-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-lg-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-lg-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-lg-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-lg-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-lg-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-lg-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-lg-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-lg-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-lg-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-lg-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-lg-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-lg-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-lg-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-lg-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-lg-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-lg-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-lg-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-lg-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-lg-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-lg-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-lg-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-lg-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-lg-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-lg-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-lg-0{padding-top:0!important}.v-application .pt-lg-1{padding-top:4px!important}.v-application .pt-lg-2{padding-top:8px!important}.v-application .pt-lg-3{padding-top:12px!important}.v-application .pt-lg-4{padding-top:16px!important}.v-application .pt-lg-5{padding-top:20px!important}.v-application .pt-lg-6{padding-top:24px!important}.v-application .pt-lg-7{padding-top:28px!important}.v-application .pt-lg-8{padding-top:32px!important}.v-application .pt-lg-9{padding-top:36px!important}.v-application .pt-lg-10{padding-top:40px!important}.v-application .pt-lg-11{padding-top:44px!important}.v-application .pt-lg-12{padding-top:48px!important}.v-application .pt-lg-13{padding-top:52px!important}.v-application .pt-lg-14{padding-top:56px!important}.v-application .pt-lg-15{padding-top:60px!important}.v-application .pt-lg-16{padding-top:64px!important}.v-application .pr-lg-0{padding-right:0!important}.v-application .pr-lg-1{padding-right:4px!important}.v-application .pr-lg-2{padding-right:8px!important}.v-application .pr-lg-3{padding-right:12px!important}.v-application .pr-lg-4{padding-right:16px!important}.v-application .pr-lg-5{padding-right:20px!important}.v-application .pr-lg-6{padding-right:24px!important}.v-application .pr-lg-7{padding-right:28px!important}.v-application .pr-lg-8{padding-right:32px!important}.v-application .pr-lg-9{padding-right:36px!important}.v-application .pr-lg-10{padding-right:40px!important}.v-application .pr-lg-11{padding-right:44px!important}.v-application .pr-lg-12{padding-right:48px!important}.v-application .pr-lg-13{padding-right:52px!important}.v-application .pr-lg-14{padding-right:56px!important}.v-application .pr-lg-15{padding-right:60px!important}.v-application .pr-lg-16{padding-right:64px!important}.v-application .pb-lg-0{padding-bottom:0!important}.v-application .pb-lg-1{padding-bottom:4px!important}.v-application .pb-lg-2{padding-bottom:8px!important}.v-application .pb-lg-3{padding-bottom:12px!important}.v-application .pb-lg-4{padding-bottom:16px!important}.v-application .pb-lg-5{padding-bottom:20px!important}.v-application .pb-lg-6{padding-bottom:24px!important}.v-application .pb-lg-7{padding-bottom:28px!important}.v-application .pb-lg-8{padding-bottom:32px!important}.v-application .pb-lg-9{padding-bottom:36px!important}.v-application .pb-lg-10{padding-bottom:40px!important}.v-application .pb-lg-11{padding-bottom:44px!important}.v-application .pb-lg-12{padding-bottom:48px!important}.v-application .pb-lg-13{padding-bottom:52px!important}.v-application .pb-lg-14{padding-bottom:56px!important}.v-application .pb-lg-15{padding-bottom:60px!important}.v-application .pb-lg-16{padding-bottom:64px!important}.v-application .pl-lg-0{padding-left:0!important}.v-application .pl-lg-1{padding-left:4px!important}.v-application .pl-lg-2{padding-left:8px!important}.v-application .pl-lg-3{padding-left:12px!important}.v-application .pl-lg-4{padding-left:16px!important}.v-application .pl-lg-5{padding-left:20px!important}.v-application .pl-lg-6{padding-left:24px!important}.v-application .pl-lg-7{padding-left:28px!important}.v-application .pl-lg-8{padding-left:32px!important}.v-application .pl-lg-9{padding-left:36px!important}.v-application .pl-lg-10{padding-left:40px!important}.v-application .pl-lg-11{padding-left:44px!important}.v-application .pl-lg-12{padding-left:48px!important}.v-application .pl-lg-13{padding-left:52px!important}.v-application .pl-lg-14{padding-left:56px!important}.v-application .pl-lg-15{padding-left:60px!important}.v-application .pl-lg-16{padding-left:64px!important}.v-application--is-ltr .ps-lg-0{padding-left:0!important}.v-application--is-rtl .ps-lg-0{padding-right:0!important}.v-application--is-ltr .ps-lg-1{padding-left:4px!important}.v-application--is-rtl .ps-lg-1{padding-right:4px!important}.v-application--is-ltr .ps-lg-2{padding-left:8px!important}.v-application--is-rtl .ps-lg-2{padding-right:8px!important}.v-application--is-ltr .ps-lg-3{padding-left:12px!important}.v-application--is-rtl .ps-lg-3{padding-right:12px!important}.v-application--is-ltr .ps-lg-4{padding-left:16px!important}.v-application--is-rtl .ps-lg-4{padding-right:16px!important}.v-application--is-ltr .ps-lg-5{padding-left:20px!important}.v-application--is-rtl .ps-lg-5{padding-right:20px!important}.v-application--is-ltr .ps-lg-6{padding-left:24px!important}.v-application--is-rtl .ps-lg-6{padding-right:24px!important}.v-application--is-ltr .ps-lg-7{padding-left:28px!important}.v-application--is-rtl .ps-lg-7{padding-right:28px!important}.v-application--is-ltr .ps-lg-8{padding-left:32px!important}.v-application--is-rtl .ps-lg-8{padding-right:32px!important}.v-application--is-ltr .ps-lg-9{padding-left:36px!important}.v-application--is-rtl .ps-lg-9{padding-right:36px!important}.v-application--is-ltr .ps-lg-10{padding-left:40px!important}.v-application--is-rtl .ps-lg-10{padding-right:40px!important}.v-application--is-ltr .ps-lg-11{padding-left:44px!important}.v-application--is-rtl .ps-lg-11{padding-right:44px!important}.v-application--is-ltr .ps-lg-12{padding-left:48px!important}.v-application--is-rtl .ps-lg-12{padding-right:48px!important}.v-application--is-ltr .ps-lg-13{padding-left:52px!important}.v-application--is-rtl .ps-lg-13{padding-right:52px!important}.v-application--is-ltr .ps-lg-14{padding-left:56px!important}.v-application--is-rtl .ps-lg-14{padding-right:56px!important}.v-application--is-ltr .ps-lg-15{padding-left:60px!important}.v-application--is-rtl .ps-lg-15{padding-right:60px!important}.v-application--is-ltr .ps-lg-16{padding-left:64px!important}.v-application--is-rtl .ps-lg-16{padding-right:64px!important}.v-application--is-ltr .pe-lg-0{padding-right:0!important}.v-application--is-rtl .pe-lg-0{padding-left:0!important}.v-application--is-ltr .pe-lg-1{padding-right:4px!important}.v-application--is-rtl .pe-lg-1{padding-left:4px!important}.v-application--is-ltr .pe-lg-2{padding-right:8px!important}.v-application--is-rtl .pe-lg-2{padding-left:8px!important}.v-application--is-ltr .pe-lg-3{padding-right:12px!important}.v-application--is-rtl .pe-lg-3{padding-left:12px!important}.v-application--is-ltr .pe-lg-4{padding-right:16px!important}.v-application--is-rtl .pe-lg-4{padding-left:16px!important}.v-application--is-ltr .pe-lg-5{padding-right:20px!important}.v-application--is-rtl .pe-lg-5{padding-left:20px!important}.v-application--is-ltr .pe-lg-6{padding-right:24px!important}.v-application--is-rtl .pe-lg-6{padding-left:24px!important}.v-application--is-ltr .pe-lg-7{padding-right:28px!important}.v-application--is-rtl .pe-lg-7{padding-left:28px!important}.v-application--is-ltr .pe-lg-8{padding-right:32px!important}.v-application--is-rtl .pe-lg-8{padding-left:32px!important}.v-application--is-ltr .pe-lg-9{padding-right:36px!important}.v-application--is-rtl .pe-lg-9{padding-left:36px!important}.v-application--is-ltr .pe-lg-10{padding-right:40px!important}.v-application--is-rtl .pe-lg-10{padding-left:40px!important}.v-application--is-ltr .pe-lg-11{padding-right:44px!important}.v-application--is-rtl .pe-lg-11{padding-left:44px!important}.v-application--is-ltr .pe-lg-12{padding-right:48px!important}.v-application--is-rtl .pe-lg-12{padding-left:48px!important}.v-application--is-ltr .pe-lg-13{padding-right:52px!important}.v-application--is-rtl .pe-lg-13{padding-left:52px!important}.v-application--is-ltr .pe-lg-14{padding-right:56px!important}.v-application--is-rtl .pe-lg-14{padding-left:56px!important}.v-application--is-ltr .pe-lg-15{padding-right:60px!important}.v-application--is-rtl .pe-lg-15{padding-left:60px!important}.v-application--is-ltr .pe-lg-16{padding-right:64px!important}.v-application--is-rtl .pe-lg-16{padding-left:64px!important}.v-application .text-lg-left{text-align:left!important}.v-application .text-lg-right{text-align:right!important}.v-application .text-lg-center{text-align:center!important}.v-application .text-lg-justify{text-align:justify!important}[dir=ltr] .v-application .text-lg-start{text-align:left!important}[dir=ltr] .v-application .text-lg-end,[dir=rtl] .v-application .text-lg-start{text-align:right!important}[dir=rtl] .v-application .text-lg-end{text-align:left!important}.v-application .text-lg-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-lg-h1,.v-application .text-lg-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-lg-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-lg-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-lg-h3,.v-application .text-lg-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-lg-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-lg-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-lg-h5,.v-application .text-lg-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-lg-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-lg-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-lg-body-2,.v-application .text-lg-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-lg-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-lg-caption,.v-application .text-lg-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-lg-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media(min-width:1904px){.v-application .d-xl-none{display:none!important}.v-application .d-xl-inline{display:inline!important}.v-application .d-xl-inline-block{display:inline-block!important}.v-application .d-xl-block{display:block!important}.v-application .d-xl-table{display:table!important}.v-application .d-xl-table-row{display:table-row!important}.v-application .d-xl-table-cell{display:table-cell!important}.v-application .d-xl-flex{display:flex!important}.v-application .d-xl-inline-flex{display:inline-flex!important}.v-application .float-xl-none{float:none!important}.v-application .float-xl-left{float:left!important}.v-application .float-xl-right{float:right!important}.v-application--is-rtl .float-xl-end{float:left!important}.v-application--is-ltr .float-xl-end,.v-application--is-rtl .float-xl-start{float:right!important}.v-application--is-ltr .float-xl-start{float:left!important}.v-application .flex-xl-fill{flex:1 1 auto!important}.v-application .flex-xl-row{flex-direction:row!important}.v-application .flex-xl-column{flex-direction:column!important}.v-application .flex-xl-row-reverse{flex-direction:row-reverse!important}.v-application .flex-xl-column-reverse{flex-direction:column-reverse!important}.v-application .flex-xl-grow-0{flex-grow:0!important}.v-application .flex-xl-grow-1{flex-grow:1!important}.v-application .flex-xl-shrink-0{flex-shrink:0!important}.v-application .flex-xl-shrink-1{flex-shrink:1!important}.v-application .flex-xl-wrap{flex-wrap:wrap!important}.v-application .flex-xl-nowrap{flex-wrap:nowrap!important}.v-application .flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.v-application .justify-xl-start{justify-content:flex-start!important}.v-application .justify-xl-end{justify-content:flex-end!important}.v-application .justify-xl-center{justify-content:center!important}.v-application .justify-xl-space-between{justify-content:space-between!important}.v-application .justify-xl-space-around{justify-content:space-around!important}.v-application .align-xl-start{align-items:flex-start!important}.v-application .align-xl-end{align-items:flex-end!important}.v-application .align-xl-center{align-items:center!important}.v-application .align-xl-baseline{align-items:baseline!important}.v-application .align-xl-stretch{align-items:stretch!important}.v-application .align-content-xl-start{align-content:flex-start!important}.v-application .align-content-xl-end{align-content:flex-end!important}.v-application .align-content-xl-center{align-content:center!important}.v-application .align-content-xl-space-between{align-content:space-between!important}.v-application .align-content-xl-space-around{align-content:space-around!important}.v-application .align-content-xl-stretch{align-content:stretch!important}.v-application .align-self-xl-auto{align-self:auto!important}.v-application .align-self-xl-start{align-self:flex-start!important}.v-application .align-self-xl-end{align-self:flex-end!important}.v-application .align-self-xl-center{align-self:center!important}.v-application .align-self-xl-baseline{align-self:baseline!important}.v-application .align-self-xl-stretch{align-self:stretch!important}.v-application .order-xl-first{order:-1!important}.v-application .order-xl-0{order:0!important}.v-application .order-xl-1{order:1!important}.v-application .order-xl-2{order:2!important}.v-application .order-xl-3{order:3!important}.v-application .order-xl-4{order:4!important}.v-application .order-xl-5{order:5!important}.v-application .order-xl-6{order:6!important}.v-application .order-xl-7{order:7!important}.v-application .order-xl-8{order:8!important}.v-application .order-xl-9{order:9!important}.v-application .order-xl-10{order:10!important}.v-application .order-xl-11{order:11!important}.v-application .order-xl-12{order:12!important}.v-application .order-xl-last{order:13!important}.v-application .ma-xl-0{margin:0!important}.v-application .ma-xl-1{margin:4px!important}.v-application .ma-xl-2{margin:8px!important}.v-application .ma-xl-3{margin:12px!important}.v-application .ma-xl-4{margin:16px!important}.v-application .ma-xl-5{margin:20px!important}.v-application .ma-xl-6{margin:24px!important}.v-application .ma-xl-7{margin:28px!important}.v-application .ma-xl-8{margin:32px!important}.v-application .ma-xl-9{margin:36px!important}.v-application .ma-xl-10{margin:40px!important}.v-application .ma-xl-11{margin:44px!important}.v-application .ma-xl-12{margin:48px!important}.v-application .ma-xl-13{margin:52px!important}.v-application .ma-xl-14{margin:56px!important}.v-application .ma-xl-15{margin:60px!important}.v-application .ma-xl-16{margin:64px!important}.v-application .ma-xl-auto{margin:auto!important}.v-application .mx-xl-0{margin-right:0!important;margin-left:0!important}.v-application .mx-xl-1{margin-right:4px!important;margin-left:4px!important}.v-application .mx-xl-2{margin-right:8px!important;margin-left:8px!important}.v-application .mx-xl-3{margin-right:12px!important;margin-left:12px!important}.v-application .mx-xl-4{margin-right:16px!important;margin-left:16px!important}.v-application .mx-xl-5{margin-right:20px!important;margin-left:20px!important}.v-application .mx-xl-6{margin-right:24px!important;margin-left:24px!important}.v-application .mx-xl-7{margin-right:28px!important;margin-left:28px!important}.v-application .mx-xl-8{margin-right:32px!important;margin-left:32px!important}.v-application .mx-xl-9{margin-right:36px!important;margin-left:36px!important}.v-application .mx-xl-10{margin-right:40px!important;margin-left:40px!important}.v-application .mx-xl-11{margin-right:44px!important;margin-left:44px!important}.v-application .mx-xl-12{margin-right:48px!important;margin-left:48px!important}.v-application .mx-xl-13{margin-right:52px!important;margin-left:52px!important}.v-application .mx-xl-14{margin-right:56px!important;margin-left:56px!important}.v-application .mx-xl-15{margin-right:60px!important;margin-left:60px!important}.v-application .mx-xl-16{margin-right:64px!important;margin-left:64px!important}.v-application .mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.v-application .my-xl-0{margin-top:0!important;margin-bottom:0!important}.v-application .my-xl-1{margin-top:4px!important;margin-bottom:4px!important}.v-application .my-xl-2{margin-top:8px!important;margin-bottom:8px!important}.v-application .my-xl-3{margin-top:12px!important;margin-bottom:12px!important}.v-application .my-xl-4{margin-top:16px!important;margin-bottom:16px!important}.v-application .my-xl-5{margin-top:20px!important;margin-bottom:20px!important}.v-application .my-xl-6{margin-top:24px!important;margin-bottom:24px!important}.v-application .my-xl-7{margin-top:28px!important;margin-bottom:28px!important}.v-application .my-xl-8{margin-top:32px!important;margin-bottom:32px!important}.v-application .my-xl-9{margin-top:36px!important;margin-bottom:36px!important}.v-application .my-xl-10{margin-top:40px!important;margin-bottom:40px!important}.v-application .my-xl-11{margin-top:44px!important;margin-bottom:44px!important}.v-application .my-xl-12{margin-top:48px!important;margin-bottom:48px!important}.v-application .my-xl-13{margin-top:52px!important;margin-bottom:52px!important}.v-application .my-xl-14{margin-top:56px!important;margin-bottom:56px!important}.v-application .my-xl-15{margin-top:60px!important;margin-bottom:60px!important}.v-application .my-xl-16{margin-top:64px!important;margin-bottom:64px!important}.v-application .my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.v-application .mt-xl-0{margin-top:0!important}.v-application .mt-xl-1{margin-top:4px!important}.v-application .mt-xl-2{margin-top:8px!important}.v-application .mt-xl-3{margin-top:12px!important}.v-application .mt-xl-4{margin-top:16px!important}.v-application .mt-xl-5{margin-top:20px!important}.v-application .mt-xl-6{margin-top:24px!important}.v-application .mt-xl-7{margin-top:28px!important}.v-application .mt-xl-8{margin-top:32px!important}.v-application .mt-xl-9{margin-top:36px!important}.v-application .mt-xl-10{margin-top:40px!important}.v-application .mt-xl-11{margin-top:44px!important}.v-application .mt-xl-12{margin-top:48px!important}.v-application .mt-xl-13{margin-top:52px!important}.v-application .mt-xl-14{margin-top:56px!important}.v-application .mt-xl-15{margin-top:60px!important}.v-application .mt-xl-16{margin-top:64px!important}.v-application .mt-xl-auto{margin-top:auto!important}.v-application .mr-xl-0{margin-right:0!important}.v-application .mr-xl-1{margin-right:4px!important}.v-application .mr-xl-2{margin-right:8px!important}.v-application .mr-xl-3{margin-right:12px!important}.v-application .mr-xl-4{margin-right:16px!important}.v-application .mr-xl-5{margin-right:20px!important}.v-application .mr-xl-6{margin-right:24px!important}.v-application .mr-xl-7{margin-right:28px!important}.v-application .mr-xl-8{margin-right:32px!important}.v-application .mr-xl-9{margin-right:36px!important}.v-application .mr-xl-10{margin-right:40px!important}.v-application .mr-xl-11{margin-right:44px!important}.v-application .mr-xl-12{margin-right:48px!important}.v-application .mr-xl-13{margin-right:52px!important}.v-application .mr-xl-14{margin-right:56px!important}.v-application .mr-xl-15{margin-right:60px!important}.v-application .mr-xl-16{margin-right:64px!important}.v-application .mr-xl-auto{margin-right:auto!important}.v-application .mb-xl-0{margin-bottom:0!important}.v-application .mb-xl-1{margin-bottom:4px!important}.v-application .mb-xl-2{margin-bottom:8px!important}.v-application .mb-xl-3{margin-bottom:12px!important}.v-application .mb-xl-4{margin-bottom:16px!important}.v-application .mb-xl-5{margin-bottom:20px!important}.v-application .mb-xl-6{margin-bottom:24px!important}.v-application .mb-xl-7{margin-bottom:28px!important}.v-application .mb-xl-8{margin-bottom:32px!important}.v-application .mb-xl-9{margin-bottom:36px!important}.v-application .mb-xl-10{margin-bottom:40px!important}.v-application .mb-xl-11{margin-bottom:44px!important}.v-application .mb-xl-12{margin-bottom:48px!important}.v-application .mb-xl-13{margin-bottom:52px!important}.v-application .mb-xl-14{margin-bottom:56px!important}.v-application .mb-xl-15{margin-bottom:60px!important}.v-application .mb-xl-16{margin-bottom:64px!important}.v-application .mb-xl-auto{margin-bottom:auto!important}.v-application .ml-xl-0{margin-left:0!important}.v-application .ml-xl-1{margin-left:4px!important}.v-application .ml-xl-2{margin-left:8px!important}.v-application .ml-xl-3{margin-left:12px!important}.v-application .ml-xl-4{margin-left:16px!important}.v-application .ml-xl-5{margin-left:20px!important}.v-application .ml-xl-6{margin-left:24px!important}.v-application .ml-xl-7{margin-left:28px!important}.v-application .ml-xl-8{margin-left:32px!important}.v-application .ml-xl-9{margin-left:36px!important}.v-application .ml-xl-10{margin-left:40px!important}.v-application .ml-xl-11{margin-left:44px!important}.v-application .ml-xl-12{margin-left:48px!important}.v-application .ml-xl-13{margin-left:52px!important}.v-application .ml-xl-14{margin-left:56px!important}.v-application .ml-xl-15{margin-left:60px!important}.v-application .ml-xl-16{margin-left:64px!important}.v-application .ml-xl-auto{margin-left:auto!important}.v-application--is-ltr .ms-xl-0{margin-left:0!important}.v-application--is-rtl .ms-xl-0{margin-right:0!important}.v-application--is-ltr .ms-xl-1{margin-left:4px!important}.v-application--is-rtl .ms-xl-1{margin-right:4px!important}.v-application--is-ltr .ms-xl-2{margin-left:8px!important}.v-application--is-rtl .ms-xl-2{margin-right:8px!important}.v-application--is-ltr .ms-xl-3{margin-left:12px!important}.v-application--is-rtl .ms-xl-3{margin-right:12px!important}.v-application--is-ltr .ms-xl-4{margin-left:16px!important}.v-application--is-rtl .ms-xl-4{margin-right:16px!important}.v-application--is-ltr .ms-xl-5{margin-left:20px!important}.v-application--is-rtl .ms-xl-5{margin-right:20px!important}.v-application--is-ltr .ms-xl-6{margin-left:24px!important}.v-application--is-rtl .ms-xl-6{margin-right:24px!important}.v-application--is-ltr .ms-xl-7{margin-left:28px!important}.v-application--is-rtl .ms-xl-7{margin-right:28px!important}.v-application--is-ltr .ms-xl-8{margin-left:32px!important}.v-application--is-rtl .ms-xl-8{margin-right:32px!important}.v-application--is-ltr .ms-xl-9{margin-left:36px!important}.v-application--is-rtl .ms-xl-9{margin-right:36px!important}.v-application--is-ltr .ms-xl-10{margin-left:40px!important}.v-application--is-rtl .ms-xl-10{margin-right:40px!important}.v-application--is-ltr .ms-xl-11{margin-left:44px!important}.v-application--is-rtl .ms-xl-11{margin-right:44px!important}.v-application--is-ltr .ms-xl-12{margin-left:48px!important}.v-application--is-rtl .ms-xl-12{margin-right:48px!important}.v-application--is-ltr .ms-xl-13{margin-left:52px!important}.v-application--is-rtl .ms-xl-13{margin-right:52px!important}.v-application--is-ltr .ms-xl-14{margin-left:56px!important}.v-application--is-rtl .ms-xl-14{margin-right:56px!important}.v-application--is-ltr .ms-xl-15{margin-left:60px!important}.v-application--is-rtl .ms-xl-15{margin-right:60px!important}.v-application--is-ltr .ms-xl-16{margin-left:64px!important}.v-application--is-rtl .ms-xl-16{margin-right:64px!important}.v-application--is-ltr .ms-xl-auto{margin-left:auto!important}.v-application--is-rtl .ms-xl-auto{margin-right:auto!important}.v-application--is-ltr .me-xl-0{margin-right:0!important}.v-application--is-rtl .me-xl-0{margin-left:0!important}.v-application--is-ltr .me-xl-1{margin-right:4px!important}.v-application--is-rtl .me-xl-1{margin-left:4px!important}.v-application--is-ltr .me-xl-2{margin-right:8px!important}.v-application--is-rtl .me-xl-2{margin-left:8px!important}.v-application--is-ltr .me-xl-3{margin-right:12px!important}.v-application--is-rtl .me-xl-3{margin-left:12px!important}.v-application--is-ltr .me-xl-4{margin-right:16px!important}.v-application--is-rtl .me-xl-4{margin-left:16px!important}.v-application--is-ltr .me-xl-5{margin-right:20px!important}.v-application--is-rtl .me-xl-5{margin-left:20px!important}.v-application--is-ltr .me-xl-6{margin-right:24px!important}.v-application--is-rtl .me-xl-6{margin-left:24px!important}.v-application--is-ltr .me-xl-7{margin-right:28px!important}.v-application--is-rtl .me-xl-7{margin-left:28px!important}.v-application--is-ltr .me-xl-8{margin-right:32px!important}.v-application--is-rtl .me-xl-8{margin-left:32px!important}.v-application--is-ltr .me-xl-9{margin-right:36px!important}.v-application--is-rtl .me-xl-9{margin-left:36px!important}.v-application--is-ltr .me-xl-10{margin-right:40px!important}.v-application--is-rtl .me-xl-10{margin-left:40px!important}.v-application--is-ltr .me-xl-11{margin-right:44px!important}.v-application--is-rtl .me-xl-11{margin-left:44px!important}.v-application--is-ltr .me-xl-12{margin-right:48px!important}.v-application--is-rtl .me-xl-12{margin-left:48px!important}.v-application--is-ltr .me-xl-13{margin-right:52px!important}.v-application--is-rtl .me-xl-13{margin-left:52px!important}.v-application--is-ltr .me-xl-14{margin-right:56px!important}.v-application--is-rtl .me-xl-14{margin-left:56px!important}.v-application--is-ltr .me-xl-15{margin-right:60px!important}.v-application--is-rtl .me-xl-15{margin-left:60px!important}.v-application--is-ltr .me-xl-16{margin-right:64px!important}.v-application--is-rtl .me-xl-16{margin-left:64px!important}.v-application--is-ltr .me-xl-auto{margin-right:auto!important}.v-application--is-rtl .me-xl-auto{margin-left:auto!important}.v-application .ma-xl-n1{margin:-4px!important}.v-application .ma-xl-n2{margin:-8px!important}.v-application .ma-xl-n3{margin:-12px!important}.v-application .ma-xl-n4{margin:-16px!important}.v-application .ma-xl-n5{margin:-20px!important}.v-application .ma-xl-n6{margin:-24px!important}.v-application .ma-xl-n7{margin:-28px!important}.v-application .ma-xl-n8{margin:-32px!important}.v-application .ma-xl-n9{margin:-36px!important}.v-application .ma-xl-n10{margin:-40px!important}.v-application .ma-xl-n11{margin:-44px!important}.v-application .ma-xl-n12{margin:-48px!important}.v-application .ma-xl-n13{margin:-52px!important}.v-application .ma-xl-n14{margin:-56px!important}.v-application .ma-xl-n15{margin:-60px!important}.v-application .ma-xl-n16{margin:-64px!important}.v-application .mx-xl-n1{margin-right:-4px!important;margin-left:-4px!important}.v-application .mx-xl-n2{margin-right:-8px!important;margin-left:-8px!important}.v-application .mx-xl-n3{margin-right:-12px!important;margin-left:-12px!important}.v-application .mx-xl-n4{margin-right:-16px!important;margin-left:-16px!important}.v-application .mx-xl-n5{margin-right:-20px!important;margin-left:-20px!important}.v-application .mx-xl-n6{margin-right:-24px!important;margin-left:-24px!important}.v-application .mx-xl-n7{margin-right:-28px!important;margin-left:-28px!important}.v-application .mx-xl-n8{margin-right:-32px!important;margin-left:-32px!important}.v-application .mx-xl-n9{margin-right:-36px!important;margin-left:-36px!important}.v-application .mx-xl-n10{margin-right:-40px!important;margin-left:-40px!important}.v-application .mx-xl-n11{margin-right:-44px!important;margin-left:-44px!important}.v-application .mx-xl-n12{margin-right:-48px!important;margin-left:-48px!important}.v-application .mx-xl-n13{margin-right:-52px!important;margin-left:-52px!important}.v-application .mx-xl-n14{margin-right:-56px!important;margin-left:-56px!important}.v-application .mx-xl-n15{margin-right:-60px!important;margin-left:-60px!important}.v-application .mx-xl-n16{margin-right:-64px!important;margin-left:-64px!important}.v-application .my-xl-n1{margin-top:-4px!important;margin-bottom:-4px!important}.v-application .my-xl-n2{margin-top:-8px!important;margin-bottom:-8px!important}.v-application .my-xl-n3{margin-top:-12px!important;margin-bottom:-12px!important}.v-application .my-xl-n4{margin-top:-16px!important;margin-bottom:-16px!important}.v-application .my-xl-n5{margin-top:-20px!important;margin-bottom:-20px!important}.v-application .my-xl-n6{margin-top:-24px!important;margin-bottom:-24px!important}.v-application .my-xl-n7{margin-top:-28px!important;margin-bottom:-28px!important}.v-application .my-xl-n8{margin-top:-32px!important;margin-bottom:-32px!important}.v-application .my-xl-n9{margin-top:-36px!important;margin-bottom:-36px!important}.v-application .my-xl-n10{margin-top:-40px!important;margin-bottom:-40px!important}.v-application .my-xl-n11{margin-top:-44px!important;margin-bottom:-44px!important}.v-application .my-xl-n12{margin-top:-48px!important;margin-bottom:-48px!important}.v-application .my-xl-n13{margin-top:-52px!important;margin-bottom:-52px!important}.v-application .my-xl-n14{margin-top:-56px!important;margin-bottom:-56px!important}.v-application .my-xl-n15{margin-top:-60px!important;margin-bottom:-60px!important}.v-application .my-xl-n16{margin-top:-64px!important;margin-bottom:-64px!important}.v-application .mt-xl-n1{margin-top:-4px!important}.v-application .mt-xl-n2{margin-top:-8px!important}.v-application .mt-xl-n3{margin-top:-12px!important}.v-application .mt-xl-n4{margin-top:-16px!important}.v-application .mt-xl-n5{margin-top:-20px!important}.v-application .mt-xl-n6{margin-top:-24px!important}.v-application .mt-xl-n7{margin-top:-28px!important}.v-application .mt-xl-n8{margin-top:-32px!important}.v-application .mt-xl-n9{margin-top:-36px!important}.v-application .mt-xl-n10{margin-top:-40px!important}.v-application .mt-xl-n11{margin-top:-44px!important}.v-application .mt-xl-n12{margin-top:-48px!important}.v-application .mt-xl-n13{margin-top:-52px!important}.v-application .mt-xl-n14{margin-top:-56px!important}.v-application .mt-xl-n15{margin-top:-60px!important}.v-application .mt-xl-n16{margin-top:-64px!important}.v-application .mr-xl-n1{margin-right:-4px!important}.v-application .mr-xl-n2{margin-right:-8px!important}.v-application .mr-xl-n3{margin-right:-12px!important}.v-application .mr-xl-n4{margin-right:-16px!important}.v-application .mr-xl-n5{margin-right:-20px!important}.v-application .mr-xl-n6{margin-right:-24px!important}.v-application .mr-xl-n7{margin-right:-28px!important}.v-application .mr-xl-n8{margin-right:-32px!important}.v-application .mr-xl-n9{margin-right:-36px!important}.v-application .mr-xl-n10{margin-right:-40px!important}.v-application .mr-xl-n11{margin-right:-44px!important}.v-application .mr-xl-n12{margin-right:-48px!important}.v-application .mr-xl-n13{margin-right:-52px!important}.v-application .mr-xl-n14{margin-right:-56px!important}.v-application .mr-xl-n15{margin-right:-60px!important}.v-application .mr-xl-n16{margin-right:-64px!important}.v-application .mb-xl-n1{margin-bottom:-4px!important}.v-application .mb-xl-n2{margin-bottom:-8px!important}.v-application .mb-xl-n3{margin-bottom:-12px!important}.v-application .mb-xl-n4{margin-bottom:-16px!important}.v-application .mb-xl-n5{margin-bottom:-20px!important}.v-application .mb-xl-n6{margin-bottom:-24px!important}.v-application .mb-xl-n7{margin-bottom:-28px!important}.v-application .mb-xl-n8{margin-bottom:-32px!important}.v-application .mb-xl-n9{margin-bottom:-36px!important}.v-application .mb-xl-n10{margin-bottom:-40px!important}.v-application .mb-xl-n11{margin-bottom:-44px!important}.v-application .mb-xl-n12{margin-bottom:-48px!important}.v-application .mb-xl-n13{margin-bottom:-52px!important}.v-application .mb-xl-n14{margin-bottom:-56px!important}.v-application .mb-xl-n15{margin-bottom:-60px!important}.v-application .mb-xl-n16{margin-bottom:-64px!important}.v-application .ml-xl-n1{margin-left:-4px!important}.v-application .ml-xl-n2{margin-left:-8px!important}.v-application .ml-xl-n3{margin-left:-12px!important}.v-application .ml-xl-n4{margin-left:-16px!important}.v-application .ml-xl-n5{margin-left:-20px!important}.v-application .ml-xl-n6{margin-left:-24px!important}.v-application .ml-xl-n7{margin-left:-28px!important}.v-application .ml-xl-n8{margin-left:-32px!important}.v-application .ml-xl-n9{margin-left:-36px!important}.v-application .ml-xl-n10{margin-left:-40px!important}.v-application .ml-xl-n11{margin-left:-44px!important}.v-application .ml-xl-n12{margin-left:-48px!important}.v-application .ml-xl-n13{margin-left:-52px!important}.v-application .ml-xl-n14{margin-left:-56px!important}.v-application .ml-xl-n15{margin-left:-60px!important}.v-application .ml-xl-n16{margin-left:-64px!important}.v-application--is-ltr .ms-xl-n1{margin-left:-4px!important}.v-application--is-rtl .ms-xl-n1{margin-right:-4px!important}.v-application--is-ltr .ms-xl-n2{margin-left:-8px!important}.v-application--is-rtl .ms-xl-n2{margin-right:-8px!important}.v-application--is-ltr .ms-xl-n3{margin-left:-12px!important}.v-application--is-rtl .ms-xl-n3{margin-right:-12px!important}.v-application--is-ltr .ms-xl-n4{margin-left:-16px!important}.v-application--is-rtl .ms-xl-n4{margin-right:-16px!important}.v-application--is-ltr .ms-xl-n5{margin-left:-20px!important}.v-application--is-rtl .ms-xl-n5{margin-right:-20px!important}.v-application--is-ltr .ms-xl-n6{margin-left:-24px!important}.v-application--is-rtl .ms-xl-n6{margin-right:-24px!important}.v-application--is-ltr .ms-xl-n7{margin-left:-28px!important}.v-application--is-rtl .ms-xl-n7{margin-right:-28px!important}.v-application--is-ltr .ms-xl-n8{margin-left:-32px!important}.v-application--is-rtl .ms-xl-n8{margin-right:-32px!important}.v-application--is-ltr .ms-xl-n9{margin-left:-36px!important}.v-application--is-rtl .ms-xl-n9{margin-right:-36px!important}.v-application--is-ltr .ms-xl-n10{margin-left:-40px!important}.v-application--is-rtl .ms-xl-n10{margin-right:-40px!important}.v-application--is-ltr .ms-xl-n11{margin-left:-44px!important}.v-application--is-rtl .ms-xl-n11{margin-right:-44px!important}.v-application--is-ltr .ms-xl-n12{margin-left:-48px!important}.v-application--is-rtl .ms-xl-n12{margin-right:-48px!important}.v-application--is-ltr .ms-xl-n13{margin-left:-52px!important}.v-application--is-rtl .ms-xl-n13{margin-right:-52px!important}.v-application--is-ltr .ms-xl-n14{margin-left:-56px!important}.v-application--is-rtl .ms-xl-n14{margin-right:-56px!important}.v-application--is-ltr .ms-xl-n15{margin-left:-60px!important}.v-application--is-rtl .ms-xl-n15{margin-right:-60px!important}.v-application--is-ltr .ms-xl-n16{margin-left:-64px!important}.v-application--is-rtl .ms-xl-n16{margin-right:-64px!important}.v-application--is-ltr .me-xl-n1{margin-right:-4px!important}.v-application--is-rtl .me-xl-n1{margin-left:-4px!important}.v-application--is-ltr .me-xl-n2{margin-right:-8px!important}.v-application--is-rtl .me-xl-n2{margin-left:-8px!important}.v-application--is-ltr .me-xl-n3{margin-right:-12px!important}.v-application--is-rtl .me-xl-n3{margin-left:-12px!important}.v-application--is-ltr .me-xl-n4{margin-right:-16px!important}.v-application--is-rtl .me-xl-n4{margin-left:-16px!important}.v-application--is-ltr .me-xl-n5{margin-right:-20px!important}.v-application--is-rtl .me-xl-n5{margin-left:-20px!important}.v-application--is-ltr .me-xl-n6{margin-right:-24px!important}.v-application--is-rtl .me-xl-n6{margin-left:-24px!important}.v-application--is-ltr .me-xl-n7{margin-right:-28px!important}.v-application--is-rtl .me-xl-n7{margin-left:-28px!important}.v-application--is-ltr .me-xl-n8{margin-right:-32px!important}.v-application--is-rtl .me-xl-n8{margin-left:-32px!important}.v-application--is-ltr .me-xl-n9{margin-right:-36px!important}.v-application--is-rtl .me-xl-n9{margin-left:-36px!important}.v-application--is-ltr .me-xl-n10{margin-right:-40px!important}.v-application--is-rtl .me-xl-n10{margin-left:-40px!important}.v-application--is-ltr .me-xl-n11{margin-right:-44px!important}.v-application--is-rtl .me-xl-n11{margin-left:-44px!important}.v-application--is-ltr .me-xl-n12{margin-right:-48px!important}.v-application--is-rtl .me-xl-n12{margin-left:-48px!important}.v-application--is-ltr .me-xl-n13{margin-right:-52px!important}.v-application--is-rtl .me-xl-n13{margin-left:-52px!important}.v-application--is-ltr .me-xl-n14{margin-right:-56px!important}.v-application--is-rtl .me-xl-n14{margin-left:-56px!important}.v-application--is-ltr .me-xl-n15{margin-right:-60px!important}.v-application--is-rtl .me-xl-n15{margin-left:-60px!important}.v-application--is-ltr .me-xl-n16{margin-right:-64px!important}.v-application--is-rtl .me-xl-n16{margin-left:-64px!important}.v-application .pa-xl-0{padding:0!important}.v-application .pa-xl-1{padding:4px!important}.v-application .pa-xl-2{padding:8px!important}.v-application .pa-xl-3{padding:12px!important}.v-application .pa-xl-4{padding:16px!important}.v-application .pa-xl-5{padding:20px!important}.v-application .pa-xl-6{padding:24px!important}.v-application .pa-xl-7{padding:28px!important}.v-application .pa-xl-8{padding:32px!important}.v-application .pa-xl-9{padding:36px!important}.v-application .pa-xl-10{padding:40px!important}.v-application .pa-xl-11{padding:44px!important}.v-application .pa-xl-12{padding:48px!important}.v-application .pa-xl-13{padding:52px!important}.v-application .pa-xl-14{padding:56px!important}.v-application .pa-xl-15{padding:60px!important}.v-application .pa-xl-16{padding:64px!important}.v-application .px-xl-0{padding-right:0!important;padding-left:0!important}.v-application .px-xl-1{padding-right:4px!important;padding-left:4px!important}.v-application .px-xl-2{padding-right:8px!important;padding-left:8px!important}.v-application .px-xl-3{padding-right:12px!important;padding-left:12px!important}.v-application .px-xl-4{padding-right:16px!important;padding-left:16px!important}.v-application .px-xl-5{padding-right:20px!important;padding-left:20px!important}.v-application .px-xl-6{padding-right:24px!important;padding-left:24px!important}.v-application .px-xl-7{padding-right:28px!important;padding-left:28px!important}.v-application .px-xl-8{padding-right:32px!important;padding-left:32px!important}.v-application .px-xl-9{padding-right:36px!important;padding-left:36px!important}.v-application .px-xl-10{padding-right:40px!important;padding-left:40px!important}.v-application .px-xl-11{padding-right:44px!important;padding-left:44px!important}.v-application .px-xl-12{padding-right:48px!important;padding-left:48px!important}.v-application .px-xl-13{padding-right:52px!important;padding-left:52px!important}.v-application .px-xl-14{padding-right:56px!important;padding-left:56px!important}.v-application .px-xl-15{padding-right:60px!important;padding-left:60px!important}.v-application .px-xl-16{padding-right:64px!important;padding-left:64px!important}.v-application .py-xl-0{padding-top:0!important;padding-bottom:0!important}.v-application .py-xl-1{padding-top:4px!important;padding-bottom:4px!important}.v-application .py-xl-2{padding-top:8px!important;padding-bottom:8px!important}.v-application .py-xl-3{padding-top:12px!important;padding-bottom:12px!important}.v-application .py-xl-4{padding-top:16px!important;padding-bottom:16px!important}.v-application .py-xl-5{padding-top:20px!important;padding-bottom:20px!important}.v-application .py-xl-6{padding-top:24px!important;padding-bottom:24px!important}.v-application .py-xl-7{padding-top:28px!important;padding-bottom:28px!important}.v-application .py-xl-8{padding-top:32px!important;padding-bottom:32px!important}.v-application .py-xl-9{padding-top:36px!important;padding-bottom:36px!important}.v-application .py-xl-10{padding-top:40px!important;padding-bottom:40px!important}.v-application .py-xl-11{padding-top:44px!important;padding-bottom:44px!important}.v-application .py-xl-12{padding-top:48px!important;padding-bottom:48px!important}.v-application .py-xl-13{padding-top:52px!important;padding-bottom:52px!important}.v-application .py-xl-14{padding-top:56px!important;padding-bottom:56px!important}.v-application .py-xl-15{padding-top:60px!important;padding-bottom:60px!important}.v-application .py-xl-16{padding-top:64px!important;padding-bottom:64px!important}.v-application .pt-xl-0{padding-top:0!important}.v-application .pt-xl-1{padding-top:4px!important}.v-application .pt-xl-2{padding-top:8px!important}.v-application .pt-xl-3{padding-top:12px!important}.v-application .pt-xl-4{padding-top:16px!important}.v-application .pt-xl-5{padding-top:20px!important}.v-application .pt-xl-6{padding-top:24px!important}.v-application .pt-xl-7{padding-top:28px!important}.v-application .pt-xl-8{padding-top:32px!important}.v-application .pt-xl-9{padding-top:36px!important}.v-application .pt-xl-10{padding-top:40px!important}.v-application .pt-xl-11{padding-top:44px!important}.v-application .pt-xl-12{padding-top:48px!important}.v-application .pt-xl-13{padding-top:52px!important}.v-application .pt-xl-14{padding-top:56px!important}.v-application .pt-xl-15{padding-top:60px!important}.v-application .pt-xl-16{padding-top:64px!important}.v-application .pr-xl-0{padding-right:0!important}.v-application .pr-xl-1{padding-right:4px!important}.v-application .pr-xl-2{padding-right:8px!important}.v-application .pr-xl-3{padding-right:12px!important}.v-application .pr-xl-4{padding-right:16px!important}.v-application .pr-xl-5{padding-right:20px!important}.v-application .pr-xl-6{padding-right:24px!important}.v-application .pr-xl-7{padding-right:28px!important}.v-application .pr-xl-8{padding-right:32px!important}.v-application .pr-xl-9{padding-right:36px!important}.v-application .pr-xl-10{padding-right:40px!important}.v-application .pr-xl-11{padding-right:44px!important}.v-application .pr-xl-12{padding-right:48px!important}.v-application .pr-xl-13{padding-right:52px!important}.v-application .pr-xl-14{padding-right:56px!important}.v-application .pr-xl-15{padding-right:60px!important}.v-application .pr-xl-16{padding-right:64px!important}.v-application .pb-xl-0{padding-bottom:0!important}.v-application .pb-xl-1{padding-bottom:4px!important}.v-application .pb-xl-2{padding-bottom:8px!important}.v-application .pb-xl-3{padding-bottom:12px!important}.v-application .pb-xl-4{padding-bottom:16px!important}.v-application .pb-xl-5{padding-bottom:20px!important}.v-application .pb-xl-6{padding-bottom:24px!important}.v-application .pb-xl-7{padding-bottom:28px!important}.v-application .pb-xl-8{padding-bottom:32px!important}.v-application .pb-xl-9{padding-bottom:36px!important}.v-application .pb-xl-10{padding-bottom:40px!important}.v-application .pb-xl-11{padding-bottom:44px!important}.v-application .pb-xl-12{padding-bottom:48px!important}.v-application .pb-xl-13{padding-bottom:52px!important}.v-application .pb-xl-14{padding-bottom:56px!important}.v-application .pb-xl-15{padding-bottom:60px!important}.v-application .pb-xl-16{padding-bottom:64px!important}.v-application .pl-xl-0{padding-left:0!important}.v-application .pl-xl-1{padding-left:4px!important}.v-application .pl-xl-2{padding-left:8px!important}.v-application .pl-xl-3{padding-left:12px!important}.v-application .pl-xl-4{padding-left:16px!important}.v-application .pl-xl-5{padding-left:20px!important}.v-application .pl-xl-6{padding-left:24px!important}.v-application .pl-xl-7{padding-left:28px!important}.v-application .pl-xl-8{padding-left:32px!important}.v-application .pl-xl-9{padding-left:36px!important}.v-application .pl-xl-10{padding-left:40px!important}.v-application .pl-xl-11{padding-left:44px!important}.v-application .pl-xl-12{padding-left:48px!important}.v-application .pl-xl-13{padding-left:52px!important}.v-application .pl-xl-14{padding-left:56px!important}.v-application .pl-xl-15{padding-left:60px!important}.v-application .pl-xl-16{padding-left:64px!important}.v-application--is-ltr .ps-xl-0{padding-left:0!important}.v-application--is-rtl .ps-xl-0{padding-right:0!important}.v-application--is-ltr .ps-xl-1{padding-left:4px!important}.v-application--is-rtl .ps-xl-1{padding-right:4px!important}.v-application--is-ltr .ps-xl-2{padding-left:8px!important}.v-application--is-rtl .ps-xl-2{padding-right:8px!important}.v-application--is-ltr .ps-xl-3{padding-left:12px!important}.v-application--is-rtl .ps-xl-3{padding-right:12px!important}.v-application--is-ltr .ps-xl-4{padding-left:16px!important}.v-application--is-rtl .ps-xl-4{padding-right:16px!important}.v-application--is-ltr .ps-xl-5{padding-left:20px!important}.v-application--is-rtl .ps-xl-5{padding-right:20px!important}.v-application--is-ltr .ps-xl-6{padding-left:24px!important}.v-application--is-rtl .ps-xl-6{padding-right:24px!important}.v-application--is-ltr .ps-xl-7{padding-left:28px!important}.v-application--is-rtl .ps-xl-7{padding-right:28px!important}.v-application--is-ltr .ps-xl-8{padding-left:32px!important}.v-application--is-rtl .ps-xl-8{padding-right:32px!important}.v-application--is-ltr .ps-xl-9{padding-left:36px!important}.v-application--is-rtl .ps-xl-9{padding-right:36px!important}.v-application--is-ltr .ps-xl-10{padding-left:40px!important}.v-application--is-rtl .ps-xl-10{padding-right:40px!important}.v-application--is-ltr .ps-xl-11{padding-left:44px!important}.v-application--is-rtl .ps-xl-11{padding-right:44px!important}.v-application--is-ltr .ps-xl-12{padding-left:48px!important}.v-application--is-rtl .ps-xl-12{padding-right:48px!important}.v-application--is-ltr .ps-xl-13{padding-left:52px!important}.v-application--is-rtl .ps-xl-13{padding-right:52px!important}.v-application--is-ltr .ps-xl-14{padding-left:56px!important}.v-application--is-rtl .ps-xl-14{padding-right:56px!important}.v-application--is-ltr .ps-xl-15{padding-left:60px!important}.v-application--is-rtl .ps-xl-15{padding-right:60px!important}.v-application--is-ltr .ps-xl-16{padding-left:64px!important}.v-application--is-rtl .ps-xl-16{padding-right:64px!important}.v-application--is-ltr .pe-xl-0{padding-right:0!important}.v-application--is-rtl .pe-xl-0{padding-left:0!important}.v-application--is-ltr .pe-xl-1{padding-right:4px!important}.v-application--is-rtl .pe-xl-1{padding-left:4px!important}.v-application--is-ltr .pe-xl-2{padding-right:8px!important}.v-application--is-rtl .pe-xl-2{padding-left:8px!important}.v-application--is-ltr .pe-xl-3{padding-right:12px!important}.v-application--is-rtl .pe-xl-3{padding-left:12px!important}.v-application--is-ltr .pe-xl-4{padding-right:16px!important}.v-application--is-rtl .pe-xl-4{padding-left:16px!important}.v-application--is-ltr .pe-xl-5{padding-right:20px!important}.v-application--is-rtl .pe-xl-5{padding-left:20px!important}.v-application--is-ltr .pe-xl-6{padding-right:24px!important}.v-application--is-rtl .pe-xl-6{padding-left:24px!important}.v-application--is-ltr .pe-xl-7{padding-right:28px!important}.v-application--is-rtl .pe-xl-7{padding-left:28px!important}.v-application--is-ltr .pe-xl-8{padding-right:32px!important}.v-application--is-rtl .pe-xl-8{padding-left:32px!important}.v-application--is-ltr .pe-xl-9{padding-right:36px!important}.v-application--is-rtl .pe-xl-9{padding-left:36px!important}.v-application--is-ltr .pe-xl-10{padding-right:40px!important}.v-application--is-rtl .pe-xl-10{padding-left:40px!important}.v-application--is-ltr .pe-xl-11{padding-right:44px!important}.v-application--is-rtl .pe-xl-11{padding-left:44px!important}.v-application--is-ltr .pe-xl-12{padding-right:48px!important}.v-application--is-rtl .pe-xl-12{padding-left:48px!important}.v-application--is-ltr .pe-xl-13{padding-right:52px!important}.v-application--is-rtl .pe-xl-13{padding-left:52px!important}.v-application--is-ltr .pe-xl-14{padding-right:56px!important}.v-application--is-rtl .pe-xl-14{padding-left:56px!important}.v-application--is-ltr .pe-xl-15{padding-right:60px!important}.v-application--is-rtl .pe-xl-15{padding-left:60px!important}.v-application--is-ltr .pe-xl-16{padding-right:64px!important}.v-application--is-rtl .pe-xl-16{padding-left:64px!important}.v-application .text-xl-left{text-align:left!important}.v-application .text-xl-right{text-align:right!important}.v-application .text-xl-center{text-align:center!important}.v-application .text-xl-justify{text-align:justify!important}[dir=ltr] .v-application .text-xl-start{text-align:left!important}[dir=ltr] .v-application .text-xl-end,[dir=rtl] .v-application .text-xl-start{text-align:right!important}[dir=rtl] .v-application .text-xl-end{text-align:left!important}.v-application .text-xl-h1{font-size:6rem!important;line-height:6rem;letter-spacing:-.015625em!important}.v-application .text-xl-h1,.v-application .text-xl-h2{font-weight:300;font-family:"Roboto",sans-serif!important}.v-application .text-xl-h2{font-size:3.75rem!important;line-height:3.75rem;letter-spacing:-.0083333333em!important}.v-application .text-xl-h3{font-size:3rem!important;line-height:3.125rem;letter-spacing:normal!important}.v-application .text-xl-h3,.v-application .text-xl-h4{font-weight:400;font-family:"Roboto",sans-serif!important}.v-application .text-xl-h4{font-size:2.125rem!important;line-height:2.5rem;letter-spacing:.0073529412em!important}.v-application .text-xl-h5{font-size:1.5rem!important;font-weight:400;letter-spacing:normal!important}.v-application .text-xl-h5,.v-application .text-xl-h6{line-height:2rem;font-family:"Roboto",sans-serif!important}.v-application .text-xl-h6{font-size:1.25rem!important;font-weight:500;letter-spacing:.0125em!important}.v-application .text-xl-subtitle-1{font-size:1rem!important;font-weight:400;line-height:1.75rem;letter-spacing:.009375em!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-subtitle-2{font-size:.875rem!important;font-weight:500;line-height:1.375rem;letter-spacing:.0071428571em!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-body-1{font-size:1rem!important;font-weight:400;line-height:1.5rem;letter-spacing:.03125em!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-body-2{font-weight:400;line-height:1.25rem;letter-spacing:.0178571429em!important}.v-application .text-xl-body-2,.v-application .text-xl-button{font-size:.875rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-button{font-weight:500;line-height:2.25rem;letter-spacing:.0892857143em!important;text-transform:uppercase!important}.v-application .text-xl-caption{font-weight:400;line-height:1.25rem;letter-spacing:.0333333333em!important}.v-application .text-xl-caption,.v-application .text-xl-overline{font-size:.75rem!important;font-family:"Roboto",sans-serif!important}.v-application .text-xl-overline{font-weight:500;line-height:2rem;letter-spacing:.1666666667em!important;text-transform:uppercase!important}}@media print{.v-application .d-print-none{display:none!important}.v-application .d-print-inline{display:inline!important}.v-application .d-print-inline-block{display:inline-block!important}.v-application .d-print-block{display:block!important}.v-application .d-print-table{display:table!important}.v-application .d-print-table-row{display:table-row!important}.v-application .d-print-table-cell{display:table-cell!important}.v-application .d-print-flex{display:flex!important}.v-application .d-print-inline-flex{display:inline-flex!important}.v-application .float-print-none{float:none!important}.v-application .float-print-left{float:left!important}.v-application .float-print-right{float:right!important}.v-application--is-rtl .float-print-end{float:left!important}.v-application--is-ltr .float-print-end,.v-application--is-rtl .float-print-start{float:right!important}.v-application--is-ltr .float-print-start{float:left!important}}',""]),t.exports=r},,,,function(t,e,n){var content=n(347);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("1cdf85c7",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-image{color:rgba(0,0,0,.87)}.theme--dark.v-image{color:#fff}.v-image{z-index:0}.v-image__image,.v-image__placeholder{z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%}.v-image__image{background-repeat:no-repeat}.v-image__image--preload{filter:blur(2px)}.v-image__image--contain{background-size:contain}.v-image__image--cover{background-size:cover}",""]),t.exports=r},function(t,e,n){var content=n(349);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("2fba213c",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-responsive{position:relative;overflow:hidden;flex:1 0 auto;max-width:100%;display:flex}.v-responsive__content{flex:1 0 0px;max-width:100%}.v-application--is-ltr .v-responsive__sizer~.v-responsive__content{margin-left:-100%}.v-application--is-rtl .v-responsive__sizer~.v-responsive__content{margin-right:-100%}.v-responsive__sizer{transition:padding-bottom .2s cubic-bezier(.25,.8,.5,1);flex:1 0 0px}",""]),t.exports=r},function(t,e,n){var content=n(351);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("549a5500",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,'.v-btn:not(.v-btn--outlined).accent,.v-btn:not(.v-btn--outlined).error,.v-btn:not(.v-btn--outlined).info,.v-btn:not(.v-btn--outlined).primary,.v-btn:not(.v-btn--outlined).secondary,.v-btn:not(.v-btn--outlined).success,.v-btn:not(.v-btn--outlined).warning{color:#fff}.theme--light.v-btn{color:rgba(0,0,0,.87)}.theme--light.v-btn.v-btn--disabled,.theme--light.v-btn.v-btn--disabled .v-btn__loading,.theme--light.v-btn.v-btn--disabled .v-icon{color:rgba(0,0,0,.26)!important}.theme--light.v-btn.v-btn--disabled.v-btn--has-bg{background-color:rgba(0,0,0,.12)!important}.theme--light.v-btn.v-btn--has-bg{background-color:#f5f5f5}.theme--light.v-btn.v-btn--outlined.v-btn--text{border-color:rgba(0,0,0,.12)}.theme--light.v-btn.v-btn--icon{color:rgba(0,0,0,.54)}.theme--light.v-btn:hover:before{opacity:.08}.theme--light.v-btn:focus:before{opacity:.24}.theme--light.v-btn--active:before,.theme--light.v-btn--active:hover:before{opacity:.18}.theme--light.v-btn--active:focus:before{opacity:.16}.theme--dark.v-btn{color:#fff}.theme--dark.v-btn.v-btn--disabled,.theme--dark.v-btn.v-btn--disabled .v-btn__loading,.theme--dark.v-btn.v-btn--disabled .v-icon{color:hsla(0,0%,100%,.3)!important}.theme--dark.v-btn.v-btn--disabled.v-btn--has-bg{background-color:hsla(0,0%,100%,.12)!important}.theme--dark.v-btn.v-btn--has-bg{background-color:#272727}.theme--dark.v-btn.v-btn--outlined.v-btn--text{border-color:hsla(0,0%,100%,.12)}.theme--dark.v-btn.v-btn--icon{color:#fff}.theme--dark.v-btn:hover:before{opacity:.08}.theme--dark.v-btn:focus:before{opacity:.24}.theme--dark.v-btn--active:before,.theme--dark.v-btn--active:hover:before{opacity:.18}.theme--dark.v-btn--active:focus:before{opacity:.32}.v-btn{align-items:center;border-radius:4px;display:inline-flex;flex:0 0 auto;font-weight:500;letter-spacing:.0892857143em;justify-content:center;outline:0;position:relative;text-decoration:none;text-indent:.0892857143em;text-transform:uppercase;transition-duration:.28s;transition-property:box-shadow,transform,opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.v-btn.v-size--x-small{font-size:.625rem}.v-btn.v-size--small{font-size:.75rem}.v-btn.v-size--default,.v-btn.v-size--large{font-size:.875rem}.v-btn.v-size--x-large{font-size:1rem}.v-btn:before{background-color:currentColor;border-radius:inherit;bottom:0;color:inherit;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s cubic-bezier(.4,0,.6,1)}.v-btn:not(.v-btn--round).v-size--x-small{height:20px;min-width:36px;padding:0 8.8888888889px}.v-btn:not(.v-btn--round).v-size--small{height:28px;min-width:50px;padding:0 12.4444444444px}.v-btn:not(.v-btn--round).v-size--default{height:36px;min-width:64px;padding:0 16px}.v-btn:not(.v-btn--round).v-size--large{height:44px;min-width:78px;padding:0 19.5555555556px}.v-btn:not(.v-btn--round).v-size--x-large{height:52px;min-width:92px;padding:0 23.1111111111px}.v-btn>.v-btn__content .v-icon{color:inherit}.v-btn__content{align-items:center;color:inherit;display:flex;flex:1 0 auto;justify-content:inherit;line-height:normal;position:relative;transition:inherit;transition-property:opacity}.v-btn__content .v-icon.v-icon--left,.v-btn__content .v-icon.v-icon--right{font-size:18px;height:18px;width:18px}.v-application--is-ltr .v-btn__content .v-icon--left{margin-left:-4px;margin-right:8px}.v-application--is-ltr .v-btn__content .v-icon--right,.v-application--is-rtl .v-btn__content .v-icon--left{margin-left:8px;margin-right:-4px}.v-application--is-rtl .v-btn__content .v-icon--right{margin-left:-4px;margin-right:8px}.v-btn__loader{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.v-btn--absolute.v-btn--right,.v-btn--fixed.v-btn--right{right:16px}.v-btn--absolute.v-btn--left,.v-btn--fixed.v-btn--left{left:16px}.v-btn--absolute.v-btn--top,.v-btn--fixed.v-btn--top{top:16px}.v-btn--absolute.v-btn--bottom,.v-btn--fixed.v-btn--bottom{bottom:16px}.v-btn--absolute{position:absolute}.v-btn--fixed{position:fixed}.v-btn--block{display:flex;flex:1 0 auto;min-width:100%!important;max-width:auto}.v-btn--is-elevated{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.v-btn--is-elevated:after{box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}.v-btn--is-elevated:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.v-btn--is-elevated.v-btn--fab{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.v-btn--is-elevated.v-btn--fab:after{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.v-btn--is-elevated.v-btn--fab:active{box-shadow:0 7px 8px -4px rgba(0,0,0,.2),0 12px 17px 2px rgba(0,0,0,.14),0 5px 22px 4px rgba(0,0,0,.12)}.v-btn--disabled{pointer-events:none}.v-btn--fab,.v-btn--icon{min-height:0;min-width:0;padding:0}.v-btn--fab.v-size--x-small .v-icon,.v-btn--icon.v-size--x-small .v-icon{height:18px;font-size:18px;width:18px}.v-btn--fab.v-size--default .v-icon,.v-btn--fab.v-size--small .v-icon,.v-btn--icon.v-size--default .v-icon,.v-btn--icon.v-size--small .v-icon{height:24px;font-size:24px;width:24px}.v-btn--fab.v-size--large .v-icon,.v-btn--icon.v-size--large .v-icon{height:28px;font-size:28px;width:28px}.v-btn--fab.v-size--x-large .v-icon,.v-btn--icon.v-size--x-large .v-icon{height:32px;font-size:32px;width:32px}.v-btn--icon.v-size--x-small{height:20px;width:20px}.v-btn--icon.v-size--small{height:28px;width:28px}.v-btn--icon.v-size--default{height:36px;width:36px}.v-btn--icon.v-size--large{height:44px;width:44px}.v-btn--icon.v-size--x-large{height:52px;width:52px}.v-btn--fab.v-btn--absolute,.v-btn--fab.v-btn--fixed{z-index:4}.v-btn--fab.v-size--x-small{height:32px;width:32px}.v-btn--fab.v-size--x-small.v-btn--absolute.v-btn--bottom{bottom:-16px}.v-btn--fab.v-size--x-small.v-btn--absolute.v-btn--top{top:-16px}.v-btn--fab.v-size--small{height:40px;width:40px}.v-btn--fab.v-size--small.v-btn--absolute.v-btn--bottom{bottom:-20px}.v-btn--fab.v-size--small.v-btn--absolute.v-btn--top{top:-20px}.v-btn--fab.v-size--default{height:56px;width:56px}.v-btn--fab.v-size--default.v-btn--absolute.v-btn--bottom{bottom:-28px}.v-btn--fab.v-size--default.v-btn--absolute.v-btn--top{top:-28px}.v-btn--fab.v-size--large{height:64px;width:64px}.v-btn--fab.v-size--large.v-btn--absolute.v-btn--bottom{bottom:-32px}.v-btn--fab.v-size--large.v-btn--absolute.v-btn--top{top:-32px}.v-btn--fab.v-size--x-large{height:72px;width:72px}.v-btn--fab.v-size--x-large.v-btn--absolute.v-btn--bottom{bottom:-36px}.v-btn--fab.v-size--x-large.v-btn--absolute.v-btn--top{top:-36px}.v-btn--loading{pointer-events:none;transition:none}.v-btn--loading .v-btn__content{opacity:0}.v-btn--outlined{border:thin solid}.v-btn--plain:before{display:none}.v-btn--plain:not(.v-btn--active):not(.v-btn--loading):not(:focus):not(:hover) .v-btn__content{opacity:.62}.v-btn--round{border-radius:50%}.v-btn--rounded{border-radius:28px}.v-btn--tile{border-radius:0}',""]),t.exports=r},,function(t,e,n){var content=n(354);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("04604cc2",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-ripple__container{border-radius:inherit;width:100%;height:100%;z-index:0;contain:strict}.v-ripple__animation,.v-ripple__container{color:inherit;position:absolute;left:0;top:0;overflow:hidden;pointer-events:none}.v-ripple__animation{border-radius:50%;background:currentColor;opacity:0;will-change:transform,opacity}.v-ripple__animation--enter{transition:none;opacity:0}.v-ripple__animation--in{transition:transform .25s cubic-bezier(.4,0,.2,1),opacity .1s cubic-bezier(.4,0,.2,1);opacity:.25}.v-ripple__animation--out{transition:opacity .3s cubic-bezier(.4,0,.2,1);opacity:0}",""]),t.exports=r},function(t,e,n){var content=n(356);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("e003f1f8",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-progress-circular{position:relative;display:inline-flex;vertical-align:middle;justify-content:center;align-items:center}.v-progress-circular>svg{width:100%;height:100%;margin:auto;position:absolute;top:0;bottom:0;left:0;right:0;z-index:0}.v-progress-circular--indeterminate>svg{-webkit-animation:progress-circular-rotate 1.4s linear infinite;animation:progress-circular-rotate 1.4s linear infinite;transform-origin:center center;transition:all .2s ease-in-out}.v-progress-circular--indeterminate .v-progress-circular__overlay{-webkit-animation:progress-circular-dash 1.4s ease-in-out infinite;animation:progress-circular-dash 1.4s ease-in-out infinite;stroke-linecap:round;stroke-dasharray:80,200;stroke-dashoffset:0px}.v-progress-circular--indeterminate:not(.v-progress-circular--visible) .v-progress-circular__overlay,.v-progress-circular--indeterminate:not(.v-progress-circular--visible)>svg{-webkit-animation-play-state:paused!important;animation-play-state:paused!important}.v-progress-circular__info{align-items:center;display:flex;justify-content:center}.v-progress-circular__underlay{stroke:hsla(0,0%,62%,.4);z-index:1}.v-progress-circular__overlay{stroke:currentColor;z-index:2;transition:all .6s ease-in-out}@-webkit-keyframes progress-circular-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0px}50%{stroke-dasharray:100,200;stroke-dashoffset:-15px}to{stroke-dasharray:100,200;stroke-dashoffset:-124px}}@keyframes progress-circular-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0px}50%{stroke-dasharray:100,200;stroke-dashoffset:-15px}to{stroke-dasharray:100,200;stroke-dashoffset:-124px}}@-webkit-keyframes progress-circular-rotate{to{transform:rotate(1turn)}}@keyframes progress-circular-rotate{to{transform:rotate(1turn)}}",""]),t.exports=r},function(t,e,n){var content=n(358);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("6b715e77",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,'.theme--light.v-icon{color:rgba(0,0,0,.54)}.theme--light.v-icon:focus:after{opacity:.12}.theme--light.v-icon.v-icon.v-icon--disabled{color:rgba(0,0,0,.38)!important}.theme--dark.v-icon{color:#fff}.theme--dark.v-icon:focus:after{opacity:.24}.theme--dark.v-icon.v-icon.v-icon--disabled{color:hsla(0,0%,100%,.5)!important}.v-icon.v-icon{align-items:center;display:inline-flex;font-feature-settings:"liga";font-size:24px;justify-content:center;letter-spacing:normal;line-height:1;position:relative;text-indent:0;transition:.3s cubic-bezier(.25,.8,.5,1),visibility 0s;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-icon.v-icon:after{background-color:currentColor;border-radius:50%;content:"";display:inline-block;height:100%;left:0;opacity:0;pointer-events:none;position:absolute;top:0;transform:scale(1.3);width:100%;transition:opacity .2s cubic-bezier(.4,0,.6,1)}.v-icon.v-icon--dense{font-size:20px}.v-icon--right{margin-left:8px}.v-icon--left{margin-right:8px}.v-icon.v-icon.v-icon--link{cursor:pointer;outline:none}.v-icon--disabled{pointer-events:none}.v-icon--dense .v-icon__component,.v-icon--dense .v-icon__svg{height:20px}.v-icon__component,.v-icon__svg{height:24px;width:24px}.v-icon__svg{fill:currentColor}',""]),t.exports=r},function(t,e,n){var r=n(20)(!1);r.push([t.i,".container.grow-shrink-0{flex-grow:0;flex-shrink:0}.container.fill-height{align-items:center;display:flex;flex-wrap:wrap}.container.fill-height>.row{flex:1 1 100%;max-width:calc(100% + 24px)}.container.fill-height>.layout{height:100%;flex:1 1 auto}.container.fill-height>.layout.grow-shrink-0{flex-grow:0;flex-shrink:0}.container.grid-list-xs .layout .flex{padding:1px}.container.grid-list-xs .layout:only-child{margin:-1px}.container.grid-list-xs .layout:not(:only-child){margin:auto -1px}.container.grid-list-xs :not(:only-child) .layout:first-child{margin-top:-1px}.container.grid-list-xs :not(:only-child) .layout:last-child{margin-bottom:-1px}.container.grid-list-sm .layout .flex{padding:2px}.container.grid-list-sm .layout:only-child{margin:-2px}.container.grid-list-sm .layout:not(:only-child){margin:auto -2px}.container.grid-list-sm :not(:only-child) .layout:first-child{margin-top:-2px}.container.grid-list-sm :not(:only-child) .layout:last-child{margin-bottom:-2px}.container.grid-list-md .layout .flex{padding:4px}.container.grid-list-md .layout:only-child{margin:-4px}.container.grid-list-md .layout:not(:only-child){margin:auto -4px}.container.grid-list-md :not(:only-child) .layout:first-child{margin-top:-4px}.container.grid-list-md :not(:only-child) .layout:last-child{margin-bottom:-4px}.container.grid-list-lg .layout .flex{padding:8px}.container.grid-list-lg .layout:only-child{margin:-8px}.container.grid-list-lg .layout:not(:only-child){margin:auto -8px}.container.grid-list-lg :not(:only-child) .layout:first-child{margin-top:-8px}.container.grid-list-lg :not(:only-child) .layout:last-child{margin-bottom:-8px}.container.grid-list-xl .layout .flex{padding:12px}.container.grid-list-xl .layout:only-child{margin:-12px}.container.grid-list-xl .layout:not(:only-child){margin:auto -12px}.container.grid-list-xl :not(:only-child) .layout:first-child{margin-top:-12px}.container.grid-list-xl :not(:only-child) .layout:last-child{margin-bottom:-12px}.layout{display:flex;flex:1 1 auto;flex-wrap:nowrap;min-width:0}.layout.reverse{flex-direction:row-reverse}.layout.column{flex-direction:column}.layout.column.reverse{flex-direction:column-reverse}.layout.column>.flex{max-width:100%}.layout.wrap{flex-wrap:wrap}.layout.grow-shrink-0{flex-grow:0;flex-shrink:0}@media (min-width:0){.flex.xs12{flex-basis:100%;flex-grow:0;max-width:100%}.flex.order-xs12{order:12}.flex.xs11{flex-basis:91.6666666667%;flex-grow:0;max-width:91.6666666667%}.flex.order-xs11{order:11}.flex.xs10{flex-basis:83.3333333333%;flex-grow:0;max-width:83.3333333333%}.flex.order-xs10{order:10}.flex.xs9{flex-basis:75%;flex-grow:0;max-width:75%}.flex.order-xs9{order:9}.flex.xs8{flex-basis:66.6666666667%;flex-grow:0;max-width:66.6666666667%}.flex.order-xs8{order:8}.flex.xs7{flex-basis:58.3333333333%;flex-grow:0;max-width:58.3333333333%}.flex.order-xs7{order:7}.flex.xs6{flex-basis:50%;flex-grow:0;max-width:50%}.flex.order-xs6{order:6}.flex.xs5{flex-basis:41.6666666667%;flex-grow:0;max-width:41.6666666667%}.flex.order-xs5{order:5}.flex.xs4{flex-basis:33.3333333333%;flex-grow:0;max-width:33.3333333333%}.flex.order-xs4{order:4}.flex.xs3{flex-basis:25%;flex-grow:0;max-width:25%}.flex.order-xs3{order:3}.flex.xs2{flex-basis:16.6666666667%;flex-grow:0;max-width:16.6666666667%}.flex.order-xs2{order:2}.flex.xs1{flex-basis:8.3333333333%;flex-grow:0;max-width:8.3333333333%}.flex.order-xs1{order:1}.v-application--is-ltr .flex.offset-xs12{margin-left:100%}.v-application--is-rtl .flex.offset-xs12{margin-right:100%}.v-application--is-ltr .flex.offset-xs11{margin-left:91.6666666667%}.v-application--is-rtl .flex.offset-xs11{margin-right:91.6666666667%}.v-application--is-ltr .flex.offset-xs10{margin-left:83.3333333333%}.v-application--is-rtl .flex.offset-xs10{margin-right:83.3333333333%}.v-application--is-ltr .flex.offset-xs9{margin-left:75%}.v-application--is-rtl .flex.offset-xs9{margin-right:75%}.v-application--is-ltr .flex.offset-xs8{margin-left:66.6666666667%}.v-application--is-rtl .flex.offset-xs8{margin-right:66.6666666667%}.v-application--is-ltr .flex.offset-xs7{margin-left:58.3333333333%}.v-application--is-rtl .flex.offset-xs7{margin-right:58.3333333333%}.v-application--is-ltr .flex.offset-xs6{margin-left:50%}.v-application--is-rtl .flex.offset-xs6{margin-right:50%}.v-application--is-ltr .flex.offset-xs5{margin-left:41.6666666667%}.v-application--is-rtl .flex.offset-xs5{margin-right:41.6666666667%}.v-application--is-ltr .flex.offset-xs4{margin-left:33.3333333333%}.v-application--is-rtl .flex.offset-xs4{margin-right:33.3333333333%}.v-application--is-ltr .flex.offset-xs3{margin-left:25%}.v-application--is-rtl .flex.offset-xs3{margin-right:25%}.v-application--is-ltr .flex.offset-xs2{margin-left:16.6666666667%}.v-application--is-rtl .flex.offset-xs2{margin-right:16.6666666667%}.v-application--is-ltr .flex.offset-xs1{margin-left:8.3333333333%}.v-application--is-rtl .flex.offset-xs1{margin-right:8.3333333333%}.v-application--is-ltr .flex.offset-xs0{margin-left:0}.v-application--is-rtl .flex.offset-xs0{margin-right:0}}@media (min-width:600px){.flex.sm12{flex-basis:100%;flex-grow:0;max-width:100%}.flex.order-sm12{order:12}.flex.sm11{flex-basis:91.6666666667%;flex-grow:0;max-width:91.6666666667%}.flex.order-sm11{order:11}.flex.sm10{flex-basis:83.3333333333%;flex-grow:0;max-width:83.3333333333%}.flex.order-sm10{order:10}.flex.sm9{flex-basis:75%;flex-grow:0;max-width:75%}.flex.order-sm9{order:9}.flex.sm8{flex-basis:66.6666666667%;flex-grow:0;max-width:66.6666666667%}.flex.order-sm8{order:8}.flex.sm7{flex-basis:58.3333333333%;flex-grow:0;max-width:58.3333333333%}.flex.order-sm7{order:7}.flex.sm6{flex-basis:50%;flex-grow:0;max-width:50%}.flex.order-sm6{order:6}.flex.sm5{flex-basis:41.6666666667%;flex-grow:0;max-width:41.6666666667%}.flex.order-sm5{order:5}.flex.sm4{flex-basis:33.3333333333%;flex-grow:0;max-width:33.3333333333%}.flex.order-sm4{order:4}.flex.sm3{flex-basis:25%;flex-grow:0;max-width:25%}.flex.order-sm3{order:3}.flex.sm2{flex-basis:16.6666666667%;flex-grow:0;max-width:16.6666666667%}.flex.order-sm2{order:2}.flex.sm1{flex-basis:8.3333333333%;flex-grow:0;max-width:8.3333333333%}.flex.order-sm1{order:1}.v-application--is-ltr .flex.offset-sm12{margin-left:100%}.v-application--is-rtl .flex.offset-sm12{margin-right:100%}.v-application--is-ltr .flex.offset-sm11{margin-left:91.6666666667%}.v-application--is-rtl .flex.offset-sm11{margin-right:91.6666666667%}.v-application--is-ltr .flex.offset-sm10{margin-left:83.3333333333%}.v-application--is-rtl .flex.offset-sm10{margin-right:83.3333333333%}.v-application--is-ltr .flex.offset-sm9{margin-left:75%}.v-application--is-rtl .flex.offset-sm9{margin-right:75%}.v-application--is-ltr .flex.offset-sm8{margin-left:66.6666666667%}.v-application--is-rtl .flex.offset-sm8{margin-right:66.6666666667%}.v-application--is-ltr .flex.offset-sm7{margin-left:58.3333333333%}.v-application--is-rtl .flex.offset-sm7{margin-right:58.3333333333%}.v-application--is-ltr .flex.offset-sm6{margin-left:50%}.v-application--is-rtl .flex.offset-sm6{margin-right:50%}.v-application--is-ltr .flex.offset-sm5{margin-left:41.6666666667%}.v-application--is-rtl .flex.offset-sm5{margin-right:41.6666666667%}.v-application--is-ltr .flex.offset-sm4{margin-left:33.3333333333%}.v-application--is-rtl .flex.offset-sm4{margin-right:33.3333333333%}.v-application--is-ltr .flex.offset-sm3{margin-left:25%}.v-application--is-rtl .flex.offset-sm3{margin-right:25%}.v-application--is-ltr .flex.offset-sm2{margin-left:16.6666666667%}.v-application--is-rtl .flex.offset-sm2{margin-right:16.6666666667%}.v-application--is-ltr .flex.offset-sm1{margin-left:8.3333333333%}.v-application--is-rtl .flex.offset-sm1{margin-right:8.3333333333%}.v-application--is-ltr .flex.offset-sm0{margin-left:0}.v-application--is-rtl .flex.offset-sm0{margin-right:0}}@media (min-width:960px){.flex.md12{flex-basis:100%;flex-grow:0;max-width:100%}.flex.order-md12{order:12}.flex.md11{flex-basis:91.6666666667%;flex-grow:0;max-width:91.6666666667%}.flex.order-md11{order:11}.flex.md10{flex-basis:83.3333333333%;flex-grow:0;max-width:83.3333333333%}.flex.order-md10{order:10}.flex.md9{flex-basis:75%;flex-grow:0;max-width:75%}.flex.order-md9{order:9}.flex.md8{flex-basis:66.6666666667%;flex-grow:0;max-width:66.6666666667%}.flex.order-md8{order:8}.flex.md7{flex-basis:58.3333333333%;flex-grow:0;max-width:58.3333333333%}.flex.order-md7{order:7}.flex.md6{flex-basis:50%;flex-grow:0;max-width:50%}.flex.order-md6{order:6}.flex.md5{flex-basis:41.6666666667%;flex-grow:0;max-width:41.6666666667%}.flex.order-md5{order:5}.flex.md4{flex-basis:33.3333333333%;flex-grow:0;max-width:33.3333333333%}.flex.order-md4{order:4}.flex.md3{flex-basis:25%;flex-grow:0;max-width:25%}.flex.order-md3{order:3}.flex.md2{flex-basis:16.6666666667%;flex-grow:0;max-width:16.6666666667%}.flex.order-md2{order:2}.flex.md1{flex-basis:8.3333333333%;flex-grow:0;max-width:8.3333333333%}.flex.order-md1{order:1}.v-application--is-ltr .flex.offset-md12{margin-left:100%}.v-application--is-rtl .flex.offset-md12{margin-right:100%}.v-application--is-ltr .flex.offset-md11{margin-left:91.6666666667%}.v-application--is-rtl .flex.offset-md11{margin-right:91.6666666667%}.v-application--is-ltr .flex.offset-md10{margin-left:83.3333333333%}.v-application--is-rtl .flex.offset-md10{margin-right:83.3333333333%}.v-application--is-ltr .flex.offset-md9{margin-left:75%}.v-application--is-rtl .flex.offset-md9{margin-right:75%}.v-application--is-ltr .flex.offset-md8{margin-left:66.6666666667%}.v-application--is-rtl .flex.offset-md8{margin-right:66.6666666667%}.v-application--is-ltr .flex.offset-md7{margin-left:58.3333333333%}.v-application--is-rtl .flex.offset-md7{margin-right:58.3333333333%}.v-application--is-ltr .flex.offset-md6{margin-left:50%}.v-application--is-rtl .flex.offset-md6{margin-right:50%}.v-application--is-ltr .flex.offset-md5{margin-left:41.6666666667%}.v-application--is-rtl .flex.offset-md5{margin-right:41.6666666667%}.v-application--is-ltr .flex.offset-md4{margin-left:33.3333333333%}.v-application--is-rtl .flex.offset-md4{margin-right:33.3333333333%}.v-application--is-ltr .flex.offset-md3{margin-left:25%}.v-application--is-rtl .flex.offset-md3{margin-right:25%}.v-application--is-ltr .flex.offset-md2{margin-left:16.6666666667%}.v-application--is-rtl .flex.offset-md2{margin-right:16.6666666667%}.v-application--is-ltr .flex.offset-md1{margin-left:8.3333333333%}.v-application--is-rtl .flex.offset-md1{margin-right:8.3333333333%}.v-application--is-ltr .flex.offset-md0{margin-left:0}.v-application--is-rtl .flex.offset-md0{margin-right:0}}@media (min-width:1264px){.flex.lg12{flex-basis:100%;flex-grow:0;max-width:100%}.flex.order-lg12{order:12}.flex.lg11{flex-basis:91.6666666667%;flex-grow:0;max-width:91.6666666667%}.flex.order-lg11{order:11}.flex.lg10{flex-basis:83.3333333333%;flex-grow:0;max-width:83.3333333333%}.flex.order-lg10{order:10}.flex.lg9{flex-basis:75%;flex-grow:0;max-width:75%}.flex.order-lg9{order:9}.flex.lg8{flex-basis:66.6666666667%;flex-grow:0;max-width:66.6666666667%}.flex.order-lg8{order:8}.flex.lg7{flex-basis:58.3333333333%;flex-grow:0;max-width:58.3333333333%}.flex.order-lg7{order:7}.flex.lg6{flex-basis:50%;flex-grow:0;max-width:50%}.flex.order-lg6{order:6}.flex.lg5{flex-basis:41.6666666667%;flex-grow:0;max-width:41.6666666667%}.flex.order-lg5{order:5}.flex.lg4{flex-basis:33.3333333333%;flex-grow:0;max-width:33.3333333333%}.flex.order-lg4{order:4}.flex.lg3{flex-basis:25%;flex-grow:0;max-width:25%}.flex.order-lg3{order:3}.flex.lg2{flex-basis:16.6666666667%;flex-grow:0;max-width:16.6666666667%}.flex.order-lg2{order:2}.flex.lg1{flex-basis:8.3333333333%;flex-grow:0;max-width:8.3333333333%}.flex.order-lg1{order:1}.v-application--is-ltr .flex.offset-lg12{margin-left:100%}.v-application--is-rtl .flex.offset-lg12{margin-right:100%}.v-application--is-ltr .flex.offset-lg11{margin-left:91.6666666667%}.v-application--is-rtl .flex.offset-lg11{margin-right:91.6666666667%}.v-application--is-ltr .flex.offset-lg10{margin-left:83.3333333333%}.v-application--is-rtl .flex.offset-lg10{margin-right:83.3333333333%}.v-application--is-ltr .flex.offset-lg9{margin-left:75%}.v-application--is-rtl .flex.offset-lg9{margin-right:75%}.v-application--is-ltr .flex.offset-lg8{margin-left:66.6666666667%}.v-application--is-rtl .flex.offset-lg8{margin-right:66.6666666667%}.v-application--is-ltr .flex.offset-lg7{margin-left:58.3333333333%}.v-application--is-rtl .flex.offset-lg7{margin-right:58.3333333333%}.v-application--is-ltr .flex.offset-lg6{margin-left:50%}.v-application--is-rtl .flex.offset-lg6{margin-right:50%}.v-application--is-ltr .flex.offset-lg5{margin-left:41.6666666667%}.v-application--is-rtl .flex.offset-lg5{margin-right:41.6666666667%}.v-application--is-ltr .flex.offset-lg4{margin-left:33.3333333333%}.v-application--is-rtl .flex.offset-lg4{margin-right:33.3333333333%}.v-application--is-ltr .flex.offset-lg3{margin-left:25%}.v-application--is-rtl .flex.offset-lg3{margin-right:25%}.v-application--is-ltr .flex.offset-lg2{margin-left:16.6666666667%}.v-application--is-rtl .flex.offset-lg2{margin-right:16.6666666667%}.v-application--is-ltr .flex.offset-lg1{margin-left:8.3333333333%}.v-application--is-rtl .flex.offset-lg1{margin-right:8.3333333333%}.v-application--is-ltr .flex.offset-lg0{margin-left:0}.v-application--is-rtl .flex.offset-lg0{margin-right:0}}@media (min-width:1904px){.flex.xl12{flex-basis:100%;flex-grow:0;max-width:100%}.flex.order-xl12{order:12}.flex.xl11{flex-basis:91.6666666667%;flex-grow:0;max-width:91.6666666667%}.flex.order-xl11{order:11}.flex.xl10{flex-basis:83.3333333333%;flex-grow:0;max-width:83.3333333333%}.flex.order-xl10{order:10}.flex.xl9{flex-basis:75%;flex-grow:0;max-width:75%}.flex.order-xl9{order:9}.flex.xl8{flex-basis:66.6666666667%;flex-grow:0;max-width:66.6666666667%}.flex.order-xl8{order:8}.flex.xl7{flex-basis:58.3333333333%;flex-grow:0;max-width:58.3333333333%}.flex.order-xl7{order:7}.flex.xl6{flex-basis:50%;flex-grow:0;max-width:50%}.flex.order-xl6{order:6}.flex.xl5{flex-basis:41.6666666667%;flex-grow:0;max-width:41.6666666667%}.flex.order-xl5{order:5}.flex.xl4{flex-basis:33.3333333333%;flex-grow:0;max-width:33.3333333333%}.flex.order-xl4{order:4}.flex.xl3{flex-basis:25%;flex-grow:0;max-width:25%}.flex.order-xl3{order:3}.flex.xl2{flex-basis:16.6666666667%;flex-grow:0;max-width:16.6666666667%}.flex.order-xl2{order:2}.flex.xl1{flex-basis:8.3333333333%;flex-grow:0;max-width:8.3333333333%}.flex.order-xl1{order:1}.v-application--is-ltr .flex.offset-xl12{margin-left:100%}.v-application--is-rtl .flex.offset-xl12{margin-right:100%}.v-application--is-ltr .flex.offset-xl11{margin-left:91.6666666667%}.v-application--is-rtl .flex.offset-xl11{margin-right:91.6666666667%}.v-application--is-ltr .flex.offset-xl10{margin-left:83.3333333333%}.v-application--is-rtl .flex.offset-xl10{margin-right:83.3333333333%}.v-application--is-ltr .flex.offset-xl9{margin-left:75%}.v-application--is-rtl .flex.offset-xl9{margin-right:75%}.v-application--is-ltr .flex.offset-xl8{margin-left:66.6666666667%}.v-application--is-rtl .flex.offset-xl8{margin-right:66.6666666667%}.v-application--is-ltr .flex.offset-xl7{margin-left:58.3333333333%}.v-application--is-rtl .flex.offset-xl7{margin-right:58.3333333333%}.v-application--is-ltr .flex.offset-xl6{margin-left:50%}.v-application--is-rtl .flex.offset-xl6{margin-right:50%}.v-application--is-ltr .flex.offset-xl5{margin-left:41.6666666667%}.v-application--is-rtl .flex.offset-xl5{margin-right:41.6666666667%}.v-application--is-ltr .flex.offset-xl4{margin-left:33.3333333333%}.v-application--is-rtl .flex.offset-xl4{margin-right:33.3333333333%}.v-application--is-ltr .flex.offset-xl3{margin-left:25%}.v-application--is-rtl .flex.offset-xl3{margin-right:25%}.v-application--is-ltr .flex.offset-xl2{margin-left:16.6666666667%}.v-application--is-rtl .flex.offset-xl2{margin-right:16.6666666667%}.v-application--is-ltr .flex.offset-xl1{margin-left:8.3333333333%}.v-application--is-rtl .flex.offset-xl1{margin-right:8.3333333333%}.v-application--is-ltr .flex.offset-xl0{margin-left:0}.v-application--is-rtl .flex.offset-xl0{margin-right:0}}.child-flex>*,.flex{flex:1 1 auto;max-width:100%}.child-flex>.grow-shrink-0,.flex.grow-shrink-0{flex-grow:0;flex-shrink:0}.grow,.spacer{flex-grow:1!important}.grow{flex-shrink:0!important}.shrink{flex-grow:0!important;flex-shrink:1!important}.fill-height{height:100%}",""]),t.exports=r},function(t,e,n){var r=n(20)(!1);r.push([t.i,".container{width:100%;padding:12px;margin-right:auto;margin-left:auto}@media(min-width:960px){.container{max-width:900px}}@media(min-width:1264px){.container{max-width:1185px}}@media(min-width:1904px){.container{max-width:1785px}}.container--fluid{max-width:100%}.row{display:flex;flex-wrap:wrap;flex:1 1 auto;margin:-12px}.row+.row{margin-top:12px}.row+.row--dense{margin-top:4px}.row--dense{margin:-4px}.row--dense>.col,.row--dense>[class*=col-]{padding:4px}.row.no-gutters{margin:0}.row.no-gutters>.col,.row.no-gutters>[class*=col-]{padding:0}.col,.col-1,.col-2,.col-3,.col-4,.col-5,.col-6,.col-7,.col-8,.col-9,.col-10,.col-11,.col-12,.col-auto,.col-lg,.col-lg-1,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-auto,.col-md,.col-md-1,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-10,.col-md-11,.col-md-12,.col-md-auto,.col-sm,.col-sm-1,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-auto,.col-xl,.col-xl-1,.col-xl-2,.col-xl-3,.col-xl-4,.col-xl-5,.col-xl-6,.col-xl-7,.col-xl-8,.col-xl-9,.col-xl-10,.col-xl-11,.col-xl-12,.col-xl-auto{width:100%;padding:12px}.col{flex-basis:0;flex-grow:1;max-width:100%}.col-auto{flex:0 0 auto;width:auto;max-width:100%}.col-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-3{flex:0 0 25%;max-width:25%}.col-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-6{flex:0 0 50%;max-width:50%}.col-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-9{flex:0 0 75%;max-width:75%}.col-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-12{flex:0 0 100%;max-width:100%}.v-application--is-ltr .offset-1{margin-left:8.3333333333%}.v-application--is-rtl .offset-1{margin-right:8.3333333333%}.v-application--is-ltr .offset-2{margin-left:16.6666666667%}.v-application--is-rtl .offset-2{margin-right:16.6666666667%}.v-application--is-ltr .offset-3{margin-left:25%}.v-application--is-rtl .offset-3{margin-right:25%}.v-application--is-ltr .offset-4{margin-left:33.3333333333%}.v-application--is-rtl .offset-4{margin-right:33.3333333333%}.v-application--is-ltr .offset-5{margin-left:41.6666666667%}.v-application--is-rtl .offset-5{margin-right:41.6666666667%}.v-application--is-ltr .offset-6{margin-left:50%}.v-application--is-rtl .offset-6{margin-right:50%}.v-application--is-ltr .offset-7{margin-left:58.3333333333%}.v-application--is-rtl .offset-7{margin-right:58.3333333333%}.v-application--is-ltr .offset-8{margin-left:66.6666666667%}.v-application--is-rtl .offset-8{margin-right:66.6666666667%}.v-application--is-ltr .offset-9{margin-left:75%}.v-application--is-rtl .offset-9{margin-right:75%}.v-application--is-ltr .offset-10{margin-left:83.3333333333%}.v-application--is-rtl .offset-10{margin-right:83.3333333333%}.v-application--is-ltr .offset-11{margin-left:91.6666666667%}.v-application--is-rtl .offset-11{margin-right:91.6666666667%}@media(min-width:600px){.col-sm{flex-basis:0;flex-grow:1;max-width:100%}.col-sm-auto{flex:0 0 auto;width:auto;max-width:100%}.col-sm-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-sm-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-sm-3{flex:0 0 25%;max-width:25%}.col-sm-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-sm-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-sm-6{flex:0 0 50%;max-width:50%}.col-sm-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-sm-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-sm-9{flex:0 0 75%;max-width:75%}.col-sm-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-sm-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-sm-12{flex:0 0 100%;max-width:100%}.v-application--is-ltr .offset-sm-0{margin-left:0}.v-application--is-rtl .offset-sm-0{margin-right:0}.v-application--is-ltr .offset-sm-1{margin-left:8.3333333333%}.v-application--is-rtl .offset-sm-1{margin-right:8.3333333333%}.v-application--is-ltr .offset-sm-2{margin-left:16.6666666667%}.v-application--is-rtl .offset-sm-2{margin-right:16.6666666667%}.v-application--is-ltr .offset-sm-3{margin-left:25%}.v-application--is-rtl .offset-sm-3{margin-right:25%}.v-application--is-ltr .offset-sm-4{margin-left:33.3333333333%}.v-application--is-rtl .offset-sm-4{margin-right:33.3333333333%}.v-application--is-ltr .offset-sm-5{margin-left:41.6666666667%}.v-application--is-rtl .offset-sm-5{margin-right:41.6666666667%}.v-application--is-ltr .offset-sm-6{margin-left:50%}.v-application--is-rtl .offset-sm-6{margin-right:50%}.v-application--is-ltr .offset-sm-7{margin-left:58.3333333333%}.v-application--is-rtl .offset-sm-7{margin-right:58.3333333333%}.v-application--is-ltr .offset-sm-8{margin-left:66.6666666667%}.v-application--is-rtl .offset-sm-8{margin-right:66.6666666667%}.v-application--is-ltr .offset-sm-9{margin-left:75%}.v-application--is-rtl .offset-sm-9{margin-right:75%}.v-application--is-ltr .offset-sm-10{margin-left:83.3333333333%}.v-application--is-rtl .offset-sm-10{margin-right:83.3333333333%}.v-application--is-ltr .offset-sm-11{margin-left:91.6666666667%}.v-application--is-rtl .offset-sm-11{margin-right:91.6666666667%}}@media(min-width:960px){.col-md{flex-basis:0;flex-grow:1;max-width:100%}.col-md-auto{flex:0 0 auto;width:auto;max-width:100%}.col-md-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-md-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-md-3{flex:0 0 25%;max-width:25%}.col-md-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-md-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-md-6{flex:0 0 50%;max-width:50%}.col-md-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-md-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-md-9{flex:0 0 75%;max-width:75%}.col-md-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-md-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-md-12{flex:0 0 100%;max-width:100%}.v-application--is-ltr .offset-md-0{margin-left:0}.v-application--is-rtl .offset-md-0{margin-right:0}.v-application--is-ltr .offset-md-1{margin-left:8.3333333333%}.v-application--is-rtl .offset-md-1{margin-right:8.3333333333%}.v-application--is-ltr .offset-md-2{margin-left:16.6666666667%}.v-application--is-rtl .offset-md-2{margin-right:16.6666666667%}.v-application--is-ltr .offset-md-3{margin-left:25%}.v-application--is-rtl .offset-md-3{margin-right:25%}.v-application--is-ltr .offset-md-4{margin-left:33.3333333333%}.v-application--is-rtl .offset-md-4{margin-right:33.3333333333%}.v-application--is-ltr .offset-md-5{margin-left:41.6666666667%}.v-application--is-rtl .offset-md-5{margin-right:41.6666666667%}.v-application--is-ltr .offset-md-6{margin-left:50%}.v-application--is-rtl .offset-md-6{margin-right:50%}.v-application--is-ltr .offset-md-7{margin-left:58.3333333333%}.v-application--is-rtl .offset-md-7{margin-right:58.3333333333%}.v-application--is-ltr .offset-md-8{margin-left:66.6666666667%}.v-application--is-rtl .offset-md-8{margin-right:66.6666666667%}.v-application--is-ltr .offset-md-9{margin-left:75%}.v-application--is-rtl .offset-md-9{margin-right:75%}.v-application--is-ltr .offset-md-10{margin-left:83.3333333333%}.v-application--is-rtl .offset-md-10{margin-right:83.3333333333%}.v-application--is-ltr .offset-md-11{margin-left:91.6666666667%}.v-application--is-rtl .offset-md-11{margin-right:91.6666666667%}}@media(min-width:1264px){.col-lg{flex-basis:0;flex-grow:1;max-width:100%}.col-lg-auto{flex:0 0 auto;width:auto;max-width:100%}.col-lg-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-lg-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-lg-3{flex:0 0 25%;max-width:25%}.col-lg-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-lg-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-lg-6{flex:0 0 50%;max-width:50%}.col-lg-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-lg-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-lg-9{flex:0 0 75%;max-width:75%}.col-lg-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-lg-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-lg-12{flex:0 0 100%;max-width:100%}.v-application--is-ltr .offset-lg-0{margin-left:0}.v-application--is-rtl .offset-lg-0{margin-right:0}.v-application--is-ltr .offset-lg-1{margin-left:8.3333333333%}.v-application--is-rtl .offset-lg-1{margin-right:8.3333333333%}.v-application--is-ltr .offset-lg-2{margin-left:16.6666666667%}.v-application--is-rtl .offset-lg-2{margin-right:16.6666666667%}.v-application--is-ltr .offset-lg-3{margin-left:25%}.v-application--is-rtl .offset-lg-3{margin-right:25%}.v-application--is-ltr .offset-lg-4{margin-left:33.3333333333%}.v-application--is-rtl .offset-lg-4{margin-right:33.3333333333%}.v-application--is-ltr .offset-lg-5{margin-left:41.6666666667%}.v-application--is-rtl .offset-lg-5{margin-right:41.6666666667%}.v-application--is-ltr .offset-lg-6{margin-left:50%}.v-application--is-rtl .offset-lg-6{margin-right:50%}.v-application--is-ltr .offset-lg-7{margin-left:58.3333333333%}.v-application--is-rtl .offset-lg-7{margin-right:58.3333333333%}.v-application--is-ltr .offset-lg-8{margin-left:66.6666666667%}.v-application--is-rtl .offset-lg-8{margin-right:66.6666666667%}.v-application--is-ltr .offset-lg-9{margin-left:75%}.v-application--is-rtl .offset-lg-9{margin-right:75%}.v-application--is-ltr .offset-lg-10{margin-left:83.3333333333%}.v-application--is-rtl .offset-lg-10{margin-right:83.3333333333%}.v-application--is-ltr .offset-lg-11{margin-left:91.6666666667%}.v-application--is-rtl .offset-lg-11{margin-right:91.6666666667%}}@media(min-width:1904px){.col-xl{flex-basis:0;flex-grow:1;max-width:100%}.col-xl-auto{flex:0 0 auto;width:auto;max-width:100%}.col-xl-1{flex:0 0 8.3333333333%;max-width:8.3333333333%}.col-xl-2{flex:0 0 16.6666666667%;max-width:16.6666666667%}.col-xl-3{flex:0 0 25%;max-width:25%}.col-xl-4{flex:0 0 33.3333333333%;max-width:33.3333333333%}.col-xl-5{flex:0 0 41.6666666667%;max-width:41.6666666667%}.col-xl-6{flex:0 0 50%;max-width:50%}.col-xl-7{flex:0 0 58.3333333333%;max-width:58.3333333333%}.col-xl-8{flex:0 0 66.6666666667%;max-width:66.6666666667%}.col-xl-9{flex:0 0 75%;max-width:75%}.col-xl-10{flex:0 0 83.3333333333%;max-width:83.3333333333%}.col-xl-11{flex:0 0 91.6666666667%;max-width:91.6666666667%}.col-xl-12{flex:0 0 100%;max-width:100%}.v-application--is-ltr .offset-xl-0{margin-left:0}.v-application--is-rtl .offset-xl-0{margin-right:0}.v-application--is-ltr .offset-xl-1{margin-left:8.3333333333%}.v-application--is-rtl .offset-xl-1{margin-right:8.3333333333%}.v-application--is-ltr .offset-xl-2{margin-left:16.6666666667%}.v-application--is-rtl .offset-xl-2{margin-right:16.6666666667%}.v-application--is-ltr .offset-xl-3{margin-left:25%}.v-application--is-rtl .offset-xl-3{margin-right:25%}.v-application--is-ltr .offset-xl-4{margin-left:33.3333333333%}.v-application--is-rtl .offset-xl-4{margin-right:33.3333333333%}.v-application--is-ltr .offset-xl-5{margin-left:41.6666666667%}.v-application--is-rtl .offset-xl-5{margin-right:41.6666666667%}.v-application--is-ltr .offset-xl-6{margin-left:50%}.v-application--is-rtl .offset-xl-6{margin-right:50%}.v-application--is-ltr .offset-xl-7{margin-left:58.3333333333%}.v-application--is-rtl .offset-xl-7{margin-right:58.3333333333%}.v-application--is-ltr .offset-xl-8{margin-left:66.6666666667%}.v-application--is-rtl .offset-xl-8{margin-right:66.6666666667%}.v-application--is-ltr .offset-xl-9{margin-left:75%}.v-application--is-rtl .offset-xl-9{margin-right:75%}.v-application--is-ltr .offset-xl-10{margin-left:83.3333333333%}.v-application--is-rtl .offset-xl-10{margin-right:83.3333333333%}.v-application--is-ltr .offset-xl-11{margin-left:91.6666666667%}.v-application--is-rtl .offset-xl-11{margin-right:91.6666666667%}}",""]),t.exports=r},function(t,e,n){var content=n(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("bb35a8d6",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-footer{background-color:#f5f5f5;color:rgba(0,0,0,.87)}.theme--dark.v-footer{background-color:#272727;color:#fff}.v-sheet.v-footer{border-radius:0}.v-sheet.v-footer:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-footer.v-sheet--shaped{border-radius:24px 0}.v-footer{align-items:center;display:flex;flex:0 1 auto!important;flex-wrap:wrap;padding:6px 16px;position:relative;transition-duration:.2s;transition-property:background-color,left,right;transition-timing-function:cubic-bezier(.4,0,.2,1)}.v-footer:not([data-booted=true]){transition:none!important}.v-footer--absolute,.v-footer--fixed{z-index:3}.v-footer--absolute{position:absolute}.v-footer--absolute:not(.v-footer--inset){width:100%}.v-footer--fixed{position:fixed}.v-footer--padless{padding:0}",""]),t.exports=r},function(t,e,n){var content=n(364);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("cdf93b5c",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-list.accent>.v-list-item,.v-list.error>.v-list-item,.v-list.info>.v-list-item,.v-list.primary>.v-list-item,.v-list.secondary>.v-list-item,.v-list.success>.v-list-item,.v-list.warning>.v-list-item{color:#fff}.theme--light.v-list{background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-list .v-list--disabled{color:rgba(0,0,0,.38)}.theme--light.v-list .v-list-group--active:after,.theme--light.v-list .v-list-group--active:before{background:rgba(0,0,0,.12)}.theme--dark.v-list{background:#1e1e1e;color:#fff}.theme--dark.v-list .v-list--disabled{color:hsla(0,0%,100%,.5)}.theme--dark.v-list .v-list-group--active:after,.theme--dark.v-list .v-list-group--active:before{background:hsla(0,0%,100%,.12)}.v-sheet.v-list{border-radius:0}.v-sheet.v-list:not(.v-sheet--outlined){box-shadow:0 0 0 0 rgba(0,0,0,.2),0 0 0 0 rgba(0,0,0,.14),0 0 0 0 rgba(0,0,0,.12)}.v-sheet.v-list.v-sheet--shaped{border-radius:0}.v-list{display:block;padding:8px 0;position:static;transition:box-shadow .28s cubic-bezier(.4,0,.2,1)}.v-list--disabled{pointer-events:none}.v-list--flat .v-list-item:before{display:none}.v-list--dense .v-subheader{font-size:.75rem;height:40px;padding:0 8px}.v-list--nav .v-list-item:not(:last-child):not(:only-child),.v-list--rounded .v-list-item:not(:last-child):not(:only-child){margin-bottom:8px}.v-list--nav.v-list--dense .v-list-item:not(:last-child):not(:only-child),.v-list--nav .v-list-item--dense:not(:last-child):not(:only-child),.v-list--rounded.v-list--dense .v-list-item:not(:last-child):not(:only-child),.v-list--rounded .v-list-item--dense:not(:last-child):not(:only-child){margin-bottom:4px}.v-list--nav{padding-left:8px;padding-right:8px}.v-list--nav .v-list-item{padding:0 8px}.v-list--nav .v-list-item,.v-list--nav .v-list-item:before{border-radius:4px}.v-application--is-ltr .v-list.v-sheet--shaped .v-list-item,.v-application--is-ltr .v-list.v-sheet--shaped .v-list-item:before,.v-application--is-ltr .v-list.v-sheet--shaped .v-list-item>.v-ripple__container{border-bottom-right-radius:32px!important;border-top-right-radius:32px!important}.v-application--is-rtl .v-list.v-sheet--shaped .v-list-item,.v-application--is-rtl .v-list.v-sheet--shaped .v-list-item:before,.v-application--is-rtl .v-list.v-sheet--shaped .v-list-item>.v-ripple__container{border-bottom-left-radius:32px!important;border-top-left-radius:32px!important}.v-application--is-ltr .v-list.v-sheet--shaped.v-list--two-line .v-list-item,.v-application--is-ltr .v-list.v-sheet--shaped.v-list--two-line .v-list-item:before,.v-application--is-ltr .v-list.v-sheet--shaped.v-list--two-line .v-list-item>.v-ripple__container{border-bottom-right-radius:42.6666666667px!important;border-top-right-radius:42.6666666667px!important}.v-application--is-rtl .v-list.v-sheet--shaped.v-list--two-line .v-list-item,.v-application--is-rtl .v-list.v-sheet--shaped.v-list--two-line .v-list-item:before,.v-application--is-rtl .v-list.v-sheet--shaped.v-list--two-line .v-list-item>.v-ripple__container{border-bottom-left-radius:42.6666666667px!important;border-top-left-radius:42.6666666667px!important}.v-application--is-ltr .v-list.v-sheet--shaped.v-list--three-line .v-list-item,.v-application--is-ltr .v-list.v-sheet--shaped.v-list--three-line .v-list-item:before,.v-application--is-ltr .v-list.v-sheet--shaped.v-list--three-line .v-list-item>.v-ripple__container{border-bottom-right-radius:58.6666666667px!important;border-top-right-radius:58.6666666667px!important}.v-application--is-rtl .v-list.v-sheet--shaped.v-list--three-line .v-list-item,.v-application--is-rtl .v-list.v-sheet--shaped.v-list--three-line .v-list-item:before,.v-application--is-rtl .v-list.v-sheet--shaped.v-list--three-line .v-list-item>.v-ripple__container{border-bottom-left-radius:58.6666666667px!important;border-top-left-radius:58.6666666667px!important}.v-application--is-ltr .v-list.v-sheet--shaped{padding-right:8px}.v-application--is-rtl .v-list.v-sheet--shaped{padding-left:8px}.v-list--rounded{padding:8px}.v-list--rounded .v-list-item,.v-list--rounded .v-list-item:before,.v-list--rounded .v-list-item>.v-ripple__container{border-radius:32px!important}.v-list--rounded.v-list--two-line .v-list-item,.v-list--rounded.v-list--two-line .v-list-item:before,.v-list--rounded.v-list--two-line .v-list-item>.v-ripple__container{border-radius:42.6666666667px!important}.v-list--rounded.v-list--three-line .v-list-item,.v-list--rounded.v-list--three-line .v-list-item:before,.v-list--rounded.v-list--three-line .v-list-item>.v-ripple__container{border-radius:58.6666666667px!important}.v-list--subheader{padding-top:0}",""]),t.exports=r},function(t,e,n){var content=n(366);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("0e36439c",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,'.theme--light.v-list-item--disabled{color:rgba(0,0,0,.38)}.theme--light.v-list-item:not(.v-list-item--active):not(.v-list-item--disabled){color:rgba(0,0,0,.87)}.theme--light.v-list-item .v-list-item__mask{color:rgba(0,0,0,.38);background:#eee}.theme--light.v-list-item:not(.v-list-item--disabled) .v-list-item__action-text,.theme--light.v-list-item:not(.v-list-item--disabled) .v-list-item__subtitle{color:rgba(0,0,0,.6)}.theme--light.v-list-item:hover:before{opacity:.04}.theme--light.v-list-item--active:before,.theme--light.v-list-item--active:hover:before,.theme--light.v-list-item:focus:before{opacity:.12}.theme--light.v-list-item--active:focus:before,.theme--light.v-list-item.v-list-item--highlighted:before{opacity:.16}.theme--dark.v-list-item--disabled{color:hsla(0,0%,100%,.5)}.theme--dark.v-list-item:not(.v-list-item--active):not(.v-list-item--disabled){color:#fff}.theme--dark.v-list-item .v-list-item__mask{color:hsla(0,0%,100%,.5);background:#494949}.theme--dark.v-list-item:not(.v-list-item--disabled) .v-list-item__action-text,.theme--dark.v-list-item:not(.v-list-item--disabled) .v-list-item__subtitle{color:hsla(0,0%,100%,.7)}.theme--dark.v-list-item:hover:before{opacity:.08}.theme--dark.v-list-item--active:before,.theme--dark.v-list-item--active:hover:before,.theme--dark.v-list-item:focus:before{opacity:.24}.theme--dark.v-list-item--active:focus:before,.theme--dark.v-list-item.v-list-item--highlighted:before{opacity:.32}.v-list-item{align-items:center;display:flex;flex:1 1 100%;letter-spacing:normal;min-height:48px;outline:none;padding:0 16px;position:relative;text-decoration:none}.v-list-item--disabled{pointer-events:none}.v-list-item--selectable{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.v-list-item:after{content:"";min-height:inherit;font-size:0}.v-list-item__action{align-self:center;margin:12px 0}.v-list-item__action .v-input,.v-list-item__action .v-input--selection-controls__input,.v-list-item__action .v-input__control,.v-list-item__action .v-input__slot{margin:0!important}.v-list-item__action .v-input{padding:0}.v-list-item__action .v-input .v-messages{display:none}.v-list-item__action-text{font-size:.75rem}.v-list-item__avatar{align-self:center;justify-content:flex-start}.v-list-item__avatar,.v-list-item__avatar.v-list-item__avatar--horizontal{margin-bottom:8px;margin-top:8px}.v-application--is-ltr .v-list-item__avatar.v-list-item__avatar--horizontal:first-child{margin-left:-16px}.v-application--is-rtl .v-list-item__avatar.v-list-item__avatar--horizontal:first-child{margin-right:-16px}.v-application--is-ltr .v-list-item__avatar.v-list-item__avatar--horizontal:last-child{margin-left:-16px}.v-application--is-rtl .v-list-item__avatar.v-list-item__avatar--horizontal:last-child{margin-right:-16px}.v-list-item__content{align-items:center;align-self:center;display:flex;flex-wrap:wrap;flex:1 1;overflow:hidden;padding:12px 0}.v-list-item__content>*{line-height:1.1;flex:1 0 100%}.v-list-item__content>:not(:last-child){margin-bottom:2px}.v-list-item__icon{align-self:flex-start;margin:16px 0}.v-application--is-ltr .v-list-item__action:last-of-type:not(:only-child),.v-application--is-ltr .v-list-item__avatar:last-of-type:not(:only-child),.v-application--is-ltr .v-list-item__icon:last-of-type:not(:only-child){margin-left:16px}.v-application--is-ltr .v-list-item__avatar:first-child,.v-application--is-rtl .v-list-item__action:last-of-type:not(:only-child),.v-application--is-rtl .v-list-item__avatar:last-of-type:not(:only-child),.v-application--is-rtl .v-list-item__icon:last-of-type:not(:only-child){margin-right:16px}.v-application--is-rtl .v-list-item__avatar:first-child{margin-left:16px}.v-application--is-ltr .v-list-item__action:first-child,.v-application--is-ltr .v-list-item__icon:first-child{margin-right:32px}.v-application--is-rtl .v-list-item__action:first-child,.v-application--is-rtl .v-list-item__icon:first-child{margin-left:32px}.v-list-item__action,.v-list-item__avatar,.v-list-item__icon{display:inline-flex;min-width:24px}.v-list-item .v-list-item__subtitle,.v-list-item .v-list-item__title{line-height:1.2}.v-list-item__subtitle,.v-list-item__title{flex:1 1 100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.v-list-item__title{align-self:center;font-size:1rem}.v-list-item__title>.v-badge{margin-top:16px}.v-list-item__subtitle{font-size:.875rem}.v-list--dense .v-list-item,.v-list-item--dense{min-height:40px}.v-list--dense .v-list-item .v-list-item__icon,.v-list-item--dense .v-list-item__icon{height:24px;margin-top:8px;margin-bottom:8px}.v-list--dense .v-list-item .v-list-item__content,.v-list-item--dense .v-list-item__content{padding:8px 0}.v-list--dense .v-list-item .v-list-item__subtitle,.v-list--dense .v-list-item .v-list-item__title,.v-list-item--dense .v-list-item__subtitle,.v-list-item--dense .v-list-item__title{font-size:.8125rem;font-weight:500;line-height:1rem}.v-list--dense .v-list-item.v-list-item--two-line,.v-list-item--dense.v-list-item--two-line{min-height:60px}.v-list--dense .v-list-item.v-list-item--three-line,.v-list-item--dense.v-list-item--three-line{min-height:76px}.v-list-item--link{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.v-list-item--link:before{background-color:currentColor;bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:.3s cubic-bezier(.25,.8,.5,1)}.v-list .v-list-item--active,.v-list .v-list-item--active .v-icon{color:inherit}.v-list-item__action--stack{align-items:flex-end;align-self:stretch;justify-content:space-between;white-space:nowrap;flex-direction:column}.v-list--three-line .v-list-item .v-list-item__avatar:not(.v-list-item__avatar--horizontal),.v-list--three-line .v-list-item .v-list-item__icon,.v-list--two-line .v-list-item .v-list-item__avatar:not(.v-list-item__avatar--horizontal),.v-list--two-line .v-list-item .v-list-item__icon,.v-list-item--three-line .v-list-item__avatar:not(.v-list-item__avatar--horizontal),.v-list-item--three-line .v-list-item__icon,.v-list-item--two-line .v-list-item__avatar:not(.v-list-item__avatar--horizontal),.v-list-item--two-line .v-list-item__icon{margin-bottom:16px;margin-top:16px}.v-list--two-line .v-list-item,.v-list-item--two-line{min-height:64px}.v-list--two-line .v-list-item .v-list-item__icon,.v-list-item--two-line .v-list-item__icon{margin-bottom:32px}.v-list--three-line .v-list-item,.v-list-item--three-line{min-height:88px}.v-list--three-line .v-list-item .v-list-item__action,.v-list--three-line .v-list-item .v-list-item__avatar,.v-list-item--three-line .v-list-item__action,.v-list-item--three-line .v-list-item__avatar{align-self:flex-start;margin-top:16px;margin-bottom:16px}.v-list--three-line .v-list-item .v-list-item__content,.v-list-item--three-line .v-list-item__content{align-self:stretch}.v-list--three-line .v-list-item .v-list-item__subtitle,.v-list-item--three-line .v-list-item__subtitle{white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box}',""]),t.exports=r},function(t,e,n){var content=n(368);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("5e8d0e9e",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-list-group .v-list-group__header .v-list-item__icon.v-list-group__header__append-icon{align-self:center;margin:0;min-width:48px;justify-content:flex-end}.v-list-group--sub-group{align-items:center;display:flex;flex-wrap:wrap}.v-list-group__header.v-list-item--active:not(:hover):not(:focus):before{opacity:0}.v-list-group__items{flex:1 1 auto}.v-list-group__items .v-list-group__items,.v-list-group__items .v-list-item{overflow:hidden}.v-list-group--active>.v-list-group__header.v-list-group__header--sub-group>.v-list-group__header__prepend-icon .v-icon,.v-list-group--active>.v-list-group__header>.v-list-group__header__append-icon .v-icon{transform:rotate(-180deg)}.v-list-group--active>.v-list-group__header .v-list-group__header__prepend-icon .v-icon,.v-list-group--active>.v-list-group__header .v-list-item,.v-list-group--active>.v-list-group__header .v-list-item__content{color:inherit}.v-application--is-ltr .v-list-group--sub-group .v-list-item__action:first-child,.v-application--is-ltr .v-list-group--sub-group .v-list-item__avatar:first-child,.v-application--is-ltr .v-list-group--sub-group .v-list-item__icon:first-child{margin-right:16px}.v-application--is-rtl .v-list-group--sub-group .v-list-item__action:first-child,.v-application--is-rtl .v-list-group--sub-group .v-list-item__avatar:first-child,.v-application--is-rtl .v-list-group--sub-group .v-list-item__icon:first-child{margin-left:16px}.v-application--is-ltr .v-list-group--sub-group .v-list-group__header{padding-left:32px}.v-application--is-rtl .v-list-group--sub-group .v-list-group__header{padding-right:32px}.v-application--is-ltr .v-list-group--sub-group .v-list-group__items .v-list-item{padding-left:40px}.v-application--is-rtl .v-list-group--sub-group .v-list-group__items .v-list-item{padding-right:40px}.v-list-group--sub-group.v-list-group--active .v-list-item__icon.v-list-group__header__prepend-icon .v-icon{transform:rotate(-180deg)}.v-application--is-ltr .v-list-group--no-action>.v-list-group__items>.v-list-item{padding-left:72px}.v-application--is-rtl .v-list-group--no-action>.v-list-group__items>.v-list-item{padding-right:72px}.v-application--is-ltr .v-list-group--no-action.v-list-group--sub-group>.v-list-group__items>.v-list-item{padding-left:88px}.v-application--is-rtl .v-list-group--no-action.v-list-group--sub-group>.v-list-group__items>.v-list-item{padding-right:88px}.v-application--is-ltr .v-list--dense .v-list-group--sub-group .v-list-group__header{padding-left:24px}.v-application--is-rtl .v-list--dense .v-list-group--sub-group .v-list-group__header{padding-right:24px}.v-application--is-ltr .v-list--dense.v-list--nav .v-list-group--no-action>.v-list-group__items>.v-list-item{padding-left:64px}.v-application--is-rtl .v-list--dense.v-list--nav .v-list-group--no-action>.v-list-group__items>.v-list-item{padding-right:64px}.v-application--is-ltr .v-list--dense.v-list--nav .v-list-group--no-action.v-list-group--sub-group>.v-list-group__items>.v-list-item{padding-left:80px}.v-application--is-rtl .v-list--dense.v-list--nav .v-list-group--no-action.v-list-group--sub-group>.v-list-group__items>.v-list-item{padding-right:80px}",""]),t.exports=r},function(t,e,n){var content=n(370);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("5ee2ef52",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-avatar{align-items:center;border-radius:50%;display:inline-flex;justify-content:center;line-height:normal;position:relative;text-align:center;vertical-align:middle;overflow:hidden}.v-avatar .v-icon,.v-avatar .v-image,.v-avatar .v-responsive__content,.v-avatar img,.v-avatar svg{border-radius:inherit;display:inline-flex;height:inherit;width:inherit}",""]),t.exports=r},function(t,e,n){var content=n(372);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("516f87f8",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-list-item-group .v-list-item--active{color:inherit}",""]),t.exports=r},function(t,e,n){var content=n(374);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("73707fd0",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-item-group{flex:0 1 auto;position:relative;max-width:100%;transition:.3s cubic-bezier(.25,.8,.5,1)}",""]),t.exports=r},function(t,e,n){var content=n(376);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("424d9537",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".v-main{display:flex;flex:1 0 auto;max-width:100%;transition:.2s cubic-bezier(.4,0,.2,1)}.v-main:not([data-booted=true]){transition:none!important}.v-main__wrap{flex:1 1 auto;max-width:100%;position:relative}@-moz-document url-prefix(){@media print{.v-main{display:block}}}",""]),t.exports=r},function(t,e,n){var content=n(378);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("c82bbd6a",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-navigation-drawer{background-color:#fff}.theme--light.v-navigation-drawer:not(.v-navigation-drawer--floating) .v-navigation-drawer__border{background-color:rgba(0,0,0,.12)}.theme--light.v-navigation-drawer .v-divider{border-color:rgba(0,0,0,.12)}.theme--dark.v-navigation-drawer{background-color:#363636}.theme--dark.v-navigation-drawer:not(.v-navigation-drawer--floating) .v-navigation-drawer__border{background-color:hsla(0,0%,100%,.12)}.theme--dark.v-navigation-drawer .v-divider{border-color:hsla(0,0%,100%,.12)}.v-navigation-drawer{-webkit-overflow-scrolling:touch;display:flex;flex-direction:column;left:0;max-width:100%;overflow:hidden;pointer-events:auto;top:0;transition-duration:.2s;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-property:transform,visibility,width}.v-navigation-drawer:not([data-booted=true]){transition:none!important}.v-navigation-drawer.v-navigation-drawer--right:after{left:0;right:auto}.v-navigation-drawer .v-list:not(.v-select-list){background:inherit}.v-navigation-drawer__border{position:absolute;right:0;top:0;height:100%;width:1px}.v-navigation-drawer__content{height:100%;overflow-y:auto;overflow-x:hidden}.v-navigation-drawer__image{border-radius:inherit;height:100%;position:absolute;top:0;bottom:0;z-index:-1;contain:strict;width:100%}.v-navigation-drawer__image .v-image{border-radius:inherit}.v-navigation-drawer--bottom.v-navigation-drawer--is-mobile{max-height:50%;top:auto;bottom:0;min-width:100%}.v-navigation-drawer--right{left:auto;right:0}.v-navigation-drawer--right>.v-navigation-drawer__border{right:auto;left:0}.v-navigation-drawer--absolute{z-index:1}.v-navigation-drawer--fixed{z-index:6}.v-navigation-drawer--absolute{position:absolute}.v-navigation-drawer--clipped:not(.v-navigation-drawer--temporary):not(.v-navigation-drawer--is-mobile){z-index:4}.v-navigation-drawer--fixed{position:fixed}.v-navigation-drawer--floating:after{display:none}.v-navigation-drawer--mini-variant{overflow:hidden}.v-navigation-drawer--mini-variant .v-list-item>:first-child{margin-left:0;margin-right:0}.v-navigation-drawer--mini-variant .v-list-item>:not(:first-child){position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;display:inline;display:initial}.v-navigation-drawer--mini-variant .v-list-group--no-action .v-list-group__items,.v-navigation-drawer--mini-variant .v-list-group--sub-group{display:none}.v-navigation-drawer--mini-variant.v-navigation-drawer--custom-mini-variant .v-list-item{justify-content:center}.v-navigation-drawer--temporary{z-index:7}.v-navigation-drawer--mobile{z-index:6}.v-navigation-drawer--close{visibility:hidden}.v-navigation-drawer--is-mobile:not(.v-navigation-drawer--close),.v-navigation-drawer--temporary:not(.v-navigation-drawer--close){box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12)}",""]),t.exports=r},function(t,e,n){var content=n(380);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("3f95a174",content,!0,{sourceMap:!1})},function(t,e,n){var r=n(20)(!1);r.push([t.i,".theme--light.v-overlay{color:rgba(0,0,0,.87)}.theme--dark.v-overlay{color:#fff}.v-overlay{align-items:center;border-radius:inherit;display:flex;justify-content:center;position:fixed;top:0;left:0;right:0;bottom:0;pointer-events:none;transition:.3s cubic-bezier(.25,.8,.5,1),z-index 1ms}.v-overlay__content{position:relative}.v-overlay__scrim{border-radius:inherit;bottom:0;height:100%;left:0;position:absolute;right:0;top:0;transition:inherit;width:100%;will-change:opacity}.v-overlay--absolute{position:absolute}.v-overlay--active{pointer-events:auto}",""]),t.exports=r},,,,,,,,function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(319),n(39)),l=n(9);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(l.a)(o.a).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark:function(){return this.$vuetify.theme.dark}},beforeCreate:function(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render:function(t){var e=t("div",{staticClass:"v-application--wrap"},this.$slots.default);return t("div",{staticClass:"v-application",class:h({"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl},this.themeClasses),attrs:{"data-app":!0},domProps:{id:this.id}},[e])}})},function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(67),n(124)),l=n(261),c=n(0);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=c.a.extend({name:"v-app-bar-nav-icon",functional:!0,render:function(t,e){var n=e.slots,r=e.listeners,c=e.props,data=e.data,h=Object.assign(data,{staticClass:"v-app-bar__nav-icon ".concat(data.staticClass||"").trim(),props:d(d({},c),{},{icon:!0}),on:r}),m=n().default;return t(l.a,h,m||[t(o.a,"$menu")])}})},function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(28),n(130),n(361),n(48)),l=n(105),c=n(76),h=n(9),d=n(1);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(h.a)(o.a,Object(l.a)("footer",["height","inset"]),c.a).extend({name:"v-footer",props:{height:{default:"auto",type:[Number,String]},inset:Boolean,padless:Boolean,tag:{type:String,default:"footer"}},computed:{applicationProperty:function(){return this.inset?"insetFooter":"footer"},classes:function(){return f(f({},o.a.options.computed.classes.call(this)),{},{"v-footer--absolute":this.absolute,"v-footer--fixed":!this.absolute&&(this.app||this.fixed),"v-footer--padless":this.padless,"v-footer--inset":this.inset})},computedBottom:function(){if(this.isPositioned)return this.app?this.$vuetify.application.bottom:0},computedLeft:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.left:0},computedRight:function(){if(this.isPositioned)return this.app&&this.inset?this.$vuetify.application.right:0},isPositioned:function(){return Boolean(this.absolute||this.fixed||this.app)},styles:function(){var t=parseInt(this.height);return f(f({},o.a.options.computed.styles.call(this)),{},{height:isNaN(t)?t:Object(d.g)(t),left:Object(d.g)(this.computedLeft),right:Object(d.g)(this.computedRight),bottom:Object(d.g)(this.computedBottom)})}},methods:{updateApplication:function(){var t=parseInt(this.height);return isNaN(t)?this.$el?this.$el.clientHeight:0:t}},render:function(t){var data=this.setBackgroundColor(this.color,{staticClass:"v-footer",class:this.classes,style:this.styles});return t(this.tag,data,this.$slots.default)}})},function(t,e,n){"use strict";n(375);var r=n(76);e.a=r.a.extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles:function(){var t=this.$vuetify.application,e=t.bar,n=t.top,r=t.right,footer=t.footer,o=t.insetFooter,l=t.bottom,c=t.left;return{paddingTop:"".concat(n+e,"px"),paddingRight:"".concat(r,"px"),paddingBottom:"".concat(footer+o+l,"px"),paddingLeft:"".concat(c,"px")}}},render:function(t){var data={staticClass:"v-main",style:this.styles,ref:"main"};return t(this.tag,data,[t("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},function(t,e,n){"use strict";n(249);var r=n(1);e.a=Object(r.h)("spacer","div","v-spacer")},function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(28),n(130),n(35),n(377),n(160)),l=n(105),c=n(37),h=n(162),d=n(9);function m(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.isActive&&r.isDependent?e.push(r):e.push.apply(e,Object(h.a)(m(r.$children)))}return e}var f=Object(d.a)().extend({name:"dependent",data:function(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive:function(t){if(!t)for(var e=this.getOpenDependents(),n=0;n<e.length;n++)e[n].isActive=!1}},methods:{getOpenDependents:function(){return this.closeDependents?m(this.$children):[]},getOpenDependentElements:function(){for(var t=[],e=this.getOpenDependents(),n=0;n<e.length;n++)t.push.apply(t,Object(h.a)(e[n].getClickableDependentElements()));return t},getClickableDependentElements:function(){var t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push.apply(t,Object(h.a)(this.getOpenDependentElements())),t}}}),v=(n(53),n(36),n(8)),x=n(0),_=x.a.extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default:function(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:function(t){return!isNaN(Number(t))||["xs","sm","md","lg","xl"].includes(String(t))}}},computed:{isMobile:function(){var t=this.$vuetify.breakpoint,e=t.mobile,n=t.width,r=t.name;if(t.mobileBreakpoint===this.mobileBreakpoint)return e;var o=parseInt(this.mobileBreakpoint,10);return!isNaN(o)?n<o:r===this.mobileBreakpoint}},created:function(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(v.d)("mobile-break-point","mobile-breakpoint",this)}}),y=(n(61),n(379),n(39)),S=n(58);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var M=Object(d.a)(c.a,y.a,S.a).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var data=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",data)},classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(t){var e=[this.__scrim];return this.isActive&&e.push(this.genContent()),t("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},e)}}),E=M,R=n(1),A=x.a.extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{animationFrame:0,overlay:null}},watch:{hideOverlay:function(t){this.isActive&&(t?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var t=new E({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});t.$mount();var e=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");e&&e.insertBefore(t.$el,e.firstChild),this.overlay=t},genOverlay:function(){var t=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame((function(){t.overlay&&(void 0!==t.activeZIndex?t.overlay.zIndex=String(t.activeZIndex-1):t.$el&&(t.overlay.zIndex=Object(R.n)(t.$el)),t.overlay.value=!0)})),!0},removeOverlay:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(R.a)(this.overlay.$el,"transitionend",(function(){t.overlay&&t.overlay.$el&&t.overlay.$el.parentNode&&!t.overlay.value&&!t.isActive&&(t.overlay.$el.parentNode.removeChild(t.overlay.$el),t.overlay.$destroy(),t.overlay=null)})),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),e&&this.showScroll()},scrollListener:function(t){if("keydown"===t.type){if(["INPUT","TEXTAREA","SELECT"].includes(t.target.tagName)||t.target.isContentEditable)return;var e=[R.o.up,R.o.pageup],n=[R.o.down,R.o.pagedown];if(e.includes(t.keyCode))t.deltaY=-1;else{if(!n.includes(t.keyCode))return;t.deltaY=1}}(t.target===this.overlay||"keydown"!==t.type&&t.target===document.body||this.checkPath(t))&&t.preventDefault()},hasScrollbar:function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var style=window.getComputedStyle(t);return(["auto","scroll"].includes(style.overflowY)||"SELECT"===t.tagName)&&t.scrollHeight>t.clientHeight||["auto","scroll"].includes(style.overflowX)&&t.scrollWidth>t.clientWidth},shouldScroll:function(t,e){if(t.hasAttribute("data-app"))return!1;var n,r,o=e.shiftKey||e.deltaX?"x":"y",l="y"===o?e.deltaY:e.deltaX||e.deltaY;return"y"===o?(n=0===t.scrollTop,r=t.scrollTop+t.clientHeight===t.scrollHeight):(n=0===t.scrollLeft,r=t.scrollLeft+t.clientWidth===t.scrollWidth),!(n||!(l<0))||(!(r||!(l>0))||!(!n&&!r)&&this.shouldScroll(t.parentNode,e))},isInside:function(t,e){return t===e||null!==t&&t!==document.body&&this.isInside(t.parentNode,e)},checkPath:function(t){var path=Object(R.f)(t);if("keydown"===t.type&&path[0]===document.body){var dialog=this.$refs.dialog,e=window.getSelection().anchorNode;return!(dialog&&this.hasScrollbar(dialog)&&this.isInside(e,dialog))||!this.shouldScroll(dialog,t)}for(var n=0;n<path.length;n++){var r=path[n];if(r===document)return!0;if(r===document.documentElement)return!0;if(r===this.$refs.content)return!0;if(this.hasScrollbar(r))return!this.shouldScroll(r,t)}return!0},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(R.b)(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),T=n(76),P=n(22);n(57);function C(t){if("function"!=typeof t.getRootNode){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}var e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}function I(){return!0}function L(t,e,n){if(!t||!1===N(t,n))return!1;var r=C(e);if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&r.host===t.target)return!1;var o=("object"===Object(P.a)(n.value)&&n.value.include||function(){return[]})();return o.push(e),!o.some((function(e){return e.contains(t.target)}))}function N(t,e){return("object"===Object(P.a)(e.value)&&e.value.closeConditional||I)(t)}function D(t,e){var n=C(t);e(document),"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&e(n)}var O={inserted:function(t,e,n){var r=function(n){return function(t,e,n,r){var o="function"==typeof n.value?n.value:n.value.handler;e._clickOutside.lastMousedownWasOutside&&L(t,e,n)&&setTimeout((function(){N(t,n)&&o&&o(t)}),0)}(n,t,e)},o=function(n){t._clickOutside.lastMousedownWasOutside=L(n,t,e)};D(t,(function(t){t.addEventListener("click",r,!0),t.addEventListener("mousedown",o,!0)})),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[n.context._uid]={onClick:r,onMousedown:o}},unbind:function(t,e,n){t._clickOutside&&(D(t,(function(e){var r;if(e&&null!=(r=t._clickOutside)&&r[n.context._uid]){var o=t._clickOutside[n.context._uid],l=o.onClick,c=o.onMousedown;e.removeEventListener("click",l,!0),e.removeEventListener("mousedown",c,!0)}})),delete t._clickOutside[n.context._uid])}};var k={inserted:function(t,e,n){var r=e.value,o=e.options||{passive:!0};window.addEventListener("resize",r,o),t._onResize=Object(t._onResize),t._onResize[n.context._uid]={callback:r,options:o},e.modifiers&&e.modifiers.quiet||r()},unbind:function(t,e,n){var r;if(null!=(r=t._onResize)&&r[n.context._uid]){var o=t._onResize[n.context._uid],l=o.callback,c=o.options;window.removeEventListener("resize",l,c),delete t._onResize[n.context._uid]}}};function G(t,e){var n=t.changedTouches[0];e.touchendX=n.clientX,e.touchendY=n.clientY,e.end&&e.end(Object.assign(t,e)),function(t){var e=t.touchstartX,n=t.touchendX,r=t.touchstartY,o=t.touchendY;t.offsetX=n-e,t.offsetY=o-r,Math.abs(t.offsetY)<.5*Math.abs(t.offsetX)&&(t.left&&n<e-16&&t.left(t),t.right&&n>e+16&&t.right(t)),Math.abs(t.offsetX)<.5*Math.abs(t.offsetY)&&(t.up&&o<r-16&&t.up(t),t.down&&o>r+16&&t.down(t))}(e)}function B(t){var e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:function(t){return function(t,e){var n=t.changedTouches[0];e.touchstartX=n.clientX,e.touchstartY=n.clientY,e.start&&e.start(Object.assign(t,e))}(t,e)},touchend:function(t){return G(t,e)},touchmove:function(t){return function(t,e){var n=t.changedTouches[0];e.touchmoveX=n.clientX,e.touchmoveY=n.clientY,e.move&&e.move(Object.assign(t,e))}(t,e)}}}var F={inserted:function(t,e,n){var r=e.value,o=r.parent?t.parentElement:t,l=r.options||{passive:!0};if(o){var c=B(e.value);o._touchHandlers=Object(o._touchHandlers),o._touchHandlers[n.context._uid]=c,Object(R.p)(c).forEach((function(t){o.addEventListener(t,c[t],l)}))}},unbind:function(t,e,n){var r=e.value.parent?t.parentElement:t;if(r&&r._touchHandlers){var o=r._touchHandlers[n.context._uid];Object(R.p)(o).forEach((function(t){r.removeEventListener(t,o[t])})),delete r._touchHandlers[n.context._uid]}}};function V(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var z=Object(d.a)(Object(l.a)("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),c.a,f,_,A,T.a,y.a);e.a=z.extend({name:"v-navigation-drawer",directives:{ClickOutside:O,Resize:k,Touch:F},provide:function(){return{isInNav:"nav"===this.tag}},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default:function(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default:function(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:function(){return{isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}},computed:{applicationProperty:function(){return this.right?"right":"left"},classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?V(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):V(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary},this.themeClasses)},computedMaxHeight:function(){if(!this.hasApp)return null;var t=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?t+this.$vuetify.application.top:t},computedTop:function(){if(!this.hasApp)return 0;var t=this.$vuetify.application.bar;return t+=this.clipped?this.$vuetify.application.top:0,t},computedTransform:function(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth:function(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp:function(){return this.app&&!this.isMobile&&!this.temporary},isBottom:function(){return this.bottom&&this.isMobile},isMiniVariant:function(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile:function(){return!this.stateless&&!this.permanent&&_.options.computed.isMobile.call(this)},reactsToClick:function(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile:function(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize:function(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute:function(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay:function(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles:function(){var t=this.isBottom?"translateY":"translateX";return{height:Object(R.g)(this.height),top:this.isBottom?"auto":Object(R.g)(this.computedTop),maxHeight:null!=this.computedMaxHeight?"calc(100% - ".concat(Object(R.g)(this.computedMaxHeight),")"):void 0,transform:"".concat(t,"(").concat(Object(R.g)(this.computedTransform,"%"),")"),width:Object(R.g)(this.computedWidth)}}},watch:{$route:"onRouteChange",isActive:function(t){this.$emit("input",t)},isMobile:function(t,e){!t&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=e&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!t)},permanent:function(t){t&&(this.isActive=!0)},showOverlay:function(t){t?this.genOverlay():this.removeOverlay()},value:function(t){this.permanent||(null!=t?t!==this.isActive&&(this.isActive=t):this.init())},expandOnHover:"updateMiniVariant",isMouseover:function(t){this.updateMiniVariant(!t)}},beforeMount:function(){this.init()},methods:{calculateTouchArea:function(){var t=this.$el.parentNode;if(t){var e=t.getBoundingClientRect();this.touchArea={left:e.left+50,right:e.right-50}}},closeConditional:function(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend:function(){return this.genPosition("append")},genBackground:function(){var t={height:"100%",width:"100%",src:this.src},image=this.$scopedSlots.img?this.$scopedSlots.img(t):this.$createElement(o.a,{props:t});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[image])},genDirectives:function(){var t=this,e=[{name:"click-outside",value:{handler:function(){t.isActive=!1},closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||e.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),e},genListeners:function(){var t=this,e={mouseenter:function(){return t.isMouseover=!0},mouseleave:function(){return t.isMouseover=!1},transitionend:function(e){if(e.target===e.currentTarget){t.$emit("transitionend",e);var n=document.createEvent("UIEvents");n.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(n)}}};return this.miniVariant&&(e.click=function(){return t.$emit("update:mini-variant",!1)}),e},genPosition:function(t){var slot=Object(R.m)(this,t);return slot?this.$createElement("div",{staticClass:"v-navigation-drawer__".concat(t)},slot):slot},genPrepend:function(){return this.genPosition("prepend")},genContent:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder:function(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init:function(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange:function(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft:function(t){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(this.right&&t.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight:function(t){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(t.touchendX-t.touchstartX)<100||(!this.right&&t.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication:function(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;var t=Number(this.miniVariant?this.miniVariantWidth:this.width);return isNaN(t)?this.$el.clientWidth:t},updateMiniVariant:function(t){this.expandOnHover&&this.miniVariant!==t&&this.$emit("update:mini-variant",t)}},render:function(t){var e=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(R.m)(this,"img"))&&e.unshift(this.genBackground()),t(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),e)}})},function(t,e,n){"use strict";n(13),n(10),n(12),n(5),n(15),n(11),n(16);var r=n(2),o=(n(130),n(28),n(323),n(49)),l=n(22);var c={inserted:function(t,e,n){var r=(e.modifiers||{}).self,o=void 0!==r&&r,c=e.value,h="object"===Object(l.a)(c)&&c.options||{passive:!0},d="function"==typeof c||"handleEvent"in c?c:c.handler,m=o?t:e.arg?document.querySelector(e.arg):window;m&&(m.addEventListener("scroll",d,h),t._onScroll=Object(t._onScroll),t._onScroll[n.context._uid]={handler:d,options:h,target:o?void 0:m})},unbind:function(t,e,n){var r;if(null!=(r=t._onScroll)&&r[n.context._uid]){var o=t._onScroll[n.context._uid],l=o.handler,c=o.options,h=o.target;(void 0===h?t:h).removeEventListener("scroll",l,c),delete t._onScroll[n.context._uid]}}},h=c,d=n(105),m=n(8),f=n(0).a.extend({name:"scrollable",directives:{Scroll:c},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:function(){return{currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}},computed:{canScroll:function(){return"undefined"!=typeof window},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp:function(){this.savedScroll=this.savedScroll||this.currentScroll},isActive:function(){this.savedScroll=0}},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||Object(m.c)("Unable to locate element with identifier ".concat(this.scrollTarget),this))},methods:{onScroll:function(){var t=this;this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick((function(){Math.abs(t.currentScroll-t.savedScroll)>t.computedScrollThreshold&&t.thresholdMet()})))},thresholdMet:function(){}}}),v=n(76),x=n(58),_=n(1),y=n(9);function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var M=Object(y.a)(o.a,f,v.a,x.a,Object(d.a)("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));e.a=M.extend({name:"v-app-bar",directives:{Scroll:h},provide:function(){return{VAppBar:this}},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data:function(){return{isActive:this.value}},computed:{applicationProperty:function(){return this.bottom?"bottom":"top"},canScroll:function(){return f.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes:function(){return w(w({},o.a.options.computed.classes.call(this)),{},{"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll})},scrollRatio:function(){var t=this.computedScrollThreshold;return Math.max((t-this.currentScroll)/t,0)},computedContentHeight:function(){if(!this.shrinkOnScroll)return o.a.options.computed.computedContentHeight.call(this);var t=this.dense?48:56;return t+(this.computedOriginalHeight-t)*this.scrollRatio},computedFontSize:function(){if(this.isProminent){return 1.25+.25*this.scrollRatio}},computedLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},computedOpacity:function(){if(this.fadeImgOnScroll)return this.scrollRatio},computedOriginalHeight:function(){var t=o.a.options.computed.computedContentHeight.call(this);return this.isExtended&&(t+=parseInt(this.extensionHeight)),t},computedRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold:function(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform:function(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;var t=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?t:-t},hideShadow:function(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed:function(){return this.collapseOnScroll?this.currentScroll>0:o.a.options.computed.isCollapsed.call(this)},isProminent:function(){return o.a.options.computed.isProminent.call(this)||this.shrinkOnScroll},styles:function(){return w(w({},o.a.options.computed.styles.call(this)),{},{fontSize:Object(_.g)(this.computedFontSize,"rem"),marginTop:Object(_.g)(this.computedMarginTop),transform:"translateY(".concat(Object(_.g)(this.computedTransform),")"),left:Object(_.g)(this.computedLeft),right:Object(_.g)(this.computedRight)})}},watch:{canScroll:"onScroll",computedTransform:function(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll:function(t){this.isActive=!t||0!==this.currentScroll},hideOnScroll:function(t){this.isActive=!t||this.currentScroll<this.computedScrollThreshold}},created:function(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground:function(){var t=o.a.options.methods.genBackground.call(this);return t.data=this._b(t.data||{},t.tag,{style:{opacity:this.computedOpacity}}),t},updateApplication:function(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet:function(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:(this.hideOnScroll&&(this.isActive=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll))}},render:function(t){var e=o.a.options.render.call(this,t);return e.data=e.data||{},this.canScroll&&(e.data.directives=e.data.directives||[],e.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),e}})},function(t,e,n){"use strict";n(12),n(5),n(13),n(62),n(35),n(249),n(264),n(67),n(85);var r=n(0);var o,l=n(87);e.a=(o="container",r.a.extend({name:"v-".concat(o),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,e){var n=e.props,data=e.data,r=e.children;data.staticClass="".concat(o," ").concat(data.staticClass||"").trim();var l=data.attrs;if(l){data.attrs={};var c=Object.keys(l).filter((function(t){if("slot"===t)return!1;var e=l[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}));c.length&&(data.staticClass+=" ".concat(c.join(" ")))}return n.id&&(data.domProps=data.domProps||{},data.domProps.id=n.id),t(n.tag,data,r)}})).extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n,r=e.props,data=e.data,o=e.children,c=data.attrs;return c&&(data.attrs={},n=Object.keys(c).filter((function(t){if("slot"===t)return!1;var e=c[t];return t.startsWith("data-")?(data.attrs[t]=e,!1):e||"string"==typeof e}))),r.id&&(data.domProps=data.domProps||{},data.domProps.id=r.id),t(r.tag,Object(l.a)(data,{staticClass:"container",class:Array({"container--fluid":r.fluid}).concat(n||[])}),o)}})}]]);